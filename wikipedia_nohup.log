nohup: ignoring input
/home/farshedvardtgem22/miniconda3/envs/e2etune/lib/python3.8/site-packages/paramiko/pkey.py:100: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from cryptography.hazmat.primitives.ciphers.algorithms in 48.0.0.
  "cipher": algorithms.TripleDES,
/home/farshedvardtgem22/miniconda3/envs/e2etune/lib/python3.8/site-packages/paramiko/transport.py:258: CryptographyDeprecationWarning: TripleDES has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.TripleDES and will be removed from cryptography.hazmat.primitives.ciphers.algorithms in 48.0.0.
  "class": algorithms.TripleDES,
{'database_config': {'host': 'localhost', 'port': '5432', 'user': 'postgres', 'password': '123456', 'database': 'wikipedia', 'data_path': '/var/lib/postgresql/14/main'}, 'tuning_config': {'knob_config': 'knob_config/knob_config_pg14.json', 'log_path': 'wikipedia_log_file'}, 'benchmark_config': {'benchmark': 'wikipedia', 'tool': 'benchbase', 'type': 'oltp', 'config_path': '0', 'benchbase_jar': '/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/benchbase.jar', 'workload_path': 'oltp_workloads/wikipedia', 'stress_test_results_path': './stress_test_results', 'log_path': 'logs/olap.log', 'thread': '4'}, 'surrogate_config': {'model_name': 'random_forest', 'model_path': 'surrogate/random_forest_model4.pkl', 'feature_path': 'SuperWG/feature.json'}}
Start time (unix seconds): 1763704885
Begin tuning for workload: 0
tune for workload: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Start time for workload (unix seconds): 1763704885
üì¶ Removing corrupted postgresql.auto.conf...
‚è≥ Waiting briefly...
üîÅ Restarting PostgreSQL using pg_ctlcluster...
‚úÖ PostgreSQL restarted successfully.
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Running default configuration for workload
Removed postgresql.auto.conf file (if it existed).
Resetting inner metrics...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Internal metrics reset successfully.
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-03-18.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-03-18.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-03-18.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-03-18.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-03-18.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-03-18.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-03-18.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-03-18.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-03-18.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-03-18.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-03-18.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-03-18.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763704935.log
Parsed throughput from summary.json: 4315.690913781874
BenchBase wikipedia throughput: 4315.690913781874
Configuration: None, QPS: -4315.690913781874
Default configuration run complete for workload
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Fetched 14 internal metrics
Internal metrics: {'xact_commit': 203154.0, 'xact_rollback': 68766.0, 'blks_read': 36635.0, 'blks_hit': 6902111.0, 'tup_returned': 2955141.0, 'tup_fetched': 2179698.0, 'tup_inserted': 188234.0, 'conflicts': 0.0, 'tup_updated': 114779.0, 'tup_deleted': 41244.0, 'disk_read_count': 64104.0, 'disk_write_count': 238880.0, 'disk_read_bytes': 525139968.0, 'disk_write_bytes': 1956904960.0}
Internal metrics collected: {'xact_commit': 203154.0, 'xact_rollback': 68766.0, 'blks_read': 36635.0, 'blks_hit': 6902111.0, 'tup_returned': 2955141.0, 'tup_fetched': 2179698.0, 'tup_inserted': 188234.0, 'conflicts': 0.0, 'tup_updated': 114779.0, 'tup_deleted': 41244.0, 'disk_read_count': 64104.0, 'disk_write_count': 238880.0, 'disk_read_bytes': 525139968.0, 'disk_write_bytes': 1956904960.0}
Internal metrics saved to: internal_metrics/wikipedia/sample_wikipedia_config0_internal_metrics.json
Starting tuning for workload: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Beginning SMAC optimization
Length of knobs: 44
Initialized configuration space with knobs.
Workload file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Save workload identifier: sample_wikipedia_config0
Starting SMAC scenario setup.
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
(1 row)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1298967
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4358
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 70276608
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4598
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-04-51.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-04-51.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763705027.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-04-51.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-04-51.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-04-51.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-04-51.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-04-51.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-04-51.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-04-51.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-04-51.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-04-51.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-04-51.results.UpdatePage.csv
Parsed throughput from summary.json: 4860.696689490954
BenchBase wikipedia throughput: 4860.696689490954
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -4860.696689490954
Performance (QPS): -4860.696689490954
Evaluating configuration: {'autovacuum_analyze_scale_factor': 59.09048430621624, 'autovacuum_analyze_threshold': 269378350, 'autovacuum_max_workers': 121, 'autovacuum_naptime': 364983, 'autovacuum_vacuum_cost_delay': 46, 'autovacuum_vacuum_cost_limit': 162, 'autovacuum_vacuum_scale_factor': 47.69385075196624, 'autovacuum_vacuum_threshold': 722834952, 'backend_flush_after': 238, 'bgwriter_delay': 9452, 'bgwriter_flush_after': 93, 'bgwriter_lru_maxpages': 187, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9411872830241919, 'checkpoint_flush_after': 108, 'checkpoint_timeout': 1042, 'commit_delay': 83081, 'commit_siblings': 447, 'cursor_tuple_fraction': 0.5100215626880527, 'deadlock_timeout': 727367336, 'default_statistics_target': 5797, 'effective_cache_size': 612946166, 'effective_io_concurrency': 862, 'from_collapse_limit': 181234394, 'geqo_effort': 8, 'geqo_generations': 2082024641, 'geqo_pool_size': 344736214, 'geqo_seed': 0.5773294121026993, 'geqo_threshold': 1410184352, 'join_collapse_limit': 2014285460, 'maintenance_work_mem': 1770346271, 'max_connections': 2691, 'max_wal_senders': 29, 'shared_buffers': 3215730, 'temp_buffers': 978368191, 'temp_file_limit': 1375887961, 'vacuum_cost_delay': 9, 'vacuum_cost_limit': 6208, 'vacuum_cost_page_dirty': 7472, 'vacuum_cost_page_hit': 1318, 'vacuum_cost_page_miss': 7972, 'wal_buffers': 118787, 'wal_writer_delay': 213, 'work_mem': 409864143}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 59.09048430621624
Set autovacuum_analyze_threshold = 269378350
Set autovacuum_max_workers = 121
Set autovacuum_naptime = 364983
Set autovacuum_vacuum_cost_delay = 46
Set autovacuum_vacuum_cost_limit = 162
Set autovacuum_vacuum_scale_factor = 47.69385075196624
Set autovacuum_vacuum_threshold = 722834952
Set backend_flush_after = 238
Set bgwriter_delay = 9452
Set bgwriter_flush_after = 93
Set bgwriter_lru_maxpages = 187
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.9411872830241919
Set checkpoint_flush_after = 108
Set checkpoint_timeout = 1042
Set commit_delay = 83081
Set commit_siblings = 447
Set cursor_tuple_fraction = 0.5100215626880527
Set deadlock_timeout = 727367336
Set default_statistics_target = 5797
Set effective_cache_size = 612946166
Set effective_io_concurrency = 862
Set from_collapse_limit = 181234394
Set geqo_effort = 8
Set geqo_generations = 2082024641
Set geqo_pool_size = 344736214
Set geqo_seed = 0.5773294121026993
Set geqo_threshold = 1410184352
Set join_collapse_limit = 2014285460
Set maintenance_work_mem = 1770346271
Set max_connections = 2691
Set max_wal_senders = 29
Set shared_buffers = 3215730
Set temp_buffers = 978368191
Set temp_file_limit = 1375887961
Set vacuum_cost_delay = 9
Set vacuum_cost_limit = 6208
Set vacuum_cost_page_dirty = 7472
Set vacuum_cost_page_hit = 1318
Set vacuum_cost_page_miss = 7972
Set wal_buffers = 118787
Set wal_writer_delay = 213
Set work_mem = 409864143
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-06-25.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-06-25.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-06-25.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-06-25.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-06-25.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-06-25.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-06-25.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-06-25.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-06-25.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-06-25.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763705122.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-06-25.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-06-25.config.xml
Parsed throughput from summary.json: 4781.258795615148
BenchBase wikipedia throughput: 4781.258795615148
Configuration: {'autovacuum_analyze_scale_factor': 59.09048430621624, 'autovacuum_analyze_threshold': 269378350, 'autovacuum_max_workers': 121, 'autovacuum_naptime': 364983, 'autovacuum_vacuum_cost_delay': 46, 'autovacuum_vacuum_cost_limit': 162, 'autovacuum_vacuum_scale_factor': 47.69385075196624, 'autovacuum_vacuum_threshold': 722834952, 'backend_flush_after': 238, 'bgwriter_delay': 9452, 'bgwriter_flush_after': 93, 'bgwriter_lru_maxpages': 187, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9411872830241919, 'checkpoint_flush_after': 108, 'checkpoint_timeout': 1042, 'commit_delay': 83081, 'commit_siblings': 447, 'cursor_tuple_fraction': 0.5100215626880527, 'deadlock_timeout': 727367336, 'default_statistics_target': 5797, 'effective_cache_size': 612946166, 'effective_io_concurrency': 862, 'from_collapse_limit': 181234394, 'geqo_effort': 8, 'geqo_generations': 2082024641, 'geqo_pool_size': 344736214, 'geqo_seed': 0.5773294121026993, 'geqo_threshold': 1410184352, 'join_collapse_limit': 2014285460, 'maintenance_work_mem': 1770346271, 'max_connections': 2691, 'max_wal_senders': 29, 'shared_buffers': 3215730, 'temp_buffers': 978368191, 'temp_file_limit': 1375887961, 'vacuum_cost_delay': 9, 'vacuum_cost_limit': 6208, 'vacuum_cost_page_dirty': 7472, 'vacuum_cost_page_hit': 1318, 'vacuum_cost_page_miss': 7972, 'wal_buffers': 118787, 'wal_writer_delay': 213, 'work_mem': 409864143}, QPS: -4781.258795615148
Performance (QPS): -4781.258795615148
Evaluating configuration: {'autovacuum_analyze_scale_factor': 76.40128070488572, 'autovacuum_analyze_threshold': 2054345871, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1742961, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': 2889, 'autovacuum_vacuum_scale_factor': 68.17056005820632, 'autovacuum_vacuum_threshold': 292674466, 'backend_flush_after': 185, 'bgwriter_delay': 6898, 'bgwriter_flush_after': 57, 'bgwriter_lru_maxpages': 369, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.11681524477899075, 'checkpoint_flush_after': 25, 'checkpoint_timeout': 3292, 'commit_delay': 59820, 'commit_siblings': 705, 'cursor_tuple_fraction': 0.8368948232382536, 'deadlock_timeout': 1828021056, 'default_statistics_target': 979, 'effective_cache_size': 298898560, 'effective_io_concurrency': 229, 'from_collapse_limit': 1168982740, 'geqo_effort': 5, 'geqo_generations': 1431332651, 'geqo_pool_size': 1791561467, 'geqo_seed': 0.9844945101067424, 'geqo_threshold': 1014366143, 'join_collapse_limit': 1215862036, 'maintenance_work_mem': 353354037, 'max_connections': 110, 'max_wal_senders': 11, 'shared_buffers': 2180834, 'temp_buffers': 577406274, 'temp_file_limit': 1860665339, 'vacuum_cost_delay': 81, 'vacuum_cost_limit': 699, 'vacuum_cost_page_dirty': 2223, 'vacuum_cost_page_hit': 9814, 'vacuum_cost_page_miss': 4302, 'wal_buffers': 98184, 'wal_writer_delay': 7372, 'work_mem': 1272186404}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 76.40128070488572
Set autovacuum_analyze_threshold = 2054345871
Set autovacuum_max_workers = 48
Set autovacuum_naptime = 1742961
Set autovacuum_vacuum_cost_delay = 2
Set autovacuum_vacuum_cost_limit = 2889
Set autovacuum_vacuum_scale_factor = 68.17056005820632
Set autovacuum_vacuum_threshold = 292674466
Set backend_flush_after = 185
Set bgwriter_delay = 6898
Set bgwriter_flush_after = 57
Set bgwriter_lru_maxpages = 369
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.11681524477899075
Set checkpoint_flush_after = 25
Set checkpoint_timeout = 3292
Set commit_delay = 59820
Set commit_siblings = 705
Set cursor_tuple_fraction = 0.8368948232382536
Set deadlock_timeout = 1828021056
Set default_statistics_target = 979
Set effective_cache_size = 298898560
Set effective_io_concurrency = 229
Set from_collapse_limit = 1168982740
Set geqo_effort = 5
Set geqo_generations = 1431332651
Set geqo_pool_size = 1791561467
Set geqo_seed = 0.9844945101067424
Set geqo_threshold = 1014366143
Set join_collapse_limit = 1215862036
Set maintenance_work_mem = 353354037
Set max_connections = 110
Set max_wal_senders = 11
Set shared_buffers = 2180834
Set temp_buffers = 577406274
Set temp_file_limit = 1860665339
Set vacuum_cost_delay = 81
Set vacuum_cost_limit = 699
Set vacuum_cost_page_dirty = 2223
Set vacuum_cost_page_hit = 9814
Set vacuum_cost_page_miss = 4302
Set wal_buffers = 98184
Set wal_writer_delay = 7372
Set work_mem = 1272186404
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-08-00.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-08-00.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-08-00.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-08-00.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-08-00.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763705217.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-08-00.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-08-00.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-08-00.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-08-00.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-08-00.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-08-00.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-08-00.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Parsed throughput from summary.json: 4811.743958551332
BenchBase wikipedia throughput: 4811.743958551332
Configuration: {'autovacuum_analyze_scale_factor': 76.40128070488572, 'autovacuum_analyze_threshold': 2054345871, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1742961, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': 2889, 'autovacuum_vacuum_scale_factor': 68.17056005820632, 'autovacuum_vacuum_threshold': 292674466, 'backend_flush_after': 185, 'bgwriter_delay': 6898, 'bgwriter_flush_after': 57, 'bgwriter_lru_maxpages': 369, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.11681524477899075, 'checkpoint_flush_after': 25, 'checkpoint_timeout': 3292, 'commit_delay': 59820, 'commit_siblings': 705, 'cursor_tuple_fraction': 0.8368948232382536, 'deadlock_timeout': 1828021056, 'default_statistics_target': 979, 'effective_cache_size': 298898560, 'effective_io_concurrency': 229, 'from_collapse_limit': 1168982740, 'geqo_effort': 5, 'geqo_generations': 1431332651, 'geqo_pool_size': 1791561467, 'geqo_seed': 0.9844945101067424, 'geqo_threshold': 1014366143, 'join_collapse_limit': 1215862036, 'maintenance_work_mem': 353354037, 'max_connections': 110, 'max_wal_senders': 11, 'shared_buffers': 2180834, 'temp_buffers': 577406274, 'temp_file_limit': 1860665339, 'vacuum_cost_delay': 81, 'vacuum_cost_limit': 699, 'vacuum_cost_page_dirty': 2223, 'vacuum_cost_page_hit': 9814, 'vacuum_cost_page_miss': 4302, 'wal_buffers': 98184, 'wal_writer_delay': 7372, 'work_mem': 1272186404}, QPS: -4811.743958551332
Performance (QPS): -4811.743958551332
Evaluating configuration: {'autovacuum_analyze_scale_factor': 26.481935661286116, 'autovacuum_analyze_threshold': 721596254, 'autovacuum_max_workers': 190, 'autovacuum_naptime': 1062135, 'autovacuum_vacuum_cost_delay': 67, 'autovacuum_vacuum_cost_limit': 5079, 'autovacuum_vacuum_scale_factor': 1.2826400808990002, 'autovacuum_vacuum_threshold': 1241364491, 'backend_flush_after': 76, 'bgwriter_delay': 477, 'bgwriter_flush_after': 204, 'bgwriter_lru_maxpages': 980, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.7091427892446518, 'checkpoint_flush_after': 141, 'checkpoint_timeout': 41, 'commit_delay': 6757, 'commit_siblings': 195, 'cursor_tuple_fraction': 0.46846663393080235, 'deadlock_timeout': 341141914, 'default_statistics_target': 8863, 'effective_cache_size': 1715922758, 'effective_io_concurrency': 572, 'from_collapse_limit': 609895714, 'geqo_effort': 6, 'geqo_generations': 550156632, 'geqo_pool_size': 891369298, 'geqo_seed': 0.020743686705827713, 'geqo_threshold': 1646830390, 'join_collapse_limit': 874423020, 'maintenance_work_mem': 1167999267, 'max_connections': 1786, 'max_wal_senders': 39, 'shared_buffers': 1247105, 'temp_buffers': 470443576, 'temp_file_limit': 1005496917, 'vacuum_cost_delay': 28, 'vacuum_cost_limit': 8183, 'vacuum_cost_page_dirty': 9458, 'vacuum_cost_page_hit': 3934, 'vacuum_cost_page_miss': 6476, 'wal_buffers': 35589, 'wal_writer_delay': 3725, 'work_mem': 818438137}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 26.481935661286116
Set autovacuum_analyze_threshold = 721596254
Set autovacuum_max_workers = 190
Set autovacuum_naptime = 1062135
Set autovacuum_vacuum_cost_delay = 67
Set autovacuum_vacuum_cost_limit = 5079
Set autovacuum_vacuum_scale_factor = 1.2826400808990002
Set autovacuum_vacuum_threshold = 1241364491
Set backend_flush_after = 76
Set bgwriter_delay = 477
Set bgwriter_flush_after = 204
Set bgwriter_lru_maxpages = 980
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.7091427892446518
Set checkpoint_flush_after = 141
Set checkpoint_timeout = 41
Set commit_delay = 6757
Set commit_siblings = 195
Set cursor_tuple_fraction = 0.46846663393080235
Set deadlock_timeout = 341141914
Set default_statistics_target = 8863
Set effective_cache_size = 1715922758
Set effective_io_concurrency = 572
Set from_collapse_limit = 609895714
Set geqo_effort = 6
Set geqo_generations = 550156632
Set geqo_pool_size = 891369298
Set geqo_seed = 0.020743686705827713
Set geqo_threshold = 1646830390
Set join_collapse_limit = 874423020
Set maintenance_work_mem = 1167999267
Set max_connections = 1786
Set max_wal_senders = 39
Set shared_buffers = 1247105
Set temp_buffers = 470443576
Set temp_file_limit = 1005496917
Set vacuum_cost_delay = 28
Set vacuum_cost_limit = 8183
Set vacuum_cost_page_dirty = 9458
Set vacuum_cost_page_hit = 3934
Set vacuum_cost_page_miss = 6476
Set wal_buffers = 35589
Set wal_writer_delay = 3725
Set work_mem = 818438137
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-09-35.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-09-35.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-09-35.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-09-35.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-09-35.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-09-35.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-09-35.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-09-35.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-09-35.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-09-35.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-09-35.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763705311.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-09-35.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Parsed throughput from summary.json: 4717.524970804701
BenchBase wikipedia throughput: 4717.524970804701
Configuration: {'autovacuum_analyze_scale_factor': 26.481935661286116, 'autovacuum_analyze_threshold': 721596254, 'autovacuum_max_workers': 190, 'autovacuum_naptime': 1062135, 'autovacuum_vacuum_cost_delay': 67, 'autovacuum_vacuum_cost_limit': 5079, 'autovacuum_vacuum_scale_factor': 1.2826400808990002, 'autovacuum_vacuum_threshold': 1241364491, 'backend_flush_after': 76, 'bgwriter_delay': 477, 'bgwriter_flush_after': 204, 'bgwriter_lru_maxpages': 980, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.7091427892446518, 'checkpoint_flush_after': 141, 'checkpoint_timeout': 41, 'commit_delay': 6757, 'commit_siblings': 195, 'cursor_tuple_fraction': 0.46846663393080235, 'deadlock_timeout': 341141914, 'default_statistics_target': 8863, 'effective_cache_size': 1715922758, 'effective_io_concurrency': 572, 'from_collapse_limit': 609895714, 'geqo_effort': 6, 'geqo_generations': 550156632, 'geqo_pool_size': 891369298, 'geqo_seed': 0.020743686705827713, 'geqo_threshold': 1646830390, 'join_collapse_limit': 874423020, 'maintenance_work_mem': 1167999267, 'max_connections': 1786, 'max_wal_senders': 39, 'shared_buffers': 1247105, 'temp_buffers': 470443576, 'temp_file_limit': 1005496917, 'vacuum_cost_delay': 28, 'vacuum_cost_limit': 8183, 'vacuum_cost_page_dirty': 9458, 'vacuum_cost_page_hit': 3934, 'vacuum_cost_page_miss': 6476, 'wal_buffers': 35589, 'wal_writer_delay': 3725, 'work_mem': 818438137}, QPS: -4717.524970804701
Performance (QPS): -4717.524970804701
Evaluating configuration: {'autovacuum_analyze_scale_factor': 48.01633795723319, 'autovacuum_analyze_threshold': 1816547535, 'autovacuum_max_workers': 149, 'autovacuum_naptime': 621009, 'autovacuum_vacuum_cost_delay': 59, 'autovacuum_vacuum_cost_limit': 9147, 'autovacuum_vacuum_scale_factor': 57.31241349130869, 'autovacuum_vacuum_threshold': 231256504, 'backend_flush_after': 145, 'bgwriter_delay': 8439, 'bgwriter_flush_after': 15, 'bgwriter_lru_maxpages': 813, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8292871350422502, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 530, 'commit_delay': 23408, 'commit_siblings': 91, 'cursor_tuple_fraction': 0.9567479509860277, 'deadlock_timeout': 1229396950, 'default_statistics_target': 3231, 'effective_cache_size': 1277266344, 'effective_io_concurrency': 90, 'from_collapse_limit': 894198186, 'geqo_effort': 7, 'geqo_generations': 1262883605, 'geqo_pool_size': 2070704061, 'geqo_seed': 0.693586204200983, 'geqo_threshold': 400058367, 'join_collapse_limit': 535658784, 'maintenance_work_mem': 160923555, 'max_connections': 833, 'max_wal_senders': 45, 'shared_buffers': 2766233, 'temp_buffers': 843252663, 'temp_file_limit': 1300067389, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 9385, 'vacuum_cost_page_dirty': 784, 'vacuum_cost_page_hit': 3665, 'vacuum_cost_page_miss': 5211, 'wal_buffers': 103151, 'wal_writer_delay': 8140, 'work_mem': 656629010}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 48.01633795723319
Set autovacuum_analyze_threshold = 1816547535
Set autovacuum_max_workers = 149
Set autovacuum_naptime = 621009
Set autovacuum_vacuum_cost_delay = 59
Set autovacuum_vacuum_cost_limit = 9147
Set autovacuum_vacuum_scale_factor = 57.31241349130869
Set autovacuum_vacuum_threshold = 231256504
Set backend_flush_after = 145
Set bgwriter_delay = 8439
Set bgwriter_flush_after = 15
Set bgwriter_lru_maxpages = 813
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.8292871350422502
Set checkpoint_flush_after = 165
Set checkpoint_timeout = 530
Set commit_delay = 23408
Set commit_siblings = 91
Set cursor_tuple_fraction = 0.9567479509860277
Set deadlock_timeout = 1229396950
Set default_statistics_target = 3231
Set effective_cache_size = 1277266344
Set effective_io_concurrency = 90
Set from_collapse_limit = 894198186
Set geqo_effort = 7
Set geqo_generations = 1262883605
Set geqo_pool_size = 2070704061
Set geqo_seed = 0.693586204200983
Set geqo_threshold = 400058367
Set join_collapse_limit = 535658784
Set maintenance_work_mem = 160923555
Set max_connections = 833
Set max_wal_senders = 45
Set shared_buffers = 2766233
Set temp_buffers = 843252663
Set temp_file_limit = 1300067389
Set vacuum_cost_delay = 21
Set vacuum_cost_limit = 9385
Set vacuum_cost_page_dirty = 784
Set vacuum_cost_page_hit = 3665
Set vacuum_cost_page_miss = 5211
Set wal_buffers = 103151
Set wal_writer_delay = 8140
Set work_mem = 656629010
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-11-08.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-11-08.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763705406.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-11-08.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-11-08.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-11-08.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-11-08.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-11-08.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-11-08.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-11-08.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-11-08.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-11-08.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-11-08.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 4786.65776851219
BenchBase wikipedia throughput: 4786.65776851219
Configuration: {'autovacuum_analyze_scale_factor': 48.01633795723319, 'autovacuum_analyze_threshold': 1816547535, 'autovacuum_max_workers': 149, 'autovacuum_naptime': 621009, 'autovacuum_vacuum_cost_delay': 59, 'autovacuum_vacuum_cost_limit': 9147, 'autovacuum_vacuum_scale_factor': 57.31241349130869, 'autovacuum_vacuum_threshold': 231256504, 'backend_flush_after': 145, 'bgwriter_delay': 8439, 'bgwriter_flush_after': 15, 'bgwriter_lru_maxpages': 813, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8292871350422502, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 530, 'commit_delay': 23408, 'commit_siblings': 91, 'cursor_tuple_fraction': 0.9567479509860277, 'deadlock_timeout': 1229396950, 'default_statistics_target': 3231, 'effective_cache_size': 1277266344, 'effective_io_concurrency': 90, 'from_collapse_limit': 894198186, 'geqo_effort': 7, 'geqo_generations': 1262883605, 'geqo_pool_size': 2070704061, 'geqo_seed': 0.693586204200983, 'geqo_threshold': 400058367, 'join_collapse_limit': 535658784, 'maintenance_work_mem': 160923555, 'max_connections': 833, 'max_wal_senders': 45, 'shared_buffers': 2766233, 'temp_buffers': 843252663, 'temp_file_limit': 1300067389, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 9385, 'vacuum_cost_page_dirty': 784, 'vacuum_cost_page_hit': 3665, 'vacuum_cost_page_miss': 5211, 'wal_buffers': 103151, 'wal_writer_delay': 8140, 'work_mem': 656629010}, QPS: -4786.65776851219
Performance (QPS): -4786.65776851219
Evaluating configuration: {'autovacuum_analyze_scale_factor': 97.93487088754773, 'autovacuum_analyze_threshold': 1026960158, 'autovacuum_max_workers': 91, 'autovacuum_naptime': 2108575, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 1320, 'autovacuum_vacuum_scale_factor': 24.787272326648235, 'autovacuum_vacuum_threshold': 1430573589, 'backend_flush_after': 100, 'bgwriter_delay': 4246, 'bgwriter_flush_after': 253, 'bgwriter_lru_maxpages': 456, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.48489107098430395, 'checkpoint_flush_after': 49, 'checkpoint_timeout': 2860, 'commit_delay': 70121, 'commit_siblings': 567, 'cursor_tuple_fraction': 0.33298872970044613, 'deadlock_timeout': 837226764, 'default_statistics_target': 6616, 'effective_cache_size': 1001896558, 'effective_io_concurrency': 750, 'from_collapse_limit': 1421567580, 'geqo_effort': 4, 'geqo_generations': 1054657890, 'geqo_pool_size': 612652560, 'geqo_seed': 0.28427873831242323, 'geqo_threshold': 1233468278, 'join_collapse_limit': 1670100696, 'maintenance_work_mem': 1493629621, 'max_connections': 2449, 'max_wal_senders': 5, 'shared_buffers': 1602634, 'temp_buffers': 203677959, 'temp_file_limit': 410296723, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 1902, 'vacuum_cost_page_dirty': 8707, 'vacuum_cost_page_hit': 7592, 'vacuum_cost_page_miss': 3068, 'wal_buffers': 26210, 'wal_writer_delay': 2015, 'work_mem': 1547633999}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 97.93487088754773
Set autovacuum_analyze_threshold = 1026960158
Set autovacuum_max_workers = 91
Set autovacuum_naptime = 2108575
Set autovacuum_vacuum_cost_delay = 19
Set autovacuum_vacuum_cost_limit = 1320
Set autovacuum_vacuum_scale_factor = 24.787272326648235
Set autovacuum_vacuum_threshold = 1430573589
Set backend_flush_after = 100
Set bgwriter_delay = 4246
Set bgwriter_flush_after = 253
Set bgwriter_lru_maxpages = 456
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.48489107098430395
Set checkpoint_flush_after = 49
Set checkpoint_timeout = 2860
Set commit_delay = 70121
Set commit_siblings = 567
Set cursor_tuple_fraction = 0.33298872970044613
Set deadlock_timeout = 837226764
Set default_statistics_target = 6616
Set effective_cache_size = 1001896558
Set effective_io_concurrency = 750
Set from_collapse_limit = 1421567580
Set geqo_effort = 4
Set geqo_generations = 1054657890
Set geqo_pool_size = 612652560
Set geqo_seed = 0.28427873831242323
Set geqo_threshold = 1233468278
Set join_collapse_limit = 1670100696
Set maintenance_work_mem = 1493629621
Set max_connections = 2449
Set max_wal_senders = 5
Set shared_buffers = 1602634
Set temp_buffers = 203677959
Set temp_file_limit = 410296723
Set vacuum_cost_delay = 69
Set vacuum_cost_limit = 1902
Set vacuum_cost_page_dirty = 8707
Set vacuum_cost_page_hit = 7592
Set vacuum_cost_page_miss = 3068
Set wal_buffers = 26210
Set wal_writer_delay = 2015
Set work_mem = 1547633999
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-12-42.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-12-42.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-12-42.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-12-42.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-12-42.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-12-42.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-12-42.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763705499.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-12-42.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-12-42.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-12-42.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-12-42.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-12-42.results.AddWatchList.csv
Parsed throughput from summary.json: 4669.93278399877
BenchBase wikipedia throughput: 4669.93278399877
Configuration: {'autovacuum_analyze_scale_factor': 97.93487088754773, 'autovacuum_analyze_threshold': 1026960158, 'autovacuum_max_workers': 91, 'autovacuum_naptime': 2108575, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 1320, 'autovacuum_vacuum_scale_factor': 24.787272326648235, 'autovacuum_vacuum_threshold': 1430573589, 'backend_flush_after': 100, 'bgwriter_delay': 4246, 'bgwriter_flush_after': 253, 'bgwriter_lru_maxpages': 456, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.48489107098430395, 'checkpoint_flush_after': 49, 'checkpoint_timeout': 2860, 'commit_delay': 70121, 'commit_siblings': 567, 'cursor_tuple_fraction': 0.33298872970044613, 'deadlock_timeout': 837226764, 'default_statistics_target': 6616, 'effective_cache_size': 1001896558, 'effective_io_concurrency': 750, 'from_collapse_limit': 1421567580, 'geqo_effort': 4, 'geqo_generations': 1054657890, 'geqo_pool_size': 612652560, 'geqo_seed': 0.28427873831242323, 'geqo_threshold': 1233468278, 'join_collapse_limit': 1670100696, 'maintenance_work_mem': 1493629621, 'max_connections': 2449, 'max_wal_senders': 5, 'shared_buffers': 1602634, 'temp_buffers': 203677959, 'temp_file_limit': 410296723, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 1902, 'vacuum_cost_page_dirty': 8707, 'vacuum_cost_page_hit': 7592, 'vacuum_cost_page_miss': 3068, 'wal_buffers': 26210, 'wal_writer_delay': 2015, 'work_mem': 1547633999}, QPS: -4669.93278399877
Performance (QPS): -4669.93278399877
Evaluating configuration: {'autovacuum_analyze_scale_factor': 68.1232750415802, 'autovacuum_analyze_threshold': 1464507551, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 260835, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 4223, 'autovacuum_vacuum_scale_factor': 92.15154927223921, 'autovacuum_vacuum_threshold': 1864409019, 'backend_flush_after': 49, 'bgwriter_delay': 1800, 'bgwriter_flush_after': 153, 'bgwriter_lru_maxpages': 104, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5672597279772162, 'checkpoint_flush_after': 69, 'checkpoint_timeout': 1531, 'commit_delay': 99241, 'commit_siblings': 341, 'cursor_tuple_fraction': 0.006115379743278027, 'deadlock_timeout': 1984482532, 'default_statistics_target': 1414, 'effective_cache_size': 250592792, 'effective_io_concurrency': 351, 'from_collapse_limit': 467357266, 'geqo_effort': 10, 'geqo_generations': 395675276, 'geqo_pool_size': 1522604345, 'geqo_seed': 0.15250328183174133, 'geqo_threshold': 570257513, 'join_collapse_limit': 1409068376, 'maintenance_work_mem': 629937567, 'max_connections': 608, 'max_wal_senders': 35, 'shared_buffers': 533398, 'temp_buffers': 337236825, 'temp_file_limit': 613530673, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 7487, 'vacuum_cost_page_dirty': 3488, 'vacuum_cost_page_hit': 963, 'vacuum_cost_page_miss': 9247, 'wal_buffers': 51689, 'wal_writer_delay': 5403, 'work_mem': 260375776}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 68.1232750415802
Set autovacuum_analyze_threshold = 1464507551
Set autovacuum_max_workers = 167
Set autovacuum_naptime = 260835
Set autovacuum_vacuum_cost_delay = 29
Set autovacuum_vacuum_cost_limit = 4223
Set autovacuum_vacuum_scale_factor = 92.15154927223921
Set autovacuum_vacuum_threshold = 1864409019
Set backend_flush_after = 49
Set bgwriter_delay = 1800
Set bgwriter_flush_after = 153
Set bgwriter_lru_maxpages = 104
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.5672597279772162
Set checkpoint_flush_after = 69
Set checkpoint_timeout = 1531
Set commit_delay = 99241
Set commit_siblings = 341
Set cursor_tuple_fraction = 0.006115379743278027
Set deadlock_timeout = 1984482532
Set default_statistics_target = 1414
Set effective_cache_size = 250592792
Set effective_io_concurrency = 351
Set from_collapse_limit = 467357266
Set geqo_effort = 10
Set geqo_generations = 395675276
Set geqo_pool_size = 1522604345
Set geqo_seed = 0.15250328183174133
Set geqo_threshold = 570257513
Set join_collapse_limit = 1409068376
Set maintenance_work_mem = 629937567
Set max_connections = 608
Set max_wal_senders = 35
Set shared_buffers = 533398
Set temp_buffers = 337236825
Set temp_file_limit = 613530673
Set vacuum_cost_delay = 40
Set vacuum_cost_limit = 7487
Set vacuum_cost_page_dirty = 3488
Set vacuum_cost_page_hit = 963
Set vacuum_cost_page_miss = 9247
Set wal_buffers = 51689
Set wal_writer_delay = 5403
Set work_mem = 260375776
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-14-16.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-14-16.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-14-16.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-14-16.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-14-16.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-14-16.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-14-16.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-14-16.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-14-16.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763705593.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-14-16.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-14-16.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-14-16.results.AddWatchList.csv
Parsed throughput from summary.json: 4605.012441309268
BenchBase wikipedia throughput: 4605.012441309268
Configuration: {'autovacuum_analyze_scale_factor': 68.1232750415802, 'autovacuum_analyze_threshold': 1464507551, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 260835, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 4223, 'autovacuum_vacuum_scale_factor': 92.15154927223921, 'autovacuum_vacuum_threshold': 1864409019, 'backend_flush_after': 49, 'bgwriter_delay': 1800, 'bgwriter_flush_after': 153, 'bgwriter_lru_maxpages': 104, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5672597279772162, 'checkpoint_flush_after': 69, 'checkpoint_timeout': 1531, 'commit_delay': 99241, 'commit_siblings': 341, 'cursor_tuple_fraction': 0.006115379743278027, 'deadlock_timeout': 1984482532, 'default_statistics_target': 1414, 'effective_cache_size': 250592792, 'effective_io_concurrency': 351, 'from_collapse_limit': 467357266, 'geqo_effort': 10, 'geqo_generations': 395675276, 'geqo_pool_size': 1522604345, 'geqo_seed': 0.15250328183174133, 'geqo_threshold': 570257513, 'join_collapse_limit': 1409068376, 'maintenance_work_mem': 629937567, 'max_connections': 608, 'max_wal_senders': 35, 'shared_buffers': 533398, 'temp_buffers': 337236825, 'temp_file_limit': 613530673, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 7487, 'vacuum_cost_page_dirty': 3488, 'vacuum_cost_page_hit': 963, 'vacuum_cost_page_miss': 9247, 'wal_buffers': 51689, 'wal_writer_delay': 5403, 'work_mem': 260375776}, QPS: -4605.012441309268
Performance (QPS): -4605.012441309268
Evaluating configuration: {'autovacuum_analyze_scale_factor': 18.054398335516453, 'autovacuum_analyze_threshold': 104523630, 'autovacuum_max_workers': 22, 'autovacuum_naptime': 1461821, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 6558, 'autovacuum_vacuum_scale_factor': 27.39966604858637, 'autovacuum_vacuum_threshold': 934083602, 'backend_flush_after': 198, 'bgwriter_delay': 5886, 'bgwriter_flush_after': 106, 'bgwriter_lru_maxpages': 744, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.22403083089739084, 'checkpoint_flush_after': 210, 'checkpoint_timeout': 1852, 'commit_delay': 46242, 'commit_siblings': 818, 'cursor_tuple_fraction': 0.6260237609967589, 'deadlock_timeout': 250136126, 'default_statistics_target': 8745, 'effective_cache_size': 2038009310, 'effective_io_concurrency': 942, 'from_collapse_limit': 2049722788, 'geqo_effort': 1, 'geqo_generations': 1645172983, 'geqo_pool_size': 86581396, 'geqo_seed': 0.868207267485559, 'geqo_threshold': 2141203680, 'join_collapse_limit': 798661280, 'maintenance_work_mem': 1964871833, 'max_connections': 1935, 'max_wal_senders': 15, 'shared_buffers': 3826214, 'temp_buffers': 712585250, 'temp_file_limit': 1905813911, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 4969, 'vacuum_cost_page_dirty': 5771, 'vacuum_cost_page_hit': 5280, 'vacuum_cost_page_miss': 1535, 'wal_buffers': 81252, 'wal_writer_delay': 4127, 'work_mem': 1956207989}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 18.054398335516453
Set autovacuum_analyze_threshold = 104523630
Set autovacuum_max_workers = 22
Set autovacuum_naptime = 1461821
Set autovacuum_vacuum_cost_delay = 91
Set autovacuum_vacuum_cost_limit = 6558
Set autovacuum_vacuum_scale_factor = 27.39966604858637
Set autovacuum_vacuum_threshold = 934083602
Set backend_flush_after = 198
Set bgwriter_delay = 5886
Set bgwriter_flush_after = 106
Set bgwriter_lru_maxpages = 744
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.22403083089739084
Set checkpoint_flush_after = 210
Set checkpoint_timeout = 1852
Set commit_delay = 46242
Set commit_siblings = 818
Set cursor_tuple_fraction = 0.6260237609967589
Set deadlock_timeout = 250136126
Set default_statistics_target = 8745
Set effective_cache_size = 2038009310
Set effective_io_concurrency = 942
Set from_collapse_limit = 2049722788
Set geqo_effort = 1
Set geqo_generations = 1645172983
Set geqo_pool_size = 86581396
Set geqo_seed = 0.868207267485559
Set geqo_threshold = 2141203680
Set join_collapse_limit = 798661280
Set maintenance_work_mem = 1964871833
Set max_connections = 1935
Set max_wal_senders = 15
Set shared_buffers = 3826214
Set temp_buffers = 712585250
Set temp_file_limit = 1905813911
Set vacuum_cost_delay = 88
Set vacuum_cost_limit = 4969
Set vacuum_cost_page_dirty = 5771
Set vacuum_cost_page_hit = 5280
Set vacuum_cost_page_miss = 1535
Set wal_buffers = 81252
Set wal_writer_delay = 4127
Set work_mem = 1956207989
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-15-51.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-15-51.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-15-51.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-15-51.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-15-51.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763705687.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-15-51.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-15-51.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-15-51.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-15-51.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-15-51.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-15-51.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-15-51.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 4842.157938568207
BenchBase wikipedia throughput: 4842.157938568207
Configuration: {'autovacuum_analyze_scale_factor': 18.054398335516453, 'autovacuum_analyze_threshold': 104523630, 'autovacuum_max_workers': 22, 'autovacuum_naptime': 1461821, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 6558, 'autovacuum_vacuum_scale_factor': 27.39966604858637, 'autovacuum_vacuum_threshold': 934083602, 'backend_flush_after': 198, 'bgwriter_delay': 5886, 'bgwriter_flush_after': 106, 'bgwriter_lru_maxpages': 744, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.22403083089739084, 'checkpoint_flush_after': 210, 'checkpoint_timeout': 1852, 'commit_delay': 46242, 'commit_siblings': 818, 'cursor_tuple_fraction': 0.6260237609967589, 'deadlock_timeout': 250136126, 'default_statistics_target': 8745, 'effective_cache_size': 2038009310, 'effective_io_concurrency': 942, 'from_collapse_limit': 2049722788, 'geqo_effort': 1, 'geqo_generations': 1645172983, 'geqo_pool_size': 86581396, 'geqo_seed': 0.868207267485559, 'geqo_threshold': 2141203680, 'join_collapse_limit': 798661280, 'maintenance_work_mem': 1964871833, 'max_connections': 1935, 'max_wal_senders': 15, 'shared_buffers': 3826214, 'temp_buffers': 712585250, 'temp_file_limit': 1905813911, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 4969, 'vacuum_cost_page_dirty': 5771, 'vacuum_cost_page_hit': 5280, 'vacuum_cost_page_miss': 1535, 'wal_buffers': 81252, 'wal_writer_delay': 4127, 'work_mem': 1956207989}, QPS: -4842.157938568207
Performance (QPS): -4842.157938568207
Evaluating configuration: {'autovacuum_analyze_scale_factor': 24.392467457801104, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 163, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 26329702, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 855200746, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 410094950, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 1044371522, 'temp_file_limit': 761908879, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 2936, 'work_mem': 2036127693}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 24.392467457801104
Set autovacuum_analyze_threshold = 1969911119
Set autovacuum_max_workers = 163
Set autovacuum_naptime = 1880690
Set autovacuum_vacuum_cost_delay = 38
Set autovacuum_vacuum_cost_limit = 5652
Set autovacuum_vacuum_scale_factor = 51.02565577253699
Set autovacuum_vacuum_threshold = 26329702
Set backend_flush_after = 140
Set bgwriter_delay = 862
Set bgwriter_flush_after = 127
Set bgwriter_lru_maxpages = 517
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.5030564842745662
Set checkpoint_flush_after = 7
Set checkpoint_timeout = 703
Set commit_delay = 54508
Set commit_siblings = 173
Set cursor_tuple_fraction = 0.9186503402888775
Set deadlock_timeout = 1689266024
Set default_statistics_target = 2922
Set effective_cache_size = 855200746
Set effective_io_concurrency = 270
Set from_collapse_limit = 1026139532
Set geqo_effort = 3
Set geqo_generations = 23614720
Set geqo_pool_size = 410094950
Set geqo_seed = 0.3290532799437642
Set geqo_threshold = 1116794408
Set join_collapse_limit = 1517115132
Set maintenance_work_mem = 97161105
Set max_connections = 1692
Set max_wal_senders = 25
Set shared_buffers = 2926931
Set temp_buffers = 1044371522
Set temp_file_limit = 761908879
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 7873
Set vacuum_cost_page_dirty = 1448
Set vacuum_cost_page_hit = 1912
Set vacuum_cost_page_miss = 8596
Set wal_buffers = 200
Set wal_writer_delay = 2936
Set work_mem = 2036127693
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-17-25.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-17-25.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-17-25.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-17-25.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-17-25.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-17-25.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763705782.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-17-25.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-17-25.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-17-25.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-17-25.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-17-25.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-17-25.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 4679.872207948354
BenchBase wikipedia throughput: 4679.872207948354
Configuration: {'autovacuum_analyze_scale_factor': 24.392467457801104, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 163, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 26329702, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 855200746, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 410094950, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 1044371522, 'temp_file_limit': 761908879, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 2936, 'work_mem': 2036127693}, QPS: -4679.872207948354
Performance (QPS): -4679.872207948354
Evaluating configuration: {'autovacuum_analyze_scale_factor': 74.28701287135482, 'autovacuum_analyze_threshold': 605687454, 'autovacuum_max_workers': 2, 'autovacuum_naptime': 682924, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 3565, 'autovacuum_vacuum_scale_factor': 18.52565510198474, 'autovacuum_vacuum_threshold': 1495114183, 'backend_flush_after': 127, 'bgwriter_delay': 6825, 'bgwriter_flush_after': 140, 'bgwriter_lru_maxpages': 127, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.15877843368798494, 'checkpoint_flush_after': 146, 'checkpoint_timeout': 3061, 'commit_delay': 1521, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.29296087473630905, 'deadlock_timeout': 470822322, 'default_statistics_target': 6920, 'effective_cache_size': 1164927020, 'effective_io_concurrency': 930, 'from_collapse_limit': 1558094458, 'geqo_effort': 7, 'geqo_generations': 1962052467, 'geqo_pool_size': 1201255623, 'geqo_seed': 0.6775582823902369, 'geqo_threshold': 483242657, 'join_collapse_limit': 638279940, 'maintenance_work_mem': 1432029859, 'max_connections': 391, 'max_wal_senders': 26, 'shared_buffers': 2025707, 'temp_buffers': 6241207, 'temp_file_limit': 2019564345, 'vacuum_cost_delay': 17, 'vacuum_cost_limit': 356, 'vacuum_cost_page_dirty': 9371, 'vacuum_cost_page_hit': 6855, 'vacuum_cost_page_miss': 933, 'wal_buffers': 128069, 'wal_writer_delay': 6594, 'work_mem': 37785168}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 74.28701287135482
Set autovacuum_analyze_threshold = 605687454
Set autovacuum_max_workers = 2
Set autovacuum_naptime = 682924
Set autovacuum_vacuum_cost_delay = 77
Set autovacuum_vacuum_cost_limit = 3565
Set autovacuum_vacuum_scale_factor = 18.52565510198474
Set autovacuum_vacuum_threshold = 1495114183
Set backend_flush_after = 127
Set bgwriter_delay = 6825
Set bgwriter_flush_after = 140
Set bgwriter_lru_maxpages = 127
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.15877843368798494
Set checkpoint_flush_after = 146
Set checkpoint_timeout = 3061
Set commit_delay = 1521
Set commit_siblings = 665
Set cursor_tuple_fraction = 0.29296087473630905
Set deadlock_timeout = 470822322
Set default_statistics_target = 6920
Set effective_cache_size = 1164927020
Set effective_io_concurrency = 930
Set from_collapse_limit = 1558094458
Set geqo_effort = 7
Set geqo_generations = 1962052467
Set geqo_pool_size = 1201255623
Set geqo_seed = 0.6775582823902369
Set geqo_threshold = 483242657
Set join_collapse_limit = 638279940
Set maintenance_work_mem = 1432029859
Set max_connections = 391
Set max_wal_senders = 26
Set shared_buffers = 2025707
Set temp_buffers = 6241207
Set temp_file_limit = 2019564345
Set vacuum_cost_delay = 17
Set vacuum_cost_limit = 356
Set vacuum_cost_page_dirty = 9371
Set vacuum_cost_page_hit = 6855
Set vacuum_cost_page_miss = 933
Set wal_buffers = 128069
Set wal_writer_delay = 6594
Set work_mem = 37785168
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-18-59.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-18-59.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-18-59.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-18-59.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-18-59.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-18-59.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-18-59.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-18-59.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763705877.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-18-59.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-18-59.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-18-59.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-18-59.results.RemoveWatchList.csv
Parsed throughput from summary.json: 4831.990541489645
BenchBase wikipedia throughput: 4831.990541489645
Configuration: {'autovacuum_analyze_scale_factor': 74.28701287135482, 'autovacuum_analyze_threshold': 605687454, 'autovacuum_max_workers': 2, 'autovacuum_naptime': 682924, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 3565, 'autovacuum_vacuum_scale_factor': 18.52565510198474, 'autovacuum_vacuum_threshold': 1495114183, 'backend_flush_after': 127, 'bgwriter_delay': 6825, 'bgwriter_flush_after': 140, 'bgwriter_lru_maxpages': 127, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.15877843368798494, 'checkpoint_flush_after': 146, 'checkpoint_timeout': 3061, 'commit_delay': 1521, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.29296087473630905, 'deadlock_timeout': 470822322, 'default_statistics_target': 6920, 'effective_cache_size': 1164927020, 'effective_io_concurrency': 930, 'from_collapse_limit': 1558094458, 'geqo_effort': 7, 'geqo_generations': 1962052467, 'geqo_pool_size': 1201255623, 'geqo_seed': 0.6775582823902369, 'geqo_threshold': 483242657, 'join_collapse_limit': 638279940, 'maintenance_work_mem': 1432029859, 'max_connections': 391, 'max_wal_senders': 26, 'shared_buffers': 2025707, 'temp_buffers': 6241207, 'temp_file_limit': 2019564345, 'vacuum_cost_delay': 17, 'vacuum_cost_limit': 356, 'vacuum_cost_page_dirty': 9371, 'vacuum_cost_page_hit': 6855, 'vacuum_cost_page_miss': 933, 'wal_buffers': 128069, 'wal_writer_delay': 6594, 'work_mem': 37785168}, QPS: -4831.990541489645
Performance (QPS): -4831.990541489645
Evaluating configuration: {'autovacuum_analyze_scale_factor': 91.7959289625287, 'autovacuum_analyze_threshold': 1315354911, 'autovacuum_max_workers': 132, 'autovacuum_naptime': 1519837, 'autovacuum_vacuum_cost_delay': 73, 'autovacuum_vacuum_cost_limit': 878, 'autovacuum_vacuum_scale_factor': 98.41327322646976, 'autovacuum_vacuum_threshold': 1668934753, 'backend_flush_after': 42, 'bgwriter_delay': 9368, 'bgwriter_flush_after': 234, 'bgwriter_lru_maxpages': 308, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.7722707288339734, 'checkpoint_flush_after': 232, 'checkpoint_timeout': 1703, 'commit_delay': 30629, 'commit_siblings': 422, 'cursor_tuple_fraction': 0.1184236528351903, 'deadlock_timeout': 1539305562, 'default_statistics_target': 2356, 'effective_cache_size': 1882678362, 'effective_io_concurrency': 46, 'from_collapse_limit': 331254388, 'geqo_effort': 2, 'geqo_generations': 1572585625, 'geqo_pool_size': 970783714, 'geqo_seed': 0.7606275612488389, 'geqo_threshold': 1958083006, 'join_collapse_limit': 377256580, 'maintenance_work_mem': 701621677, 'max_connections': 2977, 'max_wal_senders': 8, 'shared_buffers': 966498, 'temp_buffers': 409274676, 'temp_file_limit': 1149568667, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 5239, 'vacuum_cost_page_dirty': 4074, 'vacuum_cost_page_hit': 4591, 'vacuum_cost_page_miss': 7102, 'wal_buffers': 89038, 'wal_writer_delay': 666, 'work_mem': 1375375259}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 91.7959289625287
Set autovacuum_analyze_threshold = 1315354911
Set autovacuum_max_workers = 132
Set autovacuum_naptime = 1519837
Set autovacuum_vacuum_cost_delay = 73
Set autovacuum_vacuum_cost_limit = 878
Set autovacuum_vacuum_scale_factor = 98.41327322646976
Set autovacuum_vacuum_threshold = 1668934753
Set backend_flush_after = 42
Set bgwriter_delay = 9368
Set bgwriter_flush_after = 234
Set bgwriter_lru_maxpages = 308
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.7722707288339734
Set checkpoint_flush_after = 232
Set checkpoint_timeout = 1703
Set commit_delay = 30629
Set commit_siblings = 422
Set cursor_tuple_fraction = 0.1184236528351903
Set deadlock_timeout = 1539305562
Set default_statistics_target = 2356
Set effective_cache_size = 1882678362
Set effective_io_concurrency = 46
Set from_collapse_limit = 331254388
Set geqo_effort = 2
Set geqo_generations = 1572585625
Set geqo_pool_size = 970783714
Set geqo_seed = 0.7606275612488389
Set geqo_threshold = 1958083006
Set join_collapse_limit = 377256580
Set maintenance_work_mem = 701621677
Set max_connections = 2977
Set max_wal_senders = 8
Set shared_buffers = 966498
Set temp_buffers = 409274676
Set temp_file_limit = 1149568667
Set vacuum_cost_delay = 99
Set vacuum_cost_limit = 5239
Set vacuum_cost_page_dirty = 4074
Set vacuum_cost_page_hit = 4591
Set vacuum_cost_page_miss = 7102
Set wal_buffers = 89038
Set wal_writer_delay = 666
Set work_mem = 1375375259
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-20-34.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-20-34.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-20-34.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-20-34.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-20-34.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763705970.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-20-34.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-20-34.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-20-34.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-20-34.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-20-34.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-20-34.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-20-34.results.csv
Parsed throughput from summary.json: 4834.253318406428
BenchBase wikipedia throughput: 4834.253318406428
Configuration: {'autovacuum_analyze_scale_factor': 91.7959289625287, 'autovacuum_analyze_threshold': 1315354911, 'autovacuum_max_workers': 132, 'autovacuum_naptime': 1519837, 'autovacuum_vacuum_cost_delay': 73, 'autovacuum_vacuum_cost_limit': 878, 'autovacuum_vacuum_scale_factor': 98.41327322646976, 'autovacuum_vacuum_threshold': 1668934753, 'backend_flush_after': 42, 'bgwriter_delay': 9368, 'bgwriter_flush_after': 234, 'bgwriter_lru_maxpages': 308, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.7722707288339734, 'checkpoint_flush_after': 232, 'checkpoint_timeout': 1703, 'commit_delay': 30629, 'commit_siblings': 422, 'cursor_tuple_fraction': 0.1184236528351903, 'deadlock_timeout': 1539305562, 'default_statistics_target': 2356, 'effective_cache_size': 1882678362, 'effective_io_concurrency': 46, 'from_collapse_limit': 331254388, 'geqo_effort': 2, 'geqo_generations': 1572585625, 'geqo_pool_size': 970783714, 'geqo_seed': 0.7606275612488389, 'geqo_threshold': 1958083006, 'join_collapse_limit': 377256580, 'maintenance_work_mem': 701621677, 'max_connections': 2977, 'max_wal_senders': 8, 'shared_buffers': 966498, 'temp_buffers': 409274676, 'temp_file_limit': 1149568667, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 5239, 'vacuum_cost_page_dirty': 4074, 'vacuum_cost_page_hit': 4591, 'vacuum_cost_page_miss': 7102, 'wal_buffers': 89038, 'wal_writer_delay': 666, 'work_mem': 1375375259}, QPS: -4834.253318406428
Performance (QPS): -4834.253318406428
Evaluating configuration: {'autovacuum_analyze_scale_factor': 41.65347293019295, 'autovacuum_analyze_threshold': 521585390, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 37439, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 8652, 'autovacuum_vacuum_scale_factor': 33.686508145183325, 'autovacuum_vacuum_threshold': 1005948876, 'backend_flush_after': 223, 'bgwriter_delay': 3316, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 915, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.4291755883023143, 'checkpoint_flush_after': 114, 'checkpoint_timeout': 2053, 'commit_delay': 77354, 'commit_siblings': 916, 'cursor_tuple_fraction': 0.7480900222435594, 'deadlock_timeout': 589298304, 'default_statistics_target': 7799, 'effective_cache_size': 128014236, 'effective_io_concurrency': 638, 'from_collapse_limit': 1917422978, 'geqo_effort': 10, 'geqo_generations': 673259246, 'geqo_pool_size': 1714733643, 'geqo_seed': 0.23414401523768902, 'geqo_threshold': 719889719, 'join_collapse_limit': 1780108668, 'maintenance_work_mem': 2034262183, 'max_connections': 1318, 'max_wal_senders': 42, 'shared_buffers': 3997434, 'temp_buffers': 637922315, 'temp_file_limit': 294441781, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 2755, 'vacuum_cost_page_dirty': 6357, 'vacuum_cost_page_hit': 9142, 'vacuum_cost_page_miss': 4931, 'wal_buffers': 44867, 'wal_writer_delay': 9488, 'work_mem': 719771270}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 41.65347293019295
Set autovacuum_analyze_threshold = 521585390
Set autovacuum_max_workers = 83
Set autovacuum_naptime = 37439
Set autovacuum_vacuum_cost_delay = 10
Set autovacuum_vacuum_cost_limit = 8652
Set autovacuum_vacuum_scale_factor = 33.686508145183325
Set autovacuum_vacuum_threshold = 1005948876
Set backend_flush_after = 223
Set bgwriter_delay = 3316
Set bgwriter_flush_after = 26
Set bgwriter_lru_maxpages = 915
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.4291755883023143
Set checkpoint_flush_after = 114
Set checkpoint_timeout = 2053
Set commit_delay = 77354
Set commit_siblings = 916
Set cursor_tuple_fraction = 0.7480900222435594
Set deadlock_timeout = 589298304
Set default_statistics_target = 7799
Set effective_cache_size = 128014236
Set effective_io_concurrency = 638
Set from_collapse_limit = 1917422978
Set geqo_effort = 10
Set geqo_generations = 673259246
Set geqo_pool_size = 1714733643
Set geqo_seed = 0.23414401523768902
Set geqo_threshold = 719889719
Set join_collapse_limit = 1780108668
Set maintenance_work_mem = 2034262183
Set max_connections = 1318
Set max_wal_senders = 42
Set shared_buffers = 3997434
Set temp_buffers = 637922315
Set temp_file_limit = 294441781
Set vacuum_cost_delay = 48
Set vacuum_cost_limit = 2755
Set vacuum_cost_page_dirty = 6357
Set vacuum_cost_page_hit = 9142
Set vacuum_cost_page_miss = 4931
Set wal_buffers = 44867
Set wal_writer_delay = 9488
Set work_mem = 719771270
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
Start failed, removing auto.conf and retrying...
Removed postgresql.auto.conf file (if it existed).
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-22-09.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-22-09.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-22-09.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763706066.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-22-09.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-22-09.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-22-09.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-22-09.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-22-09.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-22-09.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-22-09.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-22-09.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-22-09.raw.csv
Parsed throughput from summary.json: 4232.3544235085
BenchBase wikipedia throughput: 4232.3544235085
Configuration: {'autovacuum_analyze_scale_factor': 41.65347293019295, 'autovacuum_analyze_threshold': 521585390, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 37439, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 8652, 'autovacuum_vacuum_scale_factor': 33.686508145183325, 'autovacuum_vacuum_threshold': 1005948876, 'backend_flush_after': 223, 'bgwriter_delay': 3316, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 915, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.4291755883023143, 'checkpoint_flush_after': 114, 'checkpoint_timeout': 2053, 'commit_delay': 77354, 'commit_siblings': 916, 'cursor_tuple_fraction': 0.7480900222435594, 'deadlock_timeout': 589298304, 'default_statistics_target': 7799, 'effective_cache_size': 128014236, 'effective_io_concurrency': 638, 'from_collapse_limit': 1917422978, 'geqo_effort': 10, 'geqo_generations': 673259246, 'geqo_pool_size': 1714733643, 'geqo_seed': 0.23414401523768902, 'geqo_threshold': 719889719, 'join_collapse_limit': 1780108668, 'maintenance_work_mem': 2034262183, 'max_connections': 1318, 'max_wal_senders': 42, 'shared_buffers': 3997434, 'temp_buffers': 637922315, 'temp_file_limit': 294441781, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 2755, 'vacuum_cost_page_dirty': 6357, 'vacuum_cost_page_hit': 9142, 'vacuum_cost_page_miss': 4931, 'wal_buffers': 44867, 'wal_writer_delay': 9488, 'work_mem': 719771270}, QPS: -4232.3544235085
Performance (QPS): -4232.3544235085
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.62144364416599, 'autovacuum_analyze_threshold': 1481784671, 'autovacuum_max_workers': 31, 'autovacuum_naptime': 410416, 'autovacuum_vacuum_cost_delay': 14, 'autovacuum_vacuum_cost_limit': 7083, 'autovacuum_vacuum_scale_factor': 78.04583366960287, 'autovacuum_vacuum_threshold': 2143323767, 'backend_flush_after': 2, 'bgwriter_delay': 5345, 'bgwriter_flush_after': 223, 'bgwriter_lru_maxpages': 753, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.047244736924767494, 'checkpoint_flush_after': 90, 'checkpoint_timeout': 2516, 'commit_delay': 92443, 'commit_siblings': 810, 'cursor_tuple_fraction': 0.23637110088020563, 'deadlock_timeout': 2114816204, 'default_statistics_target': 4686, 'effective_cache_size': 767965554, 'effective_io_concurrency': 149, 'from_collapse_limit': 1667213578, 'geqo_effort': 9, 'geqo_generations': 1135457439, 'geqo_pool_size': 679058080, 'geqo_seed': 0.5593483727425337, 'geqo_threshold': 1595433470, 'join_collapse_limit': 1105817264, 'maintenance_work_mem': 893986599, 'max_connections': 2208, 'max_wal_senders': 49, 'shared_buffers': 379946, 'temp_buffers': 139234968, 'temp_file_limit': 1730088285, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4055, 'vacuum_cost_page_dirty': 2684, 'vacuum_cost_page_hit': 8259, 'vacuum_cost_page_miss': 3695, 'wal_buffers': 112297, 'wal_writer_delay': 4916, 'work_mem': 1024316809}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
(1 row)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.62144364416599
Set autovacuum_analyze_threshold = 1481784671
Set autovacuum_max_workers = 31
Set autovacuum_naptime = 410416
Set autovacuum_vacuum_cost_delay = 14
Set autovacuum_vacuum_cost_limit = 7083
Set autovacuum_vacuum_scale_factor = 78.04583366960287
Set autovacuum_vacuum_threshold = 2143323767
Set backend_flush_after = 2
Set bgwriter_delay = 5345
Set bgwriter_flush_after = 223
Set bgwriter_lru_maxpages = 753
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.047244736924767494
Set checkpoint_flush_after = 90
Set checkpoint_timeout = 2516
Set commit_delay = 92443
Set commit_siblings = 810
Set cursor_tuple_fraction = 0.23637110088020563
Set deadlock_timeout = 2114816204
Set default_statistics_target = 4686
Set effective_cache_size = 767965554
Set effective_io_concurrency = 149
Set from_collapse_limit = 1667213578
Set geqo_effort = 9
Set geqo_generations = 1135457439
Set geqo_pool_size = 679058080
Set geqo_seed = 0.5593483727425337
Set geqo_threshold = 1595433470
Set join_collapse_limit = 1105817264
Set maintenance_work_mem = 893986599
Set max_connections = 2208
Set max_wal_senders = 49
Set shared_buffers = 379946
Set temp_buffers = 139234968
Set temp_file_limit = 1730088285
Set vacuum_cost_delay = 1
Set vacuum_cost_limit = 4055
Set vacuum_cost_page_dirty = 2684
Set vacuum_cost_page_hit = 8259
Set vacuum_cost_page_miss = 3695
Set wal_buffers = 112297
Set wal_writer_delay = 4916
Set work_mem = 1024316809
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-23-44.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-23-44.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-23-44.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763706160.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-23-44.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-23-44.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-23-44.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-23-44.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-23-44.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-23-44.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-23-44.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-23-44.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-23-44.results.AddWatchList.csv
Parsed throughput from summary.json: 4817.437889042507
BenchBase wikipedia throughput: 4817.437889042507
Configuration: {'autovacuum_analyze_scale_factor': 32.62144364416599, 'autovacuum_analyze_threshold': 1481784671, 'autovacuum_max_workers': 31, 'autovacuum_naptime': 410416, 'autovacuum_vacuum_cost_delay': 14, 'autovacuum_vacuum_cost_limit': 7083, 'autovacuum_vacuum_scale_factor': 78.04583366960287, 'autovacuum_vacuum_threshold': 2143323767, 'backend_flush_after': 2, 'bgwriter_delay': 5345, 'bgwriter_flush_after': 223, 'bgwriter_lru_maxpages': 753, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.047244736924767494, 'checkpoint_flush_after': 90, 'checkpoint_timeout': 2516, 'commit_delay': 92443, 'commit_siblings': 810, 'cursor_tuple_fraction': 0.23637110088020563, 'deadlock_timeout': 2114816204, 'default_statistics_target': 4686, 'effective_cache_size': 767965554, 'effective_io_concurrency': 149, 'from_collapse_limit': 1667213578, 'geqo_effort': 9, 'geqo_generations': 1135457439, 'geqo_pool_size': 679058080, 'geqo_seed': 0.5593483727425337, 'geqo_threshold': 1595433470, 'join_collapse_limit': 1105817264, 'maintenance_work_mem': 893986599, 'max_connections': 2208, 'max_wal_senders': 49, 'shared_buffers': 379946, 'temp_buffers': 139234968, 'temp_file_limit': 1730088285, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4055, 'vacuum_cost_page_dirty': 2684, 'vacuum_cost_page_hit': 8259, 'vacuum_cost_page_miss': 3695, 'wal_buffers': 112297, 'wal_writer_delay': 4916, 'work_mem': 1024316809}, QPS: -4817.437889042507
Performance (QPS): -4817.437889042507
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.76318591088057
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1088155
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 247
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6424217484891415
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1302
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 112034326
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 21314935
Set join_collapse_limit = 1032804680
Set maintenance_work_mem = 1708697389
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3640755
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5839
Set wal_buffers = 16932
Set wal_writer_delay = 6181
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-25-19.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-25-19.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763706255.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-25-19.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-25-19.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-25-19.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-25-19.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-25-19.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-25-19.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-25-19.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-25-19.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-25-19.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-25-19.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Parsed throughput from summary.json: 4540.600743346173
BenchBase wikipedia throughput: 4540.600743346173
Configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}, QPS: -4540.600743346173
Performance (QPS): -4540.600743346173
Evaluating configuration: {'autovacuum_analyze_scale_factor': 52.75337500497699, 'autovacuum_analyze_threshold': 1667166479, 'autovacuum_max_workers': 62, 'autovacuum_naptime': 855221, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 2007, 'autovacuum_vacuum_scale_factor': 74.457055516541, 'autovacuum_vacuum_threshold': 489203836, 'backend_flush_after': 164, 'bgwriter_delay': 4485, 'bgwriter_flush_after': 72, 'bgwriter_lru_maxpages': 39, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.2866819314658642, 'checkpoint_flush_after': 187, 'checkpoint_timeout': 3523, 'commit_delay': 16120, 'commit_siblings': 560, 'cursor_tuple_fraction': 0.7890544533729553, 'deadlock_timeout': 1090674686, 'default_statistics_target': 58, 'effective_cache_size': 1862799042, 'effective_io_concurrency': 408, 'from_collapse_limit': 1304987378, 'geqo_effort': 6, 'geqo_generations': 528359738, 'geqo_pool_size': 164949028, 'geqo_seed': 0.1004312876611948, 'geqo_threshold': 1765635688, 'join_collapse_limit': 234373832, 'maintenance_work_mem': 424825123, 'max_connections': 2364, 'max_wal_senders': 32, 'shared_buffers': 2611726, 'temp_buffers': 773218065, 'temp_file_limit': 250856785, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 1576, 'vacuum_cost_page_dirty': 387, 'vacuum_cost_page_hit': 5863, 'vacuum_cost_page_miss': 2159, 'wal_buffers': 60847, 'wal_writer_delay': 1561, 'work_mem': 363564379}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 52.75337500497699
Set autovacuum_analyze_threshold = 1667166479
Set autovacuum_max_workers = 62
Set autovacuum_naptime = 855221
Set autovacuum_vacuum_cost_delay = 100
Set autovacuum_vacuum_cost_limit = 2007
Set autovacuum_vacuum_scale_factor = 74.457055516541
Set autovacuum_vacuum_threshold = 489203836
Set backend_flush_after = 164
Set bgwriter_delay = 4485
Set bgwriter_flush_after = 72
Set bgwriter_lru_maxpages = 39
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.2866819314658642
Set checkpoint_flush_after = 187
Set checkpoint_timeout = 3523
Set commit_delay = 16120
Set commit_siblings = 560
Set cursor_tuple_fraction = 0.7890544533729553
Set deadlock_timeout = 1090674686
Set default_statistics_target = 58
Set effective_cache_size = 1862799042
Set effective_io_concurrency = 408
Set from_collapse_limit = 1304987378
Set geqo_effort = 6
Set geqo_generations = 528359738
Set geqo_pool_size = 164949028
Set geqo_seed = 0.1004312876611948
Set geqo_threshold = 1765635688
Set join_collapse_limit = 234373832
Set maintenance_work_mem = 424825123
Set max_connections = 2364
Set max_wal_senders = 32
Set shared_buffers = 2611726
Set temp_buffers = 773218065
Set temp_file_limit = 250856785
Set vacuum_cost_delay = 32
Set vacuum_cost_limit = 1576
Set vacuum_cost_page_dirty = 387
Set vacuum_cost_page_hit = 5863
Set vacuum_cost_page_miss = 2159
Set wal_buffers = 60847
Set wal_writer_delay = 1561
Set work_mem = 363564379
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-26-53.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-26-53.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-26-53.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-26-53.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-26-53.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-26-53.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-26-53.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-26-53.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-26-53.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-26-53.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-26-53.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-26-53.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763706350.log
Parsed throughput from summary.json: 4681.8521050532
BenchBase wikipedia throughput: 4681.8521050532
Configuration: {'autovacuum_analyze_scale_factor': 52.75337500497699, 'autovacuum_analyze_threshold': 1667166479, 'autovacuum_max_workers': 62, 'autovacuum_naptime': 855221, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 2007, 'autovacuum_vacuum_scale_factor': 74.457055516541, 'autovacuum_vacuum_threshold': 489203836, 'backend_flush_after': 164, 'bgwriter_delay': 4485, 'bgwriter_flush_after': 72, 'bgwriter_lru_maxpages': 39, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.2866819314658642, 'checkpoint_flush_after': 187, 'checkpoint_timeout': 3523, 'commit_delay': 16120, 'commit_siblings': 560, 'cursor_tuple_fraction': 0.7890544533729553, 'deadlock_timeout': 1090674686, 'default_statistics_target': 58, 'effective_cache_size': 1862799042, 'effective_io_concurrency': 408, 'from_collapse_limit': 1304987378, 'geqo_effort': 6, 'geqo_generations': 528359738, 'geqo_pool_size': 164949028, 'geqo_seed': 0.1004312876611948, 'geqo_threshold': 1765635688, 'join_collapse_limit': 234373832, 'maintenance_work_mem': 424825123, 'max_connections': 2364, 'max_wal_senders': 32, 'shared_buffers': 2611726, 'temp_buffers': 773218065, 'temp_file_limit': 250856785, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 1576, 'vacuum_cost_page_dirty': 387, 'vacuum_cost_page_hit': 5863, 'vacuum_cost_page_miss': 2159, 'wal_buffers': 60847, 'wal_writer_delay': 1561, 'work_mem': 363564379}, QPS: -4681.8521050532
Performance (QPS): -4681.8521050532
Evaluating configuration: {'autovacuum_analyze_scale_factor': 2.858112845569849, 'autovacuum_analyze_threshold': 841911006, 'autovacuum_max_workers': 101, 'autovacuum_naptime': 1783905, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 9712, 'autovacuum_vacuum_scale_factor': 7.545425556600094, 'autovacuum_vacuum_threshold': 1168427985, 'backend_flush_after': 87, 'bgwriter_delay': 7887, 'bgwriter_flush_after': 188, 'bgwriter_lru_maxpages': 683, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8791203442960978, 'checkpoint_flush_after': 47, 'checkpoint_timeout': 301, 'commit_delay': 62957, 'commit_siblings': 35, 'cursor_tuple_fraction': 0.4069315083324909, 'deadlock_timeout': 966939940, 'default_statistics_target': 9790, 'effective_cache_size': 413023492, 'effective_io_concurrency': 752, 'from_collapse_limit': 742359300, 'geqo_effort': 5, 'geqo_generations': 1793392461, 'geqo_pool_size': 1446827401, 'geqo_seed': 0.8788679363206029, 'geqo_threshold': 929049313, 'join_collapse_limit': 1906210096, 'maintenance_work_mem': 1237569809, 'max_connections': 1100, 'max_wal_senders': 18, 'shared_buffers': 1416118, 'temp_buffers': 276217388, 'temp_file_limit': 1543114999, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 9093, 'vacuum_cost_page_dirty': 7622, 'vacuum_cost_page_hit': 374, 'vacuum_cost_page_miss': 9869, 'wal_buffers': 71970, 'wal_writer_delay': 7661, 'work_mem': 1857541382}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 2.858112845569849
Set autovacuum_analyze_threshold = 841911006
Set autovacuum_max_workers = 101
Set autovacuum_naptime = 1783905
Set autovacuum_vacuum_cost_delay = 34
Set autovacuum_vacuum_cost_limit = 9712
Set autovacuum_vacuum_scale_factor = 7.545425556600094
Set autovacuum_vacuum_threshold = 1168427985
Set backend_flush_after = 87
Set bgwriter_delay = 7887
Set bgwriter_flush_after = 188
Set bgwriter_lru_maxpages = 683
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.8791203442960978
Set checkpoint_flush_after = 47
Set checkpoint_timeout = 301
Set commit_delay = 62957
Set commit_siblings = 35
Set cursor_tuple_fraction = 0.4069315083324909
Set deadlock_timeout = 966939940
Set default_statistics_target = 9790
Set effective_cache_size = 413023492
Set effective_io_concurrency = 752
Set from_collapse_limit = 742359300
Set geqo_effort = 5
Set geqo_generations = 1793392461
Set geqo_pool_size = 1446827401
Set geqo_seed = 0.8788679363206029
Set geqo_threshold = 929049313
Set join_collapse_limit = 1906210096
Set maintenance_work_mem = 1237569809
Set max_connections = 1100
Set max_wal_senders = 18
Set shared_buffers = 1416118
Set temp_buffers = 276217388
Set temp_file_limit = 1543114999
Set vacuum_cost_delay = 83
Set vacuum_cost_limit = 9093
Set vacuum_cost_page_dirty = 7622
Set vacuum_cost_page_hit = 374
Set vacuum_cost_page_miss = 9869
Set wal_buffers = 71970
Set wal_writer_delay = 7661
Set work_mem = 1857541382
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-28-27.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-28-27.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-28-27.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-28-27.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-28-27.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-28-27.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763706444.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-28-27.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-28-27.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-28-27.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-28-27.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-28-27.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-28-27.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 4601.495517178977
BenchBase wikipedia throughput: 4601.495517178977
Configuration: {'autovacuum_analyze_scale_factor': 2.858112845569849, 'autovacuum_analyze_threshold': 841911006, 'autovacuum_max_workers': 101, 'autovacuum_naptime': 1783905, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 9712, 'autovacuum_vacuum_scale_factor': 7.545425556600094, 'autovacuum_vacuum_threshold': 1168427985, 'backend_flush_after': 87, 'bgwriter_delay': 7887, 'bgwriter_flush_after': 188, 'bgwriter_lru_maxpages': 683, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8791203442960978, 'checkpoint_flush_after': 47, 'checkpoint_timeout': 301, 'commit_delay': 62957, 'commit_siblings': 35, 'cursor_tuple_fraction': 0.4069315083324909, 'deadlock_timeout': 966939940, 'default_statistics_target': 9790, 'effective_cache_size': 413023492, 'effective_io_concurrency': 752, 'from_collapse_limit': 742359300, 'geqo_effort': 5, 'geqo_generations': 1793392461, 'geqo_pool_size': 1446827401, 'geqo_seed': 0.8788679363206029, 'geqo_threshold': 929049313, 'join_collapse_limit': 1906210096, 'maintenance_work_mem': 1237569809, 'max_connections': 1100, 'max_wal_senders': 18, 'shared_buffers': 1416118, 'temp_buffers': 276217388, 'temp_file_limit': 1543114999, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 9093, 'vacuum_cost_page_dirty': 7622, 'vacuum_cost_page_hit': 374, 'vacuum_cost_page_miss': 9869, 'wal_buffers': 71970, 'wal_writer_delay': 7661, 'work_mem': 1857541382}, QPS: -4601.495517178977
Performance (QPS): -4601.495517178977
Evaluating configuration: {'autovacuum_analyze_scale_factor': 4.810939077287912, 'autovacuum_analyze_threshold': 1733022457, 'autovacuum_max_workers': 7, 'autovacuum_naptime': 170989, 'autovacuum_vacuum_cost_delay': 64, 'autovacuum_vacuum_cost_limit': 4519, 'autovacuum_vacuum_scale_factor': 45.70860341191292, 'autovacuum_vacuum_threshold': 446696662, 'backend_flush_after': 119, 'bgwriter_delay': 3829, 'bgwriter_flush_after': 177, 'bgwriter_lru_maxpages': 864, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.8707450851798058, 'checkpoint_flush_after': 157, 'checkpoint_timeout': 2396, 'commit_delay': 58635, 'commit_siblings': 399, 'cursor_tuple_fraction': 0.8470497215166688, 'deadlock_timeout': 1451326618, 'default_statistics_target': 7189, 'effective_cache_size': 142041376, 'effective_io_concurrency': 791, 'from_collapse_limit': 96187758, 'geqo_effort': 8, 'geqo_generations': 332639024, 'geqo_pool_size': 1608470867, 'geqo_seed': 0.9223102023825049, 'geqo_threshold': 422742857, 'join_collapse_limit': 988249558, 'maintenance_work_mem': 207085937, 'max_connections': 293, 'max_wal_senders': 23, 'shared_buffers': 2707568, 'temp_buffers': 309878623, 'temp_file_limit': 2087156255, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 3336, 'vacuum_cost_page_dirty': 4876, 'vacuum_cost_page_hit': 3298, 'vacuum_cost_page_miss': 2587, 'wal_buffers': 48795, 'wal_writer_delay': 4458, 'work_mem': 511946888}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 4.810939077287912
Set autovacuum_analyze_threshold = 1733022457
Set autovacuum_max_workers = 7
Set autovacuum_naptime = 170989
Set autovacuum_vacuum_cost_delay = 64
Set autovacuum_vacuum_cost_limit = 4519
Set autovacuum_vacuum_scale_factor = 45.70860341191292
Set autovacuum_vacuum_threshold = 446696662
Set backend_flush_after = 119
Set bgwriter_delay = 3829
Set bgwriter_flush_after = 177
Set bgwriter_lru_maxpages = 864
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.8707450851798058
Set checkpoint_flush_after = 157
Set checkpoint_timeout = 2396
Set commit_delay = 58635
Set commit_siblings = 399
Set cursor_tuple_fraction = 0.8470497215166688
Set deadlock_timeout = 1451326618
Set default_statistics_target = 7189
Set effective_cache_size = 142041376
Set effective_io_concurrency = 791
Set from_collapse_limit = 96187758
Set geqo_effort = 8
Set geqo_generations = 332639024
Set geqo_pool_size = 1608470867
Set geqo_seed = 0.9223102023825049
Set geqo_threshold = 422742857
Set join_collapse_limit = 988249558
Set maintenance_work_mem = 207085937
Set max_connections = 293
Set max_wal_senders = 23
Set shared_buffers = 2707568
Set temp_buffers = 309878623
Set temp_file_limit = 2087156255
Set vacuum_cost_delay = 77
Set vacuum_cost_limit = 3336
Set vacuum_cost_page_dirty = 4876
Set vacuum_cost_page_hit = 3298
Set vacuum_cost_page_miss = 2587
Set wal_buffers = 48795
Set wal_writer_delay = 4458
Set work_mem = 511946888
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763706538.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-30-01.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-30-01.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-30-01.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-30-01.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-30-01.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-30-01.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-30-01.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-30-01.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-30-01.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-30-01.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-30-01.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-30-01.raw.csv
Parsed throughput from summary.json: 4748.975427688609
BenchBase wikipedia throughput: 4748.975427688609
Configuration: {'autovacuum_analyze_scale_factor': 4.810939077287912, 'autovacuum_analyze_threshold': 1733022457, 'autovacuum_max_workers': 7, 'autovacuum_naptime': 170989, 'autovacuum_vacuum_cost_delay': 64, 'autovacuum_vacuum_cost_limit': 4519, 'autovacuum_vacuum_scale_factor': 45.70860341191292, 'autovacuum_vacuum_threshold': 446696662, 'backend_flush_after': 119, 'bgwriter_delay': 3829, 'bgwriter_flush_after': 177, 'bgwriter_lru_maxpages': 864, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.8707450851798058, 'checkpoint_flush_after': 157, 'checkpoint_timeout': 2396, 'commit_delay': 58635, 'commit_siblings': 399, 'cursor_tuple_fraction': 0.8470497215166688, 'deadlock_timeout': 1451326618, 'default_statistics_target': 7189, 'effective_cache_size': 142041376, 'effective_io_concurrency': 791, 'from_collapse_limit': 96187758, 'geqo_effort': 8, 'geqo_generations': 332639024, 'geqo_pool_size': 1608470867, 'geqo_seed': 0.9223102023825049, 'geqo_threshold': 422742857, 'join_collapse_limit': 988249558, 'maintenance_work_mem': 207085937, 'max_connections': 293, 'max_wal_senders': 23, 'shared_buffers': 2707568, 'temp_buffers': 309878623, 'temp_file_limit': 2087156255, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 3336, 'vacuum_cost_page_dirty': 4876, 'vacuum_cost_page_hit': 3298, 'vacuum_cost_page_miss': 2587, 'wal_buffers': 48795, 'wal_writer_delay': 4458, 'work_mem': 511946888}, QPS: -4748.975427688609
Performance (QPS): -4748.975427688609
Evaluating configuration: {'autovacuum_analyze_scale_factor': 54.70811007544398, 'autovacuum_analyze_threshold': 909879604, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1385992, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 7199, 'autovacuum_vacuum_scale_factor': 84.69125293195248, 'autovacuum_vacuum_threshold': 1110208375, 'backend_flush_after': 130, 'bgwriter_delay': 8540, 'bgwriter_flush_after': 66, 'bgwriter_lru_maxpages': 469, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.4629648458212614, 'checkpoint_flush_after': 9, 'checkpoint_timeout': 932, 'commit_delay': 11895, 'commit_siblings': 876, 'cursor_tuple_fraction': 0.4728327365592122, 'deadlock_timeout': 773944896, 'default_statistics_target': 2653, 'effective_cache_size': 2145473254, 'effective_io_concurrency': 385, 'from_collapse_limit': 1682748056, 'geqo_effort': 3, 'geqo_generations': 1716090179, 'geqo_pool_size': 3631354, 'geqo_seed': 0.08331520110368729, 'geqo_threshold': 1198512064, 'join_collapse_limit': 1182878254, 'maintenance_work_mem': 1556504691, 'max_connections': 1606, 'max_wal_senders': 27, 'shared_buffers': 1774032, 'temp_buffers': 739818539, 'temp_file_limit': 695119753, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 5858, 'vacuum_cost_page_dirty': 7115, 'vacuum_cost_page_hit': 7965, 'vacuum_cost_page_miss': 5384, 'wal_buffers': 84502, 'wal_writer_delay': 5701, 'work_mem': 1704978829}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 54.70811007544398
Set autovacuum_analyze_threshold = 909879604
Set autovacuum_max_workers = 156
Set autovacuum_naptime = 1385992
Set autovacuum_vacuum_cost_delay = -1
Set autovacuum_vacuum_cost_limit = 7199
Set autovacuum_vacuum_scale_factor = 84.69125293195248
Set autovacuum_vacuum_threshold = 1110208375
Set backend_flush_after = 130
Set bgwriter_delay = 8540
Set bgwriter_flush_after = 66
Set bgwriter_lru_maxpages = 469
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.4629648458212614
Set checkpoint_flush_after = 9
Set checkpoint_timeout = 932
Set commit_delay = 11895
Set commit_siblings = 876
Set cursor_tuple_fraction = 0.4728327365592122
Set deadlock_timeout = 773944896
Set default_statistics_target = 2653
Set effective_cache_size = 2145473254
Set effective_io_concurrency = 385
Set from_collapse_limit = 1682748056
Set geqo_effort = 3
Set geqo_generations = 1716090179
Set geqo_pool_size = 3631354
Set geqo_seed = 0.08331520110368729
Set geqo_threshold = 1198512064
Set join_collapse_limit = 1182878254
Set maintenance_work_mem = 1556504691
Set max_connections = 1606
Set max_wal_senders = 27
Set shared_buffers = 1774032
Set temp_buffers = 739818539
Set temp_file_limit = 695119753
Set vacuum_cost_delay = 26
Set vacuum_cost_limit = 5858
Set vacuum_cost_page_dirty = 7115
Set vacuum_cost_page_hit = 7965
Set vacuum_cost_page_miss = 5384
Set wal_buffers = 84502
Set wal_writer_delay = 5701
Set work_mem = 1704978829
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-31-35.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-31-35.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-31-35.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-31-35.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-31-35.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-31-35.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-31-35.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-31-35.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-31-35.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-31-35.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-31-35.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-31-35.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763706631.log
Parsed throughput from summary.json: 4840.7208008829275
BenchBase wikipedia throughput: 4840.7208008829275
Configuration: {'autovacuum_analyze_scale_factor': 54.70811007544398, 'autovacuum_analyze_threshold': 909879604, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1385992, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 7199, 'autovacuum_vacuum_scale_factor': 84.69125293195248, 'autovacuum_vacuum_threshold': 1110208375, 'backend_flush_after': 130, 'bgwriter_delay': 8540, 'bgwriter_flush_after': 66, 'bgwriter_lru_maxpages': 469, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.4629648458212614, 'checkpoint_flush_after': 9, 'checkpoint_timeout': 932, 'commit_delay': 11895, 'commit_siblings': 876, 'cursor_tuple_fraction': 0.4728327365592122, 'deadlock_timeout': 773944896, 'default_statistics_target': 2653, 'effective_cache_size': 2145473254, 'effective_io_concurrency': 385, 'from_collapse_limit': 1682748056, 'geqo_effort': 3, 'geqo_generations': 1716090179, 'geqo_pool_size': 3631354, 'geqo_seed': 0.08331520110368729, 'geqo_threshold': 1198512064, 'join_collapse_limit': 1182878254, 'maintenance_work_mem': 1556504691, 'max_connections': 1606, 'max_wal_senders': 27, 'shared_buffers': 1774032, 'temp_buffers': 739818539, 'temp_file_limit': 695119753, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 5858, 'vacuum_cost_page_dirty': 7115, 'vacuum_cost_page_hit': 7965, 'vacuum_cost_page_miss': 5384, 'wal_buffers': 84502, 'wal_writer_delay': 5701, 'work_mem': 1704978829}, QPS: -4840.7208008829275
Performance (QPS): -4840.7208008829275
Evaluating configuration: {'autovacuum_analyze_scale_factor': 84.71429403871298, 'autovacuum_analyze_threshold': 1548164745, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 549374, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 9591, 'autovacuum_vacuum_scale_factor': 4.815126582980156, 'autovacuum_vacuum_threshold': 2017993425, 'backend_flush_after': 216, 'bgwriter_delay': 6097, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 87, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.6077100019901991, 'checkpoint_flush_after': 124, 'checkpoint_timeout': 3181, 'commit_delay': 32800, 'commit_siblings': 149, 'cursor_tuple_fraction': 0.178312785923481, 'deadlock_timeout': 1770957736, 'default_statistics_target': 8068, 'effective_cache_size': 1253660304, 'effective_io_concurrency': 518, 'from_collapse_limit': 724343446, 'geqo_effort': 6, 'geqo_generations': 1325416105, 'geqo_pool_size': 2121410511, 'geqo_seed': 0.47888448368757963, 'geqo_threshold': 790076639, 'join_collapse_limit': 1995854254, 'maintenance_work_mem': 541898725, 'max_connections': 1232, 'max_wal_senders': 7, 'shared_buffers': 738943, 'temp_buffers': 874680257, 'temp_file_limit': 361476651, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 1055, 'vacuum_cost_page_dirty': 1935, 'vacuum_cost_page_hit': 667, 'vacuum_cost_page_miss': 1714, 'wal_buffers': 124317, 'wal_writer_delay': 1571, 'work_mem': 908453946}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 84.71429403871298
Set autovacuum_analyze_threshold = 1548164745
Set autovacuum_max_workers = 76
Set autovacuum_naptime = 549374
Set autovacuum_vacuum_cost_delay = 49
Set autovacuum_vacuum_cost_limit = 9591
Set autovacuum_vacuum_scale_factor = 4.815126582980156
Set autovacuum_vacuum_threshold = 2017993425
Set backend_flush_after = 216
Set bgwriter_delay = 6097
Set bgwriter_flush_after = 40
Set bgwriter_lru_maxpages = 87
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.6077100019901991
Set checkpoint_flush_after = 124
Set checkpoint_timeout = 3181
Set commit_delay = 32800
Set commit_siblings = 149
Set cursor_tuple_fraction = 0.178312785923481
Set deadlock_timeout = 1770957736
Set default_statistics_target = 8068
Set effective_cache_size = 1253660304
Set effective_io_concurrency = 518
Set from_collapse_limit = 724343446
Set geqo_effort = 6
Set geqo_generations = 1325416105
Set geqo_pool_size = 2121410511
Set geqo_seed = 0.47888448368757963
Set geqo_threshold = 790076639
Set join_collapse_limit = 1995854254
Set maintenance_work_mem = 541898725
Set max_connections = 1232
Set max_wal_senders = 7
Set shared_buffers = 738943
Set temp_buffers = 874680257
Set temp_file_limit = 361476651
Set vacuum_cost_delay = 59
Set vacuum_cost_limit = 1055
Set vacuum_cost_page_dirty = 1935
Set vacuum_cost_page_hit = 667
Set vacuum_cost_page_miss = 1714
Set wal_buffers = 124317
Set wal_writer_delay = 1571
Set work_mem = 908453946
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-33-09.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-33-09.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-33-09.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-33-09.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-33-09.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-33-09.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-33-09.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-33-09.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-33-09.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-33-09.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-33-09.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763706726.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-33-09.metrics.json
Parsed throughput from summary.json: 4790.023364517007
BenchBase wikipedia throughput: 4790.023364517007
Configuration: {'autovacuum_analyze_scale_factor': 84.71429403871298, 'autovacuum_analyze_threshold': 1548164745, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 549374, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 9591, 'autovacuum_vacuum_scale_factor': 4.815126582980156, 'autovacuum_vacuum_threshold': 2017993425, 'backend_flush_after': 216, 'bgwriter_delay': 6097, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 87, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.6077100019901991, 'checkpoint_flush_after': 124, 'checkpoint_timeout': 3181, 'commit_delay': 32800, 'commit_siblings': 149, 'cursor_tuple_fraction': 0.178312785923481, 'deadlock_timeout': 1770957736, 'default_statistics_target': 8068, 'effective_cache_size': 1253660304, 'effective_io_concurrency': 518, 'from_collapse_limit': 724343446, 'geqo_effort': 6, 'geqo_generations': 1325416105, 'geqo_pool_size': 2121410511, 'geqo_seed': 0.47888448368757963, 'geqo_threshold': 790076639, 'join_collapse_limit': 1995854254, 'maintenance_work_mem': 541898725, 'max_connections': 1232, 'max_wal_senders': 7, 'shared_buffers': 738943, 'temp_buffers': 874680257, 'temp_file_limit': 361476651, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 1055, 'vacuum_cost_page_dirty': 1935, 'vacuum_cost_page_hit': 667, 'vacuum_cost_page_miss': 1714, 'wal_buffers': 124317, 'wal_writer_delay': 1571, 'work_mem': 908453946}, QPS: -4790.023364517007
Performance (QPS): -4790.023364517007
Evaluating configuration: {'autovacuum_analyze_scale_factor': 34.5752265304327, 'autovacuum_analyze_threshold': 221734212, 'autovacuum_max_workers': 137, 'autovacuum_naptime': 2014535, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 2440, 'autovacuum_vacuum_scale_factor': 63.13391551375389, 'autovacuum_vacuum_threshold': 549732732, 'backend_flush_after': 35, 'bgwriter_delay': 1280, 'bgwriter_flush_after': 213, 'bgwriter_lru_maxpages': 698, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.20311132818460464, 'checkpoint_flush_after': 233, 'checkpoint_timeout': 154, 'commit_delay': 85778, 'commit_siblings': 626, 'cursor_tuple_fraction': 0.5486789308488369, 'deadlock_timeout': 288268658, 'default_statistics_target': 2087, 'effective_cache_size': 1026516310, 'effective_io_concurrency': 173, 'from_collapse_limit': 1255906656, 'geqo_effort': 4, 'geqo_generations': 983228638, 'geqo_pool_size': 563748478, 'geqo_seed': 0.5149009339511395, 'geqo_threshold': 1900724310, 'join_collapse_limit': 177235542, 'maintenance_work_mem': 1893545695, 'max_connections': 2879, 'max_wal_senders': 44, 'shared_buffers': 3737568, 'temp_buffers': 172125454, 'temp_file_limit': 1082288005, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 8532, 'vacuum_cost_page_dirty': 9824, 'vacuum_cost_page_hit': 5570, 'vacuum_cost_page_miss': 8752, 'wal_buffers': 4368, 'wal_writer_delay': 7964, 'work_mem': 1295626727}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 34.5752265304327
Set autovacuum_analyze_threshold = 221734212
Set autovacuum_max_workers = 137
Set autovacuum_naptime = 2014535
Set autovacuum_vacuum_cost_delay = 86
Set autovacuum_vacuum_cost_limit = 2440
Set autovacuum_vacuum_scale_factor = 63.13391551375389
Set autovacuum_vacuum_threshold = 549732732
Set backend_flush_after = 35
Set bgwriter_delay = 1280
Set bgwriter_flush_after = 213
Set bgwriter_lru_maxpages = 698
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.20311132818460464
Set checkpoint_flush_after = 233
Set checkpoint_timeout = 154
Set commit_delay = 85778
Set commit_siblings = 626
Set cursor_tuple_fraction = 0.5486789308488369
Set deadlock_timeout = 288268658
Set default_statistics_target = 2087
Set effective_cache_size = 1026516310
Set effective_io_concurrency = 173
Set from_collapse_limit = 1255906656
Set geqo_effort = 4
Set geqo_generations = 983228638
Set geqo_pool_size = 563748478
Set geqo_seed = 0.5149009339511395
Set geqo_threshold = 1900724310
Set join_collapse_limit = 177235542
Set maintenance_work_mem = 1893545695
Set max_connections = 2879
Set max_wal_senders = 44
Set shared_buffers = 3737568
Set temp_buffers = 172125454
Set temp_file_limit = 1082288005
Set vacuum_cost_delay = 7
Set vacuum_cost_limit = 8532
Set vacuum_cost_page_dirty = 9824
Set vacuum_cost_page_hit = 5570
Set vacuum_cost_page_miss = 8752
Set wal_buffers = 4368
Set wal_writer_delay = 7964
Set work_mem = 1295626727
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763706820.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-34-43.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-34-43.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-34-43.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-34-43.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-34-43.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-34-43.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-34-43.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-34-43.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-34-43.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-34-43.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-34-43.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-34-43.samples.csv
Parsed throughput from summary.json: 4829.372306283023
BenchBase wikipedia throughput: 4829.372306283023
Configuration: {'autovacuum_analyze_scale_factor': 34.5752265304327, 'autovacuum_analyze_threshold': 221734212, 'autovacuum_max_workers': 137, 'autovacuum_naptime': 2014535, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 2440, 'autovacuum_vacuum_scale_factor': 63.13391551375389, 'autovacuum_vacuum_threshold': 549732732, 'backend_flush_after': 35, 'bgwriter_delay': 1280, 'bgwriter_flush_after': 213, 'bgwriter_lru_maxpages': 698, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.20311132818460464, 'checkpoint_flush_after': 233, 'checkpoint_timeout': 154, 'commit_delay': 85778, 'commit_siblings': 626, 'cursor_tuple_fraction': 0.5486789308488369, 'deadlock_timeout': 288268658, 'default_statistics_target': 2087, 'effective_cache_size': 1026516310, 'effective_io_concurrency': 173, 'from_collapse_limit': 1255906656, 'geqo_effort': 4, 'geqo_generations': 983228638, 'geqo_pool_size': 563748478, 'geqo_seed': 0.5149009339511395, 'geqo_threshold': 1900724310, 'join_collapse_limit': 177235542, 'maintenance_work_mem': 1893545695, 'max_connections': 2879, 'max_wal_senders': 44, 'shared_buffers': 3737568, 'temp_buffers': 172125454, 'temp_file_limit': 1082288005, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 8532, 'vacuum_cost_page_dirty': 9824, 'vacuum_cost_page_hit': 5570, 'vacuum_cost_page_miss': 8752, 'wal_buffers': 4368, 'wal_writer_delay': 7964, 'work_mem': 1295626727}, QPS: -4829.372306283023
Performance (QPS): -4829.372306283023
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 390597560
Set effective_io_concurrency = 661
Set from_collapse_limit = 1540209128
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7525
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-36-17.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-36-17.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-36-17.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-36-17.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-36-17.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-36-17.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-36-17.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763706913.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-36-17.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-36-17.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-36-17.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-36-17.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-36-17.samples.csv
Parsed throughput from summary.json: 4902.702381131549
BenchBase wikipedia throughput: 4902.702381131549
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4902.702381131549
Performance (QPS): -4902.702381131549
Evaluating configuration: {'autovacuum_analyze_scale_factor': 0.1, 'autovacuum_analyze_threshold': 50, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 60, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': -1, 'autovacuum_vacuum_scale_factor': 0.2, 'autovacuum_vacuum_threshold': 50, 'backend_flush_after': 0, 'bgwriter_delay': 200, 'bgwriter_flush_after': 64, 'bgwriter_lru_maxpages': 2, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.9, 'checkpoint_flush_after': 32, 'checkpoint_timeout': 300, 'commit_delay': 0, 'commit_siblings': 5, 'cursor_tuple_fraction': 0.1, 'deadlock_timeout': 1000, 'default_statistics_target': 100, 'effective_cache_size': 524288, 'effective_io_concurrency': 1, 'from_collapse_limit': 8, 'geqo_effort': 5, 'geqo_generations': 0, 'geqo_pool_size': 0, 'geqo_seed': 0.0, 'geqo_threshold': 12, 'join_collapse_limit': 8, 'maintenance_work_mem': 65536, 'max_connections': 100, 'max_wal_senders': 10, 'shared_buffers': 1024, 'temp_buffers': 1024, 'temp_file_limit': -1, 'vacuum_cost_delay': 0, 'vacuum_cost_limit': 200, 'vacuum_cost_page_dirty': 20, 'vacuum_cost_page_hit': 1, 'vacuum_cost_page_miss': 2, 'wal_buffers': -1, 'wal_writer_delay': 200, 'work_mem': 4096}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 0.1
Set autovacuum_analyze_threshold = 50
Set autovacuum_max_workers = 3
Set autovacuum_naptime = 60
Set autovacuum_vacuum_cost_delay = 2
Set autovacuum_vacuum_cost_limit = -1
Set autovacuum_vacuum_scale_factor = 0.2
Set autovacuum_vacuum_threshold = 50
Set backend_flush_after = 0
Set bgwriter_delay = 200
Set bgwriter_flush_after = 64
Set bgwriter_lru_maxpages = 2
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.9
Set checkpoint_flush_after = 32
Set checkpoint_timeout = 300
Set commit_delay = 0
Set commit_siblings = 5
Set cursor_tuple_fraction = 0.1
Set deadlock_timeout = 1000
Set default_statistics_target = 100
Set effective_cache_size = 524288
Set effective_io_concurrency = 1
Set from_collapse_limit = 8
Set geqo_effort = 5
Set geqo_generations = 0
Set geqo_pool_size = 0
Set geqo_seed = 0.0
Set geqo_threshold = 12
Set join_collapse_limit = 8
Set maintenance_work_mem = 65536
Set max_connections = 100
Set max_wal_senders = 10
Set shared_buffers = 1024
Set temp_buffers = 1024
Set temp_file_limit = -1
Set vacuum_cost_delay = 0
Set vacuum_cost_limit = 200
Set vacuum_cost_page_dirty = 20
Set vacuum_cost_page_hit = 1
Set vacuum_cost_page_miss = 2
Set wal_buffers = -1
Set wal_writer_delay = 200
Set work_mem = 4096
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-37-49.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-37-49.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-37-49.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-37-49.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763707005.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-37-49.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-37-49.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-37-49.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-37-49.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-37-49.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-37-49.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-37-49.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-37-49.config.xml
Parsed throughput from summary.json: 4178.299749758208
BenchBase wikipedia throughput: 4178.299749758208
Configuration: {'autovacuum_analyze_scale_factor': 0.1, 'autovacuum_analyze_threshold': 50, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 60, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': -1, 'autovacuum_vacuum_scale_factor': 0.2, 'autovacuum_vacuum_threshold': 50, 'backend_flush_after': 0, 'bgwriter_delay': 200, 'bgwriter_flush_after': 64, 'bgwriter_lru_maxpages': 2, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.9, 'checkpoint_flush_after': 32, 'checkpoint_timeout': 300, 'commit_delay': 0, 'commit_siblings': 5, 'cursor_tuple_fraction': 0.1, 'deadlock_timeout': 1000, 'default_statistics_target': 100, 'effective_cache_size': 524288, 'effective_io_concurrency': 1, 'from_collapse_limit': 8, 'geqo_effort': 5, 'geqo_generations': 0, 'geqo_pool_size': 0, 'geqo_seed': 0.0, 'geqo_threshold': 12, 'join_collapse_limit': 8, 'maintenance_work_mem': 65536, 'max_connections': 100, 'max_wal_senders': 10, 'shared_buffers': 1024, 'temp_buffers': 1024, 'temp_file_limit': -1, 'vacuum_cost_delay': 0, 'vacuum_cost_limit': 200, 'vacuum_cost_page_dirty': 20, 'vacuum_cost_page_hit': 1, 'vacuum_cost_page_miss': 2, 'wal_buffers': -1, 'wal_writer_delay': 200, 'work_mem': 4096}, QPS: -4178.299749758208
Performance (QPS): -4178.299749758208
Evaluating configuration: {'autovacuum_analyze_scale_factor': 88.27907536178827, 'autovacuum_analyze_threshold': 453239044, 'autovacuum_max_workers': 37, 'autovacuum_naptime': 989066, 'autovacuum_vacuum_cost_delay': 26, 'autovacuum_vacuum_cost_limit': 6159, 'autovacuum_vacuum_scale_factor': 61.57751129940152, 'autovacuum_vacuum_threshold': 1014836070, 'backend_flush_after': 11, 'bgwriter_delay': 2818, 'bgwriter_flush_after': 228, 'bgwriter_lru_maxpages': 238, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.9778543328866363, 'checkpoint_flush_after': 84, 'checkpoint_timeout': 2747, 'commit_delay': 47402, 'commit_siblings': 12, 'cursor_tuple_fraction': 0.6822191923856735, 'deadlock_timeout': 882694628, 'default_statistics_target': 4955, 'effective_cache_size': 1625176190, 'effective_io_concurrency': 7, 'from_collapse_limit': 976928286, 'geqo_effort': 7, 'geqo_generations': 613192932, 'geqo_pool_size': 809467708, 'geqo_seed': 0.8060534400865436, 'geqo_threshold': 1525110806, 'join_collapse_limit': 1560638050, 'maintenance_work_mem': 1816522981, 'max_connections': 2122, 'max_wal_senders': 0, 'shared_buffers': 3306648, 'temp_buffers': 443279943, 'temp_file_limit': 1662544963, 'vacuum_cost_delay': 92, 'vacuum_cost_limit': 2333, 'vacuum_cost_page_dirty': 8419, 'vacuum_cost_page_hit': 1581, 'vacuum_cost_page_miss': 441, 'wal_buffers': 64631, 'wal_writer_delay': 6526, 'work_mem': 567208785}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
(1 row)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 88.27907536178827
Set autovacuum_analyze_threshold = 453239044
Set autovacuum_max_workers = 37
Set autovacuum_naptime = 989066
Set autovacuum_vacuum_cost_delay = 26
Set autovacuum_vacuum_cost_limit = 6159
Set autovacuum_vacuum_scale_factor = 61.57751129940152
Set autovacuum_vacuum_threshold = 1014836070
Set backend_flush_after = 11
Set bgwriter_delay = 2818
Set bgwriter_flush_after = 228
Set bgwriter_lru_maxpages = 238
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.9778543328866363
Set checkpoint_flush_after = 84
Set checkpoint_timeout = 2747
Set commit_delay = 47402
Set commit_siblings = 12
Set cursor_tuple_fraction = 0.6822191923856735
Set deadlock_timeout = 882694628
Set default_statistics_target = 4955
Set effective_cache_size = 1625176190
Set effective_io_concurrency = 7
Set from_collapse_limit = 976928286
Set geqo_effort = 7
Set geqo_generations = 613192932
Set geqo_pool_size = 809467708
Set geqo_seed = 0.8060534400865436
Set geqo_threshold = 1525110806
Set join_collapse_limit = 1560638050
Set maintenance_work_mem = 1816522981
Set max_connections = 2122
Set max_wal_senders = 0
Set shared_buffers = 3306648
Set temp_buffers = 443279943
Set temp_file_limit = 1662544963
Set vacuum_cost_delay = 92
Set vacuum_cost_limit = 2333
Set vacuum_cost_page_dirty = 8419
Set vacuum_cost_page_hit = 1581
Set vacuum_cost_page_miss = 441
Set wal_buffers = 64631
Set wal_writer_delay = 6526
Set work_mem = 567208785
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-39-20.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-39-20.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-39-20.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-39-20.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-39-20.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-39-20.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-39-20.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-39-20.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-39-20.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-39-20.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763707098.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-39-20.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-39-20.params.json
Parsed throughput from summary.json: 4708.650454257795
BenchBase wikipedia throughput: 4708.650454257795
Configuration: {'autovacuum_analyze_scale_factor': 88.27907536178827, 'autovacuum_analyze_threshold': 453239044, 'autovacuum_max_workers': 37, 'autovacuum_naptime': 989066, 'autovacuum_vacuum_cost_delay': 26, 'autovacuum_vacuum_cost_limit': 6159, 'autovacuum_vacuum_scale_factor': 61.57751129940152, 'autovacuum_vacuum_threshold': 1014836070, 'backend_flush_after': 11, 'bgwriter_delay': 2818, 'bgwriter_flush_after': 228, 'bgwriter_lru_maxpages': 238, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.9778543328866363, 'checkpoint_flush_after': 84, 'checkpoint_timeout': 2747, 'commit_delay': 47402, 'commit_siblings': 12, 'cursor_tuple_fraction': 0.6822191923856735, 'deadlock_timeout': 882694628, 'default_statistics_target': 4955, 'effective_cache_size': 1625176190, 'effective_io_concurrency': 7, 'from_collapse_limit': 976928286, 'geqo_effort': 7, 'geqo_generations': 613192932, 'geqo_pool_size': 809467708, 'geqo_seed': 0.8060534400865436, 'geqo_threshold': 1525110806, 'join_collapse_limit': 1560638050, 'maintenance_work_mem': 1816522981, 'max_connections': 2122, 'max_wal_senders': 0, 'shared_buffers': 3306648, 'temp_buffers': 443279943, 'temp_file_limit': 1662544963, 'vacuum_cost_delay': 92, 'vacuum_cost_limit': 2333, 'vacuum_cost_page_dirty': 8419, 'vacuum_cost_page_hit': 1581, 'vacuum_cost_page_miss': 441, 'wal_buffers': 64631, 'wal_writer_delay': 6526, 'work_mem': 567208785}, QPS: -4708.650454257795
Performance (QPS): -4708.650454257795
Evaluating configuration: {'autovacuum_analyze_scale_factor': 70.77226033434272, 'autovacuum_analyze_threshold': 1904170681, 'autovacuum_max_workers': 108, 'autovacuum_naptime': 1221705, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 8141, 'autovacuum_vacuum_scale_factor': 28.612651396542788, 'autovacuum_vacuum_threshold': 102328012, 'backend_flush_after': 94, 'bgwriter_delay': 267, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 322, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.09085974749177694, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 1419, 'commit_delay': 20638, 'commit_siblings': 770, 'cursor_tuple_fraction': 0.9767390536144376, 'deadlock_timeout': 1932723212, 'default_statistics_target': 9521, 'effective_cache_size': 1434860552, 'effective_io_concurrency': 906, 'from_collapse_limit': 1968870928, 'geqo_effort': 1, 'geqo_generations': 231071498, 'geqo_pool_size': 1316630549, 'geqo_seed': 0.63118826597929, 'geqo_threshold': 849285897, 'join_collapse_limit': 1836214754, 'maintenance_work_mem': 282009459, 'max_connections': 1014, 'max_wal_senders': 34, 'shared_buffers': 2237227, 'temp_buffers': 38918670, 'temp_file_limit': 1610445281, 'vacuum_cost_delay': 24, 'vacuum_cost_limit': 7060, 'vacuum_cost_page_dirty': 3132, 'vacuum_cost_page_hit': 9474, 'vacuum_cost_page_miss': 6620, 'wal_buffers': 21500, 'wal_writer_delay': 1203, 'work_mem': 1920264890}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 70.77226033434272
Set autovacuum_analyze_threshold = 1904170681
Set autovacuum_max_workers = 108
Set autovacuum_naptime = 1221705
Set autovacuum_vacuum_cost_delay = 22
Set autovacuum_vacuum_cost_limit = 8141
Set autovacuum_vacuum_scale_factor = 28.612651396542788
Set autovacuum_vacuum_threshold = 102328012
Set backend_flush_after = 94
Set bgwriter_delay = 267
Set bgwriter_flush_after = 134
Set bgwriter_lru_maxpages = 322
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.09085974749177694
Set checkpoint_flush_after = 33
Set checkpoint_timeout = 1419
Set commit_delay = 20638
Set commit_siblings = 770
Set cursor_tuple_fraction = 0.9767390536144376
Set deadlock_timeout = 1932723212
Set default_statistics_target = 9521
Set effective_cache_size = 1434860552
Set effective_io_concurrency = 906
Set from_collapse_limit = 1968870928
Set geqo_effort = 1
Set geqo_generations = 231071498
Set geqo_pool_size = 1316630549
Set geqo_seed = 0.63118826597929
Set geqo_threshold = 849285897
Set join_collapse_limit = 1836214754
Set maintenance_work_mem = 282009459
Set max_connections = 1014
Set max_wal_senders = 34
Set shared_buffers = 2237227
Set temp_buffers = 38918670
Set temp_file_limit = 1610445281
Set vacuum_cost_delay = 24
Set vacuum_cost_limit = 7060
Set vacuum_cost_page_dirty = 3132
Set vacuum_cost_page_hit = 9474
Set vacuum_cost_page_miss = 6620
Set wal_buffers = 21500
Set wal_writer_delay = 1203
Set work_mem = 1920264890
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-40-54.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-40-54.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-40-54.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-40-54.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-40-54.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-40-54.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-40-54.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763707190.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-40-54.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-40-54.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-40-54.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-40-54.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-40-54.config.xml
Parsed throughput from summary.json: 4647.895880720992
BenchBase wikipedia throughput: 4647.895880720992
Configuration: {'autovacuum_analyze_scale_factor': 70.77226033434272, 'autovacuum_analyze_threshold': 1904170681, 'autovacuum_max_workers': 108, 'autovacuum_naptime': 1221705, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 8141, 'autovacuum_vacuum_scale_factor': 28.612651396542788, 'autovacuum_vacuum_threshold': 102328012, 'backend_flush_after': 94, 'bgwriter_delay': 267, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 322, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.09085974749177694, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 1419, 'commit_delay': 20638, 'commit_siblings': 770, 'cursor_tuple_fraction': 0.9767390536144376, 'deadlock_timeout': 1932723212, 'default_statistics_target': 9521, 'effective_cache_size': 1434860552, 'effective_io_concurrency': 906, 'from_collapse_limit': 1968870928, 'geqo_effort': 1, 'geqo_generations': 231071498, 'geqo_pool_size': 1316630549, 'geqo_seed': 0.63118826597929, 'geqo_threshold': 849285897, 'join_collapse_limit': 1836214754, 'maintenance_work_mem': 282009459, 'max_connections': 1014, 'max_wal_senders': 34, 'shared_buffers': 2237227, 'temp_buffers': 38918670, 'temp_file_limit': 1610445281, 'vacuum_cost_delay': 24, 'vacuum_cost_limit': 7060, 'vacuum_cost_page_dirty': 3132, 'vacuum_cost_page_hit': 9474, 'vacuum_cost_page_miss': 6620, 'wal_buffers': 21500, 'wal_writer_delay': 1203, 'work_mem': 1920264890}, QPS: -4647.895880720992
Performance (QPS): -4647.895880720992
Evaluating configuration: {'autovacuum_analyze_scale_factor': 20.874277222901583, 'autovacuum_analyze_threshold': 537865588, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 276571, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 1078, 'autovacuum_vacuum_scale_factor': 89.433688018471, 'autovacuum_vacuum_threshold': 1586824545, 'backend_flush_after': 171, 'bgwriter_delay': 7422, 'bgwriter_flush_after': 117, 'bgwriter_lru_maxpages': 963, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.746817515231669, 'checkpoint_flush_after': 180, 'checkpoint_timeout': 1963, 'commit_delay': 73722, 'commit_siblings': 263, 'cursor_tuple_fraction': 0.35876862797886133, 'deadlock_timeout': 194186966, 'default_statistics_target': 326, 'effective_cache_size': 571477966, 'effective_io_concurrency': 309, 'from_collapse_limit': 346919398, 'geqo_effort': 10, 'geqo_generations': 2019492221, 'geqo_pool_size': 294783416, 'geqo_seed': 0.3471249183639884, 'geqo_threshold': 1824673664, 'join_collapse_limit': 286547482, 'maintenance_work_mem': 1079942001, 'max_connections': 2266, 'max_wal_senders': 17, 'shared_buffers': 1073819, 'temp_buffers': 1009859263, 'temp_file_limit': 183804999, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 4539, 'vacuum_cost_page_dirty': 6049, 'vacuum_cost_page_hit': 4259, 'vacuum_cost_page_miss': 3850, 'wal_buffers': 108401, 'wal_writer_delay': 9889, 'work_mem': 157856679}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 20.874277222901583
Set autovacuum_analyze_threshold = 537865588
Set autovacuum_max_workers = 56
Set autovacuum_naptime = 276571
Set autovacuum_vacuum_cost_delay = 62
Set autovacuum_vacuum_cost_limit = 1078
Set autovacuum_vacuum_scale_factor = 89.433688018471
Set autovacuum_vacuum_threshold = 1586824545
Set backend_flush_after = 171
Set bgwriter_delay = 7422
Set bgwriter_flush_after = 117
Set bgwriter_lru_maxpages = 963
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.746817515231669
Set checkpoint_flush_after = 180
Set checkpoint_timeout = 1963
Set commit_delay = 73722
Set commit_siblings = 263
Set cursor_tuple_fraction = 0.35876862797886133
Set deadlock_timeout = 194186966
Set default_statistics_target = 326
Set effective_cache_size = 571477966
Set effective_io_concurrency = 309
Set from_collapse_limit = 346919398
Set geqo_effort = 10
Set geqo_generations = 2019492221
Set geqo_pool_size = 294783416
Set geqo_seed = 0.3471249183639884
Set geqo_threshold = 1824673664
Set join_collapse_limit = 286547482
Set maintenance_work_mem = 1079942001
Set max_connections = 2266
Set max_wal_senders = 17
Set shared_buffers = 1073819
Set temp_buffers = 1009859263
Set temp_file_limit = 183804999
Set vacuum_cost_delay = 73
Set vacuum_cost_limit = 4539
Set vacuum_cost_page_dirty = 6049
Set vacuum_cost_page_hit = 4259
Set vacuum_cost_page_miss = 3850
Set wal_buffers = 108401
Set wal_writer_delay = 9889
Set work_mem = 157856679
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-42-28.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-42-28.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-42-28.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-42-28.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-42-28.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-42-28.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763707285.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-42-28.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-42-28.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-42-28.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-42-28.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-42-28.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-42-28.results.RemoveWatchList.csv
Parsed throughput from summary.json: 4847.188450704148
BenchBase wikipedia throughput: 4847.188450704148
Configuration: {'autovacuum_analyze_scale_factor': 20.874277222901583, 'autovacuum_analyze_threshold': 537865588, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 276571, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 1078, 'autovacuum_vacuum_scale_factor': 89.433688018471, 'autovacuum_vacuum_threshold': 1586824545, 'backend_flush_after': 171, 'bgwriter_delay': 7422, 'bgwriter_flush_after': 117, 'bgwriter_lru_maxpages': 963, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.746817515231669, 'checkpoint_flush_after': 180, 'checkpoint_timeout': 1963, 'commit_delay': 73722, 'commit_siblings': 263, 'cursor_tuple_fraction': 0.35876862797886133, 'deadlock_timeout': 194186966, 'default_statistics_target': 326, 'effective_cache_size': 571477966, 'effective_io_concurrency': 309, 'from_collapse_limit': 346919398, 'geqo_effort': 10, 'geqo_generations': 2019492221, 'geqo_pool_size': 294783416, 'geqo_seed': 0.3471249183639884, 'geqo_threshold': 1824673664, 'join_collapse_limit': 286547482, 'maintenance_work_mem': 1079942001, 'max_connections': 2266, 'max_wal_senders': 17, 'shared_buffers': 1073819, 'temp_buffers': 1009859263, 'temp_file_limit': 183804999, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 4539, 'vacuum_cost_page_dirty': 6049, 'vacuum_cost_page_hit': 4259, 'vacuum_cost_page_miss': 3850, 'wal_buffers': 108401, 'wal_writer_delay': 9889, 'work_mem': 157856679}, QPS: -4847.188450704148
Performance (QPS): -4847.188450704148
Evaluating configuration: {'autovacuum_analyze_scale_factor': 14.541357941925526, 'autovacuum_analyze_threshold': 1398783817, 'autovacuum_max_workers': 116, 'autovacuum_naptime': 927250, 'autovacuum_vacuum_cost_delay': 7, 'autovacuum_vacuum_cost_limit': 1749, 'autovacuum_vacuum_scale_factor': 12.682785466313362, 'autovacuum_vacuum_threshold': 1755855637, 'backend_flush_after': 229, 'bgwriter_delay': 2456, 'bgwriter_flush_after': 96, 'bgwriter_lru_maxpages': 799, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.02632452081888914, 'checkpoint_flush_after': 99, 'checkpoint_timeout': 817, 'commit_delay': 25515, 'commit_siblings': 744, 'cursor_tuple_fraction': 0.0653075072914362, 'deadlock_timeout': 1640755072, 'default_statistics_target': 6143, 'effective_cache_size': 1771098618, 'effective_io_concurrency': 982, 'from_collapse_limit': 1403551182, 'geqo_effort': 8, 'geqo_generations': 456658054, 'geqo_pool_size': 214606922, 'geqo_seed': 0.8228023396804929, 'geqo_threshold': 1374850376, 'join_collapse_limit': 1692635718, 'maintenance_work_mem': 814318961, 'max_connections': 2789, 'max_wal_senders': 20, 'shared_buffers': 436723, 'temp_buffers': 678941471, 'temp_file_limit': 1443169087, 'vacuum_cost_delay': 95, 'vacuum_cost_limit': 7601, 'vacuum_cost_page_dirty': 1736, 'vacuum_cost_page_hit': 8548, 'vacuum_cost_page_miss': 6008, 'wal_buffers': 39645, 'wal_writer_delay': 8737, 'work_mem': 78461459}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 14.541357941925526
Set autovacuum_analyze_threshold = 1398783817
Set autovacuum_max_workers = 116
Set autovacuum_naptime = 927250
Set autovacuum_vacuum_cost_delay = 7
Set autovacuum_vacuum_cost_limit = 1749
Set autovacuum_vacuum_scale_factor = 12.682785466313362
Set autovacuum_vacuum_threshold = 1755855637
Set backend_flush_after = 229
Set bgwriter_delay = 2456
Set bgwriter_flush_after = 96
Set bgwriter_lru_maxpages = 799
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.02632452081888914
Set checkpoint_flush_after = 99
Set checkpoint_timeout = 817
Set commit_delay = 25515
Set commit_siblings = 744
Set cursor_tuple_fraction = 0.0653075072914362
Set deadlock_timeout = 1640755072
Set default_statistics_target = 6143
Set effective_cache_size = 1771098618
Set effective_io_concurrency = 982
Set from_collapse_limit = 1403551182
Set geqo_effort = 8
Set geqo_generations = 456658054
Set geqo_pool_size = 214606922
Set geqo_seed = 0.8228023396804929
Set geqo_threshold = 1374850376
Set join_collapse_limit = 1692635718
Set maintenance_work_mem = 814318961
Set max_connections = 2789
Set max_wal_senders = 20
Set shared_buffers = 436723
Set temp_buffers = 678941471
Set temp_file_limit = 1443169087
Set vacuum_cost_delay = 95
Set vacuum_cost_limit = 7601
Set vacuum_cost_page_dirty = 1736
Set vacuum_cost_page_hit = 8548
Set vacuum_cost_page_miss = 6008
Set wal_buffers = 39645
Set wal_writer_delay = 8737
Set work_mem = 78461459
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-44-02.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-44-02.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-44-02.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-44-02.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-44-02.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763707378.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-44-02.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-44-02.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-44-02.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-44-02.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-44-02.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-44-02.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-44-02.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 4800.542126270403
BenchBase wikipedia throughput: 4800.542126270403
Configuration: {'autovacuum_analyze_scale_factor': 14.541357941925526, 'autovacuum_analyze_threshold': 1398783817, 'autovacuum_max_workers': 116, 'autovacuum_naptime': 927250, 'autovacuum_vacuum_cost_delay': 7, 'autovacuum_vacuum_cost_limit': 1749, 'autovacuum_vacuum_scale_factor': 12.682785466313362, 'autovacuum_vacuum_threshold': 1755855637, 'backend_flush_after': 229, 'bgwriter_delay': 2456, 'bgwriter_flush_after': 96, 'bgwriter_lru_maxpages': 799, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.02632452081888914, 'checkpoint_flush_after': 99, 'checkpoint_timeout': 817, 'commit_delay': 25515, 'commit_siblings': 744, 'cursor_tuple_fraction': 0.0653075072914362, 'deadlock_timeout': 1640755072, 'default_statistics_target': 6143, 'effective_cache_size': 1771098618, 'effective_io_concurrency': 982, 'from_collapse_limit': 1403551182, 'geqo_effort': 8, 'geqo_generations': 456658054, 'geqo_pool_size': 214606922, 'geqo_seed': 0.8228023396804929, 'geqo_threshold': 1374850376, 'join_collapse_limit': 1692635718, 'maintenance_work_mem': 814318961, 'max_connections': 2789, 'max_wal_senders': 20, 'shared_buffers': 436723, 'temp_buffers': 678941471, 'temp_file_limit': 1443169087, 'vacuum_cost_delay': 95, 'vacuum_cost_limit': 7601, 'vacuum_cost_page_dirty': 1736, 'vacuum_cost_page_hit': 8548, 'vacuum_cost_page_miss': 6008, 'wal_buffers': 39645, 'wal_writer_delay': 8737, 'work_mem': 78461459}, QPS: -4800.542126270403
Performance (QPS): -4800.542126270403
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514357760, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 363, 'max_wal_senders': 50, 'shared_buffers': 238021, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 8956
Set bgwriter_flush_after = 36
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 505
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 581970432
Set effective_io_concurrency = 661
Set from_collapse_limit = 1514357760
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 363
Set max_wal_senders = 50
Set shared_buffers = 238021
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-45-40.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-45-40.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763707477.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-45-40.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-45-40.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-45-40.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-45-40.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-45-40.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-45-40.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-45-40.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-45-40.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-45-40.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-45-40.results.RemoveWatchList.csv
Parsed throughput from summary.json: 4936.222104155673
BenchBase wikipedia throughput: 4936.222104155673
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514357760, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 363, 'max_wal_senders': 50, 'shared_buffers': 238021, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4936.222104155673
Performance (QPS): -4936.222104155673
Evaluating configuration: {'autovacuum_analyze_scale_factor': 13.714207403818335, 'autovacuum_analyze_threshold': 1306093523, 'autovacuum_max_workers': 176, 'autovacuum_naptime': 1841952, 'autovacuum_vacuum_cost_delay': 55, 'autovacuum_vacuum_cost_limit': 9129, 'autovacuum_vacuum_scale_factor': 18.93730269360721, 'autovacuum_vacuum_threshold': 1848906813, 'backend_flush_after': 247, 'bgwriter_delay': 2726, 'bgwriter_flush_after': 96, 'bgwriter_lru_maxpages': 814, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.43196442113041983, 'checkpoint_flush_after': 96, 'checkpoint_timeout': 862, 'commit_delay': 38062, 'commit_siblings': 277, 'cursor_tuple_fraction': 0.3471444729317469, 'deadlock_timeout': 146942614, 'default_statistics_target': 8089, 'effective_cache_size': 941869163, 'effective_io_concurrency': 540, 'from_collapse_limit': 640205332, 'geqo_effort': 3, 'geqo_generations': 1616478335, 'geqo_pool_size': 1921431183, 'geqo_seed': 0.6072164055977439, 'geqo_threshold': 378631713, 'join_collapse_limit': 1241527435, 'maintenance_work_mem': 893702531, 'max_connections': 1269, 'max_wal_senders': 15, 'shared_buffers': 3383226, 'temp_buffers': 1013130053, 'temp_file_limit': 1932429823, 'vacuum_cost_delay': 14, 'vacuum_cost_limit': 8559, 'vacuum_cost_page_dirty': 5966, 'vacuum_cost_page_hit': 8426, 'vacuum_cost_page_miss': 2830, 'wal_buffers': 120946, 'wal_writer_delay': 6236, 'work_mem': 551213039}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 13.714207403818335
Set autovacuum_analyze_threshold = 1306093523
Set autovacuum_max_workers = 176
Set autovacuum_naptime = 1841952
Set autovacuum_vacuum_cost_delay = 55
Set autovacuum_vacuum_cost_limit = 9129
Set autovacuum_vacuum_scale_factor = 18.93730269360721
Set autovacuum_vacuum_threshold = 1848906813
Set backend_flush_after = 247
Set bgwriter_delay = 2726
Set bgwriter_flush_after = 96
Set bgwriter_lru_maxpages = 814
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.43196442113041983
Set checkpoint_flush_after = 96
Set checkpoint_timeout = 862
Set commit_delay = 38062
Set commit_siblings = 277
Set cursor_tuple_fraction = 0.3471444729317469
Set deadlock_timeout = 146942614
Set default_statistics_target = 8089
Set effective_cache_size = 941869163
Set effective_io_concurrency = 540
Set from_collapse_limit = 640205332
Set geqo_effort = 3
Set geqo_generations = 1616478335
Set geqo_pool_size = 1921431183
Set geqo_seed = 0.6072164055977439
Set geqo_threshold = 378631713
Set join_collapse_limit = 1241527435
Set maintenance_work_mem = 893702531
Set max_connections = 1269
Set max_wal_senders = 15
Set shared_buffers = 3383226
Set temp_buffers = 1013130053
Set temp_file_limit = 1932429823
Set vacuum_cost_delay = 14
Set vacuum_cost_limit = 8559
Set vacuum_cost_page_dirty = 5966
Set vacuum_cost_page_hit = 8426
Set vacuum_cost_page_miss = 2830
Set wal_buffers = 120946
Set wal_writer_delay = 6236
Set work_mem = 551213039
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-47-14.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-47-14.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-47-14.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-47-14.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-47-14.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-47-14.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-47-14.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-47-14.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-47-14.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-47-14.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-47-14.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763707571.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-47-14.results.RemoveWatchList.csv
Parsed throughput from summary.json: 4675.3478652806425
BenchBase wikipedia throughput: 4675.3478652806425
Configuration: {'autovacuum_analyze_scale_factor': 13.714207403818335, 'autovacuum_analyze_threshold': 1306093523, 'autovacuum_max_workers': 176, 'autovacuum_naptime': 1841952, 'autovacuum_vacuum_cost_delay': 55, 'autovacuum_vacuum_cost_limit': 9129, 'autovacuum_vacuum_scale_factor': 18.93730269360721, 'autovacuum_vacuum_threshold': 1848906813, 'backend_flush_after': 247, 'bgwriter_delay': 2726, 'bgwriter_flush_after': 96, 'bgwriter_lru_maxpages': 814, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.43196442113041983, 'checkpoint_flush_after': 96, 'checkpoint_timeout': 862, 'commit_delay': 38062, 'commit_siblings': 277, 'cursor_tuple_fraction': 0.3471444729317469, 'deadlock_timeout': 146942614, 'default_statistics_target': 8089, 'effective_cache_size': 941869163, 'effective_io_concurrency': 540, 'from_collapse_limit': 640205332, 'geqo_effort': 3, 'geqo_generations': 1616478335, 'geqo_pool_size': 1921431183, 'geqo_seed': 0.6072164055977439, 'geqo_threshold': 378631713, 'join_collapse_limit': 1241527435, 'maintenance_work_mem': 893702531, 'max_connections': 1269, 'max_wal_senders': 15, 'shared_buffers': 3383226, 'temp_buffers': 1013130053, 'temp_file_limit': 1932429823, 'vacuum_cost_delay': 14, 'vacuum_cost_limit': 8559, 'vacuum_cost_page_dirty': 5966, 'vacuum_cost_page_hit': 8426, 'vacuum_cost_page_miss': 2830, 'wal_buffers': 120946, 'wal_writer_delay': 6236, 'work_mem': 551213039}, QPS: -4675.3478652806425
Performance (QPS): -4675.3478652806425
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 4248, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1609934207, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.2792873304016335, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 745, 'from_collapse_limit': 1540209128, 'geqo_effort': 2, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 229705617, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 181, 'max_wal_senders': 20, 'shared_buffers': 13639, 'temp_buffers': 638267624, 'temp_file_limit': 801469311, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7567, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1605332368}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 4248
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1609934207
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.2792873304016335
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 390597560
Set effective_io_concurrency = 745
Set from_collapse_limit = 1540209128
Set geqo_effort = 2
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 229705617
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 181
Set max_wal_senders = 20
Set shared_buffers = 13639
Set temp_buffers = 638267624
Set temp_file_limit = 801469311
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7567
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1605332368
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-48-53.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-48-53.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-48-53.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-48-53.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-48-53.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763707670.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-48-53.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-48-53.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-48-53.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-48-53.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-48-53.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-48-53.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-48-53.metrics.json
Parsed throughput from summary.json: 4837.704019327994
BenchBase wikipedia throughput: 4837.704019327994
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 4248, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1609934207, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.2792873304016335, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 745, 'from_collapse_limit': 1540209128, 'geqo_effort': 2, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 229705617, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 181, 'max_wal_senders': 20, 'shared_buffers': 13639, 'temp_buffers': 638267624, 'temp_file_limit': 801469311, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7567, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1605332368}, QPS: -4837.704019327994
Performance (QPS): -4837.704019327994
Evaluating configuration: {'autovacuum_analyze_scale_factor': 84.97040295676011, 'autovacuum_analyze_threshold': 323783123, 'autovacuum_max_workers': 70, 'autovacuum_naptime': 1499392, 'autovacuum_vacuum_cost_delay': 79, 'autovacuum_vacuum_cost_limit': 6037, 'autovacuum_vacuum_scale_factor': 78.47491638987665, 'autovacuum_vacuum_threshold': 1401639188, 'backend_flush_after': 55, 'bgwriter_delay': 8751, 'bgwriter_flush_after': 242, 'bgwriter_lru_maxpages': 918, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.23337230456450297, 'checkpoint_flush_after': 244, 'checkpoint_timeout': 606, 'commit_delay': 34698, 'commit_siblings': 5, 'cursor_tuple_fraction': 0.5772891299235636, 'deadlock_timeout': 791061056, 'default_statistics_target': 5602, 'effective_cache_size': 124334942, 'effective_io_concurrency': 10, 'from_collapse_limit': 1565640817, 'geqo_effort': 1, 'geqo_generations': 467160780, 'geqo_pool_size': 1081074330, 'geqo_seed': 0.1599193484262117, 'geqo_threshold': 418761672, 'join_collapse_limit': 1925931406, 'maintenance_work_mem': 1087008758, 'max_connections': 2983, 'max_wal_senders': 40, 'shared_buffers': 2264190, 'temp_buffers': 189499222, 'temp_file_limit': 197062358, 'vacuum_cost_delay': 94, 'vacuum_cost_limit': 5059, 'vacuum_cost_page_dirty': 8385, 'vacuum_cost_page_hit': 7235, 'vacuum_cost_page_miss': 8642, 'wal_buffers': 123898, 'wal_writer_delay': 5347, 'work_mem': 961472184}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 84.97040295676011
Set autovacuum_analyze_threshold = 323783123
Set autovacuum_max_workers = 70
Set autovacuum_naptime = 1499392
Set autovacuum_vacuum_cost_delay = 79
Set autovacuum_vacuum_cost_limit = 6037
Set autovacuum_vacuum_scale_factor = 78.47491638987665
Set autovacuum_vacuum_threshold = 1401639188
Set backend_flush_after = 55
Set bgwriter_delay = 8751
Set bgwriter_flush_after = 242
Set bgwriter_lru_maxpages = 918
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.23337230456450297
Set checkpoint_flush_after = 244
Set checkpoint_timeout = 606
Set commit_delay = 34698
Set commit_siblings = 5
Set cursor_tuple_fraction = 0.5772891299235636
Set deadlock_timeout = 791061056
Set default_statistics_target = 5602
Set effective_cache_size = 124334942
Set effective_io_concurrency = 10
Set from_collapse_limit = 1565640817
Set geqo_effort = 1
Set geqo_generations = 467160780
Set geqo_pool_size = 1081074330
Set geqo_seed = 0.1599193484262117
Set geqo_threshold = 418761672
Set join_collapse_limit = 1925931406
Set maintenance_work_mem = 1087008758
Set max_connections = 2983
Set max_wal_senders = 40
Set shared_buffers = 2264190
Set temp_buffers = 189499222
Set temp_file_limit = 197062358
Set vacuum_cost_delay = 94
Set vacuum_cost_limit = 5059
Set vacuum_cost_page_dirty = 8385
Set vacuum_cost_page_hit = 7235
Set vacuum_cost_page_miss = 8642
Set wal_buffers = 123898
Set wal_writer_delay = 5347
Set work_mem = 961472184
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-50-27.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-50-27.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-50-27.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-50-27.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-50-27.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-50-27.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-50-27.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-50-27.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-50-27.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763707763.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-50-27.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-50-27.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-50-27.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Parsed throughput from summary.json: 1734.2937321749307
BenchBase wikipedia throughput: 1734.2937321749307
Configuration: {'autovacuum_analyze_scale_factor': 84.97040295676011, 'autovacuum_analyze_threshold': 323783123, 'autovacuum_max_workers': 70, 'autovacuum_naptime': 1499392, 'autovacuum_vacuum_cost_delay': 79, 'autovacuum_vacuum_cost_limit': 6037, 'autovacuum_vacuum_scale_factor': 78.47491638987665, 'autovacuum_vacuum_threshold': 1401639188, 'backend_flush_after': 55, 'bgwriter_delay': 8751, 'bgwriter_flush_after': 242, 'bgwriter_lru_maxpages': 918, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.23337230456450297, 'checkpoint_flush_after': 244, 'checkpoint_timeout': 606, 'commit_delay': 34698, 'commit_siblings': 5, 'cursor_tuple_fraction': 0.5772891299235636, 'deadlock_timeout': 791061056, 'default_statistics_target': 5602, 'effective_cache_size': 124334942, 'effective_io_concurrency': 10, 'from_collapse_limit': 1565640817, 'geqo_effort': 1, 'geqo_generations': 467160780, 'geqo_pool_size': 1081074330, 'geqo_seed': 0.1599193484262117, 'geqo_threshold': 418761672, 'join_collapse_limit': 1925931406, 'maintenance_work_mem': 1087008758, 'max_connections': 2983, 'max_wal_senders': 40, 'shared_buffers': 2264190, 'temp_buffers': 189499222, 'temp_file_limit': 197062358, 'vacuum_cost_delay': 94, 'vacuum_cost_limit': 5059, 'vacuum_cost_page_dirty': 8385, 'vacuum_cost_page_hit': 7235, 'vacuum_cost_page_miss': 8642, 'wal_buffers': 123898, 'wal_writer_delay': 5347, 'work_mem': 961472184}, QPS: -1734.2937321749307
Performance (QPS): -1734.2937321749307
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 21.270648135771882, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 39, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3892413593329719, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 578, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5388, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1388140543, 'geqo_pool_size': 1789817599, 'geqo_seed': 0.3306890620925487, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 394606, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 9699, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7642, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 21.270648135771882
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 39
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.3892413593329719
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 578
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5388
Set effective_cache_size = 390597560
Set effective_io_concurrency = 661
Set from_collapse_limit = 1540209128
Set geqo_effort = 4
Set geqo_generations = 1388140543
Set geqo_pool_size = 1789817599
Set geqo_seed = 0.3306890620925487
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 394606
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 60
Set vacuum_cost_limit = 9699
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7642
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-52-05.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-52-05.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-52-05.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-52-05.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-52-05.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-52-05.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-52-05.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-52-05.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-52-05.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-52-05.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-52-05.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-52-05.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763707861.log
Parsed throughput from summary.json: 4901.092987273636
BenchBase wikipedia throughput: 4901.092987273636
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 21.270648135771882, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 39, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3892413593329719, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 578, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5388, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1388140543, 'geqo_pool_size': 1789817599, 'geqo_seed': 0.3306890620925487, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 394606, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 9699, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7642, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4901.092987273636
Performance (QPS): -4901.092987273636
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1011934720, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 21.270648135771882, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9339, 'bgwriter_flush_after': 39, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.3076182262676033, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 727, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5388, 'effective_cache_size': 166615488, 'effective_io_concurrency': 661, 'from_collapse_limit': 1529050880, 'geqo_effort': 4, 'geqo_generations': 1224451967, 'geqo_pool_size': 1789817599, 'geqo_seed': 0.3514489077769348, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1008424095, 'max_connections': 219, 'max_wal_senders': 50, 'shared_buffers': 63751, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 9699, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7083, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1516329234}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1011934720
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 21.270648135771882
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9339
Set bgwriter_flush_after = 39
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.3076182262676033
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 727
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5388
Set effective_cache_size = 166615488
Set effective_io_concurrency = 661
Set from_collapse_limit = 1529050880
Set geqo_effort = 4
Set geqo_generations = 1224451967
Set geqo_pool_size = 1789817599
Set geqo_seed = 0.3514489077769348
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1008424095
Set max_connections = 219
Set max_wal_senders = 50
Set shared_buffers = 63751
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 9699
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7083
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1516329234
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-53-43.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-53-43.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-53-43.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-53-43.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-53-43.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-53-43.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763707960.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-53-43.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-53-43.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-53-43.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-53-43.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-53-43.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-53-43.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 4761.392342522734
BenchBase wikipedia throughput: 4761.392342522734
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1011934720, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 21.270648135771882, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9339, 'bgwriter_flush_after': 39, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.3076182262676033, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 727, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5388, 'effective_cache_size': 166615488, 'effective_io_concurrency': 661, 'from_collapse_limit': 1529050880, 'geqo_effort': 4, 'geqo_generations': 1224451967, 'geqo_pool_size': 1789817599, 'geqo_seed': 0.3514489077769348, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1008424095, 'max_connections': 219, 'max_wal_senders': 50, 'shared_buffers': 63751, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 9699, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7083, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1516329234}, QPS: -4761.392342522734
Performance (QPS): -4761.392342522734
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.31419485589739, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 4130, 'effective_cache_size': 562041344, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514357760, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 41071433, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1018748506, 'max_connections': 363, 'max_wal_senders': 50, 'shared_buffers': 238021, 'temp_buffers': 669229285, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7973, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.31419485589739
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 8956
Set bgwriter_flush_after = 36
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 165
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 505
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 4130
Set effective_cache_size = 562041344
Set effective_io_concurrency = 661
Set from_collapse_limit = 1514357760
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 41071433
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1018748506
Set max_connections = 363
Set max_wal_senders = 50
Set shared_buffers = 238021
Set temp_buffers = 669229285
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7973
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-55-21.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-55-21.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-55-21.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-55-21.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-55-21.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-55-21.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-55-21.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-55-21.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-55-21.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-55-21.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-55-21.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-55-21.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763708058.log
Parsed throughput from summary.json: 4691.530385402489
BenchBase wikipedia throughput: 4691.530385402489
Configuration: {'autovacuum_analyze_scale_factor': 38.31419485589739, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 4130, 'effective_cache_size': 562041344, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514357760, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 41071433, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1018748506, 'max_connections': 363, 'max_wal_senders': 50, 'shared_buffers': 238021, 'temp_buffers': 669229285, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7973, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4691.530385402489
Performance (QPS): -4691.530385402489
Evaluating configuration: {'autovacuum_analyze_scale_factor': 70.08251875305783, 'autovacuum_analyze_threshold': 1397435138, 'autovacuum_max_workers': 60, 'autovacuum_naptime': 884534, 'autovacuum_vacuum_cost_delay': 98, 'autovacuum_vacuum_cost_limit': 1512, 'autovacuum_vacuum_scale_factor': 88.74669251160756, 'autovacuum_vacuum_threshold': 809466174, 'backend_flush_after': 221, 'bgwriter_delay': 8402, 'bgwriter_flush_after': 119, 'bgwriter_lru_maxpages': 592, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3671788166800748, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 171, 'commit_delay': 9052, 'commit_siblings': 557, 'cursor_tuple_fraction': 0.19086487128145413, 'deadlock_timeout': 365697173, 'default_statistics_target': 1356, 'effective_cache_size': 1904342524, 'effective_io_concurrency': 662, 'from_collapse_limit': 1960495583, 'geqo_effort': 6, 'geqo_generations': 1456490840, 'geqo_pool_size': 1334049717, 'geqo_seed': 0.6735321530306615, 'geqo_threshold': 256853151, 'join_collapse_limit': 1640957089, 'maintenance_work_mem': 1759289587, 'max_connections': 1016, 'max_wal_senders': 4, 'shared_buffers': 1839295, 'temp_buffers': 947976141, 'temp_file_limit': 378552520, 'vacuum_cost_delay': 11, 'vacuum_cost_limit': 2953, 'vacuum_cost_page_dirty': 5700, 'vacuum_cost_page_hit': 6351, 'vacuum_cost_page_miss': 3968, 'wal_buffers': 22394, 'wal_writer_delay': 5806, 'work_mem': 554919866}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 70.08251875305783
Set autovacuum_analyze_threshold = 1397435138
Set autovacuum_max_workers = 60
Set autovacuum_naptime = 884534
Set autovacuum_vacuum_cost_delay = 98
Set autovacuum_vacuum_cost_limit = 1512
Set autovacuum_vacuum_scale_factor = 88.74669251160756
Set autovacuum_vacuum_threshold = 809466174
Set backend_flush_after = 221
Set bgwriter_delay = 8402
Set bgwriter_flush_after = 119
Set bgwriter_lru_maxpages = 592
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.3671788166800748
Set checkpoint_flush_after = 33
Set checkpoint_timeout = 171
Set commit_delay = 9052
Set commit_siblings = 557
Set cursor_tuple_fraction = 0.19086487128145413
Set deadlock_timeout = 365697173
Set default_statistics_target = 1356
Set effective_cache_size = 1904342524
Set effective_io_concurrency = 662
Set from_collapse_limit = 1960495583
Set geqo_effort = 6
Set geqo_generations = 1456490840
Set geqo_pool_size = 1334049717
Set geqo_seed = 0.6735321530306615
Set geqo_threshold = 256853151
Set join_collapse_limit = 1640957089
Set maintenance_work_mem = 1759289587
Set max_connections = 1016
Set max_wal_senders = 4
Set shared_buffers = 1839295
Set temp_buffers = 947976141
Set temp_file_limit = 378552520
Set vacuum_cost_delay = 11
Set vacuum_cost_limit = 2953
Set vacuum_cost_page_dirty = 5700
Set vacuum_cost_page_hit = 6351
Set vacuum_cost_page_miss = 3968
Set wal_buffers = 22394
Set wal_writer_delay = 5806
Set work_mem = 554919866
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-56-55.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-56-55.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-56-55.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-56-55.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763708151.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-56-55.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-56-55.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-56-55.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-56-55.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-56-55.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-56-55.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-56-55.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-56-55.results.AddWatchList.csv
Parsed throughput from summary.json: 4869.750644780413
BenchBase wikipedia throughput: 4869.750644780413
Configuration: {'autovacuum_analyze_scale_factor': 70.08251875305783, 'autovacuum_analyze_threshold': 1397435138, 'autovacuum_max_workers': 60, 'autovacuum_naptime': 884534, 'autovacuum_vacuum_cost_delay': 98, 'autovacuum_vacuum_cost_limit': 1512, 'autovacuum_vacuum_scale_factor': 88.74669251160756, 'autovacuum_vacuum_threshold': 809466174, 'backend_flush_after': 221, 'bgwriter_delay': 8402, 'bgwriter_flush_after': 119, 'bgwriter_lru_maxpages': 592, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3671788166800748, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 171, 'commit_delay': 9052, 'commit_siblings': 557, 'cursor_tuple_fraction': 0.19086487128145413, 'deadlock_timeout': 365697173, 'default_statistics_target': 1356, 'effective_cache_size': 1904342524, 'effective_io_concurrency': 662, 'from_collapse_limit': 1960495583, 'geqo_effort': 6, 'geqo_generations': 1456490840, 'geqo_pool_size': 1334049717, 'geqo_seed': 0.6735321530306615, 'geqo_threshold': 256853151, 'join_collapse_limit': 1640957089, 'maintenance_work_mem': 1759289587, 'max_connections': 1016, 'max_wal_senders': 4, 'shared_buffers': 1839295, 'temp_buffers': 947976141, 'temp_file_limit': 378552520, 'vacuum_cost_delay': 11, 'vacuum_cost_limit': 2953, 'vacuum_cost_page_dirty': 5700, 'vacuum_cost_page_hit': 6351, 'vacuum_cost_page_miss': 3968, 'wal_buffers': 22394, 'wal_writer_delay': 5806, 'work_mem': 554919866}, QPS: -4869.750644780413
Performance (QPS): -4869.750644780413
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1155621119, 'autovacuum_max_workers': 160, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 85, 'autovacuum_vacuum_cost_limit': 4158, 'autovacuum_vacuum_scale_factor': 21.270648135771882, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9760, 'bgwriter_flush_after': 35, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3892413593329719, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 194, 'commit_delay': 93000, 'commit_siblings': 480, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5388, 'effective_cache_size': 601054208, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1290705535, 'geqo_pool_size': 1851832447, 'geqo_seed': 0.21186059452250977, 'geqo_threshold': 215486433, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 394606, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 9914, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7642, 'wal_buffers': 97196, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1155621119
Set autovacuum_max_workers = 160
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 85
Set autovacuum_vacuum_cost_limit = 4158
Set autovacuum_vacuum_scale_factor = 21.270648135771882
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9760
Set bgwriter_flush_after = 35
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.3892413593329719
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 194
Set commit_delay = 93000
Set commit_siblings = 480
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5388
Set effective_cache_size = 601054208
Set effective_io_concurrency = 661
Set from_collapse_limit = 1540209128
Set geqo_effort = 4
Set geqo_generations = 1290705535
Set geqo_pool_size = 1851832447
Set geqo_seed = 0.21186059452250977
Set geqo_threshold = 215486433
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 394606
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 60
Set vacuum_cost_limit = 9914
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7642
Set wal_buffers = 97196
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-58-32.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-58-32.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-58-32.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763708250.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-58-32.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-58-32.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-58-32.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-58-32.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-58-32.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-58-32.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-58-32.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_06-58-32.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_06-58-32.samples.csv
Parsed throughput from summary.json: 4804.017699170117
BenchBase wikipedia throughput: 4804.017699170117
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1155621119, 'autovacuum_max_workers': 160, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 85, 'autovacuum_vacuum_cost_limit': 4158, 'autovacuum_vacuum_scale_factor': 21.270648135771882, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9760, 'bgwriter_flush_after': 35, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3892413593329719, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 194, 'commit_delay': 93000, 'commit_siblings': 480, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5388, 'effective_cache_size': 601054208, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1290705535, 'geqo_pool_size': 1851832447, 'geqo_seed': 0.21186059452250977, 'geqo_threshold': 215486433, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 394606, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 9914, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7642, 'wal_buffers': 97196, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4804.017699170117
Performance (QPS): -4804.017699170117
Evaluating configuration: {'autovacuum_analyze_scale_factor': 92.98572810823651, 'autovacuum_analyze_threshold': 1350673922, 'autovacuum_max_workers': 11, 'autovacuum_naptime': 703485, 'autovacuum_vacuum_cost_delay': 41, 'autovacuum_vacuum_cost_limit': 8884, 'autovacuum_vacuum_scale_factor': 3.7632981034529056, 'autovacuum_vacuum_threshold': 1278371025, 'backend_flush_after': 93, 'bgwriter_delay': 7630, 'bgwriter_flush_after': 128, 'bgwriter_lru_maxpages': 749, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.5785188336712641, 'checkpoint_flush_after': 91, 'checkpoint_timeout': 1494, 'commit_delay': 36693, 'commit_siblings': 613, 'cursor_tuple_fraction': 0.7107034139798244, 'deadlock_timeout': 179334154, 'default_statistics_target': 1688, 'effective_cache_size': 1211667890, 'effective_io_concurrency': 885, 'from_collapse_limit': 2127316030, 'geqo_effort': 6, 'geqo_generations': 846335648, 'geqo_pool_size': 458087334, 'geqo_seed': 0.11221764492050446, 'geqo_threshold': 1835523756, 'join_collapse_limit': 460942688, 'maintenance_work_mem': 100306576, 'max_connections': 518, 'max_wal_senders': 43, 'shared_buffers': 467244, 'temp_buffers': 128329352, 'temp_file_limit': 279280438, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 727, 'vacuum_cost_page_dirty': 5543, 'vacuum_cost_page_hit': 8447, 'vacuum_cost_page_miss': 9144, 'wal_buffers': 81511, 'wal_writer_delay': 6034, 'work_mem': 2013546462}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 92.98572810823651
Set autovacuum_analyze_threshold = 1350673922
Set autovacuum_max_workers = 11
Set autovacuum_naptime = 703485
Set autovacuum_vacuum_cost_delay = 41
Set autovacuum_vacuum_cost_limit = 8884
Set autovacuum_vacuum_scale_factor = 3.7632981034529056
Set autovacuum_vacuum_threshold = 1278371025
Set backend_flush_after = 93
Set bgwriter_delay = 7630
Set bgwriter_flush_after = 128
Set bgwriter_lru_maxpages = 749
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.5785188336712641
Set checkpoint_flush_after = 91
Set checkpoint_timeout = 1494
Set commit_delay = 36693
Set commit_siblings = 613
Set cursor_tuple_fraction = 0.7107034139798244
Set deadlock_timeout = 179334154
Set default_statistics_target = 1688
Set effective_cache_size = 1211667890
Set effective_io_concurrency = 885
Set from_collapse_limit = 2127316030
Set geqo_effort = 6
Set geqo_generations = 846335648
Set geqo_pool_size = 458087334
Set geqo_seed = 0.11221764492050446
Set geqo_threshold = 1835523756
Set join_collapse_limit = 460942688
Set maintenance_work_mem = 100306576
Set max_connections = 518
Set max_wal_senders = 43
Set shared_buffers = 467244
Set temp_buffers = 128329352
Set temp_file_limit = 279280438
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 727
Set vacuum_cost_page_dirty = 5543
Set vacuum_cost_page_hit = 8447
Set vacuum_cost_page_miss = 9144
Set wal_buffers = 81511
Set wal_writer_delay = 6034
Set work_mem = 2013546462
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-00-06.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-00-06.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-00-06.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-00-06.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-00-06.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763708343.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-00-06.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-00-06.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-00-06.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-00-06.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-00-06.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-00-06.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-00-06.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 4869.907673005487
BenchBase wikipedia throughput: 4869.907673005487
Configuration: {'autovacuum_analyze_scale_factor': 92.98572810823651, 'autovacuum_analyze_threshold': 1350673922, 'autovacuum_max_workers': 11, 'autovacuum_naptime': 703485, 'autovacuum_vacuum_cost_delay': 41, 'autovacuum_vacuum_cost_limit': 8884, 'autovacuum_vacuum_scale_factor': 3.7632981034529056, 'autovacuum_vacuum_threshold': 1278371025, 'backend_flush_after': 93, 'bgwriter_delay': 7630, 'bgwriter_flush_after': 128, 'bgwriter_lru_maxpages': 749, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.5785188336712641, 'checkpoint_flush_after': 91, 'checkpoint_timeout': 1494, 'commit_delay': 36693, 'commit_siblings': 613, 'cursor_tuple_fraction': 0.7107034139798244, 'deadlock_timeout': 179334154, 'default_statistics_target': 1688, 'effective_cache_size': 1211667890, 'effective_io_concurrency': 885, 'from_collapse_limit': 2127316030, 'geqo_effort': 6, 'geqo_generations': 846335648, 'geqo_pool_size': 458087334, 'geqo_seed': 0.11221764492050446, 'geqo_threshold': 1835523756, 'join_collapse_limit': 460942688, 'maintenance_work_mem': 100306576, 'max_connections': 518, 'max_wal_senders': 43, 'shared_buffers': 467244, 'temp_buffers': 128329352, 'temp_file_limit': 279280438, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 727, 'vacuum_cost_page_dirty': 5543, 'vacuum_cost_page_hit': 8447, 'vacuum_cost_page_miss': 9144, 'wal_buffers': 81511, 'wal_writer_delay': 6034, 'work_mem': 2013546462}, QPS: -4869.907673005487
Performance (QPS): -4869.907673005487
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1654015, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3494, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1400092671, 'backend_flush_after': 256, 'bgwriter_delay': 9812, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 616, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.2792873304016335, 'checkpoint_flush_after': 206, 'checkpoint_timeout': 950, 'commit_delay': 96301, 'commit_siblings': 393, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5221, 'effective_cache_size': 444985888, 'effective_io_concurrency': 745, 'from_collapse_limit': 1540209128, 'geqo_effort': 2, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 88540961, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1052625738, 'max_connections': 181, 'max_wal_senders': 19, 'shared_buffers': 13639, 'temp_buffers': 715227937, 'temp_file_limit': 1025108735, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1478, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7985, 'wal_buffers': 67834, 'wal_writer_delay': 3419, 'work_mem': 1605332368}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1654015
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3494
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1400092671
Set backend_flush_after = 256
Set bgwriter_delay = 9812
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 616
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.2792873304016335
Set checkpoint_flush_after = 206
Set checkpoint_timeout = 950
Set commit_delay = 96301
Set commit_siblings = 393
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5221
Set effective_cache_size = 444985888
Set effective_io_concurrency = 745
Set from_collapse_limit = 1540209128
Set geqo_effort = 2
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 88540961
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1052625738
Set max_connections = 181
Set max_wal_senders = 19
Set shared_buffers = 13639
Set temp_buffers = 715227937
Set temp_file_limit = 1025108735
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1478
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7985
Set wal_buffers = 67834
Set wal_writer_delay = 3419
Set work_mem = 1605332368
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-01-45.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-01-45.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-01-45.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-01-45.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763708442.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-01-45.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-01-45.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-01-45.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-01-45.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-01-45.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-01-45.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-01-45.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-01-45.results.RemoveWatchList.csv
Parsed throughput from summary.json: 4721.097237563432
BenchBase wikipedia throughput: 4721.097237563432
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1654015, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3494, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1400092671, 'backend_flush_after': 256, 'bgwriter_delay': 9812, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 616, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.2792873304016335, 'checkpoint_flush_after': 206, 'checkpoint_timeout': 950, 'commit_delay': 96301, 'commit_siblings': 393, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5221, 'effective_cache_size': 444985888, 'effective_io_concurrency': 745, 'from_collapse_limit': 1540209128, 'geqo_effort': 2, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 88540961, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1052625738, 'max_connections': 181, 'max_wal_senders': 19, 'shared_buffers': 13639, 'temp_buffers': 715227937, 'temp_file_limit': 1025108735, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1478, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7985, 'wal_buffers': 67834, 'wal_writer_delay': 3419, 'work_mem': 1605332368}, QPS: -4721.097237563432
Performance (QPS): -4721.097237563432
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.58315194064472, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 138522880, 'effective_io_concurrency': 661, 'from_collapse_limit': 1512408704, 'geqo_effort': 2, 'geqo_generations': 1403125503, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 6711, 'vacuum_cost_page_miss': 8026, 'wal_buffers': 51814, 'wal_writer_delay': 3111, 'work_mem': 1439609237}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.58315194064472
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 183
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 138522880
Set effective_io_concurrency = 661
Set from_collapse_limit = 1512408704
Set geqo_effort = 2
Set geqo_generations = 1403125503
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 6711
Set vacuum_cost_page_miss = 8026
Set wal_buffers = 51814
Set wal_writer_delay = 3111
Set work_mem = 1439609237
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-03-22.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-03-22.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-03-22.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-03-22.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-03-22.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-03-22.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-03-22.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-03-22.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-03-22.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-03-22.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763708539.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-03-22.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-03-22.results.csv
Parsed throughput from summary.json: 4877.6340807335255
BenchBase wikipedia throughput: 4877.6340807335255
Configuration: {'autovacuum_analyze_scale_factor': 32.58315194064472, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 138522880, 'effective_io_concurrency': 661, 'from_collapse_limit': 1512408704, 'geqo_effort': 2, 'geqo_generations': 1403125503, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 6711, 'vacuum_cost_page_miss': 8026, 'wal_buffers': 51814, 'wal_writer_delay': 3111, 'work_mem': 1439609237}, QPS: -4877.6340807335255
Performance (QPS): -4877.6340807335255
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.31419485589739, 'autovacuum_analyze_threshold': 1087517439, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1774757, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 14.095963172899895, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 176, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.01248677991638468, 'deadlock_timeout': 1317415936, 'default_statistics_target': 4314, 'effective_cache_size': 562041344, 'effective_io_concurrency': 661, 'from_collapse_limit': 1525941376, 'geqo_effort': 1, 'geqo_generations': 1497102463, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 41071433, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1023056664, 'max_connections': 245, 'max_wal_senders': 46, 'shared_buffers': 287475, 'temp_buffers': 646803431, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7973, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.31419485589739
Set autovacuum_analyze_threshold = 1087517439
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1774757
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 14.095963172899895
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 8956
Set bgwriter_flush_after = 36
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 176
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 505
Set cursor_tuple_fraction = 0.01248677991638468
Set deadlock_timeout = 1317415936
Set default_statistics_target = 4314
Set effective_cache_size = 562041344
Set effective_io_concurrency = 661
Set from_collapse_limit = 1525941376
Set geqo_effort = 1
Set geqo_generations = 1497102463
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 41071433
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1023056664
Set max_connections = 245
Set max_wal_senders = 46
Set shared_buffers = 287475
Set temp_buffers = 646803431
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7973
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-04-59.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-04-59.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-04-59.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-04-59.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-04-59.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763708636.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-04-59.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-04-59.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-04-59.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-04-59.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-04-59.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-04-59.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-04-59.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 4673.044270170438
BenchBase wikipedia throughput: 4673.044270170438
Configuration: {'autovacuum_analyze_scale_factor': 38.31419485589739, 'autovacuum_analyze_threshold': 1087517439, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1774757, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 14.095963172899895, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 176, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.01248677991638468, 'deadlock_timeout': 1317415936, 'default_statistics_target': 4314, 'effective_cache_size': 562041344, 'effective_io_concurrency': 661, 'from_collapse_limit': 1525941376, 'geqo_effort': 1, 'geqo_generations': 1497102463, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 41071433, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1023056664, 'max_connections': 245, 'max_wal_senders': 46, 'shared_buffers': 287475, 'temp_buffers': 646803431, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7973, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4673.044270170438
Performance (QPS): -4673.044270170438
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1674270, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 26.95403927949438, 'autovacuum_vacuum_threshold': 1566800895, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.3798364273490594, 'checkpoint_flush_after': 199, 'checkpoint_timeout': 398, 'commit_delay': 94224, 'commit_siblings': 509, 'cursor_tuple_fraction': 0.11899617735230232, 'deadlock_timeout': 1279054654, 'default_statistics_target': 4728, 'effective_cache_size': 581073920, 'effective_io_concurrency': 661, 'from_collapse_limit': 1459433216, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1249208492, 'max_connections': 420, 'max_wal_senders': 46, 'shared_buffers': 340926, 'temp_buffers': 604703044, 'temp_file_limit': 946973887, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1762, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1674270
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 26.95403927949438
Set autovacuum_vacuum_threshold = 1566800895
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.3798364273490594
Set checkpoint_flush_after = 199
Set checkpoint_timeout = 398
Set commit_delay = 94224
Set commit_siblings = 509
Set cursor_tuple_fraction = 0.11899617735230232
Set deadlock_timeout = 1279054654
Set default_statistics_target = 4728
Set effective_cache_size = 581073920
Set effective_io_concurrency = 661
Set from_collapse_limit = 1459433216
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1249208492
Set max_connections = 420
Set max_wal_senders = 46
Set shared_buffers = 340926
Set temp_buffers = 604703044
Set temp_file_limit = 946973887
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1762
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7525
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-06-38.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763708735.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-06-38.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-06-38.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-06-38.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-06-38.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-06-38.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-06-38.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-06-38.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-06-38.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-06-38.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-06-38.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-06-38.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Parsed throughput from summary.json: 4663.298153664203
BenchBase wikipedia throughput: 4663.298153664203
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1674270, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 26.95403927949438, 'autovacuum_vacuum_threshold': 1566800895, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.3798364273490594, 'checkpoint_flush_after': 199, 'checkpoint_timeout': 398, 'commit_delay': 94224, 'commit_siblings': 509, 'cursor_tuple_fraction': 0.11899617735230232, 'deadlock_timeout': 1279054654, 'default_statistics_target': 4728, 'effective_cache_size': 581073920, 'effective_io_concurrency': 661, 'from_collapse_limit': 1459433216, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1249208492, 'max_connections': 420, 'max_wal_senders': 46, 'shared_buffers': 340926, 'temp_buffers': 604703044, 'temp_file_limit': 946973887, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1762, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4663.298153664203
Performance (QPS): -4663.298153664203
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.58315194064472, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 150, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 15.665883749560377, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8843, 'bgwriter_flush_after': 0, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 99897, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 3944, 'effective_cache_size': 665447424, 'effective_io_concurrency': 661, 'from_collapse_limit': 1536337408, 'geqo_effort': 8, 'geqo_generations': 1340084095, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1157657687, 'max_connections': 314, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 57, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 2133, 'vacuum_cost_page_hit': 6548, 'vacuum_cost_page_miss': 7867, 'wal_buffers': 51814, 'wal_writer_delay': 2498, 'work_mem': 1439609237}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.58315194064472
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 150
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 15.665883749560377
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 8843
Set bgwriter_flush_after = 0
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 99897
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 3944
Set effective_cache_size = 665447424
Set effective_io_concurrency = 661
Set from_collapse_limit = 1536337408
Set geqo_effort = 8
Set geqo_generations = 1340084095
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1157657687
Set max_connections = 314
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 57
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 2133
Set vacuum_cost_page_hit = 6548
Set vacuum_cost_page_miss = 7867
Set wal_buffers = 51814
Set wal_writer_delay = 2498
Set work_mem = 1439609237
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763708833.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-08-16.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-08-16.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-08-16.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-08-16.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-08-16.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-08-16.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-08-16.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-08-16.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-08-16.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-08-16.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-08-16.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-08-16.metrics.json
Parsed throughput from summary.json: 4849.027190909095
BenchBase wikipedia throughput: 4849.027190909095
Configuration: {'autovacuum_analyze_scale_factor': 32.58315194064472, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 150, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 15.665883749560377, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8843, 'bgwriter_flush_after': 0, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 99897, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 3944, 'effective_cache_size': 665447424, 'effective_io_concurrency': 661, 'from_collapse_limit': 1536337408, 'geqo_effort': 8, 'geqo_generations': 1340084095, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1157657687, 'max_connections': 314, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 57, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 2133, 'vacuum_cost_page_hit': 6548, 'vacuum_cost_page_miss': 7867, 'wal_buffers': 51814, 'wal_writer_delay': 2498, 'work_mem': 1439609237}, QPS: -4849.027190909095
Performance (QPS): -4849.027190909095
Evaluating configuration: {'autovacuum_analyze_scale_factor': 24.55340490389584, 'autovacuum_analyze_threshold': 280154914, 'autovacuum_max_workers': 85, 'autovacuum_naptime': 648229, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 8791, 'autovacuum_vacuum_scale_factor': 52.90564086018967, 'autovacuum_vacuum_threshold': 2132388187, 'backend_flush_after': 37, 'bgwriter_delay': 5669, 'bgwriter_flush_after': 145, 'bgwriter_lru_maxpages': 551, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5102282614487094, 'checkpoint_flush_after': 199, 'checkpoint_timeout': 1003, 'commit_delay': 65075, 'commit_siblings': 88, 'cursor_tuple_fraction': 0.5686091165891171, 'deadlock_timeout': 1264932755, 'default_statistics_target': 7849, 'effective_cache_size': 126977273, 'effective_io_concurrency': 1, 'from_collapse_limit': 1740691521, 'geqo_effort': 6, 'geqo_generations': 1193824924, 'geqo_pool_size': 994591673, 'geqo_seed': 0.5509883651735449, 'geqo_threshold': 516960938, 'join_collapse_limit': 1935388129, 'maintenance_work_mem': 802749612, 'max_connections': 291, 'max_wal_senders': 7, 'shared_buffers': 1298109, 'temp_buffers': 680306619, 'temp_file_limit': 1435143093, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 2156, 'vacuum_cost_page_dirty': 7, 'vacuum_cost_page_hit': 4702, 'vacuum_cost_page_miss': 6109, 'wal_buffers': 120810, 'wal_writer_delay': 9576, 'work_mem': 231208059}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 24.55340490389584
Set autovacuum_analyze_threshold = 280154914
Set autovacuum_max_workers = 85
Set autovacuum_naptime = 648229
Set autovacuum_vacuum_cost_delay = 100
Set autovacuum_vacuum_cost_limit = 8791
Set autovacuum_vacuum_scale_factor = 52.90564086018967
Set autovacuum_vacuum_threshold = 2132388187
Set backend_flush_after = 37
Set bgwriter_delay = 5669
Set bgwriter_flush_after = 145
Set bgwriter_lru_maxpages = 551
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.5102282614487094
Set checkpoint_flush_after = 199
Set checkpoint_timeout = 1003
Set commit_delay = 65075
Set commit_siblings = 88
Set cursor_tuple_fraction = 0.5686091165891171
Set deadlock_timeout = 1264932755
Set default_statistics_target = 7849
Set effective_cache_size = 126977273
Set effective_io_concurrency = 1
Set from_collapse_limit = 1740691521
Set geqo_effort = 6
Set geqo_generations = 1193824924
Set geqo_pool_size = 994591673
Set geqo_seed = 0.5509883651735449
Set geqo_threshold = 516960938
Set join_collapse_limit = 1935388129
Set maintenance_work_mem = 802749612
Set max_connections = 291
Set max_wal_senders = 7
Set shared_buffers = 1298109
Set temp_buffers = 680306619
Set temp_file_limit = 1435143093
Set vacuum_cost_delay = 60
Set vacuum_cost_limit = 2156
Set vacuum_cost_page_dirty = 7
Set vacuum_cost_page_hit = 4702
Set vacuum_cost_page_miss = 6109
Set wal_buffers = 120810
Set wal_writer_delay = 9576
Set work_mem = 231208059
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-09-49.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-09-49.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-09-49.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-09-49.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-09-49.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-09-49.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-09-49.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-09-49.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763708926.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-09-49.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-09-49.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-09-49.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-09-49.metrics.json
Parsed throughput from summary.json: 4800.234267484838
BenchBase wikipedia throughput: 4800.234267484838
Configuration: {'autovacuum_analyze_scale_factor': 24.55340490389584, 'autovacuum_analyze_threshold': 280154914, 'autovacuum_max_workers': 85, 'autovacuum_naptime': 648229, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 8791, 'autovacuum_vacuum_scale_factor': 52.90564086018967, 'autovacuum_vacuum_threshold': 2132388187, 'backend_flush_after': 37, 'bgwriter_delay': 5669, 'bgwriter_flush_after': 145, 'bgwriter_lru_maxpages': 551, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5102282614487094, 'checkpoint_flush_after': 199, 'checkpoint_timeout': 1003, 'commit_delay': 65075, 'commit_siblings': 88, 'cursor_tuple_fraction': 0.5686091165891171, 'deadlock_timeout': 1264932755, 'default_statistics_target': 7849, 'effective_cache_size': 126977273, 'effective_io_concurrency': 1, 'from_collapse_limit': 1740691521, 'geqo_effort': 6, 'geqo_generations': 1193824924, 'geqo_pool_size': 994591673, 'geqo_seed': 0.5509883651735449, 'geqo_threshold': 516960938, 'join_collapse_limit': 1935388129, 'maintenance_work_mem': 802749612, 'max_connections': 291, 'max_wal_senders': 7, 'shared_buffers': 1298109, 'temp_buffers': 680306619, 'temp_file_limit': 1435143093, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 2156, 'vacuum_cost_page_dirty': 7, 'vacuum_cost_page_hit': 4702, 'vacuum_cost_page_miss': 6109, 'wal_buffers': 120810, 'wal_writer_delay': 9576, 'work_mem': 231208059}, QPS: -4800.234267484838
Performance (QPS): -4800.234267484838
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 158, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9052, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.373611177489114, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 96033, 'commit_siblings': 498, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1152441600, 'default_statistics_target': 3709, 'effective_cache_size': 618612224, 'effective_io_concurrency': 661, 'from_collapse_limit': 1624007296, 'geqo_effort': 4, 'geqo_generations': 1306144511, 'geqo_pool_size': 1836881791, 'geqo_seed': 0.17290013357201853, 'geqo_threshold': 146794465, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 346, 'max_wal_senders': 50, 'shared_buffers': 213664, 'temp_buffers': 604703044, 'temp_file_limit': 781363711, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9635, 'vacuum_cost_page_dirty': 2277, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 45201, 'wal_writer_delay': 3638, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 158
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 77
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9052
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.373611177489114
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 96033
Set commit_siblings = 498
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1152441600
Set default_statistics_target = 3709
Set effective_cache_size = 618612224
Set effective_io_concurrency = 661
Set from_collapse_limit = 1624007296
Set geqo_effort = 4
Set geqo_generations = 1306144511
Set geqo_pool_size = 1836881791
Set geqo_seed = 0.17290013357201853
Set geqo_threshold = 146794465
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 346
Set max_wal_senders = 50
Set shared_buffers = 213664
Set temp_buffers = 604703044
Set temp_file_limit = 781363711
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9635
Set vacuum_cost_page_dirty = 2277
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 45201
Set wal_writer_delay = 3638
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-11-28.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-11-28.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-11-28.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763709025.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-11-28.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-11-28.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-11-28.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-11-28.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-11-28.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-11-28.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-11-28.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-11-28.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-11-28.samples.csv
Parsed throughput from summary.json: 4798.68603047249
BenchBase wikipedia throughput: 4798.68603047249
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 158, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9052, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.373611177489114, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 96033, 'commit_siblings': 498, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1152441600, 'default_statistics_target': 3709, 'effective_cache_size': 618612224, 'effective_io_concurrency': 661, 'from_collapse_limit': 1624007296, 'geqo_effort': 4, 'geqo_generations': 1306144511, 'geqo_pool_size': 1836881791, 'geqo_seed': 0.17290013357201853, 'geqo_threshold': 146794465, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 346, 'max_wal_senders': 50, 'shared_buffers': 213664, 'temp_buffers': 604703044, 'temp_file_limit': 781363711, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9635, 'vacuum_cost_page_dirty': 2277, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 45201, 'wal_writer_delay': 3638, 'work_mem': 1523757836}, QPS: -4798.68603047249
Performance (QPS): -4798.68603047249
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.20851256448143, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 187, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3404, 'autovacuum_vacuum_scale_factor': 21.270648135771882, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 39, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3946736589462393, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 879, 'commit_delay': 96711, 'commit_siblings': 585, 'cursor_tuple_fraction': 0.1192189340475901, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5388, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1524448000, 'geqo_effort': 7, 'geqo_generations': 1388140543, 'geqo_pool_size': 1911534591, 'geqo_seed': 0.3306890620925487, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 371, 'max_wal_senders': 50, 'shared_buffers': 394606, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 9699, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7863, 'wal_buffers': 67834, 'wal_writer_delay': 2576, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.20851256448143
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 187
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3404
Set autovacuum_vacuum_scale_factor = 21.270648135771882
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 39
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.3946736589462393
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 879
Set commit_delay = 96711
Set commit_siblings = 585
Set cursor_tuple_fraction = 0.1192189340475901
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5388
Set effective_cache_size = 390597560
Set effective_io_concurrency = 661
Set from_collapse_limit = 1524448000
Set geqo_effort = 7
Set geqo_generations = 1388140543
Set geqo_pool_size = 1911534591
Set geqo_seed = 0.3306890620925487
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 371
Set max_wal_senders = 50
Set shared_buffers = 394606
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 60
Set vacuum_cost_limit = 9699
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7863
Set wal_buffers = 67834
Set wal_writer_delay = 2576
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-13-06.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-13-06.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-13-06.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-13-06.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-13-06.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-13-06.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-13-06.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-13-06.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-13-06.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763709123.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-13-06.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-13-06.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-13-06.results.csv
Parsed throughput from summary.json: 4594.051415330358
BenchBase wikipedia throughput: 4594.051415330358
Configuration: {'autovacuum_analyze_scale_factor': 32.20851256448143, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 187, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3404, 'autovacuum_vacuum_scale_factor': 21.270648135771882, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 39, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3946736589462393, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 879, 'commit_delay': 96711, 'commit_siblings': 585, 'cursor_tuple_fraction': 0.1192189340475901, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5388, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1524448000, 'geqo_effort': 7, 'geqo_generations': 1388140543, 'geqo_pool_size': 1911534591, 'geqo_seed': 0.3306890620925487, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 371, 'max_wal_senders': 50, 'shared_buffers': 394606, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 9699, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7863, 'wal_buffers': 67834, 'wal_writer_delay': 2576, 'work_mem': 1523757836}, QPS: -4594.051415330358
Performance (QPS): -4594.051415330358
Evaluating configuration: {'autovacuum_analyze_scale_factor': 41.59796351270345, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 85, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 253, 'bgwriter_delay': 9408, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 460, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 3729, 'effective_cache_size': 138522880, 'effective_io_concurrency': 661, 'from_collapse_limit': 1447777024, 'geqo_effort': 6, 'geqo_generations': 1403125503, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 48841797, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 228635, 'temp_buffers': 604703044, 'temp_file_limit': 714140799, 'vacuum_cost_delay': 39, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 128, 'vacuum_cost_page_hit': 7319, 'vacuum_cost_page_miss': 8441, 'wal_buffers': 51814, 'wal_writer_delay': 3111, 'work_mem': 1323529752}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 41.59796351270345
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 183
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 85
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 253
Set bgwriter_delay = 9408
Set bgwriter_flush_after = 36
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 460
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 3729
Set effective_cache_size = 138522880
Set effective_io_concurrency = 661
Set from_collapse_limit = 1447777024
Set geqo_effort = 6
Set geqo_generations = 1403125503
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 48841797
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 228635
Set temp_buffers = 604703044
Set temp_file_limit = 714140799
Set vacuum_cost_delay = 39
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 128
Set vacuum_cost_page_hit = 7319
Set vacuum_cost_page_miss = 8441
Set wal_buffers = 51814
Set wal_writer_delay = 3111
Set work_mem = 1323529752
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-14-45.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-14-45.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763709222.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-14-45.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-14-45.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-14-45.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-14-45.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-14-45.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-14-45.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-14-45.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-14-45.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-14-45.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-14-45.config.xml
Parsed throughput from summary.json: 4801.495782769884
BenchBase wikipedia throughput: 4801.495782769884
Configuration: {'autovacuum_analyze_scale_factor': 41.59796351270345, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 85, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 253, 'bgwriter_delay': 9408, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 460, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 3729, 'effective_cache_size': 138522880, 'effective_io_concurrency': 661, 'from_collapse_limit': 1447777024, 'geqo_effort': 6, 'geqo_generations': 1403125503, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 48841797, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 228635, 'temp_buffers': 604703044, 'temp_file_limit': 714140799, 'vacuum_cost_delay': 39, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 128, 'vacuum_cost_page_hit': 7319, 'vacuum_cost_page_miss': 8441, 'wal_buffers': 51814, 'wal_writer_delay': 3111, 'work_mem': 1323529752}, QPS: -4801.495782769884
Performance (QPS): -4801.495782769884
Evaluating configuration: {'autovacuum_analyze_scale_factor': 29.24753765650442, 'autovacuum_analyze_threshold': 925915449, 'autovacuum_max_workers': 42, 'autovacuum_naptime': 1204549, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 1179, 'autovacuum_vacuum_scale_factor': 68.74048760025957, 'autovacuum_vacuum_threshold': 1428281483, 'backend_flush_after': 134, 'bgwriter_delay': 3196, 'bgwriter_flush_after': 225, 'bgwriter_lru_maxpages': 661, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.8929591509083682, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 3528, 'commit_delay': 10950, 'commit_siblings': 715, 'cursor_tuple_fraction': 0.21612839637687398, 'deadlock_timeout': 1168012886, 'default_statistics_target': 9492, 'effective_cache_size': 1511231754, 'effective_io_concurrency': 704, 'from_collapse_limit': 1274579273, 'geqo_effort': 1, 'geqo_generations': 1268480268, 'geqo_pool_size': 1057401203, 'geqo_seed': 0.048850147253574505, 'geqo_threshold': 983046999, 'join_collapse_limit': 1020381512, 'maintenance_work_mem': 960034955, 'max_connections': 1316, 'max_wal_senders': 35, 'shared_buffers': 389172, 'temp_buffers': 1002541813, 'temp_file_limit': 1834369751, 'vacuum_cost_delay': 86, 'vacuum_cost_limit': 6148, 'vacuum_cost_page_dirty': 2501, 'vacuum_cost_page_hit': 3560, 'vacuum_cost_page_miss': 5447, 'wal_buffers': 91745, 'wal_writer_delay': 560, 'work_mem': 446337161}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 29.24753765650442
Set autovacuum_analyze_threshold = 925915449
Set autovacuum_max_workers = 42
Set autovacuum_naptime = 1204549
Set autovacuum_vacuum_cost_delay = 68
Set autovacuum_vacuum_cost_limit = 1179
Set autovacuum_vacuum_scale_factor = 68.74048760025957
Set autovacuum_vacuum_threshold = 1428281483
Set backend_flush_after = 134
Set bgwriter_delay = 3196
Set bgwriter_flush_after = 225
Set bgwriter_lru_maxpages = 661
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.8929591509083682
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 3528
Set commit_delay = 10950
Set commit_siblings = 715
Set cursor_tuple_fraction = 0.21612839637687398
Set deadlock_timeout = 1168012886
Set default_statistics_target = 9492
Set effective_cache_size = 1511231754
Set effective_io_concurrency = 704
Set from_collapse_limit = 1274579273
Set geqo_effort = 1
Set geqo_generations = 1268480268
Set geqo_pool_size = 1057401203
Set geqo_seed = 0.048850147253574505
Set geqo_threshold = 983046999
Set join_collapse_limit = 1020381512
Set maintenance_work_mem = 960034955
Set max_connections = 1316
Set max_wal_senders = 35
Set shared_buffers = 389172
Set temp_buffers = 1002541813
Set temp_file_limit = 1834369751
Set vacuum_cost_delay = 86
Set vacuum_cost_limit = 6148
Set vacuum_cost_page_dirty = 2501
Set vacuum_cost_page_hit = 3560
Set vacuum_cost_page_miss = 5447
Set wal_buffers = 91745
Set wal_writer_delay = 560
Set work_mem = 446337161
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763709316.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-16-19.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-16-19.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-16-19.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-16-19.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-16-19.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-16-19.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-16-19.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-16-19.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-16-19.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-16-19.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-16-19.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-16-19.results.csv
Parsed throughput from summary.json: 4800.114850602409
BenchBase wikipedia throughput: 4800.114850602409
Configuration: {'autovacuum_analyze_scale_factor': 29.24753765650442, 'autovacuum_analyze_threshold': 925915449, 'autovacuum_max_workers': 42, 'autovacuum_naptime': 1204549, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 1179, 'autovacuum_vacuum_scale_factor': 68.74048760025957, 'autovacuum_vacuum_threshold': 1428281483, 'backend_flush_after': 134, 'bgwriter_delay': 3196, 'bgwriter_flush_after': 225, 'bgwriter_lru_maxpages': 661, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.8929591509083682, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 3528, 'commit_delay': 10950, 'commit_siblings': 715, 'cursor_tuple_fraction': 0.21612839637687398, 'deadlock_timeout': 1168012886, 'default_statistics_target': 9492, 'effective_cache_size': 1511231754, 'effective_io_concurrency': 704, 'from_collapse_limit': 1274579273, 'geqo_effort': 1, 'geqo_generations': 1268480268, 'geqo_pool_size': 1057401203, 'geqo_seed': 0.048850147253574505, 'geqo_threshold': 983046999, 'join_collapse_limit': 1020381512, 'maintenance_work_mem': 960034955, 'max_connections': 1316, 'max_wal_senders': 35, 'shared_buffers': 389172, 'temp_buffers': 1002541813, 'temp_file_limit': 1834369751, 'vacuum_cost_delay': 86, 'vacuum_cost_limit': 6148, 'vacuum_cost_page_dirty': 2501, 'vacuum_cost_page_hit': 3560, 'vacuum_cost_page_miss': 5447, 'wal_buffers': 91745, 'wal_writer_delay': 560, 'work_mem': 446337161}, QPS: -4800.114850602409
Performance (QPS): -4800.114850602409
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.58315194064472, 'autovacuum_analyze_threshold': 1321987071, 'autovacuum_max_workers': 166, 'autovacuum_naptime': 1657911, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 2323, 'autovacuum_vacuum_scale_factor': 15.665883749560377, 'autovacuum_vacuum_threshold': 1792434687, 'backend_flush_after': 256, 'bgwriter_delay': 8843, 'bgwriter_flush_after': 0, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 760, 'commit_delay': 91118, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.1026631863673736, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5158, 'effective_cache_size': 665447424, 'effective_io_concurrency': 661, 'from_collapse_limit': 1532380416, 'geqo_effort': 6, 'geqo_generations': 1340084095, 'geqo_pool_size': 1787617791, 'geqo_seed': 0.1979155438228855, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1275941023, 'max_connections': 314, 'max_wal_senders': 40, 'shared_buffers': 258420, 'temp_buffers': 604703044, 'temp_file_limit': 730362047, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 2151, 'vacuum_cost_page_hit': 6548, 'vacuum_cost_page_miss': 7867, 'wal_buffers': 51814, 'wal_writer_delay': 3802, 'work_mem': 1439609237}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.58315194064472
Set autovacuum_analyze_threshold = 1321987071
Set autovacuum_max_workers = 166
Set autovacuum_naptime = 1657911
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 2323
Set autovacuum_vacuum_scale_factor = 15.665883749560377
Set autovacuum_vacuum_threshold = 1792434687
Set backend_flush_after = 256
Set bgwriter_delay = 8843
Set bgwriter_flush_after = 0
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 760
Set commit_delay = 91118
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.1026631863673736
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5158
Set effective_cache_size = 665447424
Set effective_io_concurrency = 661
Set from_collapse_limit = 1532380416
Set geqo_effort = 6
Set geqo_generations = 1340084095
Set geqo_pool_size = 1787617791
Set geqo_seed = 0.1979155438228855
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1275941023
Set max_connections = 314
Set max_wal_senders = 40
Set shared_buffers = 258420
Set temp_buffers = 604703044
Set temp_file_limit = 730362047
Set vacuum_cost_delay = 64
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 2151
Set vacuum_cost_page_hit = 6548
Set vacuum_cost_page_miss = 7867
Set wal_buffers = 51814
Set wal_writer_delay = 3802
Set work_mem = 1439609237
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-17-57.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-17-57.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763709414.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-17-57.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-17-57.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-17-57.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-17-57.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-17-57.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-17-57.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-17-57.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-17-57.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-17-57.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-17-57.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 4824.8153482409525
BenchBase wikipedia throughput: 4824.8153482409525
Configuration: {'autovacuum_analyze_scale_factor': 32.58315194064472, 'autovacuum_analyze_threshold': 1321987071, 'autovacuum_max_workers': 166, 'autovacuum_naptime': 1657911, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 2323, 'autovacuum_vacuum_scale_factor': 15.665883749560377, 'autovacuum_vacuum_threshold': 1792434687, 'backend_flush_after': 256, 'bgwriter_delay': 8843, 'bgwriter_flush_after': 0, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 760, 'commit_delay': 91118, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.1026631863673736, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5158, 'effective_cache_size': 665447424, 'effective_io_concurrency': 661, 'from_collapse_limit': 1532380416, 'geqo_effort': 6, 'geqo_generations': 1340084095, 'geqo_pool_size': 1787617791, 'geqo_seed': 0.1979155438228855, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1275941023, 'max_connections': 314, 'max_wal_senders': 40, 'shared_buffers': 258420, 'temp_buffers': 604703044, 'temp_file_limit': 730362047, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 2151, 'vacuum_cost_page_hit': 6548, 'vacuum_cost_page_miss': 7867, 'wal_buffers': 51814, 'wal_writer_delay': 3802, 'work_mem': 1439609237}, QPS: -4824.8153482409525
Performance (QPS): -4824.8153482409525
Evaluating configuration: {'autovacuum_analyze_scale_factor': 29.850257894258675, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 160, 'autovacuum_naptime': 1644986, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3705, 'autovacuum_vacuum_scale_factor': 18.702001723409044, 'autovacuum_vacuum_threshold': 1526331647, 'backend_flush_after': 254, 'bgwriter_delay': 8843, 'bgwriter_flush_after': 48, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 93449, 'commit_siblings': 497, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5209, 'effective_cache_size': 653454848, 'effective_io_concurrency': 649, 'from_collapse_limit': 1501002752, 'geqo_effort': 9, 'geqo_generations': 1374482431, 'geqo_pool_size': 1702090111, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1173695440, 'max_connections': 314, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 57, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1200, 'vacuum_cost_page_hit': 7829, 'vacuum_cost_page_miss': 6538, 'wal_buffers': 51814, 'wal_writer_delay': 2498, 'work_mem': 1452678036}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 29.850257894258675
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 160
Set autovacuum_naptime = 1644986
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3705
Set autovacuum_vacuum_scale_factor = 18.702001723409044
Set autovacuum_vacuum_threshold = 1526331647
Set backend_flush_after = 254
Set bgwriter_delay = 8843
Set bgwriter_flush_after = 48
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 93449
Set commit_siblings = 497
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5209
Set effective_cache_size = 653454848
Set effective_io_concurrency = 649
Set from_collapse_limit = 1501002752
Set geqo_effort = 9
Set geqo_generations = 1374482431
Set geqo_pool_size = 1702090111
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1173695440
Set max_connections = 314
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 57
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1200
Set vacuum_cost_page_hit = 7829
Set vacuum_cost_page_miss = 6538
Set wal_buffers = 51814
Set wal_writer_delay = 2498
Set work_mem = 1452678036
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-19-35.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-19-35.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-19-35.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-19-35.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-19-35.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-19-35.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-19-35.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-19-35.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-19-35.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-19-35.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-19-35.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-19-35.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763709512.log
Parsed throughput from summary.json: 4688.99157940235
BenchBase wikipedia throughput: 4688.99157940235
Configuration: {'autovacuum_analyze_scale_factor': 29.850257894258675, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 160, 'autovacuum_naptime': 1644986, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3705, 'autovacuum_vacuum_scale_factor': 18.702001723409044, 'autovacuum_vacuum_threshold': 1526331647, 'backend_flush_after': 254, 'bgwriter_delay': 8843, 'bgwriter_flush_after': 48, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 93449, 'commit_siblings': 497, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5209, 'effective_cache_size': 653454848, 'effective_io_concurrency': 649, 'from_collapse_limit': 1501002752, 'geqo_effort': 9, 'geqo_generations': 1374482431, 'geqo_pool_size': 1702090111, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1173695440, 'max_connections': 314, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 57, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1200, 'vacuum_cost_page_hit': 7829, 'vacuum_cost_page_miss': 6538, 'wal_buffers': 51814, 'wal_writer_delay': 2498, 'work_mem': 1452678036}, QPS: -4688.99157940235
Performance (QPS): -4688.99157940235
Evaluating configuration: {'autovacuum_analyze_scale_factor': 44.23331995956731, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 13.974831983534635, 'autovacuum_vacuum_threshold': 1838366463, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 621, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 170, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 6503, 'effective_cache_size': 581970432, 'effective_io_concurrency': 524, 'from_collapse_limit': 1663532928, 'geqo_effort': 4, 'geqo_generations': 1445689343, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.13760073116484167, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 363, 'max_wal_senders': 50, 'shared_buffers': 238021, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 39, 'vacuum_cost_limit': 10000, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7442, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1543552273}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 44.23331995956731
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 13.974831983534635
Set autovacuum_vacuum_threshold = 1838366463
Set backend_flush_after = 256
Set bgwriter_delay = 8956
Set bgwriter_flush_after = 36
Set bgwriter_lru_maxpages = 621
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 170
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 505
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 6503
Set effective_cache_size = 581970432
Set effective_io_concurrency = 524
Set from_collapse_limit = 1663532928
Set geqo_effort = 4
Set geqo_generations = 1445689343
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.13760073116484167
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 363
Set max_wal_senders = 50
Set shared_buffers = 238021
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 39
Set vacuum_cost_limit = 10000
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7442
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1543552273
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-21-13.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-21-13.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-21-13.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-21-13.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-21-13.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-21-13.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-21-13.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-21-13.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-21-13.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763709610.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-21-13.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-21-13.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-21-13.results.AddWatchList.csv
Parsed throughput from summary.json: 4633.620010915298
BenchBase wikipedia throughput: 4633.620010915298
Configuration: {'autovacuum_analyze_scale_factor': 44.23331995956731, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 13.974831983534635, 'autovacuum_vacuum_threshold': 1838366463, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 621, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 170, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 6503, 'effective_cache_size': 581970432, 'effective_io_concurrency': 524, 'from_collapse_limit': 1663532928, 'geqo_effort': 4, 'geqo_generations': 1445689343, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.13760073116484167, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 363, 'max_wal_senders': 50, 'shared_buffers': 238021, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 39, 'vacuum_cost_limit': 10000, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7442, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1543552273}, QPS: -4633.620010915298
Performance (QPS): -4633.620010915298
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.58315194064472, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 3779, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1664767999, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 578, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1243365504, 'default_statistics_target': 5205, 'effective_cache_size': 138522880, 'effective_io_concurrency': 661, 'from_collapse_limit': 1626189952, 'geqo_effort': 2, 'geqo_generations': 1403125503, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 934088511, 'vacuum_cost_delay': 41, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 6781, 'vacuum_cost_page_miss': 7671, 'wal_buffers': 46850, 'wal_writer_delay': 2847, 'work_mem': 1439609237}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.58315194064472
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 183
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 96
Set autovacuum_vacuum_cost_limit = 3779
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1664767999
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 578
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1243365504
Set default_statistics_target = 5205
Set effective_cache_size = 138522880
Set effective_io_concurrency = 661
Set from_collapse_limit = 1626189952
Set geqo_effort = 2
Set geqo_generations = 1403125503
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 604703044
Set temp_file_limit = 934088511
Set vacuum_cost_delay = 41
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 6781
Set vacuum_cost_page_miss = 7671
Set wal_buffers = 46850
Set wal_writer_delay = 2847
Set work_mem = 1439609237
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763709708.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-22-51.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-22-51.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-22-51.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-22-51.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-22-51.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-22-51.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-22-51.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-22-51.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-22-51.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-22-51.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-22-51.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-22-51.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 4819.888014073927
BenchBase wikipedia throughput: 4819.888014073927
Configuration: {'autovacuum_analyze_scale_factor': 32.58315194064472, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 3779, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1664767999, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 578, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1243365504, 'default_statistics_target': 5205, 'effective_cache_size': 138522880, 'effective_io_concurrency': 661, 'from_collapse_limit': 1626189952, 'geqo_effort': 2, 'geqo_generations': 1403125503, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 934088511, 'vacuum_cost_delay': 41, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 6781, 'vacuum_cost_page_miss': 7671, 'wal_buffers': 46850, 'wal_writer_delay': 2847, 'work_mem': 1439609237}, QPS: -4819.888014073927
Performance (QPS): -4819.888014073927
Evaluating configuration: {'autovacuum_analyze_scale_factor': 39.91875569571375, 'autovacuum_analyze_threshold': 1304666740, 'autovacuum_max_workers': 179, 'autovacuum_naptime': 1700790, 'autovacuum_vacuum_cost_delay': 45, 'autovacuum_vacuum_cost_limit': 9006, 'autovacuum_vacuum_scale_factor': 1.0380317822604845, 'autovacuum_vacuum_threshold': 1557189689, 'backend_flush_after': 208, 'bgwriter_delay': 1791, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 923, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.4833039381450369, 'checkpoint_flush_after': 195, 'checkpoint_timeout': 534, 'commit_delay': 73274, 'commit_siblings': 922, 'cursor_tuple_fraction': 0.40530604665699443, 'deadlock_timeout': 1310513155, 'default_statistics_target': 7028, 'effective_cache_size': 205537160, 'effective_io_concurrency': 127, 'from_collapse_limit': 1780573379, 'geqo_effort': 7, 'geqo_generations': 1258768982, 'geqo_pool_size': 826036678, 'geqo_seed': 0.045126432226604285, 'geqo_threshold': 2084176266, 'join_collapse_limit': 476082478, 'maintenance_work_mem': 518806707, 'max_connections': 1407, 'max_wal_senders': 31, 'shared_buffers': 384772, 'temp_buffers': 648255581, 'temp_file_limit': 665418263, 'vacuum_cost_delay': 93, 'vacuum_cost_limit': 9566, 'vacuum_cost_page_dirty': 6279, 'vacuum_cost_page_hit': 2426, 'vacuum_cost_page_miss': 4265, 'wal_buffers': 34565, 'wal_writer_delay': 5649, 'work_mem': 7779899}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 39.91875569571375
Set autovacuum_analyze_threshold = 1304666740
Set autovacuum_max_workers = 179
Set autovacuum_naptime = 1700790
Set autovacuum_vacuum_cost_delay = 45
Set autovacuum_vacuum_cost_limit = 9006
Set autovacuum_vacuum_scale_factor = 1.0380317822604845
Set autovacuum_vacuum_threshold = 1557189689
Set backend_flush_after = 208
Set bgwriter_delay = 1791
Set bgwriter_flush_after = 40
Set bgwriter_lru_maxpages = 923
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.4833039381450369
Set checkpoint_flush_after = 195
Set checkpoint_timeout = 534
Set commit_delay = 73274
Set commit_siblings = 922
Set cursor_tuple_fraction = 0.40530604665699443
Set deadlock_timeout = 1310513155
Set default_statistics_target = 7028
Set effective_cache_size = 205537160
Set effective_io_concurrency = 127
Set from_collapse_limit = 1780573379
Set geqo_effort = 7
Set geqo_generations = 1258768982
Set geqo_pool_size = 826036678
Set geqo_seed = 0.045126432226604285
Set geqo_threshold = 2084176266
Set join_collapse_limit = 476082478
Set maintenance_work_mem = 518806707
Set max_connections = 1407
Set max_wal_senders = 31
Set shared_buffers = 384772
Set temp_buffers = 648255581
Set temp_file_limit = 665418263
Set vacuum_cost_delay = 93
Set vacuum_cost_limit = 9566
Set vacuum_cost_page_dirty = 6279
Set vacuum_cost_page_hit = 2426
Set vacuum_cost_page_miss = 4265
Set wal_buffers = 34565
Set wal_writer_delay = 5649
Set work_mem = 7779899
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-24-24.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-24-24.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-24-24.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-24-24.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763709800.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-24-24.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-24-24.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-24-24.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-24-24.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-24-24.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-24-24.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-24-24.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-24-24.results.AddWatchList.csv
Parsed throughput from summary.json: 4672.794697345745
BenchBase wikipedia throughput: 4672.794697345745
Configuration: {'autovacuum_analyze_scale_factor': 39.91875569571375, 'autovacuum_analyze_threshold': 1304666740, 'autovacuum_max_workers': 179, 'autovacuum_naptime': 1700790, 'autovacuum_vacuum_cost_delay': 45, 'autovacuum_vacuum_cost_limit': 9006, 'autovacuum_vacuum_scale_factor': 1.0380317822604845, 'autovacuum_vacuum_threshold': 1557189689, 'backend_flush_after': 208, 'bgwriter_delay': 1791, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 923, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.4833039381450369, 'checkpoint_flush_after': 195, 'checkpoint_timeout': 534, 'commit_delay': 73274, 'commit_siblings': 922, 'cursor_tuple_fraction': 0.40530604665699443, 'deadlock_timeout': 1310513155, 'default_statistics_target': 7028, 'effective_cache_size': 205537160, 'effective_io_concurrency': 127, 'from_collapse_limit': 1780573379, 'geqo_effort': 7, 'geqo_generations': 1258768982, 'geqo_pool_size': 826036678, 'geqo_seed': 0.045126432226604285, 'geqo_threshold': 2084176266, 'join_collapse_limit': 476082478, 'maintenance_work_mem': 518806707, 'max_connections': 1407, 'max_wal_senders': 31, 'shared_buffers': 384772, 'temp_buffers': 648255581, 'temp_file_limit': 665418263, 'vacuum_cost_delay': 93, 'vacuum_cost_limit': 9566, 'vacuum_cost_page_dirty': 6279, 'vacuum_cost_page_hit': 2426, 'vacuum_cost_page_miss': 4265, 'wal_buffers': 34565, 'wal_writer_delay': 5649, 'work_mem': 7779899}, QPS: -4672.794697345745
Performance (QPS): -4672.794697345745
Evaluating configuration: {'autovacuum_analyze_scale_factor': 16.10755732455369, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 3242, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1741905151, 'backend_flush_after': 256, 'bgwriter_delay': 8955, 'bgwriter_flush_after': 52, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 578, 'commit_delay': 94224, 'commit_siblings': 503, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1243365504, 'default_statistics_target': 5205, 'effective_cache_size': 137056240, 'effective_io_concurrency': 661, 'from_collapse_limit': 1626189952, 'geqo_effort': 2, 'geqo_generations': 1374571903, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.26419709524299545, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 983484331, 'max_connections': 361, 'max_wal_senders': 50, 'shared_buffers': 48561, 'temp_buffers': 604703044, 'temp_file_limit': 870637951, 'vacuum_cost_delay': 41, 'vacuum_cost_limit': 9212, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7385, 'vacuum_cost_page_miss': 7251, 'wal_buffers': 55182, 'wal_writer_delay': 2847, 'work_mem': 1534068370}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 16.10755732455369
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 183
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 96
Set autovacuum_vacuum_cost_limit = 3242
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1741905151
Set backend_flush_after = 256
Set bgwriter_delay = 8955
Set bgwriter_flush_after = 52
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 578
Set commit_delay = 94224
Set commit_siblings = 503
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1243365504
Set default_statistics_target = 5205
Set effective_cache_size = 137056240
Set effective_io_concurrency = 661
Set from_collapse_limit = 1626189952
Set geqo_effort = 2
Set geqo_generations = 1374571903
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.26419709524299545
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 983484331
Set max_connections = 361
Set max_wal_senders = 50
Set shared_buffers = 48561
Set temp_buffers = 604703044
Set temp_file_limit = 870637951
Set vacuum_cost_delay = 41
Set vacuum_cost_limit = 9212
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7385
Set vacuum_cost_page_miss = 7251
Set wal_buffers = 55182
Set wal_writer_delay = 2847
Set work_mem = 1534068370
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763709899.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-26-03.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-26-03.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-26-03.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-26-03.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-26-03.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-26-03.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-26-03.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-26-03.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-26-03.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-26-03.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-26-03.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-26-03.raw.csv
Parsed throughput from summary.json: 4875.976939960862
BenchBase wikipedia throughput: 4875.976939960862
Configuration: {'autovacuum_analyze_scale_factor': 16.10755732455369, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 3242, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1741905151, 'backend_flush_after': 256, 'bgwriter_delay': 8955, 'bgwriter_flush_after': 52, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 578, 'commit_delay': 94224, 'commit_siblings': 503, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1243365504, 'default_statistics_target': 5205, 'effective_cache_size': 137056240, 'effective_io_concurrency': 661, 'from_collapse_limit': 1626189952, 'geqo_effort': 2, 'geqo_generations': 1374571903, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.26419709524299545, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 983484331, 'max_connections': 361, 'max_wal_senders': 50, 'shared_buffers': 48561, 'temp_buffers': 604703044, 'temp_file_limit': 870637951, 'vacuum_cost_delay': 41, 'vacuum_cost_limit': 9212, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7385, 'vacuum_cost_page_miss': 7251, 'wal_buffers': 55182, 'wal_writer_delay': 2847, 'work_mem': 1534068370}, QPS: -4875.976939960862
Performance (QPS): -4875.976939960862
Evaluating configuration: {'autovacuum_analyze_scale_factor': 34.96182733955167, 'autovacuum_analyze_threshold': 1339451263, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1547493, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3958, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8936, 'bgwriter_flush_after': 45, 'bgwriter_lru_maxpages': 625, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.4183033489875587, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.029085079690733512, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 132563528, 'effective_io_concurrency': 661, 'from_collapse_limit': 1369734528, 'geqo_effort': 1, 'geqo_generations': 1356673535, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.23198107931557124, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 36, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7238, 'vacuum_cost_page_miss': 7577, 'wal_buffers': 51814, 'wal_writer_delay': 3111, 'work_mem': 1524517138}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 34.96182733955167
Set autovacuum_analyze_threshold = 1339451263
Set autovacuum_max_workers = 183
Set autovacuum_naptime = 1547493
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3958
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 8936
Set bgwriter_flush_after = 45
Set bgwriter_lru_maxpages = 625
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.4183033489875587
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.029085079690733512
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 132563528
Set effective_io_concurrency = 661
Set from_collapse_limit = 1369734528
Set geqo_effort = 1
Set geqo_generations = 1356673535
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.23198107931557124
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 36
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7238
Set vacuum_cost_page_miss = 7577
Set wal_buffers = 51814
Set wal_writer_delay = 3111
Set work_mem = 1524517138
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-27-41.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-27-41.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763709997.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-27-41.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-27-41.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-27-41.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-27-41.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-27-41.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-27-41.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-27-41.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-27-41.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-27-41.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-27-41.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 4858.80757646781
BenchBase wikipedia throughput: 4858.80757646781
Configuration: {'autovacuum_analyze_scale_factor': 34.96182733955167, 'autovacuum_analyze_threshold': 1339451263, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1547493, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3958, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8936, 'bgwriter_flush_after': 45, 'bgwriter_lru_maxpages': 625, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.4183033489875587, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.029085079690733512, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 132563528, 'effective_io_concurrency': 661, 'from_collapse_limit': 1369734528, 'geqo_effort': 1, 'geqo_generations': 1356673535, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.23198107931557124, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 36, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7238, 'vacuum_cost_page_miss': 7577, 'wal_buffers': 51814, 'wal_writer_delay': 3111, 'work_mem': 1524517138}, QPS: -4858.80757646781
Performance (QPS): -4858.80757646781
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3289, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 246, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 33, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 547, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279662464, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1560229248, 'geqo_effort': 6, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 134579761, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1232265524, 'max_connections': 363, 'max_wal_senders': 30, 'shared_buffers': 210943, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 8370, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3289
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 246
Set bgwriter_delay = 8956
Set bgwriter_flush_after = 33
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 547
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279662464
Set default_statistics_target = 5205
Set effective_cache_size = 581970432
Set effective_io_concurrency = 661
Set from_collapse_limit = 1560229248
Set geqo_effort = 6
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 134579761
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1232265524
Set max_connections = 363
Set max_wal_senders = 30
Set shared_buffers = 210943
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 8370
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-29-18.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-29-18.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-29-18.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-29-18.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-29-18.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-29-18.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-29-18.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763710095.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-29-18.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-29-18.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-29-18.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-29-18.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-29-18.config.xml
Parsed throughput from summary.json: 4905.874066371767
BenchBase wikipedia throughput: 4905.874066371767
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3289, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 246, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 33, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 547, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279662464, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1560229248, 'geqo_effort': 6, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 134579761, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1232265524, 'max_connections': 363, 'max_wal_senders': 30, 'shared_buffers': 210943, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 8370, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4905.874066371767
Performance (QPS): -4905.874066371767
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 186, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 3741, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 537, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3460117414122156, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1327628416, 'default_statistics_target': 5205, 'effective_cache_size': 615111168, 'effective_io_concurrency': 661, 'from_collapse_limit': 1308413440, 'geqo_effort': 4, 'geqo_generations': 1388045823, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.13157856312458296, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1213249725, 'max_connections': 376, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 985, 'vacuum_cost_page_hit': 8555, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2819, 'work_mem': 1556362513}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 186
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 96
Set autovacuum_vacuum_cost_limit = 3741
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 537
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3460117414122156
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1327628416
Set default_statistics_target = 5205
Set effective_cache_size = 615111168
Set effective_io_concurrency = 661
Set from_collapse_limit = 1308413440
Set geqo_effort = 4
Set geqo_generations = 1388045823
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.13157856312458296
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1213249725
Set max_connections = 376
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 985
Set vacuum_cost_page_hit = 8555
Set vacuum_cost_page_miss = 7525
Set wal_buffers = 67834
Set wal_writer_delay = 2819
Set work_mem = 1556362513
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-30-57.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-30-57.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-30-57.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-30-57.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-30-57.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-30-57.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-30-57.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-30-57.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-30-57.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-30-57.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-30-57.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763710194.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-30-57.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 4926.9310924896945
BenchBase wikipedia throughput: 4926.9310924896945
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 186, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 3741, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 537, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3460117414122156, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1327628416, 'default_statistics_target': 5205, 'effective_cache_size': 615111168, 'effective_io_concurrency': 661, 'from_collapse_limit': 1308413440, 'geqo_effort': 4, 'geqo_generations': 1388045823, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.13157856312458296, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1213249725, 'max_connections': 376, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 985, 'vacuum_cost_page_hit': 8555, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2819, 'work_mem': 1556362513}, QPS: -4926.9310924896945
Performance (QPS): -4926.9310924896945
Evaluating configuration: {'autovacuum_analyze_scale_factor': 43.84910829023807, 'autovacuum_analyze_threshold': 1691904156, 'autovacuum_max_workers': 57, 'autovacuum_naptime': 763035, 'autovacuum_vacuum_cost_delay': 24, 'autovacuum_vacuum_cost_limit': 7157, 'autovacuum_vacuum_scale_factor': 76.00331572053067, 'autovacuum_vacuum_threshold': 1385357932, 'backend_flush_after': 24, 'bgwriter_delay': 6054, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 607, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.3940987664444102, 'checkpoint_flush_after': 1, 'checkpoint_timeout': 3191, 'commit_delay': 83199, 'commit_siblings': 786, 'cursor_tuple_fraction': 0.13435725931117348, 'deadlock_timeout': 1498231021, 'default_statistics_target': 7776, 'effective_cache_size': 1515018712, 'effective_io_concurrency': 60, 'from_collapse_limit': 923193808, 'geqo_effort': 10, 'geqo_generations': 812539523, 'geqo_pool_size': 1109916183, 'geqo_seed': 0.5948360345701476, 'geqo_threshold': 3921152, 'join_collapse_limit': 1351120643, 'maintenance_work_mem': 185876577, 'max_connections': 2901, 'max_wal_senders': 17, 'shared_buffers': 923527, 'temp_buffers': 362532759, 'temp_file_limit': 1626972803, 'vacuum_cost_delay': 24, 'vacuum_cost_limit': 2863, 'vacuum_cost_page_dirty': 72, 'vacuum_cost_page_hit': 3450, 'vacuum_cost_page_miss': 8615, 'wal_buffers': 90720, 'wal_writer_delay': 1524, 'work_mem': 956203116}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 43.84910829023807
Set autovacuum_analyze_threshold = 1691904156
Set autovacuum_max_workers = 57
Set autovacuum_naptime = 763035
Set autovacuum_vacuum_cost_delay = 24
Set autovacuum_vacuum_cost_limit = 7157
Set autovacuum_vacuum_scale_factor = 76.00331572053067
Set autovacuum_vacuum_threshold = 1385357932
Set backend_flush_after = 24
Set bgwriter_delay = 6054
Set bgwriter_flush_after = 26
Set bgwriter_lru_maxpages = 607
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.3940987664444102
Set checkpoint_flush_after = 1
Set checkpoint_timeout = 3191
Set commit_delay = 83199
Set commit_siblings = 786
Set cursor_tuple_fraction = 0.13435725931117348
Set deadlock_timeout = 1498231021
Set default_statistics_target = 7776
Set effective_cache_size = 1515018712
Set effective_io_concurrency = 60
Set from_collapse_limit = 923193808
Set geqo_effort = 10
Set geqo_generations = 812539523
Set geqo_pool_size = 1109916183
Set geqo_seed = 0.5948360345701476
Set geqo_threshold = 3921152
Set join_collapse_limit = 1351120643
Set maintenance_work_mem = 185876577
Set max_connections = 2901
Set max_wal_senders = 17
Set shared_buffers = 923527
Set temp_buffers = 362532759
Set temp_file_limit = 1626972803
Set vacuum_cost_delay = 24
Set vacuum_cost_limit = 2863
Set vacuum_cost_page_dirty = 72
Set vacuum_cost_page_hit = 3450
Set vacuum_cost_page_miss = 8615
Set wal_buffers = 90720
Set wal_writer_delay = 1524
Set work_mem = 956203116
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-32-30.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-32-30.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-32-30.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-32-30.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-32-30.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-32-30.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-32-30.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-32-30.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-32-30.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-32-30.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763710287.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-32-30.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-32-30.results.RemoveWatchList.csv
Error parsing summary.json: [Errno 2] No such file or directory: '/home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json'
BenchBase wikipedia throughput: 0.0
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1374390271, 'autovacuum_max_workers': 185, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 3998, 'autovacuum_vacuum_scale_factor': 10.830343755865258, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 18, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.2942172686171284, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06483927054266136, 'deadlock_timeout': 1317224320, 'default_statistics_target': 5062, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1343931136, 'geqo_effort': 4, 'geqo_generations': 1421929471, 'geqo_pool_size': 1867505407, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 9936980, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 47, 'shared_buffers': 207486, 'temp_buffers': 636091176, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 8900, 'vacuum_cost_page_miss': 7648, 'wal_buffers': 69864, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1374390271
Set autovacuum_max_workers = 185
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 87
Set autovacuum_vacuum_cost_limit = 3998
Set autovacuum_vacuum_scale_factor = 10.830343755865258
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 18
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.2942172686171284
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06483927054266136
Set deadlock_timeout = 1317224320
Set default_statistics_target = 5062
Set effective_cache_size = 390597560
Set effective_io_concurrency = 661
Set from_collapse_limit = 1343931136
Set geqo_effort = 4
Set geqo_generations = 1421929471
Set geqo_pool_size = 1867505407
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 9936980
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 47
Set shared_buffers = 207486
Set temp_buffers = 636091176
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 8900
Set vacuum_cost_page_miss = 7648
Set wal_buffers = 69864
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-34-09.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-34-09.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-34-09.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-34-09.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-34-09.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-34-09.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-34-09.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763710386.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-34-09.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-34-09.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-34-09.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-34-09.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-34-09.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 4885.382238943703
BenchBase wikipedia throughput: 4885.382238943703
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1374390271, 'autovacuum_max_workers': 185, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 3998, 'autovacuum_vacuum_scale_factor': 10.830343755865258, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 18, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.2942172686171284, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06483927054266136, 'deadlock_timeout': 1317224320, 'default_statistics_target': 5062, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1343931136, 'geqo_effort': 4, 'geqo_generations': 1421929471, 'geqo_pool_size': 1867505407, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 9936980, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 47, 'shared_buffers': 207486, 'temp_buffers': 636091176, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 8900, 'vacuum_cost_page_miss': 7648, 'wal_buffers': 69864, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4885.382238943703
Performance (QPS): -4885.382238943703
Evaluating configuration: {'autovacuum_analyze_scale_factor': 50.42032637844402, 'autovacuum_analyze_threshold': 1727730184, 'autovacuum_max_workers': 166, 'autovacuum_naptime': 229054, 'autovacuum_vacuum_cost_delay': 0, 'autovacuum_vacuum_cost_limit': 2520, 'autovacuum_vacuum_scale_factor': 11.46538456211813, 'autovacuum_vacuum_threshold': 942793128, 'backend_flush_after': 73, 'bgwriter_delay': 3032, 'bgwriter_flush_after': 50, 'bgwriter_lru_maxpages': 213, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.5263043450076592, 'checkpoint_flush_after': 131, 'checkpoint_timeout': 1785, 'commit_delay': 79606, 'commit_siblings': 918, 'cursor_tuple_fraction': 0.5093035053575573, 'deadlock_timeout': 636164556, 'default_statistics_target': 3286, 'effective_cache_size': 484167839, 'effective_io_concurrency': 466, 'from_collapse_limit': 2060278755, 'geqo_effort': 5, 'geqo_generations': 1485072061, 'geqo_pool_size': 1174918521, 'geqo_seed': 0.9034779218538405, 'geqo_threshold': 321364957, 'join_collapse_limit': 1467829328, 'maintenance_work_mem': 1098746931, 'max_connections': 2087, 'max_wal_senders': 29, 'shared_buffers': 449296, 'temp_buffers': 581282644, 'temp_file_limit': 723334706, 'vacuum_cost_delay': 85, 'vacuum_cost_limit': 4051, 'vacuum_cost_page_dirty': 7732, 'vacuum_cost_page_hit': 8623, 'vacuum_cost_page_miss': 9531, 'wal_buffers': 110629, 'wal_writer_delay': 8860, 'work_mem': 161196340}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 50.42032637844402
Set autovacuum_analyze_threshold = 1727730184
Set autovacuum_max_workers = 166
Set autovacuum_naptime = 229054
Set autovacuum_vacuum_cost_delay = 0
Set autovacuum_vacuum_cost_limit = 2520
Set autovacuum_vacuum_scale_factor = 11.46538456211813
Set autovacuum_vacuum_threshold = 942793128
Set backend_flush_after = 73
Set bgwriter_delay = 3032
Set bgwriter_flush_after = 50
Set bgwriter_lru_maxpages = 213
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.5263043450076592
Set checkpoint_flush_after = 131
Set checkpoint_timeout = 1785
Set commit_delay = 79606
Set commit_siblings = 918
Set cursor_tuple_fraction = 0.5093035053575573
Set deadlock_timeout = 636164556
Set default_statistics_target = 3286
Set effective_cache_size = 484167839
Set effective_io_concurrency = 466
Set from_collapse_limit = 2060278755
Set geqo_effort = 5
Set geqo_generations = 1485072061
Set geqo_pool_size = 1174918521
Set geqo_seed = 0.9034779218538405
Set geqo_threshold = 321364957
Set join_collapse_limit = 1467829328
Set maintenance_work_mem = 1098746931
Set max_connections = 2087
Set max_wal_senders = 29
Set shared_buffers = 449296
Set temp_buffers = 581282644
Set temp_file_limit = 723334706
Set vacuum_cost_delay = 85
Set vacuum_cost_limit = 4051
Set vacuum_cost_page_dirty = 7732
Set vacuum_cost_page_hit = 8623
Set vacuum_cost_page_miss = 9531
Set wal_buffers = 110629
Set wal_writer_delay = 8860
Set work_mem = 161196340
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-35-43.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-35-43.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-35-43.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-35-43.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-35-43.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-35-43.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-35-43.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-35-43.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-35-43.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-35-43.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-35-43.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763710480.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-35-43.results.UpdatePage.csv
Parsed throughput from summary.json: 4811.055482261228
BenchBase wikipedia throughput: 4811.055482261228
Configuration: {'autovacuum_analyze_scale_factor': 50.42032637844402, 'autovacuum_analyze_threshold': 1727730184, 'autovacuum_max_workers': 166, 'autovacuum_naptime': 229054, 'autovacuum_vacuum_cost_delay': 0, 'autovacuum_vacuum_cost_limit': 2520, 'autovacuum_vacuum_scale_factor': 11.46538456211813, 'autovacuum_vacuum_threshold': 942793128, 'backend_flush_after': 73, 'bgwriter_delay': 3032, 'bgwriter_flush_after': 50, 'bgwriter_lru_maxpages': 213, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.5263043450076592, 'checkpoint_flush_after': 131, 'checkpoint_timeout': 1785, 'commit_delay': 79606, 'commit_siblings': 918, 'cursor_tuple_fraction': 0.5093035053575573, 'deadlock_timeout': 636164556, 'default_statistics_target': 3286, 'effective_cache_size': 484167839, 'effective_io_concurrency': 466, 'from_collapse_limit': 2060278755, 'geqo_effort': 5, 'geqo_generations': 1485072061, 'geqo_pool_size': 1174918521, 'geqo_seed': 0.9034779218538405, 'geqo_threshold': 321364957, 'join_collapse_limit': 1467829328, 'maintenance_work_mem': 1098746931, 'max_connections': 2087, 'max_wal_senders': 29, 'shared_buffers': 449296, 'temp_buffers': 581282644, 'temp_file_limit': 723334706, 'vacuum_cost_delay': 85, 'vacuum_cost_limit': 4051, 'vacuum_cost_page_dirty': 7732, 'vacuum_cost_page_hit': 8623, 'vacuum_cost_page_miss': 9531, 'wal_buffers': 110629, 'wal_writer_delay': 8860, 'work_mem': 161196340}, QPS: -4811.055482261228
Performance (QPS): -4811.055482261228
Evaluating configuration: {'autovacuum_analyze_scale_factor': 30.21596688656483, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 192, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 4283, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8858, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 643310720, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514357760, 'geqo_effort': 7, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 4889307, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 576, 'max_wal_senders': 50, 'shared_buffers': 435217, 'temp_buffers': 559505199, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 35, 'vacuum_cost_limit': 8902, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 8409, 'vacuum_cost_page_miss': 7497, 'wal_buffers': 70897, 'wal_writer_delay': 2640, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 30.21596688656483
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 192
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 4283
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 8858
Set bgwriter_flush_after = 36
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 505
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 643310720
Set effective_io_concurrency = 661
Set from_collapse_limit = 1514357760
Set geqo_effort = 7
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 4889307
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 576
Set max_wal_senders = 50
Set shared_buffers = 435217
Set temp_buffers = 559505199
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 35
Set vacuum_cost_limit = 8902
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 8409
Set vacuum_cost_page_miss = 7497
Set wal_buffers = 70897
Set wal_writer_delay = 2640
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-37-22.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-37-22.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-37-22.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-37-22.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-37-22.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-37-22.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-37-22.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-37-22.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-37-22.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763710578.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-37-22.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-37-22.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-37-22.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 4902.06742189024
BenchBase wikipedia throughput: 4902.06742189024
Configuration: {'autovacuum_analyze_scale_factor': 30.21596688656483, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 192, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 4283, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8858, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 643310720, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514357760, 'geqo_effort': 7, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 4889307, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 576, 'max_wal_senders': 50, 'shared_buffers': 435217, 'temp_buffers': 559505199, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 35, 'vacuum_cost_limit': 8902, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 8409, 'vacuum_cost_page_miss': 7497, 'wal_buffers': 70897, 'wal_writer_delay': 2640, 'work_mem': 1523757836}, QPS: -4902.06742189024
Performance (QPS): -4902.06742189024
Evaluating configuration: {'autovacuum_analyze_scale_factor': 34.96182733955167, 'autovacuum_analyze_threshold': 1209008255, 'autovacuum_max_workers': 189, 'autovacuum_naptime': 1547493, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 2224, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1727774975, 'backend_flush_after': 254, 'bgwriter_delay': 8936, 'bgwriter_flush_after': 17, 'bgwriter_lru_maxpages': 531, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.31645553607795196, 'checkpoint_flush_after': 201, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.029085079690733512, 'deadlock_timeout': 1249094272, 'default_statistics_target': 5205, 'effective_cache_size': 238727968, 'effective_io_concurrency': 661, 'from_collapse_limit': 1369734528, 'geqo_effort': 3, 'geqo_generations': 1356673535, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.23198107931557124, 'geqo_threshold': 4292473, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 377, 'max_wal_senders': 50, 'shared_buffers': 558984, 'temp_buffers': 604703044, 'temp_file_limit': 850728639, 'vacuum_cost_delay': 36, 'vacuum_cost_limit': 9424, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7238, 'vacuum_cost_page_miss': 8374, 'wal_buffers': 68692, 'wal_writer_delay': 3111, 'work_mem': 1676188174}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 34.96182733955167
Set autovacuum_analyze_threshold = 1209008255
Set autovacuum_max_workers = 189
Set autovacuum_naptime = 1547493
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 2224
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1727774975
Set backend_flush_after = 254
Set bgwriter_delay = 8936
Set bgwriter_flush_after = 17
Set bgwriter_lru_maxpages = 531
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.31645553607795196
Set checkpoint_flush_after = 201
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.029085079690733512
Set deadlock_timeout = 1249094272
Set default_statistics_target = 5205
Set effective_cache_size = 238727968
Set effective_io_concurrency = 661
Set from_collapse_limit = 1369734528
Set geqo_effort = 3
Set geqo_generations = 1356673535
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.23198107931557124
Set geqo_threshold = 4292473
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 377
Set max_wal_senders = 50
Set shared_buffers = 558984
Set temp_buffers = 604703044
Set temp_file_limit = 850728639
Set vacuum_cost_delay = 36
Set vacuum_cost_limit = 9424
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7238
Set vacuum_cost_page_miss = 8374
Set wal_buffers = 68692
Set wal_writer_delay = 3111
Set work_mem = 1676188174
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-39-01.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-39-01.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-39-01.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-39-01.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-39-01.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-39-01.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-39-01.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-39-01.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-39-01.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-39-01.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-39-01.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-39-01.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763710678.log
Parsed throughput from summary.json: 4672.8679033249655
BenchBase wikipedia throughput: 4672.8679033249655
Configuration: {'autovacuum_analyze_scale_factor': 34.96182733955167, 'autovacuum_analyze_threshold': 1209008255, 'autovacuum_max_workers': 189, 'autovacuum_naptime': 1547493, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 2224, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1727774975, 'backend_flush_after': 254, 'bgwriter_delay': 8936, 'bgwriter_flush_after': 17, 'bgwriter_lru_maxpages': 531, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.31645553607795196, 'checkpoint_flush_after': 201, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.029085079690733512, 'deadlock_timeout': 1249094272, 'default_statistics_target': 5205, 'effective_cache_size': 238727968, 'effective_io_concurrency': 661, 'from_collapse_limit': 1369734528, 'geqo_effort': 3, 'geqo_generations': 1356673535, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.23198107931557124, 'geqo_threshold': 4292473, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 377, 'max_wal_senders': 50, 'shared_buffers': 558984, 'temp_buffers': 604703044, 'temp_file_limit': 850728639, 'vacuum_cost_delay': 36, 'vacuum_cost_limit': 9424, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7238, 'vacuum_cost_page_miss': 8374, 'wal_buffers': 68692, 'wal_writer_delay': 3111, 'work_mem': 1676188174}, QPS: -4672.8679033249655
Performance (QPS): -4672.8679033249655
Evaluating configuration: {'autovacuum_analyze_scale_factor': 41.26356402277127, 'autovacuum_analyze_threshold': 1389517951, 'autovacuum_max_workers': 168, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 94, 'autovacuum_vacuum_cost_limit': 3998, 'autovacuum_vacuum_scale_factor': 10.830343755865258, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 255, 'bgwriter_delay': 9972, 'bgwriter_flush_after': 25, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.2770530010591728, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 513, 'cursor_tuple_fraction': 0.06483927054266136, 'deadlock_timeout': 1259960448, 'default_statistics_target': 5173, 'effective_cache_size': 531235552, 'effective_io_concurrency': 693, 'from_collapse_limit': 1343931136, 'geqo_effort': 4, 'geqo_generations': 1451403903, 'geqo_pool_size': 1867505407, 'geqo_seed': 0.13528830745723688, 'geqo_threshold': 2358889, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 383, 'max_wal_senders': 49, 'shared_buffers': 148874, 'temp_buffers': 636091176, 'temp_file_limit': 852713855, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 8900, 'vacuum_cost_page_miss': 7827, 'wal_buffers': 68149, 'wal_writer_delay': 3492, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 41.26356402277127
Set autovacuum_analyze_threshold = 1389517951
Set autovacuum_max_workers = 168
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 94
Set autovacuum_vacuum_cost_limit = 3998
Set autovacuum_vacuum_scale_factor = 10.830343755865258
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 255
Set bgwriter_delay = 9972
Set bgwriter_flush_after = 25
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.2770530010591728
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 513
Set cursor_tuple_fraction = 0.06483927054266136
Set deadlock_timeout = 1259960448
Set default_statistics_target = 5173
Set effective_cache_size = 531235552
Set effective_io_concurrency = 693
Set from_collapse_limit = 1343931136
Set geqo_effort = 4
Set geqo_generations = 1451403903
Set geqo_pool_size = 1867505407
Set geqo_seed = 0.13528830745723688
Set geqo_threshold = 2358889
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 383
Set max_wal_senders = 49
Set shared_buffers = 148874
Set temp_buffers = 636091176
Set temp_file_limit = 852713855
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 8900
Set vacuum_cost_page_miss = 7827
Set wal_buffers = 68149
Set wal_writer_delay = 3492
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763710777.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-40-41.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-40-41.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-40-41.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-40-41.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-40-41.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-40-41.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-40-41.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-40-41.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-40-41.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-40-41.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-40-41.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-40-41.raw.csv
Parsed throughput from summary.json: 4644.512967992291
BenchBase wikipedia throughput: 4644.512967992291
Configuration: {'autovacuum_analyze_scale_factor': 41.26356402277127, 'autovacuum_analyze_threshold': 1389517951, 'autovacuum_max_workers': 168, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 94, 'autovacuum_vacuum_cost_limit': 3998, 'autovacuum_vacuum_scale_factor': 10.830343755865258, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 255, 'bgwriter_delay': 9972, 'bgwriter_flush_after': 25, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.2770530010591728, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 513, 'cursor_tuple_fraction': 0.06483927054266136, 'deadlock_timeout': 1259960448, 'default_statistics_target': 5173, 'effective_cache_size': 531235552, 'effective_io_concurrency': 693, 'from_collapse_limit': 1343931136, 'geqo_effort': 4, 'geqo_generations': 1451403903, 'geqo_pool_size': 1867505407, 'geqo_seed': 0.13528830745723688, 'geqo_threshold': 2358889, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 383, 'max_wal_senders': 49, 'shared_buffers': 148874, 'temp_buffers': 636091176, 'temp_file_limit': 852713855, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 8900, 'vacuum_cost_page_miss': 7827, 'wal_buffers': 68149, 'wal_writer_delay': 3492, 'work_mem': 1523757836}, QPS: -4644.512967992291
Performance (QPS): -4644.512967992291
Evaluating configuration: {'autovacuum_analyze_scale_factor': 66.00405063456044, 'autovacuum_analyze_threshold': 826223636, 'autovacuum_max_workers': 184, 'autovacuum_naptime': 2090798, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 7826, 'autovacuum_vacuum_scale_factor': 32.439319224742036, 'autovacuum_vacuum_threshold': 1623938560, 'backend_flush_after': 231, 'bgwriter_delay': 4306, 'bgwriter_flush_after': 104, 'bgwriter_lru_maxpages': 176, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.41174852606609447, 'checkpoint_flush_after': 6, 'checkpoint_timeout': 240, 'commit_delay': 17303, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.8653116239175564, 'deadlock_timeout': 1376792271, 'default_statistics_target': 1062, 'effective_cache_size': 1969220232, 'effective_io_concurrency': 673, 'from_collapse_limit': 628160908, 'geqo_effort': 9, 'geqo_generations': 779364928, 'geqo_pool_size': 2134992340, 'geqo_seed': 0.16065387431803724, 'geqo_threshold': 1303015380, 'join_collapse_limit': 1168944512, 'maintenance_work_mem': 2080891935, 'max_connections': 432, 'max_wal_senders': 8, 'shared_buffers': 200660, 'temp_buffers': 790332199, 'temp_file_limit': 1276796132, 'vacuum_cost_delay': 8, 'vacuum_cost_limit': 2731, 'vacuum_cost_page_dirty': 9541, 'vacuum_cost_page_hit': 9050, 'vacuum_cost_page_miss': 2090, 'wal_buffers': 95474, 'wal_writer_delay': 5018, 'work_mem': 872207718}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 66.00405063456044
Set autovacuum_analyze_threshold = 826223636
Set autovacuum_max_workers = 184
Set autovacuum_naptime = 2090798
Set autovacuum_vacuum_cost_delay = 80
Set autovacuum_vacuum_cost_limit = 7826
Set autovacuum_vacuum_scale_factor = 32.439319224742036
Set autovacuum_vacuum_threshold = 1623938560
Set backend_flush_after = 231
Set bgwriter_delay = 4306
Set bgwriter_flush_after = 104
Set bgwriter_lru_maxpages = 176
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.41174852606609447
Set checkpoint_flush_after = 6
Set checkpoint_timeout = 240
Set commit_delay = 17303
Set commit_siblings = 665
Set cursor_tuple_fraction = 0.8653116239175564
Set deadlock_timeout = 1376792271
Set default_statistics_target = 1062
Set effective_cache_size = 1969220232
Set effective_io_concurrency = 673
Set from_collapse_limit = 628160908
Set geqo_effort = 9
Set geqo_generations = 779364928
Set geqo_pool_size = 2134992340
Set geqo_seed = 0.16065387431803724
Set geqo_threshold = 1303015380
Set join_collapse_limit = 1168944512
Set maintenance_work_mem = 2080891935
Set max_connections = 432
Set max_wal_senders = 8
Set shared_buffers = 200660
Set temp_buffers = 790332199
Set temp_file_limit = 1276796132
Set vacuum_cost_delay = 8
Set vacuum_cost_limit = 2731
Set vacuum_cost_page_dirty = 9541
Set vacuum_cost_page_hit = 9050
Set vacuum_cost_page_miss = 2090
Set wal_buffers = 95474
Set wal_writer_delay = 5018
Set work_mem = 872207718
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-42-20.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763710877.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-42-20.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-42-20.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-42-20.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-42-20.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-42-20.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-42-20.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-42-20.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-42-20.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-42-20.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-42-20.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-42-20.results.AddWatchList.csv
Parsed throughput from summary.json: 4894.3520072837555
BenchBase wikipedia throughput: 4894.3520072837555
Configuration: {'autovacuum_analyze_scale_factor': 66.00405063456044, 'autovacuum_analyze_threshold': 826223636, 'autovacuum_max_workers': 184, 'autovacuum_naptime': 2090798, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 7826, 'autovacuum_vacuum_scale_factor': 32.439319224742036, 'autovacuum_vacuum_threshold': 1623938560, 'backend_flush_after': 231, 'bgwriter_delay': 4306, 'bgwriter_flush_after': 104, 'bgwriter_lru_maxpages': 176, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.41174852606609447, 'checkpoint_flush_after': 6, 'checkpoint_timeout': 240, 'commit_delay': 17303, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.8653116239175564, 'deadlock_timeout': 1376792271, 'default_statistics_target': 1062, 'effective_cache_size': 1969220232, 'effective_io_concurrency': 673, 'from_collapse_limit': 628160908, 'geqo_effort': 9, 'geqo_generations': 779364928, 'geqo_pool_size': 2134992340, 'geqo_seed': 0.16065387431803724, 'geqo_threshold': 1303015380, 'join_collapse_limit': 1168944512, 'maintenance_work_mem': 2080891935, 'max_connections': 432, 'max_wal_senders': 8, 'shared_buffers': 200660, 'temp_buffers': 790332199, 'temp_file_limit': 1276796132, 'vacuum_cost_delay': 8, 'vacuum_cost_limit': 2731, 'vacuum_cost_page_dirty': 9541, 'vacuum_cost_page_hit': 9050, 'vacuum_cost_page_miss': 2090, 'wal_buffers': 95474, 'wal_writer_delay': 5018, 'work_mem': 872207718}, QPS: -4894.3520072837555
Performance (QPS): -4894.3520072837555
Evaluating configuration: {'autovacuum_analyze_scale_factor': 66.00405063456044, 'autovacuum_analyze_threshold': 826223636, 'autovacuum_max_workers': 162, 'autovacuum_naptime': 2090798, 'autovacuum_vacuum_cost_delay': 84, 'autovacuum_vacuum_cost_limit': 7826, 'autovacuum_vacuum_scale_factor': 32.439319224742036, 'autovacuum_vacuum_threshold': 1623938560, 'backend_flush_after': 231, 'bgwriter_delay': 4306, 'bgwriter_flush_after': 104, 'bgwriter_lru_maxpages': 194, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.41174852606609447, 'checkpoint_flush_after': 16, 'checkpoint_timeout': 240, 'commit_delay': 17303, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.8653116239175564, 'deadlock_timeout': 1376792271, 'default_statistics_target': 1062, 'effective_cache_size': 1969220232, 'effective_io_concurrency': 673, 'from_collapse_limit': 584562752, 'geqo_effort': 9, 'geqo_generations': 949709440, 'geqo_pool_size': 2134992340, 'geqo_seed': 0.16065387431803724, 'geqo_threshold': 1175414144, 'join_collapse_limit': 1138902400, 'maintenance_work_mem': 1976962129, 'max_connections': 369, 'max_wal_senders': 9, 'shared_buffers': 200660, 'temp_buffers': 922425870, 'temp_file_limit': 1276796132, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 2837, 'vacuum_cost_page_dirty': 9541, 'vacuum_cost_page_hit': 9050, 'vacuum_cost_page_miss': 2090, 'wal_buffers': 95474, 'wal_writer_delay': 5018, 'work_mem': 872207718}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 66.00405063456044
Set autovacuum_analyze_threshold = 826223636
Set autovacuum_max_workers = 162
Set autovacuum_naptime = 2090798
Set autovacuum_vacuum_cost_delay = 84
Set autovacuum_vacuum_cost_limit = 7826
Set autovacuum_vacuum_scale_factor = 32.439319224742036
Set autovacuum_vacuum_threshold = 1623938560
Set backend_flush_after = 231
Set bgwriter_delay = 4306
Set bgwriter_flush_after = 104
Set bgwriter_lru_maxpages = 194
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.41174852606609447
Set checkpoint_flush_after = 16
Set checkpoint_timeout = 240
Set commit_delay = 17303
Set commit_siblings = 665
Set cursor_tuple_fraction = 0.8653116239175564
Set deadlock_timeout = 1376792271
Set default_statistics_target = 1062
Set effective_cache_size = 1969220232
Set effective_io_concurrency = 673
Set from_collapse_limit = 584562752
Set geqo_effort = 9
Set geqo_generations = 949709440
Set geqo_pool_size = 2134992340
Set geqo_seed = 0.16065387431803724
Set geqo_threshold = 1175414144
Set join_collapse_limit = 1138902400
Set maintenance_work_mem = 1976962129
Set max_connections = 369
Set max_wal_senders = 9
Set shared_buffers = 200660
Set temp_buffers = 922425870
Set temp_file_limit = 1276796132
Set vacuum_cost_delay = 21
Set vacuum_cost_limit = 2837
Set vacuum_cost_page_dirty = 9541
Set vacuum_cost_page_hit = 9050
Set vacuum_cost_page_miss = 2090
Set wal_buffers = 95474
Set wal_writer_delay = 5018
Set work_mem = 872207718
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-43-58.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-43-58.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-43-58.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-43-58.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763710976.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-43-58.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-43-58.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-43-58.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-43-58.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-43-58.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-43-58.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-43-58.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-43-58.results.AddWatchList.csv
Parsed throughput from summary.json: 4601.028966343373
BenchBase wikipedia throughput: 4601.028966343373
Configuration: {'autovacuum_analyze_scale_factor': 66.00405063456044, 'autovacuum_analyze_threshold': 826223636, 'autovacuum_max_workers': 162, 'autovacuum_naptime': 2090798, 'autovacuum_vacuum_cost_delay': 84, 'autovacuum_vacuum_cost_limit': 7826, 'autovacuum_vacuum_scale_factor': 32.439319224742036, 'autovacuum_vacuum_threshold': 1623938560, 'backend_flush_after': 231, 'bgwriter_delay': 4306, 'bgwriter_flush_after': 104, 'bgwriter_lru_maxpages': 194, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.41174852606609447, 'checkpoint_flush_after': 16, 'checkpoint_timeout': 240, 'commit_delay': 17303, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.8653116239175564, 'deadlock_timeout': 1376792271, 'default_statistics_target': 1062, 'effective_cache_size': 1969220232, 'effective_io_concurrency': 673, 'from_collapse_limit': 584562752, 'geqo_effort': 9, 'geqo_generations': 949709440, 'geqo_pool_size': 2134992340, 'geqo_seed': 0.16065387431803724, 'geqo_threshold': 1175414144, 'join_collapse_limit': 1138902400, 'maintenance_work_mem': 1976962129, 'max_connections': 369, 'max_wal_senders': 9, 'shared_buffers': 200660, 'temp_buffers': 922425870, 'temp_file_limit': 1276796132, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 2837, 'vacuum_cost_page_dirty': 9541, 'vacuum_cost_page_hit': 9050, 'vacuum_cost_page_miss': 2090, 'wal_buffers': 95474, 'wal_writer_delay': 5018, 'work_mem': 872207718}, QPS: -4601.028966343373
Performance (QPS): -4601.028966343373
Evaluating configuration: {'autovacuum_analyze_scale_factor': 37.11090379422824, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 180, 'autovacuum_naptime': 1577731, 'autovacuum_vacuum_cost_delay': 95, 'autovacuum_vacuum_cost_limit': 3286, 'autovacuum_vacuum_scale_factor': 16.9252751185683, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 7690, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 662, 'commit_delay': 94224, 'commit_siblings': 571, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5178, 'effective_cache_size': 505478848, 'effective_io_concurrency': 661, 'from_collapse_limit': 1603775744, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.17298733915482603, 'geqo_threshold': 918213, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1018748506, 'max_connections': 363, 'max_wal_senders': 44, 'shared_buffers': 207644, 'temp_buffers': 599817324, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 804, 'vacuum_cost_page_hit': 7973, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1581576464}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 37.11090379422824
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 180
Set autovacuum_naptime = 1577731
Set autovacuum_vacuum_cost_delay = 95
Set autovacuum_vacuum_cost_limit = 3286
Set autovacuum_vacuum_scale_factor = 16.9252751185683
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 7690
Set bgwriter_flush_after = 36
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 165
Set checkpoint_timeout = 662
Set commit_delay = 94224
Set commit_siblings = 571
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5178
Set effective_cache_size = 505478848
Set effective_io_concurrency = 661
Set from_collapse_limit = 1603775744
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.17298733915482603
Set geqo_threshold = 918213
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1018748506
Set max_connections = 363
Set max_wal_senders = 44
Set shared_buffers = 207644
Set temp_buffers = 599817324
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 804
Set vacuum_cost_page_hit = 7973
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1581576464
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-45-38.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-45-38.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-45-38.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-45-38.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-45-38.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-45-38.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-45-38.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-45-38.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-45-38.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-45-38.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-45-38.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-45-38.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763711074.log
Parsed throughput from summary.json: 4710.724215874132
BenchBase wikipedia throughput: 4710.724215874132
Configuration: {'autovacuum_analyze_scale_factor': 37.11090379422824, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 180, 'autovacuum_naptime': 1577731, 'autovacuum_vacuum_cost_delay': 95, 'autovacuum_vacuum_cost_limit': 3286, 'autovacuum_vacuum_scale_factor': 16.9252751185683, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 7690, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 662, 'commit_delay': 94224, 'commit_siblings': 571, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5178, 'effective_cache_size': 505478848, 'effective_io_concurrency': 661, 'from_collapse_limit': 1603775744, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.17298733915482603, 'geqo_threshold': 918213, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1018748506, 'max_connections': 363, 'max_wal_senders': 44, 'shared_buffers': 207644, 'temp_buffers': 599817324, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 804, 'vacuum_cost_page_hit': 7973, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1581576464}, QPS: -4710.724215874132
Performance (QPS): -4710.724215874132
Evaluating configuration: {'autovacuum_analyze_scale_factor': 5.575269335627399, 'autovacuum_analyze_threshold': 329479200, 'autovacuum_max_workers': 97, 'autovacuum_naptime': 1186885, 'autovacuum_vacuum_cost_delay': 44, 'autovacuum_vacuum_cost_limit': 9374, 'autovacuum_vacuum_scale_factor': 25.371066350384464, 'autovacuum_vacuum_threshold': 601613925, 'backend_flush_after': 51, 'bgwriter_delay': 8536, 'bgwriter_flush_after': 68, 'bgwriter_lru_maxpages': 842, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.3643291221247112, 'checkpoint_flush_after': 5, 'checkpoint_timeout': 286, 'commit_delay': 13139, 'commit_siblings': 806, 'cursor_tuple_fraction': 0.03223432933899384, 'deadlock_timeout': 1581410177, 'default_statistics_target': 1308, 'effective_cache_size': 1648409870, 'effective_io_concurrency': 786, 'from_collapse_limit': 1074869760, 'geqo_effort': 4, 'geqo_generations': 1801820877, 'geqo_pool_size': 1305481706, 'geqo_seed': 0.8317215114392322, 'geqo_threshold': 1591930460, 'join_collapse_limit': 435266400, 'maintenance_work_mem': 622512084, 'max_connections': 1746, 'max_wal_senders': 0, 'shared_buffers': 3183067, 'temp_buffers': 821071520, 'temp_file_limit': 1969256070, 'vacuum_cost_delay': 30, 'vacuum_cost_limit': 1454, 'vacuum_cost_page_dirty': 7668, 'vacuum_cost_page_hit': 8618, 'vacuum_cost_page_miss': 7600, 'wal_buffers': 46238, 'wal_writer_delay': 2764, 'work_mem': 1562675217}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 5.575269335627399
Set autovacuum_analyze_threshold = 329479200
Set autovacuum_max_workers = 97
Set autovacuum_naptime = 1186885
Set autovacuum_vacuum_cost_delay = 44
Set autovacuum_vacuum_cost_limit = 9374
Set autovacuum_vacuum_scale_factor = 25.371066350384464
Set autovacuum_vacuum_threshold = 601613925
Set backend_flush_after = 51
Set bgwriter_delay = 8536
Set bgwriter_flush_after = 68
Set bgwriter_lru_maxpages = 842
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.3643291221247112
Set checkpoint_flush_after = 5
Set checkpoint_timeout = 286
Set commit_delay = 13139
Set commit_siblings = 806
Set cursor_tuple_fraction = 0.03223432933899384
Set deadlock_timeout = 1581410177
Set default_statistics_target = 1308
Set effective_cache_size = 1648409870
Set effective_io_concurrency = 786
Set from_collapse_limit = 1074869760
Set geqo_effort = 4
Set geqo_generations = 1801820877
Set geqo_pool_size = 1305481706
Set geqo_seed = 0.8317215114392322
Set geqo_threshold = 1591930460
Set join_collapse_limit = 435266400
Set maintenance_work_mem = 622512084
Set max_connections = 1746
Set max_wal_senders = 0
Set shared_buffers = 3183067
Set temp_buffers = 821071520
Set temp_file_limit = 1969256070
Set vacuum_cost_delay = 30
Set vacuum_cost_limit = 1454
Set vacuum_cost_page_dirty = 7668
Set vacuum_cost_page_hit = 8618
Set vacuum_cost_page_miss = 7600
Set wal_buffers = 46238
Set wal_writer_delay = 2764
Set work_mem = 1562675217
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-47-17.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-47-17.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-47-17.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763711173.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-47-17.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-47-17.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-47-17.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-47-17.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-47-17.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-47-17.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-47-17.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-47-17.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-47-17.samples.csv
Parsed throughput from summary.json: 4810.424063145018
BenchBase wikipedia throughput: 4810.424063145018
Configuration: {'autovacuum_analyze_scale_factor': 5.575269335627399, 'autovacuum_analyze_threshold': 329479200, 'autovacuum_max_workers': 97, 'autovacuum_naptime': 1186885, 'autovacuum_vacuum_cost_delay': 44, 'autovacuum_vacuum_cost_limit': 9374, 'autovacuum_vacuum_scale_factor': 25.371066350384464, 'autovacuum_vacuum_threshold': 601613925, 'backend_flush_after': 51, 'bgwriter_delay': 8536, 'bgwriter_flush_after': 68, 'bgwriter_lru_maxpages': 842, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.3643291221247112, 'checkpoint_flush_after': 5, 'checkpoint_timeout': 286, 'commit_delay': 13139, 'commit_siblings': 806, 'cursor_tuple_fraction': 0.03223432933899384, 'deadlock_timeout': 1581410177, 'default_statistics_target': 1308, 'effective_cache_size': 1648409870, 'effective_io_concurrency': 786, 'from_collapse_limit': 1074869760, 'geqo_effort': 4, 'geqo_generations': 1801820877, 'geqo_pool_size': 1305481706, 'geqo_seed': 0.8317215114392322, 'geqo_threshold': 1591930460, 'join_collapse_limit': 435266400, 'maintenance_work_mem': 622512084, 'max_connections': 1746, 'max_wal_senders': 0, 'shared_buffers': 3183067, 'temp_buffers': 821071520, 'temp_file_limit': 1969256070, 'vacuum_cost_delay': 30, 'vacuum_cost_limit': 1454, 'vacuum_cost_page_dirty': 7668, 'vacuum_cost_page_hit': 8618, 'vacuum_cost_page_miss': 7600, 'wal_buffers': 46238, 'wal_writer_delay': 2764, 'work_mem': 1562675217}, QPS: -4810.424063145018
Performance (QPS): -4810.424063145018
Evaluating configuration: {'autovacuum_analyze_scale_factor': 63.61702290486693, 'autovacuum_analyze_threshold': 826223636, 'autovacuum_max_workers': 184, 'autovacuum_naptime': 2090798, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 7507, 'autovacuum_vacuum_scale_factor': 32.439319224742036, 'autovacuum_vacuum_threshold': 1623938560, 'backend_flush_after': 231, 'bgwriter_delay': 4595, 'bgwriter_flush_after': 104, 'bgwriter_lru_maxpages': 176, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.41174852606609447, 'checkpoint_flush_after': 6, 'checkpoint_timeout': 240, 'commit_delay': 17303, 'commit_siblings': 534, 'cursor_tuple_fraction': 0.8653116239175564, 'deadlock_timeout': 1376792271, 'default_statistics_target': 1624, 'effective_cache_size': 1969220232, 'effective_io_concurrency': 639, 'from_collapse_limit': 628160908, 'geqo_effort': 9, 'geqo_generations': 901678784, 'geqo_pool_size': 2134992340, 'geqo_seed': 0.16065387431803724, 'geqo_threshold': 1376530560, 'join_collapse_limit': 1213873536, 'maintenance_work_mem': 2135001989, 'max_connections': 396, 'max_wal_senders': 8, 'shared_buffers': 200660, 'temp_buffers': 813771096, 'temp_file_limit': 1276796132, 'vacuum_cost_delay': 8, 'vacuum_cost_limit': 2210, 'vacuum_cost_page_dirty': 9541, 'vacuum_cost_page_hit': 9050, 'vacuum_cost_page_miss': 2090, 'wal_buffers': 93877, 'wal_writer_delay': 5018, 'work_mem': 872207718}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 63.61702290486693
Set autovacuum_analyze_threshold = 826223636
Set autovacuum_max_workers = 184
Set autovacuum_naptime = 2090798
Set autovacuum_vacuum_cost_delay = 80
Set autovacuum_vacuum_cost_limit = 7507
Set autovacuum_vacuum_scale_factor = 32.439319224742036
Set autovacuum_vacuum_threshold = 1623938560
Set backend_flush_after = 231
Set bgwriter_delay = 4595
Set bgwriter_flush_after = 104
Set bgwriter_lru_maxpages = 176
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.41174852606609447
Set checkpoint_flush_after = 6
Set checkpoint_timeout = 240
Set commit_delay = 17303
Set commit_siblings = 534
Set cursor_tuple_fraction = 0.8653116239175564
Set deadlock_timeout = 1376792271
Set default_statistics_target = 1624
Set effective_cache_size = 1969220232
Set effective_io_concurrency = 639
Set from_collapse_limit = 628160908
Set geqo_effort = 9
Set geqo_generations = 901678784
Set geqo_pool_size = 2134992340
Set geqo_seed = 0.16065387431803724
Set geqo_threshold = 1376530560
Set join_collapse_limit = 1213873536
Set maintenance_work_mem = 2135001989
Set max_connections = 396
Set max_wal_senders = 8
Set shared_buffers = 200660
Set temp_buffers = 813771096
Set temp_file_limit = 1276796132
Set vacuum_cost_delay = 8
Set vacuum_cost_limit = 2210
Set vacuum_cost_page_dirty = 9541
Set vacuum_cost_page_hit = 9050
Set vacuum_cost_page_miss = 2090
Set wal_buffers = 93877
Set wal_writer_delay = 5018
Set work_mem = 872207718
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-48-55.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-48-55.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-48-55.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-48-55.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-48-55.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-48-55.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-48-55.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763711273.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-48-55.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-48-55.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-48-55.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-48-55.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-48-55.raw.csv
Parsed throughput from summary.json: 4793.6828251035
BenchBase wikipedia throughput: 4793.6828251035
Configuration: {'autovacuum_analyze_scale_factor': 63.61702290486693, 'autovacuum_analyze_threshold': 826223636, 'autovacuum_max_workers': 184, 'autovacuum_naptime': 2090798, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 7507, 'autovacuum_vacuum_scale_factor': 32.439319224742036, 'autovacuum_vacuum_threshold': 1623938560, 'backend_flush_after': 231, 'bgwriter_delay': 4595, 'bgwriter_flush_after': 104, 'bgwriter_lru_maxpages': 176, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.41174852606609447, 'checkpoint_flush_after': 6, 'checkpoint_timeout': 240, 'commit_delay': 17303, 'commit_siblings': 534, 'cursor_tuple_fraction': 0.8653116239175564, 'deadlock_timeout': 1376792271, 'default_statistics_target': 1624, 'effective_cache_size': 1969220232, 'effective_io_concurrency': 639, 'from_collapse_limit': 628160908, 'geqo_effort': 9, 'geqo_generations': 901678784, 'geqo_pool_size': 2134992340, 'geqo_seed': 0.16065387431803724, 'geqo_threshold': 1376530560, 'join_collapse_limit': 1213873536, 'maintenance_work_mem': 2135001989, 'max_connections': 396, 'max_wal_senders': 8, 'shared_buffers': 200660, 'temp_buffers': 813771096, 'temp_file_limit': 1276796132, 'vacuum_cost_delay': 8, 'vacuum_cost_limit': 2210, 'vacuum_cost_page_dirty': 9541, 'vacuum_cost_page_hit': 9050, 'vacuum_cost_page_miss': 2090, 'wal_buffers': 93877, 'wal_writer_delay': 5018, 'work_mem': 872207718}, QPS: -4793.6828251035
Performance (QPS): -4793.6828251035
Evaluating configuration: {'autovacuum_analyze_scale_factor': 18.41774908104956, 'autovacuum_analyze_threshold': 1034610688, 'autovacuum_max_workers': 117, 'autovacuum_naptime': 659620, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 2470, 'autovacuum_vacuum_scale_factor': 22.105271264359928, 'autovacuum_vacuum_threshold': 1598073888, 'backend_flush_after': 14, 'bgwriter_delay': 4404, 'bgwriter_flush_after': 111, 'bgwriter_lru_maxpages': 452, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.32423081931963643, 'checkpoint_flush_after': 115, 'checkpoint_timeout': 650, 'commit_delay': 4486, 'commit_siblings': 516, 'cursor_tuple_fraction': 0.904819695250649, 'deadlock_timeout': 965619049, 'default_statistics_target': 5205, 'effective_cache_size': 1726190481, 'effective_io_concurrency': 16, 'from_collapse_limit': 1564092160, 'geqo_effort': 8, 'geqo_generations': 1592626687, 'geqo_pool_size': 377333835, 'geqo_seed': 0.3198511872943498, 'geqo_threshold': 100789513, 'join_collapse_limit': 458167072, 'maintenance_work_mem': 33841057, 'max_connections': 2675, 'max_wal_senders': 35, 'shared_buffers': 255140, 'temp_buffers': 116532658, 'temp_file_limit': 1694746596, 'vacuum_cost_delay': 47, 'vacuum_cost_limit': 475, 'vacuum_cost_page_dirty': 3845, 'vacuum_cost_page_hit': 5392, 'vacuum_cost_page_miss': 8336, 'wal_buffers': 42709, 'wal_writer_delay': 5645, 'work_mem': 1717858388}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 18.41774908104956
Set autovacuum_analyze_threshold = 1034610688
Set autovacuum_max_workers = 117
Set autovacuum_naptime = 659620
Set autovacuum_vacuum_cost_delay = 34
Set autovacuum_vacuum_cost_limit = 2470
Set autovacuum_vacuum_scale_factor = 22.105271264359928
Set autovacuum_vacuum_threshold = 1598073888
Set backend_flush_after = 14
Set bgwriter_delay = 4404
Set bgwriter_flush_after = 111
Set bgwriter_lru_maxpages = 452
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.32423081931963643
Set checkpoint_flush_after = 115
Set checkpoint_timeout = 650
Set commit_delay = 4486
Set commit_siblings = 516
Set cursor_tuple_fraction = 0.904819695250649
Set deadlock_timeout = 965619049
Set default_statistics_target = 5205
Set effective_cache_size = 1726190481
Set effective_io_concurrency = 16
Set from_collapse_limit = 1564092160
Set geqo_effort = 8
Set geqo_generations = 1592626687
Set geqo_pool_size = 377333835
Set geqo_seed = 0.3198511872943498
Set geqo_threshold = 100789513
Set join_collapse_limit = 458167072
Set maintenance_work_mem = 33841057
Set max_connections = 2675
Set max_wal_senders = 35
Set shared_buffers = 255140
Set temp_buffers = 116532658
Set temp_file_limit = 1694746596
Set vacuum_cost_delay = 47
Set vacuum_cost_limit = 475
Set vacuum_cost_page_dirty = 3845
Set vacuum_cost_page_hit = 5392
Set vacuum_cost_page_miss = 8336
Set wal_buffers = 42709
Set wal_writer_delay = 5645
Set work_mem = 1717858388
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-50-35.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763711371.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-50-35.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-50-35.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-50-35.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-50-35.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-50-35.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-50-35.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-50-35.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-50-35.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-50-35.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-50-35.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-50-35.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Parsed throughput from summary.json: 4776.560406770323
BenchBase wikipedia throughput: 4776.560406770323
Configuration: {'autovacuum_analyze_scale_factor': 18.41774908104956, 'autovacuum_analyze_threshold': 1034610688, 'autovacuum_max_workers': 117, 'autovacuum_naptime': 659620, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 2470, 'autovacuum_vacuum_scale_factor': 22.105271264359928, 'autovacuum_vacuum_threshold': 1598073888, 'backend_flush_after': 14, 'bgwriter_delay': 4404, 'bgwriter_flush_after': 111, 'bgwriter_lru_maxpages': 452, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.32423081931963643, 'checkpoint_flush_after': 115, 'checkpoint_timeout': 650, 'commit_delay': 4486, 'commit_siblings': 516, 'cursor_tuple_fraction': 0.904819695250649, 'deadlock_timeout': 965619049, 'default_statistics_target': 5205, 'effective_cache_size': 1726190481, 'effective_io_concurrency': 16, 'from_collapse_limit': 1564092160, 'geqo_effort': 8, 'geqo_generations': 1592626687, 'geqo_pool_size': 377333835, 'geqo_seed': 0.3198511872943498, 'geqo_threshold': 100789513, 'join_collapse_limit': 458167072, 'maintenance_work_mem': 33841057, 'max_connections': 2675, 'max_wal_senders': 35, 'shared_buffers': 255140, 'temp_buffers': 116532658, 'temp_file_limit': 1694746596, 'vacuum_cost_delay': 47, 'vacuum_cost_limit': 475, 'vacuum_cost_page_dirty': 3845, 'vacuum_cost_page_hit': 5392, 'vacuum_cost_page_miss': 8336, 'wal_buffers': 42709, 'wal_writer_delay': 5645, 'work_mem': 1717858388}, QPS: -4776.560406770323
Performance (QPS): -4776.560406770323
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 186, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 3741, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9297, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 537, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3652815864039217, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 93682, 'commit_siblings': 507, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1327628416, 'default_statistics_target': 5205, 'effective_cache_size': 615111168, 'effective_io_concurrency': 626, 'from_collapse_limit': 1538253184, 'geqo_effort': 10, 'geqo_generations': 1388045823, 'geqo_pool_size': 1961074431, 'geqo_seed': 0.13157856312458296, 'geqo_threshold': 135554177, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1213249725, 'max_connections': 376, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 526540018, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 9602, 'vacuum_cost_page_dirty': 985, 'vacuum_cost_page_hit': 8555, 'vacuum_cost_page_miss': 7753, 'wal_buffers': 67834, 'wal_writer_delay': 1501, 'work_mem': 1556362513}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 186
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 96
Set autovacuum_vacuum_cost_limit = 3741
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9297
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 537
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3652815864039217
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 93682
Set commit_siblings = 507
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1327628416
Set default_statistics_target = 5205
Set effective_cache_size = 615111168
Set effective_io_concurrency = 626
Set from_collapse_limit = 1538253184
Set geqo_effort = 10
Set geqo_generations = 1388045823
Set geqo_pool_size = 1961074431
Set geqo_seed = 0.13157856312458296
Set geqo_threshold = 135554177
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1213249725
Set max_connections = 376
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 526540018
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 48
Set vacuum_cost_limit = 9602
Set vacuum_cost_page_dirty = 985
Set vacuum_cost_page_hit = 8555
Set vacuum_cost_page_miss = 7753
Set wal_buffers = 67834
Set wal_writer_delay = 1501
Set work_mem = 1556362513
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-52-13.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-52-13.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-52-13.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-52-13.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-52-13.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-52-13.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-52-13.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-52-13.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-52-13.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-52-13.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763711470.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-52-13.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-52-13.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 4674.067927005795
BenchBase wikipedia throughput: 4674.067927005795
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 186, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 3741, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9297, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 537, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3652815864039217, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 93682, 'commit_siblings': 507, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1327628416, 'default_statistics_target': 5205, 'effective_cache_size': 615111168, 'effective_io_concurrency': 626, 'from_collapse_limit': 1538253184, 'geqo_effort': 10, 'geqo_generations': 1388045823, 'geqo_pool_size': 1961074431, 'geqo_seed': 0.13157856312458296, 'geqo_threshold': 135554177, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1213249725, 'max_connections': 376, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 526540018, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 9602, 'vacuum_cost_page_dirty': 985, 'vacuum_cost_page_hit': 8555, 'vacuum_cost_page_miss': 7753, 'wal_buffers': 67834, 'wal_writer_delay': 1501, 'work_mem': 1556362513}, QPS: -4674.067927005795
Performance (QPS): -4674.067927005795
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1233612031, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 3264, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 19, 'bgwriter_lru_maxpages': 537, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.28855893741201094, 'checkpoint_flush_after': 212, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 537, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1327628416, 'default_statistics_target': 5205, 'effective_cache_size': 615111168, 'effective_io_concurrency': 639, 'from_collapse_limit': 1308413440, 'geqo_effort': 3, 'geqo_generations': 1388045823, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.22356028700861155, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1213249725, 'max_connections': 376, 'max_wal_senders': 50, 'shared_buffers': 306459, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9707, 'vacuum_cost_page_dirty': 985, 'vacuum_cost_page_hit': 8555, 'vacuum_cost_page_miss': 7631, 'wal_buffers': 73877, 'wal_writer_delay': 2819, 'work_mem': 1535231762}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1233612031
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 91
Set autovacuum_vacuum_cost_limit = 3264
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 19
Set bgwriter_lru_maxpages = 537
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.28855893741201094
Set checkpoint_flush_after = 212
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 537
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1327628416
Set default_statistics_target = 5205
Set effective_cache_size = 615111168
Set effective_io_concurrency = 639
Set from_collapse_limit = 1308413440
Set geqo_effort = 3
Set geqo_generations = 1388045823
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.22356028700861155
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1213249725
Set max_connections = 376
Set max_wal_senders = 50
Set shared_buffers = 306459
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9707
Set vacuum_cost_page_dirty = 985
Set vacuum_cost_page_hit = 8555
Set vacuum_cost_page_miss = 7631
Set wal_buffers = 73877
Set wal_writer_delay = 2819
Set work_mem = 1535231762
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-53-50.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-53-50.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-53-50.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-53-50.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-53-50.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-53-50.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-53-50.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-53-50.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763711568.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-53-50.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-53-50.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-53-50.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-53-50.samples.csv
Parsed throughput from summary.json: 4763.133988963253
BenchBase wikipedia throughput: 4763.133988963253
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1233612031, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 3264, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 19, 'bgwriter_lru_maxpages': 537, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.28855893741201094, 'checkpoint_flush_after': 212, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 537, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1327628416, 'default_statistics_target': 5205, 'effective_cache_size': 615111168, 'effective_io_concurrency': 639, 'from_collapse_limit': 1308413440, 'geqo_effort': 3, 'geqo_generations': 1388045823, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.22356028700861155, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1213249725, 'max_connections': 376, 'max_wal_senders': 50, 'shared_buffers': 306459, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9707, 'vacuum_cost_page_dirty': 985, 'vacuum_cost_page_hit': 8555, 'vacuum_cost_page_miss': 7631, 'wal_buffers': 73877, 'wal_writer_delay': 2819, 'work_mem': 1535231762}, QPS: -4763.133988963253
Performance (QPS): -4763.133988963253
Evaluating configuration: {'autovacuum_analyze_scale_factor': 36.99070438285725, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 196, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3550, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 246, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 33, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.3122391609974074, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 641, 'commit_delay': 94885, 'commit_siblings': 547, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1213336448, 'default_statistics_target': 5192, 'effective_cache_size': 581970432, 'effective_io_concurrency': 690, 'from_collapse_limit': 1514668672, 'geqo_effort': 3, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 44134537, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1040788047, 'max_connections': 146, 'max_wal_senders': 30, 'shared_buffers': 210943, 'temp_buffers': 516354675, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9119, 'vacuum_cost_page_dirty': 100, 'vacuum_cost_page_hit': 7402, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 69448, 'wal_writer_delay': 2125, 'work_mem': 1334315160}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 36.99070438285725
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 196
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3550
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 246
Set bgwriter_delay = 8956
Set bgwriter_flush_after = 33
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.3122391609974074
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 641
Set commit_delay = 94885
Set commit_siblings = 547
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1213336448
Set default_statistics_target = 5192
Set effective_cache_size = 581970432
Set effective_io_concurrency = 690
Set from_collapse_limit = 1514668672
Set geqo_effort = 3
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 44134537
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1040788047
Set max_connections = 146
Set max_wal_senders = 30
Set shared_buffers = 210943
Set temp_buffers = 516354675
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9119
Set vacuum_cost_page_dirty = 100
Set vacuum_cost_page_hit = 7402
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 69448
Set wal_writer_delay = 2125
Set work_mem = 1334315160
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-55-29.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-55-29.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-55-29.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-55-29.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-55-29.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-55-29.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-55-29.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-55-29.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-55-29.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-55-29.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763711666.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-55-29.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-55-29.config.xml
Error parsing summary.json: [Errno 2] No such file or directory: '/home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json'
BenchBase wikipedia throughput: 0.0
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 176, 'autovacuum_naptime': 1631155, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 3588, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1852618111, 'backend_flush_after': 256, 'bgwriter_delay': 9597, 'bgwriter_flush_after': 9, 'bgwriter_lru_maxpages': 562, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 552, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1339992704, 'default_statistics_target': 6438, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1574764800, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 278, 'max_wal_senders': 49, 'shared_buffers': 215495, 'temp_buffers': 604703044, 'temp_file_limit': 803312959, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8342, 'vacuum_cost_page_dirty': 218, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 176
Set autovacuum_naptime = 1631155
Set autovacuum_vacuum_cost_delay = 87
Set autovacuum_vacuum_cost_limit = 3588
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1852618111
Set backend_flush_after = 256
Set bgwriter_delay = 9597
Set bgwriter_flush_after = 9
Set bgwriter_lru_maxpages = 562
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 552
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1339992704
Set default_statistics_target = 6438
Set effective_cache_size = 581970432
Set effective_io_concurrency = 661
Set from_collapse_limit = 1574764800
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 278
Set max_wal_senders = 49
Set shared_buffers = 215495
Set temp_buffers = 604703044
Set temp_file_limit = 803312959
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 8342
Set vacuum_cost_page_dirty = 218
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-57-07.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-57-07.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-57-07.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-57-07.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-57-07.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-57-07.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-57-07.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-57-07.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-57-07.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-57-07.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763711765.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-57-07.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-57-07.raw.csv
Parsed throughput from summary.json: 4616.831958209934
BenchBase wikipedia throughput: 4616.831958209934
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 176, 'autovacuum_naptime': 1631155, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 3588, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1852618111, 'backend_flush_after': 256, 'bgwriter_delay': 9597, 'bgwriter_flush_after': 9, 'bgwriter_lru_maxpages': 562, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 552, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1339992704, 'default_statistics_target': 6438, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1574764800, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 278, 'max_wal_senders': 49, 'shared_buffers': 215495, 'temp_buffers': 604703044, 'temp_file_limit': 803312959, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8342, 'vacuum_cost_page_dirty': 218, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4616.831958209934
Performance (QPS): -4616.831958209934
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 195, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 239, 'bgwriter_delay': 9939, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 479, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1402472192, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1555126528, 'geqo_effort': 4, 'geqo_generations': 1429101951, 'geqo_pool_size': 1746788479, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 93123321, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 363, 'max_wal_senders': 50, 'shared_buffers': 180315, 'temp_buffers': 604703044, 'temp_file_limit': 884513727, 'vacuum_cost_delay': 45, 'vacuum_cost_limit': 9868, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7004, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 84799, 'wal_writer_delay': 2691, 'work_mem': 1493913107}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 195
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 239
Set bgwriter_delay = 9939
Set bgwriter_flush_after = 36
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 479
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1402472192
Set default_statistics_target = 5205
Set effective_cache_size = 581970432
Set effective_io_concurrency = 661
Set from_collapse_limit = 1555126528
Set geqo_effort = 4
Set geqo_generations = 1429101951
Set geqo_pool_size = 1746788479
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 93123321
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 363
Set max_wal_senders = 50
Set shared_buffers = 180315
Set temp_buffers = 604703044
Set temp_file_limit = 884513727
Set vacuum_cost_delay = 45
Set vacuum_cost_limit = 9868
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7004
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 84799
Set wal_writer_delay = 2691
Set work_mem = 1493913107
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-58-47.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-58-47.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-58-47.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-58-47.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_07-58-47.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-58-47.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-58-47.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-58-47.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-58-47.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-58-47.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-58-47.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_07-58-47.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763711863.log
Parsed throughput from summary.json: 4863.35882966211
BenchBase wikipedia throughput: 4863.35882966211
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 195, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 239, 'bgwriter_delay': 9939, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 479, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1402472192, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1555126528, 'geqo_effort': 4, 'geqo_generations': 1429101951, 'geqo_pool_size': 1746788479, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 93123321, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 363, 'max_wal_senders': 50, 'shared_buffers': 180315, 'temp_buffers': 604703044, 'temp_file_limit': 884513727, 'vacuum_cost_delay': 45, 'vacuum_cost_limit': 9868, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7004, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 84799, 'wal_writer_delay': 2691, 'work_mem': 1493913107}, QPS: -4863.35882966211
Performance (QPS): -4863.35882966211
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 200, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1689312383, 'backend_flush_after': 239, 'bgwriter_delay': 8931, 'bgwriter_flush_after': 20, 'bgwriter_lru_maxpages': 694, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 199, 'checkpoint_timeout': 763, 'commit_delay': 94224, 'commit_siblings': 523, 'cursor_tuple_fraction': 0.06903837304439624, 'deadlock_timeout': 1148234752, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1211245312, 'geqo_effort': 4, 'geqo_generations': 1386511743, 'geqo_pool_size': 1746788479, 'geqo_seed': 0.2558054034513978, 'geqo_threshold': 47888801, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 384, 'max_wal_senders': 50, 'shared_buffers': 180315, 'temp_buffers': 604703044, 'temp_file_limit': 899359679, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 9278, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7004, 'vacuum_cost_page_miss': 6688, 'wal_buffers': 90244, 'wal_writer_delay': 2691, 'work_mem': 1493913107}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 200
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 91
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1689312383
Set backend_flush_after = 239
Set bgwriter_delay = 8931
Set bgwriter_flush_after = 20
Set bgwriter_lru_maxpages = 694
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 199
Set checkpoint_timeout = 763
Set commit_delay = 94224
Set commit_siblings = 523
Set cursor_tuple_fraction = 0.06903837304439624
Set deadlock_timeout = 1148234752
Set default_statistics_target = 5205
Set effective_cache_size = 581970432
Set effective_io_concurrency = 661
Set from_collapse_limit = 1211245312
Set geqo_effort = 4
Set geqo_generations = 1386511743
Set geqo_pool_size = 1746788479
Set geqo_seed = 0.2558054034513978
Set geqo_threshold = 47888801
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 384
Set max_wal_senders = 50
Set shared_buffers = 180315
Set temp_buffers = 604703044
Set temp_file_limit = 899359679
Set vacuum_cost_delay = 40
Set vacuum_cost_limit = 9278
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7004
Set vacuum_cost_page_miss = 6688
Set wal_buffers = 90244
Set wal_writer_delay = 2691
Set work_mem = 1493913107
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-00-25.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-00-25.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-00-25.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-00-25.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-00-25.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-00-25.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-00-25.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-00-25.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-00-25.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-00-25.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763711962.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-00-25.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-00-25.results.UpdatePage.csv
Parsed throughput from summary.json: 4657.548759908001
BenchBase wikipedia throughput: 4657.548759908001
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 200, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1689312383, 'backend_flush_after': 239, 'bgwriter_delay': 8931, 'bgwriter_flush_after': 20, 'bgwriter_lru_maxpages': 694, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 199, 'checkpoint_timeout': 763, 'commit_delay': 94224, 'commit_siblings': 523, 'cursor_tuple_fraction': 0.06903837304439624, 'deadlock_timeout': 1148234752, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1211245312, 'geqo_effort': 4, 'geqo_generations': 1386511743, 'geqo_pool_size': 1746788479, 'geqo_seed': 0.2558054034513978, 'geqo_threshold': 47888801, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 384, 'max_wal_senders': 50, 'shared_buffers': 180315, 'temp_buffers': 604703044, 'temp_file_limit': 899359679, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 9278, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7004, 'vacuum_cost_page_miss': 6688, 'wal_buffers': 90244, 'wal_writer_delay': 2691, 'work_mem': 1493913107}, QPS: -4657.548759908001
Performance (QPS): -4657.548759908001
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1344012927, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 97, 'autovacuum_vacuum_cost_limit': 2669, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9867, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 625240512, 'effective_io_concurrency': 726, 'from_collapse_limit': 1514357760, 'geqo_effort': 6, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2516368995817107, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 111, 'max_wal_senders': 50, 'shared_buffers': 238021, 'temp_buffers': 747301086, 'temp_file_limit': 978880447, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1476, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 77755, 'wal_writer_delay': 2691, 'work_mem': 1459558548}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1344012927
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 97
Set autovacuum_vacuum_cost_limit = 2669
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9867
Set bgwriter_flush_after = 36
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 505
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 625240512
Set effective_io_concurrency = 726
Set from_collapse_limit = 1514357760
Set geqo_effort = 6
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2516368995817107
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 111
Set max_wal_senders = 50
Set shared_buffers = 238021
Set temp_buffers = 747301086
Set temp_file_limit = 978880447
Set vacuum_cost_delay = 51
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1476
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 77755
Set wal_writer_delay = 2691
Set work_mem = 1459558548
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-02-04.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-02-04.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-02-04.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-02-04.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-02-04.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-02-04.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-02-04.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-02-04.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-02-04.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-02-04.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-02-04.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-02-04.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763712061.log
Parsed throughput from summary.json: 4863.4546813189445
BenchBase wikipedia throughput: 4863.4546813189445
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1344012927, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 97, 'autovacuum_vacuum_cost_limit': 2669, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9867, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 625240512, 'effective_io_concurrency': 726, 'from_collapse_limit': 1514357760, 'geqo_effort': 6, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2516368995817107, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 111, 'max_wal_senders': 50, 'shared_buffers': 238021, 'temp_buffers': 747301086, 'temp_file_limit': 978880447, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1476, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 77755, 'wal_writer_delay': 2691, 'work_mem': 1459558548}, QPS: -4863.4546813189445
Performance (QPS): -4863.4546813189445
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 170, 'autovacuum_naptime': 1626912, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 3871, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 537, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3460117414122156, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1285724416, 'default_statistics_target': 5205, 'effective_cache_size': 615111168, 'effective_io_concurrency': 661, 'from_collapse_limit': 1658438016, 'geqo_effort': 3, 'geqo_generations': 1362309631, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.18895877865696095, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1257610280, 'max_connections': 289, 'max_wal_senders': 50, 'shared_buffers': 245980, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 176, 'vacuum_cost_page_hit': 8365, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2819, 'work_mem': 1528144658}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 170
Set autovacuum_naptime = 1626912
Set autovacuum_vacuum_cost_delay = 82
Set autovacuum_vacuum_cost_limit = 3871
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 537
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3460117414122156
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1285724416
Set default_statistics_target = 5205
Set effective_cache_size = 615111168
Set effective_io_concurrency = 661
Set from_collapse_limit = 1658438016
Set geqo_effort = 3
Set geqo_generations = 1362309631
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.18895877865696095
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1257610280
Set max_connections = 289
Set max_wal_senders = 50
Set shared_buffers = 245980
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 42
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 176
Set vacuum_cost_page_hit = 8365
Set vacuum_cost_page_miss = 7525
Set wal_buffers = 67834
Set wal_writer_delay = 2819
Set work_mem = 1528144658
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-03-44.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-03-44.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-03-44.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-03-44.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-03-44.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-03-44.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-03-44.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763712160.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-03-44.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-03-44.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-03-44.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-03-44.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-03-44.results.RemoveWatchList.csv
Parsed throughput from summary.json: 4866.578908948333
BenchBase wikipedia throughput: 4866.578908948333
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 170, 'autovacuum_naptime': 1626912, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 3871, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 537, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3460117414122156, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1285724416, 'default_statistics_target': 5205, 'effective_cache_size': 615111168, 'effective_io_concurrency': 661, 'from_collapse_limit': 1658438016, 'geqo_effort': 3, 'geqo_generations': 1362309631, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.18895877865696095, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1257610280, 'max_connections': 289, 'max_wal_senders': 50, 'shared_buffers': 245980, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 176, 'vacuum_cost_page_hit': 8365, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2819, 'work_mem': 1528144658}, QPS: -4866.578908948333
Performance (QPS): -4866.578908948333
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1234167039, 'autovacuum_max_workers': 194, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 26.506338897486938, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8876, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 553, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1342913280, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 678, 'from_collapse_limit': 1462513280, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1353378170, 'max_connections': 304, 'max_wal_senders': 50, 'shared_buffers': 49497, 'temp_buffers': 604703044, 'temp_file_limit': 1016747903, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 8129, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 69423, 'wal_writer_delay': 3393, 'work_mem': 1546350737}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1234167039
Set autovacuum_max_workers = 194
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 26.506338897486938
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 8876
Set bgwriter_flush_after = 36
Set bgwriter_lru_maxpages = 553
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 505
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1342913280
Set default_statistics_target = 5205
Set effective_cache_size = 581970432
Set effective_io_concurrency = 678
Set from_collapse_limit = 1462513280
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1353378170
Set max_connections = 304
Set max_wal_senders = 50
Set shared_buffers = 49497
Set temp_buffers = 604703044
Set temp_file_limit = 1016747903
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 8129
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 69423
Set wal_writer_delay = 3393
Set work_mem = 1546350737
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-05-23.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-05-23.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-05-23.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-05-23.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-05-23.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-05-23.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-05-23.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763712260.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-05-23.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-05-23.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-05-23.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-05-23.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-05-23.config.xml
Parsed throughput from summary.json: 4897.4706750932055
BenchBase wikipedia throughput: 4897.4706750932055
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1234167039, 'autovacuum_max_workers': 194, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 26.506338897486938, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8876, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 553, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1342913280, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 678, 'from_collapse_limit': 1462513280, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1353378170, 'max_connections': 304, 'max_wal_senders': 50, 'shared_buffers': 49497, 'temp_buffers': 604703044, 'temp_file_limit': 1016747903, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 8129, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 69423, 'wal_writer_delay': 3393, 'work_mem': 1546350737}, QPS: -4897.4706750932055
Performance (QPS): -4897.4706750932055
Evaluating configuration: {'autovacuum_analyze_scale_factor': 36.07947673201854, 'autovacuum_analyze_threshold': 1186064127, 'autovacuum_max_workers': 195, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 247, 'bgwriter_delay': 9631, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 96105, 'commit_siblings': 479, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1402472192, 'default_statistics_target': 5130, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1467521664, 'geqo_effort': 4, 'geqo_generations': 1366428287, 'geqo_pool_size': 1746788479, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 93123321, 'join_collapse_limit': 595282624, 'maintenance_work_mem': 1020556511, 'max_connections': 363, 'max_wal_senders': 50, 'shared_buffers': 307193, 'temp_buffers': 604703044, 'temp_file_limit': 990630719, 'vacuum_cost_delay': 45, 'vacuum_cost_limit': 9868, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7525, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 84799, 'wal_writer_delay': 2965, 'work_mem': 1550413457}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 36.07947673201854
Set autovacuum_analyze_threshold = 1186064127
Set autovacuum_max_workers = 195
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 247
Set bgwriter_delay = 9631
Set bgwriter_flush_after = 36
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 96105
Set commit_siblings = 479
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1402472192
Set default_statistics_target = 5130
Set effective_cache_size = 581970432
Set effective_io_concurrency = 661
Set from_collapse_limit = 1467521664
Set geqo_effort = 4
Set geqo_generations = 1366428287
Set geqo_pool_size = 1746788479
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 93123321
Set join_collapse_limit = 595282624
Set maintenance_work_mem = 1020556511
Set max_connections = 363
Set max_wal_senders = 50
Set shared_buffers = 307193
Set temp_buffers = 604703044
Set temp_file_limit = 990630719
Set vacuum_cost_delay = 45
Set vacuum_cost_limit = 9868
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7525
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 84799
Set wal_writer_delay = 2965
Set work_mem = 1550413457
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-07-03.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-07-03.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763712359.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-07-03.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-07-03.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-07-03.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-07-03.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-07-03.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-07-03.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-07-03.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-07-03.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-07-03.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-07-03.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Parsed throughput from summary.json: 4724.039799322056
BenchBase wikipedia throughput: 4724.039799322056
Configuration: {'autovacuum_analyze_scale_factor': 36.07947673201854, 'autovacuum_analyze_threshold': 1186064127, 'autovacuum_max_workers': 195, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 247, 'bgwriter_delay': 9631, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 96105, 'commit_siblings': 479, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1402472192, 'default_statistics_target': 5130, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1467521664, 'geqo_effort': 4, 'geqo_generations': 1366428287, 'geqo_pool_size': 1746788479, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 93123321, 'join_collapse_limit': 595282624, 'maintenance_work_mem': 1020556511, 'max_connections': 363, 'max_wal_senders': 50, 'shared_buffers': 307193, 'temp_buffers': 604703044, 'temp_file_limit': 990630719, 'vacuum_cost_delay': 45, 'vacuum_cost_limit': 9868, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7525, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 84799, 'wal_writer_delay': 2965, 'work_mem': 1550413457}, QPS: -4724.039799322056
Performance (QPS): -4724.039799322056
Evaluating configuration: {'autovacuum_analyze_scale_factor': 37.224673834578645, 'autovacuum_analyze_threshold': 1125887999, 'autovacuum_max_workers': 184, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 89, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 23.204461135232847, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 24, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3384104728825639, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 97079, 'commit_siblings': 617, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514357760, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1787624575, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 198349809, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1192496071, 'max_connections': 363, 'max_wal_senders': 17, 'shared_buffers': 238021, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 54, 'vacuum_cost_limit': 9771, 'vacuum_cost_page_dirty': 236, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 37.224673834578645
Set autovacuum_analyze_threshold = 1125887999
Set autovacuum_max_workers = 184
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 89
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 23.204461135232847
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 8956
Set bgwriter_flush_after = 24
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3384104728825639
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 97079
Set commit_siblings = 617
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 581970432
Set effective_io_concurrency = 661
Set from_collapse_limit = 1514357760
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1787624575
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 198349809
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1192496071
Set max_connections = 363
Set max_wal_senders = 17
Set shared_buffers = 238021
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 54
Set vacuum_cost_limit = 9771
Set vacuum_cost_page_dirty = 236
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-08-42.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-08-42.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-08-42.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-08-42.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-08-42.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-08-42.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-08-42.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-08-42.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-08-42.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763712459.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-08-42.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-08-42.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-08-42.samples.csv
Parsed throughput from summary.json: 4646.749736195922
BenchBase wikipedia throughput: 4646.749736195922
Configuration: {'autovacuum_analyze_scale_factor': 37.224673834578645, 'autovacuum_analyze_threshold': 1125887999, 'autovacuum_max_workers': 184, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 89, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 23.204461135232847, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 24, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3384104728825639, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 97079, 'commit_siblings': 617, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514357760, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1787624575, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 198349809, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1192496071, 'max_connections': 363, 'max_wal_senders': 17, 'shared_buffers': 238021, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 54, 'vacuum_cost_limit': 9771, 'vacuum_cost_page_dirty': 236, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4646.749736195922
Performance (QPS): -4646.749736195922
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1123305855, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3289, 'autovacuum_vacuum_scale_factor': 22.438479682856542, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 246, 'bgwriter_delay': 9572, 'bgwriter_flush_after': 33, 'bgwriter_lru_maxpages': 607, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 567, 'commit_delay': 94224, 'commit_siblings': 547, 'cursor_tuple_fraction': 0.09564281312540363, 'deadlock_timeout': 1217564032, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1533928960, 'geqo_effort': 4, 'geqo_generations': 1084103680, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.16191983319054437, 'geqo_threshold': 134579761, 'join_collapse_limit': 752408128, 'maintenance_work_mem': 1372178801, 'max_connections': 363, 'max_wal_senders': 30, 'shared_buffers': 284007, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7502, 'vacuum_cost_page_miss': 8574, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1659312270}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1123305855
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3289
Set autovacuum_vacuum_scale_factor = 22.438479682856542
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 246
Set bgwriter_delay = 9572
Set bgwriter_flush_after = 33
Set bgwriter_lru_maxpages = 607
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 567
Set commit_delay = 94224
Set commit_siblings = 547
Set cursor_tuple_fraction = 0.09564281312540363
Set deadlock_timeout = 1217564032
Set default_statistics_target = 5205
Set effective_cache_size = 581970432
Set effective_io_concurrency = 661
Set from_collapse_limit = 1533928960
Set geqo_effort = 4
Set geqo_generations = 1084103680
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.16191983319054437
Set geqo_threshold = 134579761
Set join_collapse_limit = 752408128
Set maintenance_work_mem = 1372178801
Set max_connections = 363
Set max_wal_senders = 30
Set shared_buffers = 284007
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7502
Set vacuum_cost_page_miss = 8574
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1659312270
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-10-22.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-10-22.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-10-22.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763712559.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-10-22.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-10-22.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-10-22.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-10-22.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-10-22.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-10-22.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-10-22.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-10-22.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-10-22.results.UpdatePage.csv
Parsed throughput from summary.json: 4936.134190370914
BenchBase wikipedia throughput: 4936.134190370914
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1123305855, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3289, 'autovacuum_vacuum_scale_factor': 22.438479682856542, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 246, 'bgwriter_delay': 9572, 'bgwriter_flush_after': 33, 'bgwriter_lru_maxpages': 607, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 567, 'commit_delay': 94224, 'commit_siblings': 547, 'cursor_tuple_fraction': 0.09564281312540363, 'deadlock_timeout': 1217564032, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1533928960, 'geqo_effort': 4, 'geqo_generations': 1084103680, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.16191983319054437, 'geqo_threshold': 134579761, 'join_collapse_limit': 752408128, 'maintenance_work_mem': 1372178801, 'max_connections': 363, 'max_wal_senders': 30, 'shared_buffers': 284007, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7502, 'vacuum_cost_page_miss': 8574, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1659312270}, QPS: -4936.134190370914
Performance (QPS): -4936.134190370914
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1318332415, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 5028, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1773443583, 'backend_flush_after': 256, 'bgwriter_delay': 9587, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3408631038207083, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 841, 'commit_delay': 94224, 'commit_siblings': 487, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1227509504, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 745, 'from_collapse_limit': 1534489088, 'geqo_effort': 5, 'geqo_generations': 1360415375, 'geqo_pool_size': 1915561727, 'geqo_seed': 0.11263703060167607, 'geqo_threshold': 229705617, 'join_collapse_limit': 651512704, 'maintenance_work_mem': 1020556511, 'max_connections': 181, 'max_wal_senders': 20, 'shared_buffers': 270172, 'temp_buffers': 676001637, 'temp_file_limit': 801469311, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1601, 'vacuum_cost_page_hit': 7450, 'vacuum_cost_page_miss': 8304, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1605332368}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1318332415
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 82
Set autovacuum_vacuum_cost_limit = 5028
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1773443583
Set backend_flush_after = 256
Set bgwriter_delay = 9587
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.3408631038207083
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 841
Set commit_delay = 94224
Set commit_siblings = 487
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1227509504
Set default_statistics_target = 5205
Set effective_cache_size = 390597560
Set effective_io_concurrency = 745
Set from_collapse_limit = 1534489088
Set geqo_effort = 5
Set geqo_generations = 1360415375
Set geqo_pool_size = 1915561727
Set geqo_seed = 0.11263703060167607
Set geqo_threshold = 229705617
Set join_collapse_limit = 651512704
Set maintenance_work_mem = 1020556511
Set max_connections = 181
Set max_wal_senders = 20
Set shared_buffers = 270172
Set temp_buffers = 676001637
Set temp_file_limit = 801469311
Set vacuum_cost_delay = 42
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1601
Set vacuum_cost_page_hit = 7450
Set vacuum_cost_page_miss = 8304
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1605332368
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-12-02.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-12-02.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-12-02.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-12-02.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-12-02.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-12-02.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763712658.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-12-02.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-12-02.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-12-02.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-12-02.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-12-02.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-12-02.metrics.json
Parsed throughput from summary.json: 4898.306537389613
BenchBase wikipedia throughput: 4898.306537389613
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1318332415, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 5028, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1773443583, 'backend_flush_after': 256, 'bgwriter_delay': 9587, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3408631038207083, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 841, 'commit_delay': 94224, 'commit_siblings': 487, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1227509504, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 745, 'from_collapse_limit': 1534489088, 'geqo_effort': 5, 'geqo_generations': 1360415375, 'geqo_pool_size': 1915561727, 'geqo_seed': 0.11263703060167607, 'geqo_threshold': 229705617, 'join_collapse_limit': 651512704, 'maintenance_work_mem': 1020556511, 'max_connections': 181, 'max_wal_senders': 20, 'shared_buffers': 270172, 'temp_buffers': 676001637, 'temp_file_limit': 801469311, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1601, 'vacuum_cost_page_hit': 7450, 'vacuum_cost_page_miss': 8304, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1605332368}, QPS: -4898.306537389613
Performance (QPS): -4898.306537389613
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 200, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 29.918965462546204, 'autovacuum_vacuum_threshold': 1830976255, 'backend_flush_after': 247, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 640, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 172, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5011, 'effective_cache_size': 627215424, 'effective_io_concurrency': 661, 'from_collapse_limit': 1492838400, 'geqo_effort': 4, 'geqo_generations': 1337927807, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.16926180549304135, 'geqo_threshold': 220129009, 'join_collapse_limit': 583802880, 'maintenance_work_mem': 1020556511, 'max_connections': 260, 'max_wal_senders': 17, 'shared_buffers': 274087, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 8546, 'vacuum_cost_page_miss': 8375, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1823197577}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 200
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 86
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 29.918965462546204
Set autovacuum_vacuum_threshold = 1830976255
Set backend_flush_after = 247
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 640
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 172
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5011
Set effective_cache_size = 627215424
Set effective_io_concurrency = 661
Set from_collapse_limit = 1492838400
Set geqo_effort = 4
Set geqo_generations = 1337927807
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.16926180549304135
Set geqo_threshold = 220129009
Set join_collapse_limit = 583802880
Set maintenance_work_mem = 1020556511
Set max_connections = 260
Set max_wal_senders = 17
Set shared_buffers = 274087
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 8546
Set vacuum_cost_page_miss = 8375
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1823197577
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-13-41.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-13-41.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-13-41.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-13-41.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-13-41.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-13-41.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763712758.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-13-41.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-13-41.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-13-41.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-13-41.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-13-41.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-13-41.params.json
Parsed throughput from summary.json: 4681.773962993072
BenchBase wikipedia throughput: 4681.773962993072
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 200, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 29.918965462546204, 'autovacuum_vacuum_threshold': 1830976255, 'backend_flush_after': 247, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 640, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 172, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5011, 'effective_cache_size': 627215424, 'effective_io_concurrency': 661, 'from_collapse_limit': 1492838400, 'geqo_effort': 4, 'geqo_generations': 1337927807, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.16926180549304135, 'geqo_threshold': 220129009, 'join_collapse_limit': 583802880, 'maintenance_work_mem': 1020556511, 'max_connections': 260, 'max_wal_senders': 17, 'shared_buffers': 274087, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 8546, 'vacuum_cost_page_miss': 8375, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1823197577}, QPS: -4681.773962993072
Performance (QPS): -4681.773962993072
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 93, 'autovacuum_vacuum_cost_limit': 3348, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 21, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1671664768, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514357760, 'geqo_effort': 4, 'geqo_generations': 1486190463, 'geqo_pool_size': 1906195711, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 15293870, 'join_collapse_limit': 540626624, 'maintenance_work_mem': 1020556511, 'max_connections': 141, 'max_wal_senders': 50, 'shared_buffers': 52942, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9764, 'vacuum_cost_page_dirty': 1995, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7267, 'wal_buffers': 71069, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 93
Set autovacuum_vacuum_cost_limit = 3348
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 8956
Set bgwriter_flush_after = 21
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 505
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1671664768
Set default_statistics_target = 5205
Set effective_cache_size = 581970432
Set effective_io_concurrency = 661
Set from_collapse_limit = 1514357760
Set geqo_effort = 4
Set geqo_generations = 1486190463
Set geqo_pool_size = 1906195711
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 15293870
Set join_collapse_limit = 540626624
Set maintenance_work_mem = 1020556511
Set max_connections = 141
Set max_wal_senders = 50
Set shared_buffers = 52942
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9764
Set vacuum_cost_page_dirty = 1995
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7267
Set wal_buffers = 71069
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-15-21.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-15-21.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-15-21.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763712857.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-15-21.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-15-21.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-15-21.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-15-21.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-15-21.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-15-21.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-15-21.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-15-21.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-15-21.results.RemoveWatchList.csv
Parsed throughput from summary.json: 4906.520169143016
BenchBase wikipedia throughput: 4906.520169143016
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 93, 'autovacuum_vacuum_cost_limit': 3348, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 21, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 505, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1671664768, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514357760, 'geqo_effort': 4, 'geqo_generations': 1486190463, 'geqo_pool_size': 1906195711, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 15293870, 'join_collapse_limit': 540626624, 'maintenance_work_mem': 1020556511, 'max_connections': 141, 'max_wal_senders': 50, 'shared_buffers': 52942, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9764, 'vacuum_cost_page_dirty': 1995, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7267, 'wal_buffers': 71069, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4906.520169143016
Performance (QPS): -4906.520169143016
Evaluating configuration: {'autovacuum_analyze_scale_factor': 41.59796351270345, 'autovacuum_analyze_threshold': 1282053375, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1572798, 'autovacuum_vacuum_cost_delay': 89, 'autovacuum_vacuum_cost_limit': 2928, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8672, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 437, 'cursor_tuple_fraction': 0.12004818724843756, 'deadlock_timeout': 1218667008, 'default_statistics_target': 3729, 'effective_cache_size': 138522880, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514048768, 'geqo_effort': 10, 'geqo_generations': 1304065791, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 48841797, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1233573299, 'max_connections': 347, 'max_wal_senders': 50, 'shared_buffers': 228635, 'temp_buffers': 495497077, 'temp_file_limit': 714140799, 'vacuum_cost_delay': 39, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 160, 'vacuum_cost_page_hit': 7015, 'vacuum_cost_page_miss': 7597, 'wal_buffers': 51814, 'wal_writer_delay': 3111, 'work_mem': 1471766292}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 41.59796351270345
Set autovacuum_analyze_threshold = 1282053375
Set autovacuum_max_workers = 183
Set autovacuum_naptime = 1572798
Set autovacuum_vacuum_cost_delay = 89
Set autovacuum_vacuum_cost_limit = 2928
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 8672
Set bgwriter_flush_after = 36
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 437
Set cursor_tuple_fraction = 0.12004818724843756
Set deadlock_timeout = 1218667008
Set default_statistics_target = 3729
Set effective_cache_size = 138522880
Set effective_io_concurrency = 661
Set from_collapse_limit = 1514048768
Set geqo_effort = 10
Set geqo_generations = 1304065791
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 48841797
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1233573299
Set max_connections = 347
Set max_wal_senders = 50
Set shared_buffers = 228635
Set temp_buffers = 495497077
Set temp_file_limit = 714140799
Set vacuum_cost_delay = 39
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 160
Set vacuum_cost_page_hit = 7015
Set vacuum_cost_page_miss = 7597
Set wal_buffers = 51814
Set wal_writer_delay = 3111
Set work_mem = 1471766292
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-16-59.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-16-59.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-16-59.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-16-59.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-16-59.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-16-59.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-16-59.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-16-59.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-16-59.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-16-59.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-16-59.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763712956.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-16-59.config.xml
Parsed throughput from summary.json: 4809.488833743246
BenchBase wikipedia throughput: 4809.488833743246
Configuration: {'autovacuum_analyze_scale_factor': 41.59796351270345, 'autovacuum_analyze_threshold': 1282053375, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1572798, 'autovacuum_vacuum_cost_delay': 89, 'autovacuum_vacuum_cost_limit': 2928, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8672, 'bgwriter_flush_after': 36, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 437, 'cursor_tuple_fraction': 0.12004818724843756, 'deadlock_timeout': 1218667008, 'default_statistics_target': 3729, 'effective_cache_size': 138522880, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514048768, 'geqo_effort': 10, 'geqo_generations': 1304065791, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 48841797, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1233573299, 'max_connections': 347, 'max_wal_senders': 50, 'shared_buffers': 228635, 'temp_buffers': 495497077, 'temp_file_limit': 714140799, 'vacuum_cost_delay': 39, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 160, 'vacuum_cost_page_hit': 7015, 'vacuum_cost_page_miss': 7597, 'wal_buffers': 51814, 'wal_writer_delay': 3111, 'work_mem': 1471766292}, QPS: -4809.488833743246
Performance (QPS): -4809.488833743246
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 9.892534626834623, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 255, 'bgwriter_delay': 9582, 'bgwriter_flush_after': 31, 'bgwriter_lru_maxpages': 565, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 203, 'checkpoint_timeout': 819, 'commit_delay': 94224, 'commit_siblings': 445, 'cursor_tuple_fraction': 0.048298459025220175, 'deadlock_timeout': 1343765632, 'default_statistics_target': 5205, 'effective_cache_size': 614593920, 'effective_io_concurrency': 661, 'from_collapse_limit': 1639211520, 'geqo_effort': 4, 'geqo_generations': 1278725887, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.16706050707453773, 'geqo_threshold': 186102897, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 288, 'max_wal_senders': 50, 'shared_buffers': 622716, 'temp_buffers': 817218391, 'temp_file_limit': 718711295, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 123, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7435, 'wal_buffers': 67834, 'wal_writer_delay': 2515, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 9.892534626834623
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 255
Set bgwriter_delay = 9582
Set bgwriter_flush_after = 31
Set bgwriter_lru_maxpages = 565
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 203
Set checkpoint_timeout = 819
Set commit_delay = 94224
Set commit_siblings = 445
Set cursor_tuple_fraction = 0.048298459025220175
Set deadlock_timeout = 1343765632
Set default_statistics_target = 5205
Set effective_cache_size = 614593920
Set effective_io_concurrency = 661
Set from_collapse_limit = 1639211520
Set geqo_effort = 4
Set geqo_generations = 1278725887
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.16706050707453773
Set geqo_threshold = 186102897
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 288
Set max_wal_senders = 50
Set shared_buffers = 622716
Set temp_buffers = 817218391
Set temp_file_limit = 718711295
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 123
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7435
Set wal_buffers = 67834
Set wal_writer_delay = 2515
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-18-39.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-18-39.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-18-39.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-18-39.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-18-39.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-18-39.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-18-39.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-18-39.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-18-39.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-18-39.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-18-39.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763713056.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-18-39.metrics.json
Parsed throughput from summary.json: 4893.540063704435
BenchBase wikipedia throughput: 4893.540063704435
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 9.892534626834623, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 255, 'bgwriter_delay': 9582, 'bgwriter_flush_after': 31, 'bgwriter_lru_maxpages': 565, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 203, 'checkpoint_timeout': 819, 'commit_delay': 94224, 'commit_siblings': 445, 'cursor_tuple_fraction': 0.048298459025220175, 'deadlock_timeout': 1343765632, 'default_statistics_target': 5205, 'effective_cache_size': 614593920, 'effective_io_concurrency': 661, 'from_collapse_limit': 1639211520, 'geqo_effort': 4, 'geqo_generations': 1278725887, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.16706050707453773, 'geqo_threshold': 186102897, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 288, 'max_wal_senders': 50, 'shared_buffers': 622716, 'temp_buffers': 817218391, 'temp_file_limit': 718711295, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 123, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7435, 'wal_buffers': 67834, 'wal_writer_delay': 2515, 'work_mem': 1523757836}, QPS: -4893.540063704435
Performance (QPS): -4893.540063704435
Evaluating configuration: {'autovacuum_analyze_scale_factor': 88.62684215074736, 'autovacuum_analyze_threshold': 1089692646, 'autovacuum_max_workers': 195, 'autovacuum_naptime': 1642575, 'autovacuum_vacuum_cost_delay': 24, 'autovacuum_vacuum_cost_limit': 2345, 'autovacuum_vacuum_scale_factor': 58.70190421492796, 'autovacuum_vacuum_threshold': 2130295752, 'backend_flush_after': 100, 'bgwriter_delay': 9831, 'bgwriter_flush_after': 3, 'bgwriter_lru_maxpages': 572, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.3789332885698177, 'checkpoint_flush_after': 193, 'checkpoint_timeout': 3358, 'commit_delay': 53200, 'commit_siblings': 149, 'cursor_tuple_fraction': 0.2063911501846606, 'deadlock_timeout': 307838952, 'default_statistics_target': 3088, 'effective_cache_size': 2067675407, 'effective_io_concurrency': 100, 'from_collapse_limit': 1315506013, 'geqo_effort': 3, 'geqo_generations': 36248920, 'geqo_pool_size': 1565604742, 'geqo_seed': 0.303251648500516, 'geqo_threshold': 1924433657, 'join_collapse_limit': 612087130, 'maintenance_work_mem': 1802711265, 'max_connections': 537, 'max_wal_senders': 34, 'shared_buffers': 3343838, 'temp_buffers': 896490438, 'temp_file_limit': 1583575297, 'vacuum_cost_delay': 29, 'vacuum_cost_limit': 2775, 'vacuum_cost_page_dirty': 9903, 'vacuum_cost_page_hit': 8740, 'vacuum_cost_page_miss': 9624, 'wal_buffers': 54163, 'wal_writer_delay': 3468, 'work_mem': 258997715}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 88.62684215074736
Set autovacuum_analyze_threshold = 1089692646
Set autovacuum_max_workers = 195
Set autovacuum_naptime = 1642575
Set autovacuum_vacuum_cost_delay = 24
Set autovacuum_vacuum_cost_limit = 2345
Set autovacuum_vacuum_scale_factor = 58.70190421492796
Set autovacuum_vacuum_threshold = 2130295752
Set backend_flush_after = 100
Set bgwriter_delay = 9831
Set bgwriter_flush_after = 3
Set bgwriter_lru_maxpages = 572
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.3789332885698177
Set checkpoint_flush_after = 193
Set checkpoint_timeout = 3358
Set commit_delay = 53200
Set commit_siblings = 149
Set cursor_tuple_fraction = 0.2063911501846606
Set deadlock_timeout = 307838952
Set default_statistics_target = 3088
Set effective_cache_size = 2067675407
Set effective_io_concurrency = 100
Set from_collapse_limit = 1315506013
Set geqo_effort = 3
Set geqo_generations = 36248920
Set geqo_pool_size = 1565604742
Set geqo_seed = 0.303251648500516
Set geqo_threshold = 1924433657
Set join_collapse_limit = 612087130
Set maintenance_work_mem = 1802711265
Set max_connections = 537
Set max_wal_senders = 34
Set shared_buffers = 3343838
Set temp_buffers = 896490438
Set temp_file_limit = 1583575297
Set vacuum_cost_delay = 29
Set vacuum_cost_limit = 2775
Set vacuum_cost_page_dirty = 9903
Set vacuum_cost_page_hit = 8740
Set vacuum_cost_page_miss = 9624
Set wal_buffers = 54163
Set wal_writer_delay = 3468
Set work_mem = 258997715
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-20-12.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-20-12.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-20-12.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-20-12.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-20-12.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-20-12.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-20-12.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-20-12.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-20-12.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763713149.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-20-12.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-20-12.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-20-12.results.UpdatePage.csv
Parsed throughput from summary.json: 4704.154147741768
BenchBase wikipedia throughput: 4704.154147741768
Configuration: {'autovacuum_analyze_scale_factor': 88.62684215074736, 'autovacuum_analyze_threshold': 1089692646, 'autovacuum_max_workers': 195, 'autovacuum_naptime': 1642575, 'autovacuum_vacuum_cost_delay': 24, 'autovacuum_vacuum_cost_limit': 2345, 'autovacuum_vacuum_scale_factor': 58.70190421492796, 'autovacuum_vacuum_threshold': 2130295752, 'backend_flush_after': 100, 'bgwriter_delay': 9831, 'bgwriter_flush_after': 3, 'bgwriter_lru_maxpages': 572, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.3789332885698177, 'checkpoint_flush_after': 193, 'checkpoint_timeout': 3358, 'commit_delay': 53200, 'commit_siblings': 149, 'cursor_tuple_fraction': 0.2063911501846606, 'deadlock_timeout': 307838952, 'default_statistics_target': 3088, 'effective_cache_size': 2067675407, 'effective_io_concurrency': 100, 'from_collapse_limit': 1315506013, 'geqo_effort': 3, 'geqo_generations': 36248920, 'geqo_pool_size': 1565604742, 'geqo_seed': 0.303251648500516, 'geqo_threshold': 1924433657, 'join_collapse_limit': 612087130, 'maintenance_work_mem': 1802711265, 'max_connections': 537, 'max_wal_senders': 34, 'shared_buffers': 3343838, 'temp_buffers': 896490438, 'temp_file_limit': 1583575297, 'vacuum_cost_delay': 29, 'vacuum_cost_limit': 2775, 'vacuum_cost_page_dirty': 9903, 'vacuum_cost_page_hit': 8740, 'vacuum_cost_page_miss': 9624, 'wal_buffers': 54163, 'wal_writer_delay': 3468, 'work_mem': 258997715}, QPS: -4704.154147741768
Performance (QPS): -4704.154147741768
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1111763583, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 89, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9013, 'bgwriter_flush_after': 61, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 92135, 'commit_siblings': 495, 'cursor_tuple_fraction': 0.05496161416439525, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514357760, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.15955275757710544, 'geqo_threshold': 79299743, 'join_collapse_limit': 503460896, 'maintenance_work_mem': 1311930510, 'max_connections': 363, 'max_wal_senders': 50, 'shared_buffers': 238021, 'temp_buffers': 622510762, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 45, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 120, 'vacuum_cost_page_hit': 7319, 'vacuum_cost_page_miss': 7740, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1111763583
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 89
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9013
Set bgwriter_flush_after = 61
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 92135
Set commit_siblings = 495
Set cursor_tuple_fraction = 0.05496161416439525
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 581970432
Set effective_io_concurrency = 661
Set from_collapse_limit = 1514357760
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.15955275757710544
Set geqo_threshold = 79299743
Set join_collapse_limit = 503460896
Set maintenance_work_mem = 1311930510
Set max_connections = 363
Set max_wal_senders = 50
Set shared_buffers = 238021
Set temp_buffers = 622510762
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 45
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 120
Set vacuum_cost_page_hit = 7319
Set vacuum_cost_page_miss = 7740
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-21-52.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-21-52.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-21-52.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-21-52.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763713248.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-21-52.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-21-52.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-21-52.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-21-52.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-21-52.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-21-52.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-21-52.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-21-52.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 4842.989581676757
BenchBase wikipedia throughput: 4842.989581676757
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1111763583, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 89, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9013, 'bgwriter_flush_after': 61, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 92135, 'commit_siblings': 495, 'cursor_tuple_fraction': 0.05496161416439525, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1514357760, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.15955275757710544, 'geqo_threshold': 79299743, 'join_collapse_limit': 503460896, 'maintenance_work_mem': 1311930510, 'max_connections': 363, 'max_wal_senders': 50, 'shared_buffers': 238021, 'temp_buffers': 622510762, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 45, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 120, 'vacuum_cost_page_hit': 7319, 'vacuum_cost_page_miss': 7740, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4842.989581676757
Performance (QPS): -4842.989581676757
Evaluating configuration: {'autovacuum_analyze_scale_factor': 62.77398526576415, 'autovacuum_analyze_threshold': 942107955, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 494775, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 9059, 'autovacuum_vacuum_scale_factor': 17.34541123412996, 'autovacuum_vacuum_threshold': 1879251016, 'backend_flush_after': 167, 'bgwriter_delay': 51, 'bgwriter_flush_after': 230, 'bgwriter_lru_maxpages': 347, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.5302685020069989, 'checkpoint_flush_after': 120, 'checkpoint_timeout': 3346, 'commit_delay': 15943, 'commit_siblings': 46, 'cursor_tuple_fraction': 0.07132190150500406, 'deadlock_timeout': 1425412589, 'default_statistics_target': 7822, 'effective_cache_size': 1509349540, 'effective_io_concurrency': 801, 'from_collapse_limit': 1946167420, 'geqo_effort': 1, 'geqo_generations': 2015642703, 'geqo_pool_size': 1467615377, 'geqo_seed': 0.6587688204846103, 'geqo_threshold': 1044749035, 'join_collapse_limit': 1715118753, 'maintenance_work_mem': 940684521, 'max_connections': 2166, 'max_wal_senders': 0, 'shared_buffers': 2497198, 'temp_buffers': 631386377, 'temp_file_limit': 1076235191, 'vacuum_cost_delay': 19, 'vacuum_cost_limit': 7864, 'vacuum_cost_page_dirty': 862, 'vacuum_cost_page_hit': 6229, 'vacuum_cost_page_miss': 3792, 'wal_buffers': 15829, 'wal_writer_delay': 4414, 'work_mem': 1613850536}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 62.77398526576415
Set autovacuum_analyze_threshold = 942107955
Set autovacuum_max_workers = 56
Set autovacuum_naptime = 494775
Set autovacuum_vacuum_cost_delay = 38
Set autovacuum_vacuum_cost_limit = 9059
Set autovacuum_vacuum_scale_factor = 17.34541123412996
Set autovacuum_vacuum_threshold = 1879251016
Set backend_flush_after = 167
Set bgwriter_delay = 51
Set bgwriter_flush_after = 230
Set bgwriter_lru_maxpages = 347
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.5302685020069989
Set checkpoint_flush_after = 120
Set checkpoint_timeout = 3346
Set commit_delay = 15943
Set commit_siblings = 46
Set cursor_tuple_fraction = 0.07132190150500406
Set deadlock_timeout = 1425412589
Set default_statistics_target = 7822
Set effective_cache_size = 1509349540
Set effective_io_concurrency = 801
Set from_collapse_limit = 1946167420
Set geqo_effort = 1
Set geqo_generations = 2015642703
Set geqo_pool_size = 1467615377
Set geqo_seed = 0.6587688204846103
Set geqo_threshold = 1044749035
Set join_collapse_limit = 1715118753
Set maintenance_work_mem = 940684521
Set max_connections = 2166
Set max_wal_senders = 0
Set shared_buffers = 2497198
Set temp_buffers = 631386377
Set temp_file_limit = 1076235191
Set vacuum_cost_delay = 19
Set vacuum_cost_limit = 7864
Set vacuum_cost_page_dirty = 862
Set vacuum_cost_page_hit = 6229
Set vacuum_cost_page_miss = 3792
Set wal_buffers = 15829
Set wal_writer_delay = 4414
Set work_mem = 1613850536
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-23-25.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-23-25.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-23-25.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-23-25.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763713342.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-23-25.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-23-25.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-23-25.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-23-25.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-23-25.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-23-25.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-23-25.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-23-25.config.xml
Parsed throughput from summary.json: 4872.558087635719
BenchBase wikipedia throughput: 4872.558087635719
Configuration: {'autovacuum_analyze_scale_factor': 62.77398526576415, 'autovacuum_analyze_threshold': 942107955, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 494775, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 9059, 'autovacuum_vacuum_scale_factor': 17.34541123412996, 'autovacuum_vacuum_threshold': 1879251016, 'backend_flush_after': 167, 'bgwriter_delay': 51, 'bgwriter_flush_after': 230, 'bgwriter_lru_maxpages': 347, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.5302685020069989, 'checkpoint_flush_after': 120, 'checkpoint_timeout': 3346, 'commit_delay': 15943, 'commit_siblings': 46, 'cursor_tuple_fraction': 0.07132190150500406, 'deadlock_timeout': 1425412589, 'default_statistics_target': 7822, 'effective_cache_size': 1509349540, 'effective_io_concurrency': 801, 'from_collapse_limit': 1946167420, 'geqo_effort': 1, 'geqo_generations': 2015642703, 'geqo_pool_size': 1467615377, 'geqo_seed': 0.6587688204846103, 'geqo_threshold': 1044749035, 'join_collapse_limit': 1715118753, 'maintenance_work_mem': 940684521, 'max_connections': 2166, 'max_wal_senders': 0, 'shared_buffers': 2497198, 'temp_buffers': 631386377, 'temp_file_limit': 1076235191, 'vacuum_cost_delay': 19, 'vacuum_cost_limit': 7864, 'vacuum_cost_page_dirty': 862, 'vacuum_cost_page_hit': 6229, 'vacuum_cost_page_miss': 3792, 'wal_buffers': 15829, 'wal_writer_delay': 4414, 'work_mem': 1613850536}, QPS: -4872.558087635719
Performance (QPS): -4872.558087635719
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 170, 'autovacuum_naptime': 1452950, 'autovacuum_vacuum_cost_delay': 85, 'autovacuum_vacuum_cost_limit': 3581, 'autovacuum_vacuum_scale_factor': 34.21215767390293, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9603, 'bgwriter_flush_after': 35, 'bgwriter_lru_maxpages': 537, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.32318911726709304, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 541, 'cursor_tuple_fraction': 0.15470184309206247, 'deadlock_timeout': 1285724416, 'default_statistics_target': 5205, 'effective_cache_size': 615111168, 'effective_io_concurrency': 661, 'from_collapse_limit': 1474644480, 'geqo_effort': 8, 'geqo_generations': 1252867455, 'geqo_pool_size': 2011684095, 'geqo_seed': 0.1671789134910743, 'geqo_threshold': 79299743, 'join_collapse_limit': 428791552, 'maintenance_work_mem': 1358842744, 'max_connections': 503, 'max_wal_senders': 47, 'shared_buffers': 94124, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 113, 'vacuum_cost_page_hit': 8249, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2666, 'work_mem': 1528144658}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 170
Set autovacuum_naptime = 1452950
Set autovacuum_vacuum_cost_delay = 85
Set autovacuum_vacuum_cost_limit = 3581
Set autovacuum_vacuum_scale_factor = 34.21215767390293
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9603
Set bgwriter_flush_after = 35
Set bgwriter_lru_maxpages = 537
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.32318911726709304
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 541
Set cursor_tuple_fraction = 0.15470184309206247
Set deadlock_timeout = 1285724416
Set default_statistics_target = 5205
Set effective_cache_size = 615111168
Set effective_io_concurrency = 661
Set from_collapse_limit = 1474644480
Set geqo_effort = 8
Set geqo_generations = 1252867455
Set geqo_pool_size = 2011684095
Set geqo_seed = 0.1671789134910743
Set geqo_threshold = 79299743
Set join_collapse_limit = 428791552
Set maintenance_work_mem = 1358842744
Set max_connections = 503
Set max_wal_senders = 47
Set shared_buffers = 94124
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 42
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 113
Set vacuum_cost_page_hit = 8249
Set vacuum_cost_page_miss = 7525
Set wal_buffers = 67834
Set wal_writer_delay = 2666
Set work_mem = 1528144658
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-25-04.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-25-04.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-25-04.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-25-04.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-25-04.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-25-04.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-25-04.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-25-04.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763713440.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-25-04.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-25-04.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-25-04.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-25-04.results.AddWatchList.csv
Parsed throughput from summary.json: 4886.702440583983
BenchBase wikipedia throughput: 4886.702440583983
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 170, 'autovacuum_naptime': 1452950, 'autovacuum_vacuum_cost_delay': 85, 'autovacuum_vacuum_cost_limit': 3581, 'autovacuum_vacuum_scale_factor': 34.21215767390293, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9603, 'bgwriter_flush_after': 35, 'bgwriter_lru_maxpages': 537, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.32318911726709304, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 541, 'cursor_tuple_fraction': 0.15470184309206247, 'deadlock_timeout': 1285724416, 'default_statistics_target': 5205, 'effective_cache_size': 615111168, 'effective_io_concurrency': 661, 'from_collapse_limit': 1474644480, 'geqo_effort': 8, 'geqo_generations': 1252867455, 'geqo_pool_size': 2011684095, 'geqo_seed': 0.1671789134910743, 'geqo_threshold': 79299743, 'join_collapse_limit': 428791552, 'maintenance_work_mem': 1358842744, 'max_connections': 503, 'max_wal_senders': 47, 'shared_buffers': 94124, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 113, 'vacuum_cost_page_hit': 8249, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2666, 'work_mem': 1528144658}, QPS: -4886.702440583983
Performance (QPS): -4886.702440583983
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 170, 'autovacuum_naptime': 1545360, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3581, 'autovacuum_vacuum_scale_factor': 34.21215767390293, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9603, 'bgwriter_flush_after': 35, 'bgwriter_lru_maxpages': 537, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.32318911726709304, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 501, 'cursor_tuple_fraction': 0.04736760868931063, 'deadlock_timeout': 1172365184, 'default_statistics_target': 5205, 'effective_cache_size': 702677056, 'effective_io_concurrency': 707, 'from_collapse_limit': 1474644480, 'geqo_effort': 8, 'geqo_generations': 1285827711, 'geqo_pool_size': 2018689407, 'geqo_seed': 0.1671789134910743, 'geqo_threshold': 79299743, 'join_collapse_limit': 428791552, 'maintenance_work_mem': 1436803282, 'max_connections': 362, 'max_wal_senders': 44, 'shared_buffers': 271938, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 113, 'vacuum_cost_page_hit': 8028, 'vacuum_cost_page_miss': 8563, 'wal_buffers': 64166, 'wal_writer_delay': 2666, 'work_mem': 1708208269}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 170
Set autovacuum_naptime = 1545360
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3581
Set autovacuum_vacuum_scale_factor = 34.21215767390293
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9603
Set bgwriter_flush_after = 35
Set bgwriter_lru_maxpages = 537
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.32318911726709304
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 501
Set cursor_tuple_fraction = 0.04736760868931063
Set deadlock_timeout = 1172365184
Set default_statistics_target = 5205
Set effective_cache_size = 702677056
Set effective_io_concurrency = 707
Set from_collapse_limit = 1474644480
Set geqo_effort = 8
Set geqo_generations = 1285827711
Set geqo_pool_size = 2018689407
Set geqo_seed = 0.1671789134910743
Set geqo_threshold = 79299743
Set join_collapse_limit = 428791552
Set maintenance_work_mem = 1436803282
Set max_connections = 362
Set max_wal_senders = 44
Set shared_buffers = 271938
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 26
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 113
Set vacuum_cost_page_hit = 8028
Set vacuum_cost_page_miss = 8563
Set wal_buffers = 64166
Set wal_writer_delay = 2666
Set work_mem = 1708208269
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-26-43.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-26-43.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-26-43.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-26-43.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-26-43.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-26-43.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-26-43.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-26-43.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763713540.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-26-43.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-26-43.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-26-43.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-26-43.samples.csv
Parsed throughput from summary.json: 4716.641360890369
BenchBase wikipedia throughput: 4716.641360890369
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 170, 'autovacuum_naptime': 1545360, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3581, 'autovacuum_vacuum_scale_factor': 34.21215767390293, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9603, 'bgwriter_flush_after': 35, 'bgwriter_lru_maxpages': 537, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.32318911726709304, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 501, 'cursor_tuple_fraction': 0.04736760868931063, 'deadlock_timeout': 1172365184, 'default_statistics_target': 5205, 'effective_cache_size': 702677056, 'effective_io_concurrency': 707, 'from_collapse_limit': 1474644480, 'geqo_effort': 8, 'geqo_generations': 1285827711, 'geqo_pool_size': 2018689407, 'geqo_seed': 0.1671789134910743, 'geqo_threshold': 79299743, 'join_collapse_limit': 428791552, 'maintenance_work_mem': 1436803282, 'max_connections': 362, 'max_wal_senders': 44, 'shared_buffers': 271938, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 113, 'vacuum_cost_page_hit': 8028, 'vacuum_cost_page_miss': 8563, 'wal_buffers': 64166, 'wal_writer_delay': 2666, 'work_mem': 1708208269}, QPS: -4716.641360890369
Performance (QPS): -4716.641360890369
Evaluating configuration: {'autovacuum_analyze_scale_factor': 33.88794645595483, 'autovacuum_analyze_threshold': 1374390271, 'autovacuum_max_workers': 192, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 3374, 'autovacuum_vacuum_scale_factor': 10.830343755865258, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8976, 'bgwriter_flush_after': 17, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.4180003299014505, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.050968717479426474, 'deadlock_timeout': 1413564160, 'default_statistics_target': 5235, 'effective_cache_size': 699992000, 'effective_io_concurrency': 764, 'from_collapse_limit': 1518467712, 'geqo_effort': 4, 'geqo_generations': 1360760831, 'geqo_pool_size': 1877988735, 'geqo_seed': 0.10510395618164958, 'geqo_threshold': 76621977, 'join_collapse_limit': 449999584, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 569684, 'temp_buffers': 579102382, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9787, 'vacuum_cost_page_dirty': 115, 'vacuum_cost_page_hit': 8900, 'vacuum_cost_page_miss': 7430, 'wal_buffers': 68482, 'wal_writer_delay': 2691, 'work_mem': 1806259082}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 33.88794645595483
Set autovacuum_analyze_threshold = 1374390271
Set autovacuum_max_workers = 192
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 87
Set autovacuum_vacuum_cost_limit = 3374
Set autovacuum_vacuum_scale_factor = 10.830343755865258
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 8976
Set bgwriter_flush_after = 17
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.4180003299014505
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.050968717479426474
Set deadlock_timeout = 1413564160
Set default_statistics_target = 5235
Set effective_cache_size = 699992000
Set effective_io_concurrency = 764
Set from_collapse_limit = 1518467712
Set geqo_effort = 4
Set geqo_generations = 1360760831
Set geqo_pool_size = 1877988735
Set geqo_seed = 0.10510395618164958
Set geqo_threshold = 76621977
Set join_collapse_limit = 449999584
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 569684
Set temp_buffers = 579102382
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9787
Set vacuum_cost_page_dirty = 115
Set vacuum_cost_page_hit = 8900
Set vacuum_cost_page_miss = 7430
Set wal_buffers = 68482
Set wal_writer_delay = 2691
Set work_mem = 1806259082
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-28-23.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763713639.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-28-23.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-28-23.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-28-23.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-28-23.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-28-23.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-28-23.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-28-23.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-28-23.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-28-23.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-28-23.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-28-23.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 4696.213169003942
BenchBase wikipedia throughput: 4696.213169003942
Configuration: {'autovacuum_analyze_scale_factor': 33.88794645595483, 'autovacuum_analyze_threshold': 1374390271, 'autovacuum_max_workers': 192, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 3374, 'autovacuum_vacuum_scale_factor': 10.830343755865258, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8976, 'bgwriter_flush_after': 17, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.4180003299014505, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.050968717479426474, 'deadlock_timeout': 1413564160, 'default_statistics_target': 5235, 'effective_cache_size': 699992000, 'effective_io_concurrency': 764, 'from_collapse_limit': 1518467712, 'geqo_effort': 4, 'geqo_generations': 1360760831, 'geqo_pool_size': 1877988735, 'geqo_seed': 0.10510395618164958, 'geqo_threshold': 76621977, 'join_collapse_limit': 449999584, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 569684, 'temp_buffers': 579102382, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9787, 'vacuum_cost_page_dirty': 115, 'vacuum_cost_page_hit': 8900, 'vacuum_cost_page_miss': 7430, 'wal_buffers': 68482, 'wal_writer_delay': 2691, 'work_mem': 1806259082}, QPS: -4696.213169003942
Performance (QPS): -4696.213169003942
Evaluating configuration: {'autovacuum_analyze_scale_factor': 63.80468750780034, 'autovacuum_analyze_threshold': 1030747860, 'autovacuum_max_workers': 30, 'autovacuum_naptime': 1925531, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 4398, 'autovacuum_vacuum_scale_factor': 67.09340867991733, 'autovacuum_vacuum_threshold': 788840530, 'backend_flush_after': 20, 'bgwriter_delay': 1333, 'bgwriter_flush_after': 126, 'bgwriter_lru_maxpages': 970, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.18021367191787196, 'checkpoint_flush_after': 50, 'checkpoint_timeout': 676, 'commit_delay': 84904, 'commit_siblings': 653, 'cursor_tuple_fraction': 0.9976386172065709, 'deadlock_timeout': 512538719, 'default_statistics_target': 9122, 'effective_cache_size': 1748151829, 'effective_io_concurrency': 867, 'from_collapse_limit': 772276758, 'geqo_effort': 6, 'geqo_generations': 1344037226, 'geqo_pool_size': 1874071651, 'geqo_seed': 0.1775620433663373, 'geqo_threshold': 2144495317, 'join_collapse_limit': 307717743, 'maintenance_work_mem': 1675395694, 'max_connections': 2863, 'max_wal_senders': 13, 'shared_buffers': 2419123, 'temp_buffers': 969524575, 'temp_file_limit': 297184029, 'vacuum_cost_delay': 16, 'vacuum_cost_limit': 9631, 'vacuum_cost_page_dirty': 9344, 'vacuum_cost_page_hit': 4986, 'vacuum_cost_page_miss': 4973, 'wal_buffers': 56444, 'wal_writer_delay': 6533, 'work_mem': 1477688830}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 63.80468750780034
Set autovacuum_analyze_threshold = 1030747860
Set autovacuum_max_workers = 30
Set autovacuum_naptime = 1925531
Set autovacuum_vacuum_cost_delay = 86
Set autovacuum_vacuum_cost_limit = 4398
Set autovacuum_vacuum_scale_factor = 67.09340867991733
Set autovacuum_vacuum_threshold = 788840530
Set backend_flush_after = 20
Set bgwriter_delay = 1333
Set bgwriter_flush_after = 126
Set bgwriter_lru_maxpages = 970
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.18021367191787196
Set checkpoint_flush_after = 50
Set checkpoint_timeout = 676
Set commit_delay = 84904
Set commit_siblings = 653
Set cursor_tuple_fraction = 0.9976386172065709
Set deadlock_timeout = 512538719
Set default_statistics_target = 9122
Set effective_cache_size = 1748151829
Set effective_io_concurrency = 867
Set from_collapse_limit = 772276758
Set geqo_effort = 6
Set geqo_generations = 1344037226
Set geqo_pool_size = 1874071651
Set geqo_seed = 0.1775620433663373
Set geqo_threshold = 2144495317
Set join_collapse_limit = 307717743
Set maintenance_work_mem = 1675395694
Set max_connections = 2863
Set max_wal_senders = 13
Set shared_buffers = 2419123
Set temp_buffers = 969524575
Set temp_file_limit = 297184029
Set vacuum_cost_delay = 16
Set vacuum_cost_limit = 9631
Set vacuum_cost_page_dirty = 9344
Set vacuum_cost_page_hit = 4986
Set vacuum_cost_page_miss = 4973
Set wal_buffers = 56444
Set wal_writer_delay = 6533
Set work_mem = 1477688830
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-29-56.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-29-56.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-29-56.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-29-56.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-29-56.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-29-56.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-29-56.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-29-56.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-29-56.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-29-56.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-29-56.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763713733.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-29-56.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Parsed throughput from summary.json: 4952.304985666246
BenchBase wikipedia throughput: 4952.304985666246
Configuration: {'autovacuum_analyze_scale_factor': 63.80468750780034, 'autovacuum_analyze_threshold': 1030747860, 'autovacuum_max_workers': 30, 'autovacuum_naptime': 1925531, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 4398, 'autovacuum_vacuum_scale_factor': 67.09340867991733, 'autovacuum_vacuum_threshold': 788840530, 'backend_flush_after': 20, 'bgwriter_delay': 1333, 'bgwriter_flush_after': 126, 'bgwriter_lru_maxpages': 970, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.18021367191787196, 'checkpoint_flush_after': 50, 'checkpoint_timeout': 676, 'commit_delay': 84904, 'commit_siblings': 653, 'cursor_tuple_fraction': 0.9976386172065709, 'deadlock_timeout': 512538719, 'default_statistics_target': 9122, 'effective_cache_size': 1748151829, 'effective_io_concurrency': 867, 'from_collapse_limit': 772276758, 'geqo_effort': 6, 'geqo_generations': 1344037226, 'geqo_pool_size': 1874071651, 'geqo_seed': 0.1775620433663373, 'geqo_threshold': 2144495317, 'join_collapse_limit': 307717743, 'maintenance_work_mem': 1675395694, 'max_connections': 2863, 'max_wal_senders': 13, 'shared_buffers': 2419123, 'temp_buffers': 969524575, 'temp_file_limit': 297184029, 'vacuum_cost_delay': 16, 'vacuum_cost_limit': 9631, 'vacuum_cost_page_dirty': 9344, 'vacuum_cost_page_hit': 4986, 'vacuum_cost_page_miss': 4973, 'wal_buffers': 56444, 'wal_writer_delay': 6533, 'work_mem': 1477688830}, QPS: -4952.304985666246
Performance (QPS): -4952.304985666246
Evaluating configuration: {'autovacuum_analyze_scale_factor': 72.90508688999545, 'autovacuum_analyze_threshold': 1279964317, 'autovacuum_max_workers': 54, 'autovacuum_naptime': 1073028, 'autovacuum_vacuum_cost_delay': 43, 'autovacuum_vacuum_cost_limit': 7601, 'autovacuum_vacuum_scale_factor': 20.974197165857877, 'autovacuum_vacuum_threshold': 1791150214, 'backend_flush_after': 153, 'bgwriter_delay': 257, 'bgwriter_flush_after': 18, 'bgwriter_lru_maxpages': 548, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.9345925604297941, 'checkpoint_flush_after': 42, 'checkpoint_timeout': 3153, 'commit_delay': 65541, 'commit_siblings': 721, 'cursor_tuple_fraction': 0.7992954220808225, 'deadlock_timeout': 1444706316, 'default_statistics_target': 3019, 'effective_cache_size': 6885491, 'effective_io_concurrency': 419, 'from_collapse_limit': 1578607312, 'geqo_effort': 3, 'geqo_generations': 1104277884, 'geqo_pool_size': 335262873, 'geqo_seed': 0.40628412649512835, 'geqo_threshold': 1133938882, 'join_collapse_limit': 212181309, 'maintenance_work_mem': 387870973, 'max_connections': 2440, 'max_wal_senders': 36, 'shared_buffers': 1164610, 'temp_buffers': 240371266, 'temp_file_limit': 1236609094, 'vacuum_cost_delay': 36, 'vacuum_cost_limit': 9027, 'vacuum_cost_page_dirty': 6136, 'vacuum_cost_page_hit': 1843, 'vacuum_cost_page_miss': 7004, 'wal_buffers': 34832, 'wal_writer_delay': 4717, 'work_mem': 1576643878}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 72.90508688999545
Set autovacuum_analyze_threshold = 1279964317
Set autovacuum_max_workers = 54
Set autovacuum_naptime = 1073028
Set autovacuum_vacuum_cost_delay = 43
Set autovacuum_vacuum_cost_limit = 7601
Set autovacuum_vacuum_scale_factor = 20.974197165857877
Set autovacuum_vacuum_threshold = 1791150214
Set backend_flush_after = 153
Set bgwriter_delay = 257
Set bgwriter_flush_after = 18
Set bgwriter_lru_maxpages = 548
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.9345925604297941
Set checkpoint_flush_after = 42
Set checkpoint_timeout = 3153
Set commit_delay = 65541
Set commit_siblings = 721
Set cursor_tuple_fraction = 0.7992954220808225
Set deadlock_timeout = 1444706316
Set default_statistics_target = 3019
Set effective_cache_size = 6885491
Set effective_io_concurrency = 419
Set from_collapse_limit = 1578607312
Set geqo_effort = 3
Set geqo_generations = 1104277884
Set geqo_pool_size = 335262873
Set geqo_seed = 0.40628412649512835
Set geqo_threshold = 1133938882
Set join_collapse_limit = 212181309
Set maintenance_work_mem = 387870973
Set max_connections = 2440
Set max_wal_senders = 36
Set shared_buffers = 1164610
Set temp_buffers = 240371266
Set temp_file_limit = 1236609094
Set vacuum_cost_delay = 36
Set vacuum_cost_limit = 9027
Set vacuum_cost_page_dirty = 6136
Set vacuum_cost_page_hit = 1843
Set vacuum_cost_page_miss = 7004
Set wal_buffers = 34832
Set wal_writer_delay = 4717
Set work_mem = 1576643878
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-31-30.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-31-30.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-31-30.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-31-30.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763713827.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-31-30.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-31-30.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-31-30.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-31-30.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-31-30.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-31-30.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-31-30.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-31-30.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Parsed throughput from summary.json: 4877.519875228591
BenchBase wikipedia throughput: 4877.519875228591
Configuration: {'autovacuum_analyze_scale_factor': 72.90508688999545, 'autovacuum_analyze_threshold': 1279964317, 'autovacuum_max_workers': 54, 'autovacuum_naptime': 1073028, 'autovacuum_vacuum_cost_delay': 43, 'autovacuum_vacuum_cost_limit': 7601, 'autovacuum_vacuum_scale_factor': 20.974197165857877, 'autovacuum_vacuum_threshold': 1791150214, 'backend_flush_after': 153, 'bgwriter_delay': 257, 'bgwriter_flush_after': 18, 'bgwriter_lru_maxpages': 548, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.9345925604297941, 'checkpoint_flush_after': 42, 'checkpoint_timeout': 3153, 'commit_delay': 65541, 'commit_siblings': 721, 'cursor_tuple_fraction': 0.7992954220808225, 'deadlock_timeout': 1444706316, 'default_statistics_target': 3019, 'effective_cache_size': 6885491, 'effective_io_concurrency': 419, 'from_collapse_limit': 1578607312, 'geqo_effort': 3, 'geqo_generations': 1104277884, 'geqo_pool_size': 335262873, 'geqo_seed': 0.40628412649512835, 'geqo_threshold': 1133938882, 'join_collapse_limit': 212181309, 'maintenance_work_mem': 387870973, 'max_connections': 2440, 'max_wal_senders': 36, 'shared_buffers': 1164610, 'temp_buffers': 240371266, 'temp_file_limit': 1236609094, 'vacuum_cost_delay': 36, 'vacuum_cost_limit': 9027, 'vacuum_cost_page_dirty': 6136, 'vacuum_cost_page_hit': 1843, 'vacuum_cost_page_miss': 7004, 'wal_buffers': 34832, 'wal_writer_delay': 4717, 'work_mem': 1576643878}, QPS: -4877.519875228591
Performance (QPS): -4877.519875228591
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1547407, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 19.747579898663698, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9280, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 597, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 180, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1373438208, 'default_statistics_target': 5205, 'effective_cache_size': 663189696, 'effective_io_concurrency': 661, 'from_collapse_limit': 1313106560, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1841164415, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 2217797, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1095847541, 'max_connections': 300, 'max_wal_senders': 49, 'shared_buffers': 207195, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 9938, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7605, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1547407
Set autovacuum_vacuum_cost_delay = 87
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 19.747579898663698
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9280
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 597
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 180
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1373438208
Set default_statistics_target = 5205
Set effective_cache_size = 663189696
Set effective_io_concurrency = 661
Set from_collapse_limit = 1313106560
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1841164415
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 2217797
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1095847541
Set max_connections = 300
Set max_wal_senders = 49
Set shared_buffers = 207195
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 42
Set vacuum_cost_limit = 9938
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7605
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-33-10.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-33-10.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-33-10.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-33-10.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763713926.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-33-10.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-33-10.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-33-10.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-33-10.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-33-10.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-33-10.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-33-10.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-33-10.params.json
Parsed throughput from summary.json: 4931.761506326699
BenchBase wikipedia throughput: 4931.761506326699
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1547407, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 19.747579898663698, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9280, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 597, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 180, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1373438208, 'default_statistics_target': 5205, 'effective_cache_size': 663189696, 'effective_io_concurrency': 661, 'from_collapse_limit': 1313106560, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1841164415, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 2217797, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1095847541, 'max_connections': 300, 'max_wal_senders': 49, 'shared_buffers': 207195, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 9938, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7605, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4931.761506326699
Performance (QPS): -4931.761506326699
Evaluating configuration: {'autovacuum_analyze_scale_factor': 25.07037368862224, 'autovacuum_analyze_threshold': 1342896300, 'autovacuum_max_workers': 148, 'autovacuum_naptime': 2125874, 'autovacuum_vacuum_cost_delay': 92, 'autovacuum_vacuum_cost_limit': 3380, 'autovacuum_vacuum_scale_factor': 53.815302389640195, 'autovacuum_vacuum_threshold': 545949560, 'backend_flush_after': 129, 'bgwriter_delay': 780, 'bgwriter_flush_after': 117, 'bgwriter_lru_maxpages': 12, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.10082291920833997, 'checkpoint_flush_after': 3, 'checkpoint_timeout': 2137, 'commit_delay': 78546, 'commit_siblings': 634, 'cursor_tuple_fraction': 0.9935007178417267, 'deadlock_timeout': 542770915, 'default_statistics_target': 4243, 'effective_cache_size': 1707780140, 'effective_io_concurrency': 396, 'from_collapse_limit': 321231218, 'geqo_effort': 3, 'geqo_generations': 1705394476, 'geqo_pool_size': 751099783, 'geqo_seed': 0.8768364529126433, 'geqo_threshold': 1496762375, 'join_collapse_limit': 363220851, 'maintenance_work_mem': 408756085, 'max_connections': 1827, 'max_wal_senders': 34, 'shared_buffers': 3739478, 'temp_buffers': 246326877, 'temp_file_limit': 1975488203, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 5673, 'vacuum_cost_page_dirty': 109, 'vacuum_cost_page_hit': 8730, 'vacuum_cost_page_miss': 6104, 'wal_buffers': 47211, 'wal_writer_delay': 8208, 'work_mem': 134060817}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 25.07037368862224
Set autovacuum_analyze_threshold = 1342896300
Set autovacuum_max_workers = 148
Set autovacuum_naptime = 2125874
Set autovacuum_vacuum_cost_delay = 92
Set autovacuum_vacuum_cost_limit = 3380
Set autovacuum_vacuum_scale_factor = 53.815302389640195
Set autovacuum_vacuum_threshold = 545949560
Set backend_flush_after = 129
Set bgwriter_delay = 780
Set bgwriter_flush_after = 117
Set bgwriter_lru_maxpages = 12
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.10082291920833997
Set checkpoint_flush_after = 3
Set checkpoint_timeout = 2137
Set commit_delay = 78546
Set commit_siblings = 634
Set cursor_tuple_fraction = 0.9935007178417267
Set deadlock_timeout = 542770915
Set default_statistics_target = 4243
Set effective_cache_size = 1707780140
Set effective_io_concurrency = 396
Set from_collapse_limit = 321231218
Set geqo_effort = 3
Set geqo_generations = 1705394476
Set geqo_pool_size = 751099783
Set geqo_seed = 0.8768364529126433
Set geqo_threshold = 1496762375
Set join_collapse_limit = 363220851
Set maintenance_work_mem = 408756085
Set max_connections = 1827
Set max_wal_senders = 34
Set shared_buffers = 3739478
Set temp_buffers = 246326877
Set temp_file_limit = 1975488203
Set vacuum_cost_delay = 59
Set vacuum_cost_limit = 5673
Set vacuum_cost_page_dirty = 109
Set vacuum_cost_page_hit = 8730
Set vacuum_cost_page_miss = 6104
Set wal_buffers = 47211
Set wal_writer_delay = 8208
Set work_mem = 134060817
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-34-44.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-34-44.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763714020.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-34-44.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-34-44.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-34-44.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-34-44.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-34-44.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-34-44.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-34-44.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-34-44.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-34-44.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-34-44.results.UpdatePage.csv
Parsed throughput from summary.json: 4894.189809255754
BenchBase wikipedia throughput: 4894.189809255754
Configuration: {'autovacuum_analyze_scale_factor': 25.07037368862224, 'autovacuum_analyze_threshold': 1342896300, 'autovacuum_max_workers': 148, 'autovacuum_naptime': 2125874, 'autovacuum_vacuum_cost_delay': 92, 'autovacuum_vacuum_cost_limit': 3380, 'autovacuum_vacuum_scale_factor': 53.815302389640195, 'autovacuum_vacuum_threshold': 545949560, 'backend_flush_after': 129, 'bgwriter_delay': 780, 'bgwriter_flush_after': 117, 'bgwriter_lru_maxpages': 12, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.10082291920833997, 'checkpoint_flush_after': 3, 'checkpoint_timeout': 2137, 'commit_delay': 78546, 'commit_siblings': 634, 'cursor_tuple_fraction': 0.9935007178417267, 'deadlock_timeout': 542770915, 'default_statistics_target': 4243, 'effective_cache_size': 1707780140, 'effective_io_concurrency': 396, 'from_collapse_limit': 321231218, 'geqo_effort': 3, 'geqo_generations': 1705394476, 'geqo_pool_size': 751099783, 'geqo_seed': 0.8768364529126433, 'geqo_threshold': 1496762375, 'join_collapse_limit': 363220851, 'maintenance_work_mem': 408756085, 'max_connections': 1827, 'max_wal_senders': 34, 'shared_buffers': 3739478, 'temp_buffers': 246326877, 'temp_file_limit': 1975488203, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 5673, 'vacuum_cost_page_dirty': 109, 'vacuum_cost_page_hit': 8730, 'vacuum_cost_page_miss': 6104, 'wal_buffers': 47211, 'wal_writer_delay': 8208, 'work_mem': 134060817}, QPS: -4894.189809255754
Performance (QPS): -4894.189809255754
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 180, 'autovacuum_naptime': 1649719, 'autovacuum_vacuum_cost_delay': 98, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1798019199, 'backend_flush_after': 256, 'bgwriter_delay': 8667, 'bgwriter_flush_after': 42, 'bgwriter_lru_maxpages': 572, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 191, 'checkpoint_timeout': 937, 'commit_delay': 86426, 'commit_siblings': 650, 'cursor_tuple_fraction': 0.06415271385589134, 'deadlock_timeout': 1147799296, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1963203071, 'geqo_seed': 0.12388027490848885, 'geqo_threshold': 79299743, 'join_collapse_limit': 486760128, 'maintenance_work_mem': 1020556511, 'max_connections': 249, 'max_wal_senders': 3, 'shared_buffers': 330353, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 110, 'vacuum_cost_page_hit': 5985, 'vacuum_cost_page_miss': 7605, 'wal_buffers': 77585, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 180
Set autovacuum_naptime = 1649719
Set autovacuum_vacuum_cost_delay = 98
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1798019199
Set backend_flush_after = 256
Set bgwriter_delay = 8667
Set bgwriter_flush_after = 42
Set bgwriter_lru_maxpages = 572
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 191
Set checkpoint_timeout = 937
Set commit_delay = 86426
Set commit_siblings = 650
Set cursor_tuple_fraction = 0.06415271385589134
Set deadlock_timeout = 1147799296
Set default_statistics_target = 5205
Set effective_cache_size = 390597560
Set effective_io_concurrency = 661
Set from_collapse_limit = 1540209128
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1963203071
Set geqo_seed = 0.12388027490848885
Set geqo_threshold = 79299743
Set join_collapse_limit = 486760128
Set maintenance_work_mem = 1020556511
Set max_connections = 249
Set max_wal_senders = 3
Set shared_buffers = 330353
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 110
Set vacuum_cost_page_hit = 5985
Set vacuum_cost_page_miss = 7605
Set wal_buffers = 77585
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-36-23.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-36-23.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-36-23.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-36-23.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-36-23.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-36-23.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-36-23.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763714120.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-36-23.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-36-23.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-36-23.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-36-23.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-36-23.samples.csv
Parsed throughput from summary.json: 4950.3061575673955
BenchBase wikipedia throughput: 4950.3061575673955
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 180, 'autovacuum_naptime': 1649719, 'autovacuum_vacuum_cost_delay': 98, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1798019199, 'backend_flush_after': 256, 'bgwriter_delay': 8667, 'bgwriter_flush_after': 42, 'bgwriter_lru_maxpages': 572, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 191, 'checkpoint_timeout': 937, 'commit_delay': 86426, 'commit_siblings': 650, 'cursor_tuple_fraction': 0.06415271385589134, 'deadlock_timeout': 1147799296, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1963203071, 'geqo_seed': 0.12388027490848885, 'geqo_threshold': 79299743, 'join_collapse_limit': 486760128, 'maintenance_work_mem': 1020556511, 'max_connections': 249, 'max_wal_senders': 3, 'shared_buffers': 330353, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 110, 'vacuum_cost_page_hit': 5985, 'vacuum_cost_page_miss': 7605, 'wal_buffers': 77585, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -4950.3061575673955
Performance (QPS): -4950.3061575673955
Evaluating configuration: {'autovacuum_analyze_scale_factor': 63.80468750780034, 'autovacuum_analyze_threshold': 1030747860, 'autovacuum_max_workers': 30, 'autovacuum_naptime': 1925531, 'autovacuum_vacuum_cost_delay': 92, 'autovacuum_vacuum_cost_limit': 4199, 'autovacuum_vacuum_scale_factor': 67.09340867991733, 'autovacuum_vacuum_threshold': 788840530, 'backend_flush_after': 23, 'bgwriter_delay': 1333, 'bgwriter_flush_after': 122, 'bgwriter_lru_maxpages': 970, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.18021367191787196, 'checkpoint_flush_after': 50, 'checkpoint_timeout': 850, 'commit_delay': 84904, 'commit_siblings': 640, 'cursor_tuple_fraction': 0.9976386172065709, 'deadlock_timeout': 512538719, 'default_statistics_target': 9122, 'effective_cache_size': 1630798848, 'effective_io_concurrency': 867, 'from_collapse_limit': 772276758, 'geqo_effort': 1, 'geqo_generations': 1432776575, 'geqo_pool_size': 1874071651, 'geqo_seed': 0.1775620433663373, 'geqo_threshold': 2144495317, 'join_collapse_limit': 307717743, 'maintenance_work_mem': 1798230694, 'max_connections': 2948, 'max_wal_senders': 13, 'shared_buffers': 2419123, 'temp_buffers': 969524575, 'temp_file_limit': 297184029, 'vacuum_cost_delay': 16, 'vacuum_cost_limit': 9631, 'vacuum_cost_page_dirty': 9344, 'vacuum_cost_page_hit': 4986, 'vacuum_cost_page_miss': 5442, 'wal_buffers': 87700, 'wal_writer_delay': 6533, 'work_mem': 1477688830}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 63.80468750780034
Set autovacuum_analyze_threshold = 1030747860
Set autovacuum_max_workers = 30
Set autovacuum_naptime = 1925531
Set autovacuum_vacuum_cost_delay = 92
Set autovacuum_vacuum_cost_limit = 4199
Set autovacuum_vacuum_scale_factor = 67.09340867991733
Set autovacuum_vacuum_threshold = 788840530
Set backend_flush_after = 23
Set bgwriter_delay = 1333
Set bgwriter_flush_after = 122
Set bgwriter_lru_maxpages = 970
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.18021367191787196
Set checkpoint_flush_after = 50
Set checkpoint_timeout = 850
Set commit_delay = 84904
Set commit_siblings = 640
Set cursor_tuple_fraction = 0.9976386172065709
Set deadlock_timeout = 512538719
Set default_statistics_target = 9122
Set effective_cache_size = 1630798848
Set effective_io_concurrency = 867
Set from_collapse_limit = 772276758
Set geqo_effort = 1
Set geqo_generations = 1432776575
Set geqo_pool_size = 1874071651
Set geqo_seed = 0.1775620433663373
Set geqo_threshold = 2144495317
Set join_collapse_limit = 307717743
Set maintenance_work_mem = 1798230694
Set max_connections = 2948
Set max_wal_senders = 13
Set shared_buffers = 2419123
Set temp_buffers = 969524575
Set temp_file_limit = 297184029
Set vacuum_cost_delay = 16
Set vacuum_cost_limit = 9631
Set vacuum_cost_page_dirty = 9344
Set vacuum_cost_page_hit = 4986
Set vacuum_cost_page_miss = 5442
Set wal_buffers = 87700
Set wal_writer_delay = 6533
Set work_mem = 1477688830
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-38-02.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763714219.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-38-02.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-38-02.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-38-02.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-38-02.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-38-02.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-38-02.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-38-02.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-38-02.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-38-02.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-38-02.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-38-02.results.UpdatePage.csv
Parsed throughput from summary.json: 4842.81453066016
BenchBase wikipedia throughput: 4842.81453066016
Configuration: {'autovacuum_analyze_scale_factor': 63.80468750780034, 'autovacuum_analyze_threshold': 1030747860, 'autovacuum_max_workers': 30, 'autovacuum_naptime': 1925531, 'autovacuum_vacuum_cost_delay': 92, 'autovacuum_vacuum_cost_limit': 4199, 'autovacuum_vacuum_scale_factor': 67.09340867991733, 'autovacuum_vacuum_threshold': 788840530, 'backend_flush_after': 23, 'bgwriter_delay': 1333, 'bgwriter_flush_after': 122, 'bgwriter_lru_maxpages': 970, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.18021367191787196, 'checkpoint_flush_after': 50, 'checkpoint_timeout': 850, 'commit_delay': 84904, 'commit_siblings': 640, 'cursor_tuple_fraction': 0.9976386172065709, 'deadlock_timeout': 512538719, 'default_statistics_target': 9122, 'effective_cache_size': 1630798848, 'effective_io_concurrency': 867, 'from_collapse_limit': 772276758, 'geqo_effort': 1, 'geqo_generations': 1432776575, 'geqo_pool_size': 1874071651, 'geqo_seed': 0.1775620433663373, 'geqo_threshold': 2144495317, 'join_collapse_limit': 307717743, 'maintenance_work_mem': 1798230694, 'max_connections': 2948, 'max_wal_senders': 13, 'shared_buffers': 2419123, 'temp_buffers': 969524575, 'temp_file_limit': 297184029, 'vacuum_cost_delay': 16, 'vacuum_cost_limit': 9631, 'vacuum_cost_page_dirty': 9344, 'vacuum_cost_page_hit': 4986, 'vacuum_cost_page_miss': 5442, 'wal_buffers': 87700, 'wal_writer_delay': 6533, 'work_mem': 1477688830}, QPS: -4842.81453066016
Performance (QPS): -4842.81453066016
Evaluating configuration: {'autovacuum_analyze_scale_factor': 35.34286396687664, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3289, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 246, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 42, 'bgwriter_lru_maxpages': 626, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 547, 'cursor_tuple_fraction': 0.07012891611139233, 'deadlock_timeout': 1046992256, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1532394112, 'geqo_effort': 6, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.0804156168894136, 'geqo_threshold': 134579761, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1232265524, 'max_connections': 61, 'max_wal_senders': 30, 'shared_buffers': 65293, 'temp_buffers': 613919914, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 110, 'vacuum_cost_page_hit': 8450, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2651, 'work_mem': 1491523859}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 35.34286396687664
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3289
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 246
Set bgwriter_delay = 8956
Set bgwriter_flush_after = 42
Set bgwriter_lru_maxpages = 626
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 547
Set cursor_tuple_fraction = 0.07012891611139233
Set deadlock_timeout = 1046992256
Set default_statistics_target = 5205
Set effective_cache_size = 581970432
Set effective_io_concurrency = 661
Set from_collapse_limit = 1532394112
Set geqo_effort = 6
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.0804156168894136
Set geqo_threshold = 134579761
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1232265524
Set max_connections = 61
Set max_wal_senders = 30
Set shared_buffers = 65293
Set temp_buffers = 613919914
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 110
Set vacuum_cost_page_hit = 8450
Set vacuum_cost_page_miss = 7599
Set wal_buffers = 67834
Set wal_writer_delay = 2651
Set work_mem = 1491523859
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-39-41.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-39-41.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-39-41.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-39-41.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-39-41.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763714318.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-39-41.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-39-41.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-39-41.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-39-41.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-39-41.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-39-41.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-39-41.config.xml
Parsed throughput from summary.json: 4728.403846041258
BenchBase wikipedia throughput: 4728.403846041258
Configuration: {'autovacuum_analyze_scale_factor': 35.34286396687664, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3289, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 246, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 42, 'bgwriter_lru_maxpages': 626, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 547, 'cursor_tuple_fraction': 0.07012891611139233, 'deadlock_timeout': 1046992256, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1532394112, 'geqo_effort': 6, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.0804156168894136, 'geqo_threshold': 134579761, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1232265524, 'max_connections': 61, 'max_wal_senders': 30, 'shared_buffers': 65293, 'temp_buffers': 613919914, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 110, 'vacuum_cost_page_hit': 8450, 'vacuum_cost_page_miss': 7599, 'wal_buffers': 67834, 'wal_writer_delay': 2651, 'work_mem': 1491523859}, QPS: -4728.403846041258
Performance (QPS): -4728.403846041258
Evaluating configuration: {'autovacuum_analyze_scale_factor': 37.224673834578645, 'autovacuum_analyze_threshold': 1118284927, 'autovacuum_max_workers': 170, 'autovacuum_naptime': 1503675, 'autovacuum_vacuum_cost_delay': 98, 'autovacuum_vacuum_cost_limit': 2836, 'autovacuum_vacuum_scale_factor': 23.204461135232847, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.299140757016261, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 662, 'commit_delay': 95048, 'commit_siblings': 617, 'cursor_tuple_fraction': 0.1382076774623488, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1553725696, 'geqo_effort': 4, 'geqo_generations': 1131186175, 'geqo_pool_size': 1899803519, 'geqo_seed': 0.14363085439559087, 'geqo_threshold': 83729545, 'join_collapse_limit': 482301152, 'maintenance_work_mem': 1192496071, 'max_connections': 363, 'max_wal_senders': 17, 'shared_buffers': 158952, 'temp_buffers': 592739820, 'temp_file_limit': 865027903, 'vacuum_cost_delay': 54, 'vacuum_cost_limit': 9850, 'vacuum_cost_page_dirty': 170, 'vacuum_cost_page_hit': 7108, 'vacuum_cost_page_miss': 8019, 'wal_buffers': 70600, 'wal_writer_delay': 2956, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 37.224673834578645
Set autovacuum_analyze_threshold = 1118284927
Set autovacuum_max_workers = 170
Set autovacuum_naptime = 1503675
Set autovacuum_vacuum_cost_delay = 98
Set autovacuum_vacuum_cost_limit = 2836
Set autovacuum_vacuum_scale_factor = 23.204461135232847
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 8956
Set bgwriter_flush_after = 26
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.299140757016261
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 662
Set commit_delay = 95048
Set commit_siblings = 617
Set cursor_tuple_fraction = 0.1382076774623488
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 581970432
Set effective_io_concurrency = 661
Set from_collapse_limit = 1553725696
Set geqo_effort = 4
Set geqo_generations = 1131186175
Set geqo_pool_size = 1899803519
Set geqo_seed = 0.14363085439559087
Set geqo_threshold = 83729545
Set join_collapse_limit = 482301152
Set maintenance_work_mem = 1192496071
Set max_connections = 363
Set max_wal_senders = 17
Set shared_buffers = 158952
Set temp_buffers = 592739820
Set temp_file_limit = 865027903
Set vacuum_cost_delay = 54
Set vacuum_cost_limit = 9850
Set vacuum_cost_page_dirty = 170
Set vacuum_cost_page_hit = 7108
Set vacuum_cost_page_miss = 8019
Set wal_buffers = 70600
Set wal_writer_delay = 2956
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-41-20.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-41-20.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-41-20.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-41-20.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-41-20.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-41-20.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-41-20.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-41-20.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-41-20.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-41-20.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-41-20.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763714417.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-41-20.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 4875.543044944395
BenchBase wikipedia throughput: 4875.543044944395
Configuration: {'autovacuum_analyze_scale_factor': 37.224673834578645, 'autovacuum_analyze_threshold': 1118284927, 'autovacuum_max_workers': 170, 'autovacuum_naptime': 1503675, 'autovacuum_vacuum_cost_delay': 98, 'autovacuum_vacuum_cost_limit': 2836, 'autovacuum_vacuum_scale_factor': 23.204461135232847, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 8956, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.299140757016261, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 662, 'commit_delay': 95048, 'commit_siblings': 617, 'cursor_tuple_fraction': 0.1382076774623488, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 661, 'from_collapse_limit': 1553725696, 'geqo_effort': 4, 'geqo_generations': 1131186175, 'geqo_pool_size': 1899803519, 'geqo_seed': 0.14363085439559087, 'geqo_threshold': 83729545, 'join_collapse_limit': 482301152, 'maintenance_work_mem': 1192496071, 'max_connections': 363, 'max_wal_senders': 17, 'shared_buffers': 158952, 'temp_buffers': 592739820, 'temp_file_limit': 865027903, 'vacuum_cost_delay': 54, 'vacuum_cost_limit': 9850, 'vacuum_cost_page_dirty': 170, 'vacuum_cost_page_hit': 7108, 'vacuum_cost_page_miss': 8019, 'wal_buffers': 70600, 'wal_writer_delay': 2956, 'work_mem': 1523757836}, QPS: -4875.543044944395
Performance (QPS): -4875.543044944395
Evaluating configuration: {'autovacuum_analyze_scale_factor': 34.79513989299898, 'autovacuum_analyze_threshold': 1285847935, 'autovacuum_max_workers': 200, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 92, 'autovacuum_vacuum_cost_limit': 3289, 'autovacuum_vacuum_scale_factor': 22.438479682856542, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 249, 'bgwriter_delay': 8062, 'bgwriter_flush_after': 41, 'bgwriter_lru_maxpages': 588, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 567, 'commit_delay': 94224, 'commit_siblings': 546, 'cursor_tuple_fraction': 0.09564281312540363, 'deadlock_timeout': 1217564032, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 717, 'from_collapse_limit': 1533928960, 'geqo_effort': 4, 'geqo_generations': 1076802560, 'geqo_pool_size': 2063247103, 'geqo_seed': 0.16191983319054437, 'geqo_threshold': 134579761, 'join_collapse_limit': 610819712, 'maintenance_work_mem': 1372178801, 'max_connections': 775, 'max_wal_senders': 30, 'shared_buffers': 284007, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 5740, 'vacuum_cost_page_miss': 8574, 'wal_buffers': 64878, 'wal_writer_delay': 2691, 'work_mem': 1792998922}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 34.79513989299898
Set autovacuum_analyze_threshold = 1285847935
Set autovacuum_max_workers = 200
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 92
Set autovacuum_vacuum_cost_limit = 3289
Set autovacuum_vacuum_scale_factor = 22.438479682856542
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 249
Set bgwriter_delay = 8062
Set bgwriter_flush_after = 41
Set bgwriter_lru_maxpages = 588
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 567
Set commit_delay = 94224
Set commit_siblings = 546
Set cursor_tuple_fraction = 0.09564281312540363
Set deadlock_timeout = 1217564032
Set default_statistics_target = 5205
Set effective_cache_size = 581970432
Set effective_io_concurrency = 717
Set from_collapse_limit = 1533928960
Set geqo_effort = 4
Set geqo_generations = 1076802560
Set geqo_pool_size = 2063247103
Set geqo_seed = 0.16191983319054437
Set geqo_threshold = 134579761
Set join_collapse_limit = 610819712
Set maintenance_work_mem = 1372178801
Set max_connections = 775
Set max_wal_senders = 30
Set shared_buffers = 284007
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 5740
Set vacuum_cost_page_miss = 8574
Set wal_buffers = 64878
Set wal_writer_delay = 2691
Set work_mem = 1792998922
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-42-59.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-42-59.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-42-59.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-42-59.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-42-59.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-42-59.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763714515.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-42-59.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-42-59.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-42-59.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-42-59.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-42-59.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-42-59.samples.csv
Parsed throughput from summary.json: 4923.509042818973
BenchBase wikipedia throughput: 4923.509042818973
Configuration: {'autovacuum_analyze_scale_factor': 34.79513989299898, 'autovacuum_analyze_threshold': 1285847935, 'autovacuum_max_workers': 200, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 92, 'autovacuum_vacuum_cost_limit': 3289, 'autovacuum_vacuum_scale_factor': 22.438479682856542, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 249, 'bgwriter_delay': 8062, 'bgwriter_flush_after': 41, 'bgwriter_lru_maxpages': 588, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 567, 'commit_delay': 94224, 'commit_siblings': 546, 'cursor_tuple_fraction': 0.09564281312540363, 'deadlock_timeout': 1217564032, 'default_statistics_target': 5205, 'effective_cache_size': 581970432, 'effective_io_concurrency': 717, 'from_collapse_limit': 1533928960, 'geqo_effort': 4, 'geqo_generations': 1076802560, 'geqo_pool_size': 2063247103, 'geqo_seed': 0.16191983319054437, 'geqo_threshold': 134579761, 'join_collapse_limit': 610819712, 'maintenance_work_mem': 1372178801, 'max_connections': 775, 'max_wal_senders': 30, 'shared_buffers': 284007, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 5740, 'vacuum_cost_page_miss': 8574, 'wal_buffers': 64878, 'wal_writer_delay': 2691, 'work_mem': 1792998922}, QPS: -4923.509042818973
Performance (QPS): -4923.509042818973
Evaluating configuration: {'autovacuum_analyze_scale_factor': 45.7745739202858, 'autovacuum_analyze_threshold': 1285847935, 'autovacuum_max_workers': 200, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 3289, 'autovacuum_vacuum_scale_factor': 16.163577771516323, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 240, 'bgwriter_delay': 8062, 'bgwriter_flush_after': 14, 'bgwriter_lru_maxpages': 588, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.35127865938270086, 'checkpoint_flush_after': 183, 'checkpoint_timeout': 567, 'commit_delay': 89201, 'commit_siblings': 517, 'cursor_tuple_fraction': 0.09564281312540363, 'deadlock_timeout': 1362474496, 'default_statistics_target': 5205, 'effective_cache_size': 680217024, 'effective_io_concurrency': 717, 'from_collapse_limit': 1691833728, 'geqo_effort': 4, 'geqo_generations': 1076802560, 'geqo_pool_size': 2063247103, 'geqo_seed': 0.0391537677835358, 'geqo_threshold': 134579761, 'join_collapse_limit': 610819712, 'maintenance_work_mem': 1372178801, 'max_connections': 742, 'max_wal_senders': 30, 'shared_buffers': 284007, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 36, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7150, 'vacuum_cost_page_miss': 8574, 'wal_buffers': 64878, 'wal_writer_delay': 2691, 'work_mem': 1938227590}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 45.7745739202858
Set autovacuum_analyze_threshold = 1285847935
Set autovacuum_max_workers = 200
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 96
Set autovacuum_vacuum_cost_limit = 3289
Set autovacuum_vacuum_scale_factor = 16.163577771516323
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 240
Set bgwriter_delay = 8062
Set bgwriter_flush_after = 14
Set bgwriter_lru_maxpages = 588
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.35127865938270086
Set checkpoint_flush_after = 183
Set checkpoint_timeout = 567
Set commit_delay = 89201
Set commit_siblings = 517
Set cursor_tuple_fraction = 0.09564281312540363
Set deadlock_timeout = 1362474496
Set default_statistics_target = 5205
Set effective_cache_size = 680217024
Set effective_io_concurrency = 717
Set from_collapse_limit = 1691833728
Set geqo_effort = 4
Set geqo_generations = 1076802560
Set geqo_pool_size = 2063247103
Set geqo_seed = 0.0391537677835358
Set geqo_threshold = 134579761
Set join_collapse_limit = 610819712
Set maintenance_work_mem = 1372178801
Set max_connections = 742
Set max_wal_senders = 30
Set shared_buffers = 284007
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 36
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7150
Set vacuum_cost_page_miss = 8574
Set wal_buffers = 64878
Set wal_writer_delay = 2691
Set work_mem = 1938227590
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config0.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config0.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-44-37.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-44-37.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-44-37.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-44-37.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-44-37.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-44-37.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary/wikipedia_2025-11-21_08-44-37.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_1763714614.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-44-37.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-44-37.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-44-37.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-44-37.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config0/wikipedia_2025-11-21_08-44-37.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 4904.869362154256
BenchBase wikipedia throughput: 4904.869362154256
Configuration: {'autovacuum_analyze_scale_factor': 45.7745739202858, 'autovacuum_analyze_threshold': 1285847935, 'autovacuum_max_workers': 200, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 3289, 'autovacuum_vacuum_scale_factor': 16.163577771516323, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 240, 'bgwriter_delay': 8062, 'bgwriter_flush_after': 14, 'bgwriter_lru_maxpages': 588, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.35127865938270086, 'checkpoint_flush_after': 183, 'checkpoint_timeout': 567, 'commit_delay': 89201, 'commit_siblings': 517, 'cursor_tuple_fraction': 0.09564281312540363, 'deadlock_timeout': 1362474496, 'default_statistics_target': 5205, 'effective_cache_size': 680217024, 'effective_io_concurrency': 717, 'from_collapse_limit': 1691833728, 'geqo_effort': 4, 'geqo_generations': 1076802560, 'geqo_pool_size': 2063247103, 'geqo_seed': 0.0391537677835358, 'geqo_threshold': 134579761, 'join_collapse_limit': 610819712, 'maintenance_work_mem': 1372178801, 'max_connections': 742, 'max_wal_senders': 30, 'shared_buffers': 284007, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 36, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7150, 'vacuum_cost_page_miss': 8574, 'wal_buffers': 64878, 'wal_writer_delay': 2691, 'work_mem': 1938227590}, QPS: -4904.869362154256
Performance (QPS): -4904.869362154256
finish
<class 'ConfigSpace.configuration_space.Configuration'>
Configuration(values={
  'autovacuum_analyze_scale_factor': 63.80468750780034,
  'autovacuum_analyze_threshold': 1030747860,
  'autovacuum_max_workers': 30,
  'autovacuum_naptime': 1925531,
  'autovacuum_vacuum_cost_delay': 86,
  'autovacuum_vacuum_cost_limit': 4398,
  'autovacuum_vacuum_scale_factor': 67.09340867991733,
  'autovacuum_vacuum_threshold': 788840530,
  'backend_flush_after': 20,
  'bgwriter_delay': 1333,
  'bgwriter_flush_after': 126,
  'bgwriter_lru_maxpages': 970,
  'bgwriter_lru_multiplier': 9,
  'checkpoint_completion_target': 0.18021367191787196,
  'checkpoint_flush_after': 50,
  'checkpoint_timeout': 676,
  'commit_delay': 84904,
  'commit_siblings': 653,
  'cursor_tuple_fraction': 0.9976386172065709,
  'deadlock_timeout': 512538719,
  'default_statistics_target': 9122,
  'effective_cache_size': 1748151829,
  'effective_io_concurrency': 867,
  'from_collapse_limit': 772276758,
  'geqo_effort': 6,
  'geqo_generations': 1344037226,
  'geqo_pool_size': 1874071651,
  'geqo_seed': 0.1775620433663373,
  'geqo_threshold': 2144495317,
  'join_collapse_limit': 307717743,
  'maintenance_work_mem': 1675395694,
  'max_connections': 2863,
  'max_wal_senders': 13,
  'shared_buffers': 2419123,
  'temp_buffers': 969524575,
  'temp_file_limit': 297184029,
  'vacuum_cost_delay': 16,
  'vacuum_cost_limit': 9631,
  'vacuum_cost_page_dirty': 9344,
  'vacuum_cost_page_hit': 4986,
  'vacuum_cost_page_miss': 4973,
  'wal_buffers': 56444,
  'wal_writer_delay': 6533,
  'work_mem': 1477688830,
})

OrderedDict([(RunKey(config_id=1, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4860.696689490954, time=92.36847257614136, status=<StatusType.SUCCESS: 1>, starttime=1763705000.5374904, endtime=1763705092.9060144, additional_info={})), (RunKey(config_id=2, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4781.258795615148, time=94.83847117424011, status=<StatusType.SUCCESS: 1>, starttime=1763705092.9097207, endtime=1763705187.7482517, additional_info={})), (RunKey(config_id=3, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4811.743958551332, time=95.2472095489502, status=<StatusType.SUCCESS: 1>, starttime=1763705187.751193, endtime=1763705282.9984746, additional_info={})), (RunKey(config_id=4, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4717.524970804701, time=93.93782949447632, status=<StatusType.SUCCESS: 1>, starttime=1763705283.0010166, endtime=1763705376.9389, additional_info={})), (RunKey(config_id=5, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4786.65776851219, time=93.37764310836792, status=<StatusType.SUCCESS: 1>, starttime=1763705376.941396, endtime=1763705470.3190973, additional_info={})), (RunKey(config_id=6, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4669.93278399877, time=94.31940340995789, status=<StatusType.SUCCESS: 1>, starttime=1763705470.3219202, endtime=1763705564.6413805, additional_info={})), (RunKey(config_id=7, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4605.012441309268, time=93.80176281929016, status=<StatusType.SUCCESS: 1>, starttime=1763705564.6440568, endtime=1763705658.4458923, additional_info={})), (RunKey(config_id=8, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4842.157938568207, time=94.92566275596619, status=<StatusType.SUCCESS: 1>, starttime=1763705658.449212, endtime=1763705753.3749328, additional_info={})), (RunKey(config_id=9, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4679.872207948354, time=94.43971133232117, status=<StatusType.SUCCESS: 1>, starttime=1763705753.3777432, endtime=1763705847.8175094, additional_info={})), (RunKey(config_id=10, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4831.990541489645, time=93.51873636245728, status=<StatusType.SUCCESS: 1>, starttime=1763705847.8205154, endtime=1763705941.3393188, additional_info={})), (RunKey(config_id=11, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4834.253318406428, time=95.07558107376099, status=<StatusType.SUCCESS: 1>, starttime=1763705941.3428192, endtime=1763706036.4184883, additional_info={})), (RunKey(config_id=12, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4232.3544235085, time=95.43680024147034, status=<StatusType.SUCCESS: 1>, starttime=1763706036.422261, endtime=1763706131.8591285, additional_info={})), (RunKey(config_id=13, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4817.437889042507, time=94.69021201133728, status=<StatusType.SUCCESS: 1>, starttime=1763706131.8634984, endtime=1763706226.5537853, additional_info={})), (RunKey(config_id=14, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4540.600743346173, time=94.30387020111084, status=<StatusType.SUCCESS: 1>, starttime=1763706226.5576632, endtime=1763706320.8616064, additional_info={})), (RunKey(config_id=15, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4681.8521050532, time=94.20718908309937, status=<StatusType.SUCCESS: 1>, starttime=1763706320.8659656, endtime=1763706415.0732222, additional_info={})), (RunKey(config_id=16, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4601.495517178977, time=94.3382842540741, status=<StatusType.SUCCESS: 1>, starttime=1763706415.0768569, endtime=1763706509.415195, additional_info={})), (RunKey(config_id=17, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4748.975427688609, time=93.220787525177, status=<StatusType.SUCCESS: 1>, starttime=1763706509.4186573, endtime=1763706602.6395023, additional_info={})), (RunKey(config_id=18, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4840.7208008829275, time=94.10038638114929, status=<StatusType.SUCCESS: 1>, starttime=1763706602.6432226, endtime=1763706696.7436893, additional_info={})), (RunKey(config_id=19, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4790.023364517007, time=94.21577072143555, status=<StatusType.SUCCESS: 1>, starttime=1763706696.7470682, endtime=1763706790.9628947, additional_info={})), (RunKey(config_id=20, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4829.372306283023, time=93.71089458465576, status=<StatusType.SUCCESS: 1>, starttime=1763706790.9664764, endtime=1763706884.677427, additional_info={})), (RunKey(config_id=21, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4902.702381131549, time=93.85494375228882, status=<StatusType.SUCCESS: 1>, starttime=1763706884.6811554, endtime=1763706978.5361516, additional_info={})), (RunKey(config_id=22, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4178.299749758208, time=91.75618195533752, status=<StatusType.SUCCESS: 1>, starttime=1763706978.5415406, endtime=1763707070.2977839, additional_info={})), (RunKey(config_id=23, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4708.650454257795, time=91.60957407951355, status=<StatusType.SUCCESS: 1>, starttime=1763707070.3042288, endtime=1763707161.9138598, additional_info={})), (RunKey(config_id=24, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4647.895880720992, time=93.87536525726318, status=<StatusType.SUCCESS: 1>, starttime=1763707161.9178102, endtime=1763707255.7932537, additional_info={})), (RunKey(config_id=25, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4847.188450704148, time=94.10483145713806, status=<StatusType.SUCCESS: 1>, starttime=1763707255.7974901, endtime=1763707349.9023802, additional_info={})), (RunKey(config_id=26, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4800.542126270403, time=93.61834788322449, status=<StatusType.SUCCESS: 1>, starttime=1763707349.9065356, endtime=1763707443.5249395, additional_info={})), (RunKey(config_id=27, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4936.222104155673, time=93.62425708770752, status=<StatusType.SUCCESS: 1>, starttime=1763707448.2609208, endtime=1763707541.8852353, additional_info={})), (RunKey(config_id=28, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4675.3478652806425, time=94.3663718700409, status=<StatusType.SUCCESS: 1>, starttime=1763707541.890722, endtime=1763707636.2571518, additional_info={})), (RunKey(config_id=29, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4837.704019327994, time=94.08911728858948, status=<StatusType.SUCCESS: 1>, starttime=1763707641.0916467, endtime=1763707735.1808214, additional_info={})), (RunKey(config_id=30, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1734.2937321749307, time=92.68596720695496, status=<StatusType.SUCCESS: 1>, starttime=1763707735.226869, endtime=1763707827.9129028, additional_info={})), (RunKey(config_id=31, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4901.092987273636, time=93.87316155433655, status=<StatusType.SUCCESS: 1>, starttime=1763707832.8522003, endtime=1763707926.7254145, additional_info={})), (RunKey(config_id=32, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4761.392342522734, time=93.371835231781, status=<StatusType.SUCCESS: 1>, starttime=1763707931.4881597, endtime=1763708024.8600495, additional_info={})), (RunKey(config_id=33, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4691.530385402489, time=93.6148452758789, status=<StatusType.SUCCESS: 1>, starttime=1763708029.4940326, endtime=1763708123.108932, additional_info={})), (RunKey(config_id=34, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4869.750644780413, time=93.47678875923157, status=<StatusType.SUCCESS: 1>, starttime=1763708123.1524112, endtime=1763708216.6292636, additional_info={})), (RunKey(config_id=35, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4804.017699170117, time=92.71084570884705, status=<StatusType.SUCCESS: 1>, starttime=1763708221.507331, endtime=1763708314.2182589, additional_info={})), (RunKey(config_id=36, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4869.907673005487, time=93.91357064247131, status=<StatusType.SUCCESS: 1>, starttime=1763708314.2669976, endtime=1763708408.1806252, additional_info={})), (RunKey(config_id=37, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4721.097237563432, time=93.79863667488098, status=<StatusType.SUCCESS: 1>, starttime=1763708413.1812735, endtime=1763708506.9799652, additional_info={})), (RunKey(config_id=38, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4877.6340807335255, time=92.55211234092712, status=<StatusType.SUCCESS: 1>, starttime=1763708511.488407, endtime=1763708604.0405738, additional_info={})), (RunKey(config_id=39, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4673.044270170438, time=92.30135869979858, status=<StatusType.SUCCESS: 1>, starttime=1763708608.8267715, endtime=1763708701.128189, additional_info={})), (RunKey(config_id=40, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4663.298153664203, time=93.5571231842041, status=<StatusType.SUCCESS: 1>, starttime=1763708706.1736891, endtime=1763708799.730877, additional_info={})), (RunKey(config_id=41, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4849.027190909095, time=93.4898316860199, status=<StatusType.SUCCESS: 1>, starttime=1763708804.4797475, endtime=1763708897.9696681, additional_info={})), (RunKey(config_id=42, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4800.234267484838, time=93.11533570289612, status=<StatusType.SUCCESS: 1>, starttime=1763708898.0236492, endtime=1763708991.1390421, additional_info={})), (RunKey(config_id=43, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4798.68603047249, time=93.58937931060791, status=<StatusType.SUCCESS: 1>, starttime=1763708996.4043205, endtime=1763709089.9937625, additional_info={})), (RunKey(config_id=44, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4594.051415330358, time=93.46115517616272, status=<StatusType.SUCCESS: 1>, starttime=1763709094.5294414, endtime=1763709187.9906902, additional_info={})), (RunKey(config_id=45, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4801.495782769884, time=93.54302787780762, status=<StatusType.SUCCESS: 1>, starttime=1763709193.3243892, endtime=1763709286.8674812, additional_info={})), (RunKey(config_id=46, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4800.114850602409, time=93.86400842666626, status=<StatusType.SUCCESS: 1>, starttime=1763709286.929683, endtime=1763709380.7937613, additional_info={})), (RunKey(config_id=47, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4824.8153482409525, time=93.55928134918213, status=<StatusType.SUCCESS: 1>, starttime=1763709385.3215678, endtime=1763709478.880911, additional_info={})), (RunKey(config_id=48, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4688.99157940235, time=93.45645308494568, status=<StatusType.SUCCESS: 1>, starttime=1763709483.9070268, endtime=1763709577.3635333, additional_info={})), (RunKey(config_id=49, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4633.620010915298, time=92.43649291992188, status=<StatusType.SUCCESS: 1>, starttime=1763709582.7420754, endtime=1763709675.1786451, additional_info={})), (RunKey(config_id=50, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4819.888014073927, time=93.28216123580933, status=<StatusType.SUCCESS: 1>, starttime=1763709679.9109137, endtime=1763709773.1931343, additional_info={})), (RunKey(config_id=51, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4672.794697345745, time=92.1957905292511, status=<StatusType.SUCCESS: 1>, starttime=1763709773.2556138, endtime=1763709865.4514804, additional_info={})), (RunKey(config_id=52, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4875.976939960862, time=93.37358951568604, status=<StatusType.SUCCESS: 1>, starttime=1763709871.0543795, endtime=1763709964.4280217, additional_info={})), (RunKey(config_id=53, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4858.80757646781, time=93.43799924850464, status=<StatusType.SUCCESS: 1>, starttime=1763709969.0470543, endtime=1763710062.4851065, additional_info={})), (RunKey(config_id=54, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4905.874066371767, time=92.35653710365295, status=<StatusType.SUCCESS: 1>, starttime=1763710067.835331, endtime=1763710160.1919217, additional_info={})), (RunKey(config_id=55, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4926.9310924896945, time=93.49894189834595, status=<StatusType.SUCCESS: 1>, starttime=1763710165.3533597, endtime=1763710258.8523571, additional_info={})), (RunKey(config_id=56, instance_id=None, seed=0, budget=0.0), RunValue(cost=2147483647.0, time=92.8125913143158, status=<StatusType.CRASHED: 3>, starttime=1763710258.92285, endtime=1763710351.735492, additional_info={})), (RunKey(config_id=57, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4885.382238943703, time=93.75961136817932, status=<StatusType.SUCCESS: 1>, starttime=1763710357.417787, endtime=1763710451.1774633, additional_info={})), (RunKey(config_id=58, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4811.055482261228, time=93.05331039428711, status=<StatusType.SUCCESS: 1>, starttime=1763710451.2459252, endtime=1763710544.299302, additional_info={})), (RunKey(config_id=59, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4902.06742189024, time=93.89055180549622, status=<StatusType.SUCCESS: 1>, starttime=1763710549.8455572, endtime=1763710643.7361612, additional_info={})), (RunKey(config_id=60, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4672.8679033249655, time=93.5476713180542, status=<StatusType.SUCCESS: 1>, starttime=1763710649.6531422, endtime=1763710743.2008655, additional_info={})), (RunKey(config_id=61, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4644.512967992291, time=93.6408748626709, status=<StatusType.SUCCESS: 1>, starttime=1763710748.8798904, endtime=1763710842.5208194, additional_info={})), (RunKey(config_id=62, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4894.3520072837555, time=93.82877540588379, status=<StatusType.SUCCESS: 1>, starttime=1763710848.4548042, endtime=1763710942.2836704, additional_info={})), (RunKey(config_id=63, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4601.028966343373, time=92.72314310073853, status=<StatusType.SUCCESS: 1>, starttime=1763710947.3163397, endtime=1763711040.0395381, additional_info={})), (RunKey(config_id=64, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4710.724215874132, time=93.84836554527283, status=<StatusType.SUCCESS: 1>, starttime=1763711045.5553, endtime=1763711139.4037209, additional_info={})), (RunKey(config_id=65, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4810.424063145018, time=93.94950485229492, status=<StatusType.SUCCESS: 1>, starttime=1763711144.8570924, endtime=1763711238.8066757, additional_info={})), (RunKey(config_id=66, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4793.6828251035, time=93.03132367134094, status=<StatusType.SUCCESS: 1>, starttime=1763711244.3355713, endtime=1763711337.3669508, additional_info={})), (RunKey(config_id=67, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4776.560406770323, time=93.77510070800781, status=<StatusType.SUCCESS: 1>, starttime=1763711342.6922476, endtime=1763711436.4674022, additional_info={})), (RunKey(config_id=68, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4674.067927005795, time=93.63261342048645, status=<StatusType.SUCCESS: 1>, starttime=1763711441.612435, endtime=1763711535.2451026, additional_info={})), (RunKey(config_id=69, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4763.133988963253, time=91.5373146533966, status=<StatusType.SUCCESS: 1>, starttime=1763711540.4499836, endtime=1763711631.987365, additional_info={})), (RunKey(config_id=70, instance_id=None, seed=0, budget=0.0), RunValue(cost=2147483647.0, time=93.75047373771667, status=<StatusType.CRASHED: 3>, starttime=1763711637.288115, endtime=1763711731.0386853, additional_info={})), (RunKey(config_id=71, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4616.831958209934, time=92.35913801193237, status=<StatusType.SUCCESS: 1>, starttime=1763711736.7928696, endtime=1763711829.1520758, additional_info={})), (RunKey(config_id=72, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4863.35882966211, time=93.78714084625244, status=<StatusType.SUCCESS: 1>, starttime=1763711834.859814, endtime=1763711928.6470082, additional_info={})), (RunKey(config_id=73, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4657.548759908001, time=93.68989276885986, status=<StatusType.SUCCESS: 1>, starttime=1763711933.5901492, endtime=1763712027.2801, additional_info={})), (RunKey(config_id=74, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4863.4546813189445, time=93.8590042591095, status=<StatusType.SUCCESS: 1>, starttime=1763712032.4384115, endtime=1763712126.2974727, additional_info={})), (RunKey(config_id=75, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4866.578908948333, time=93.56285262107849, status=<StatusType.SUCCESS: 1>, starttime=1763712132.1197565, endtime=1763712225.6826859, additional_info={})), (RunKey(config_id=76, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4897.4706750932055, time=93.73916721343994, status=<StatusType.SUCCESS: 1>, starttime=1763712231.1456506, endtime=1763712324.8848746, additional_info={})), (RunKey(config_id=77, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4724.039799322056, time=93.6408200263977, status=<StatusType.SUCCESS: 1>, starttime=1763712330.6745782, endtime=1763712424.3154712, additional_info={})), (RunKey(config_id=78, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4646.749736195922, time=93.5045599937439, status=<StatusType.SUCCESS: 1>, starttime=1763712430.6234457, endtime=1763712524.1280625, additional_info={})), (RunKey(config_id=79, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4936.134190370914, time=93.76194286346436, status=<StatusType.SUCCESS: 1>, starttime=1763712530.160163, endtime=1763712623.9221704, additional_info={})), (RunKey(config_id=80, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4898.306537389613, time=93.45484471321106, status=<StatusType.SUCCESS: 1>, starttime=1763712630.1043844, endtime=1763712723.559287, additional_info={})), (RunKey(config_id=81, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4681.773962993072, time=93.46449947357178, status=<StatusType.SUCCESS: 1>, starttime=1763712729.364867, endtime=1763712822.8294277, additional_info={})), (RunKey(config_id=82, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4906.520169143016, time=93.73668694496155, status=<StatusType.SUCCESS: 1>, starttime=1763712828.640147, endtime=1763712922.3768902, additional_info={})), (RunKey(config_id=83, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4809.488833743246, time=93.25698018074036, status=<StatusType.SUCCESS: 1>, starttime=1763712927.7653255, endtime=1763713021.022361, additional_info={})), (RunKey(config_id=84, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4893.540063704435, time=93.66841697692871, status=<StatusType.SUCCESS: 1>, starttime=1763713027.16195, endtime=1763713120.8304381, additional_info={})), (RunKey(config_id=85, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4704.154147741768, time=93.01063060760498, status=<StatusType.SUCCESS: 1>, starttime=1763713120.9295197, endtime=1763713213.940212, additional_info={})), (RunKey(config_id=86, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4842.989581676757, time=93.79166913032532, status=<StatusType.SUCCESS: 1>, starttime=1763713219.588598, endtime=1763713313.3803198, additional_info={})), (RunKey(config_id=87, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4872.558087635719, time=93.47712326049805, status=<StatusType.SUCCESS: 1>, starttime=1763713313.4802647, endtime=1763713406.9574478, additional_info={})), (RunKey(config_id=88, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4886.702440583983, time=93.55771136283875, status=<StatusType.SUCCESS: 1>, starttime=1763713411.9674346, endtime=1763713505.5252006, additional_info={})), (RunKey(config_id=89, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4716.641360890369, time=93.62745594978333, status=<StatusType.SUCCESS: 1>, starttime=1763713511.46541, endtime=1763713605.092918, additional_info={})), (RunKey(config_id=90, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4696.213169003942, time=93.44108176231384, status=<StatusType.SUCCESS: 1>, starttime=1763713611.0131621, endtime=1763713704.4542978, additional_info={})), (RunKey(config_id=91, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4952.304985666246, time=93.64871501922607, status=<StatusType.SUCCESS: 1>, starttime=1763713704.5601962, endtime=1763713798.2089653, additional_info={})), (RunKey(config_id=92, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4877.519875228591, time=93.66456413269043, status=<StatusType.SUCCESS: 1>, starttime=1763713798.221187, endtime=1763713891.885812, additional_info={})), (RunKey(config_id=93, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4931.761506326699, time=93.60822248458862, status=<StatusType.SUCCESS: 1>, starttime=1763713897.8930266, endtime=1763713991.5012999, additional_info={})), (RunKey(config_id=94, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4894.189809255754, time=93.70055484771729, status=<StatusType.SUCCESS: 1>, starttime=1763713991.6051326, endtime=1763714085.3057432, additional_info={})), (RunKey(config_id=95, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4950.3061575673955, time=93.89828395843506, status=<StatusType.SUCCESS: 1>, starttime=1763714091.1046762, endtime=1763714185.0030086, additional_info={})), (RunKey(config_id=96, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4842.81453066016, time=93.01003766059875, status=<StatusType.SUCCESS: 1>, starttime=1763714190.4732223, endtime=1763714283.4833262, additional_info={})), (RunKey(config_id=97, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4728.403846041258, time=93.84463381767273, status=<StatusType.SUCCESS: 1>, starttime=1763714289.0675108, endtime=1763714382.912233, additional_info={})), (RunKey(config_id=98, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4875.543044944395, time=93.47384285926819, status=<StatusType.SUCCESS: 1>, starttime=1763714388.5979164, endtime=1763714482.0718193, additional_info={})), (RunKey(config_id=99, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4923.509042818973, time=93.54169178009033, status=<StatusType.SUCCESS: 1>, starttime=1763714486.9980328, endtime=1763714580.5397768, additional_info={})), (RunKey(config_id=100, instance_id=None, seed=0, budget=0.0), RunValue(cost=-4904.869362154256, time=93.49022507667542, status=<StatusType.SUCCESS: 1>, starttime=1763714585.706613, endtime=1763714679.1968904, additional_info={}))])
SMAC optimization complete for ./oltp_workloads/wikipedia/sample_wikipedia_config0.xml
End time for workload (unix seconds): 1763714679
Begin tuning for workload: 1
tune for workload: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Start time for workload (unix seconds): 1763714679
üì¶ Removing corrupted postgresql.auto.conf...
‚è≥ Waiting briefly...
üîÅ Restarting PostgreSQL using pg_ctlcluster...
‚úÖ PostgreSQL restarted successfully.
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Running default configuration for workload
Removed postgresql.auto.conf file (if it existed).
Resetting inner metrics...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Internal metrics reset successfully.
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-46-32.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-46-32.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-46-32.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-46-32.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_08-46-32.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-46-32.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-46-32.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-46-32.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-46-32.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763714729.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-46-32.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-46-32.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-46-32.results.RemoveWatchList.csv
Parsed throughput from summary.json: 1709.8990737704046
BenchBase wikipedia throughput: 1709.8990737704046
Configuration: None, QPS: -1709.8990737704046
Default configuration run complete for workload
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Fetched 14 internal metrics
Internal metrics: {'xact_commit': 95540.0, 'xact_rollback': 48710.0, 'blks_read': 365497.0, 'blks_hit': 14143627.0, 'tup_returned': 7695595.0, 'tup_fetched': 5583900.0, 'tup_inserted': 923742.0, 'conflicts': 0.0, 'tup_updated': 233554.0, 'tup_deleted': 4532.0, 'disk_read_count': 608699.0, 'disk_write_count': 565593.0, 'disk_read_bytes': 4986462208.0, 'disk_write_bytes': 4633337856.0}
Internal metrics collected: {'xact_commit': 95540.0, 'xact_rollback': 48710.0, 'blks_read': 365497.0, 'blks_hit': 14143627.0, 'tup_returned': 7695595.0, 'tup_fetched': 5583900.0, 'tup_inserted': 923742.0, 'conflicts': 0.0, 'tup_updated': 233554.0, 'tup_deleted': 4532.0, 'disk_read_count': 608699.0, 'disk_write_count': 565593.0, 'disk_read_bytes': 4986462208.0, 'disk_write_bytes': 4633337856.0}
Internal metrics saved to: internal_metrics/wikipedia/sample_wikipedia_config1_internal_metrics.json
Starting tuning for workload: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Beginning SMAC optimization
Length of knobs: 44
Initialized configuration space with knobs.
Workload file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Save workload identifier: sample_wikipedia_config1
Starting SMAC scenario setup.
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
 t
(2 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1298967
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4358
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 70276608
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4598
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-48-05.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-48-05.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-48-05.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-48-05.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763714822.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-48-05.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-48-05.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_08-48-05.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-48-05.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-48-05.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-48-05.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-48-05.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-48-05.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 1905.3039909569045
BenchBase wikipedia throughput: 1905.3039909569045
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -1905.3039909569045
Performance (QPS): -1905.3039909569045
Evaluating configuration: {'autovacuum_analyze_scale_factor': 59.09048430621624, 'autovacuum_analyze_threshold': 269378350, 'autovacuum_max_workers': 121, 'autovacuum_naptime': 364983, 'autovacuum_vacuum_cost_delay': 46, 'autovacuum_vacuum_cost_limit': 162, 'autovacuum_vacuum_scale_factor': 47.69385075196624, 'autovacuum_vacuum_threshold': 722834952, 'backend_flush_after': 238, 'bgwriter_delay': 9452, 'bgwriter_flush_after': 93, 'bgwriter_lru_maxpages': 187, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9411872830241919, 'checkpoint_flush_after': 108, 'checkpoint_timeout': 1042, 'commit_delay': 83081, 'commit_siblings': 447, 'cursor_tuple_fraction': 0.5100215626880527, 'deadlock_timeout': 727367336, 'default_statistics_target': 5797, 'effective_cache_size': 612946166, 'effective_io_concurrency': 862, 'from_collapse_limit': 181234394, 'geqo_effort': 8, 'geqo_generations': 2082024641, 'geqo_pool_size': 344736214, 'geqo_seed': 0.5773294121026993, 'geqo_threshold': 1410184352, 'join_collapse_limit': 2014285460, 'maintenance_work_mem': 1770346271, 'max_connections': 2691, 'max_wal_senders': 29, 'shared_buffers': 3215730, 'temp_buffers': 978368191, 'temp_file_limit': 1375887961, 'vacuum_cost_delay': 9, 'vacuum_cost_limit': 6208, 'vacuum_cost_page_dirty': 7472, 'vacuum_cost_page_hit': 1318, 'vacuum_cost_page_miss': 7972, 'wal_buffers': 118787, 'wal_writer_delay': 213, 'work_mem': 409864143}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 59.09048430621624
Set autovacuum_analyze_threshold = 269378350
Set autovacuum_max_workers = 121
Set autovacuum_naptime = 364983
Set autovacuum_vacuum_cost_delay = 46
Set autovacuum_vacuum_cost_limit = 162
Set autovacuum_vacuum_scale_factor = 47.69385075196624
Set autovacuum_vacuum_threshold = 722834952
Set backend_flush_after = 238
Set bgwriter_delay = 9452
Set bgwriter_flush_after = 93
Set bgwriter_lru_maxpages = 187
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.9411872830241919
Set checkpoint_flush_after = 108
Set checkpoint_timeout = 1042
Set commit_delay = 83081
Set commit_siblings = 447
Set cursor_tuple_fraction = 0.5100215626880527
Set deadlock_timeout = 727367336
Set default_statistics_target = 5797
Set effective_cache_size = 612946166
Set effective_io_concurrency = 862
Set from_collapse_limit = 181234394
Set geqo_effort = 8
Set geqo_generations = 2082024641
Set geqo_pool_size = 344736214
Set geqo_seed = 0.5773294121026993
Set geqo_threshold = 1410184352
Set join_collapse_limit = 2014285460
Set maintenance_work_mem = 1770346271
Set max_connections = 2691
Set max_wal_senders = 29
Set shared_buffers = 3215730
Set temp_buffers = 978368191
Set temp_file_limit = 1375887961
Set vacuum_cost_delay = 9
Set vacuum_cost_limit = 6208
Set vacuum_cost_page_dirty = 7472
Set vacuum_cost_page_hit = 1318
Set vacuum_cost_page_miss = 7972
Set wal_buffers = 118787
Set wal_writer_delay = 213
Set work_mem = 409864143
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763714916.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-49-39.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-49-39.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_08-49-39.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-49-39.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-49-39.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-49-39.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-49-39.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-49-39.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-49-39.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-49-39.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-49-39.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-49-39.params.json
Parsed throughput from summary.json: 1816.5499886574842
BenchBase wikipedia throughput: 1816.5499886574842
Configuration: {'autovacuum_analyze_scale_factor': 59.09048430621624, 'autovacuum_analyze_threshold': 269378350, 'autovacuum_max_workers': 121, 'autovacuum_naptime': 364983, 'autovacuum_vacuum_cost_delay': 46, 'autovacuum_vacuum_cost_limit': 162, 'autovacuum_vacuum_scale_factor': 47.69385075196624, 'autovacuum_vacuum_threshold': 722834952, 'backend_flush_after': 238, 'bgwriter_delay': 9452, 'bgwriter_flush_after': 93, 'bgwriter_lru_maxpages': 187, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9411872830241919, 'checkpoint_flush_after': 108, 'checkpoint_timeout': 1042, 'commit_delay': 83081, 'commit_siblings': 447, 'cursor_tuple_fraction': 0.5100215626880527, 'deadlock_timeout': 727367336, 'default_statistics_target': 5797, 'effective_cache_size': 612946166, 'effective_io_concurrency': 862, 'from_collapse_limit': 181234394, 'geqo_effort': 8, 'geqo_generations': 2082024641, 'geqo_pool_size': 344736214, 'geqo_seed': 0.5773294121026993, 'geqo_threshold': 1410184352, 'join_collapse_limit': 2014285460, 'maintenance_work_mem': 1770346271, 'max_connections': 2691, 'max_wal_senders': 29, 'shared_buffers': 3215730, 'temp_buffers': 978368191, 'temp_file_limit': 1375887961, 'vacuum_cost_delay': 9, 'vacuum_cost_limit': 6208, 'vacuum_cost_page_dirty': 7472, 'vacuum_cost_page_hit': 1318, 'vacuum_cost_page_miss': 7972, 'wal_buffers': 118787, 'wal_writer_delay': 213, 'work_mem': 409864143}, QPS: -1816.5499886574842
Performance (QPS): -1816.5499886574842
Evaluating configuration: {'autovacuum_analyze_scale_factor': 76.40128070488572, 'autovacuum_analyze_threshold': 2054345871, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1742961, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': 2889, 'autovacuum_vacuum_scale_factor': 68.17056005820632, 'autovacuum_vacuum_threshold': 292674466, 'backend_flush_after': 185, 'bgwriter_delay': 6898, 'bgwriter_flush_after': 57, 'bgwriter_lru_maxpages': 369, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.11681524477899075, 'checkpoint_flush_after': 25, 'checkpoint_timeout': 3292, 'commit_delay': 59820, 'commit_siblings': 705, 'cursor_tuple_fraction': 0.8368948232382536, 'deadlock_timeout': 1828021056, 'default_statistics_target': 979, 'effective_cache_size': 298898560, 'effective_io_concurrency': 229, 'from_collapse_limit': 1168982740, 'geqo_effort': 5, 'geqo_generations': 1431332651, 'geqo_pool_size': 1791561467, 'geqo_seed': 0.9844945101067424, 'geqo_threshold': 1014366143, 'join_collapse_limit': 1215862036, 'maintenance_work_mem': 353354037, 'max_connections': 110, 'max_wal_senders': 11, 'shared_buffers': 2180834, 'temp_buffers': 577406274, 'temp_file_limit': 1860665339, 'vacuum_cost_delay': 81, 'vacuum_cost_limit': 699, 'vacuum_cost_page_dirty': 2223, 'vacuum_cost_page_hit': 9814, 'vacuum_cost_page_miss': 4302, 'wal_buffers': 98184, 'wal_writer_delay': 7372, 'work_mem': 1272186404}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 76.40128070488572
Set autovacuum_analyze_threshold = 2054345871
Set autovacuum_max_workers = 48
Set autovacuum_naptime = 1742961
Set autovacuum_vacuum_cost_delay = 2
Set autovacuum_vacuum_cost_limit = 2889
Set autovacuum_vacuum_scale_factor = 68.17056005820632
Set autovacuum_vacuum_threshold = 292674466
Set backend_flush_after = 185
Set bgwriter_delay = 6898
Set bgwriter_flush_after = 57
Set bgwriter_lru_maxpages = 369
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.11681524477899075
Set checkpoint_flush_after = 25
Set checkpoint_timeout = 3292
Set commit_delay = 59820
Set commit_siblings = 705
Set cursor_tuple_fraction = 0.8368948232382536
Set deadlock_timeout = 1828021056
Set default_statistics_target = 979
Set effective_cache_size = 298898560
Set effective_io_concurrency = 229
Set from_collapse_limit = 1168982740
Set geqo_effort = 5
Set geqo_generations = 1431332651
Set geqo_pool_size = 1791561467
Set geqo_seed = 0.9844945101067424
Set geqo_threshold = 1014366143
Set join_collapse_limit = 1215862036
Set maintenance_work_mem = 353354037
Set max_connections = 110
Set max_wal_senders = 11
Set shared_buffers = 2180834
Set temp_buffers = 577406274
Set temp_file_limit = 1860665339
Set vacuum_cost_delay = 81
Set vacuum_cost_limit = 699
Set vacuum_cost_page_dirty = 2223
Set vacuum_cost_page_hit = 9814
Set vacuum_cost_page_miss = 4302
Set wal_buffers = 98184
Set wal_writer_delay = 7372
Set work_mem = 1272186404
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-51-14.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-51-14.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-51-14.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-51-14.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-51-14.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-51-14.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-51-14.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-51-14.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-51-14.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763715010.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-51-14.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_08-51-14.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-51-14.results.RemoveWatchList.csv
Parsed throughput from summary.json: 1769.2075882838571
BenchBase wikipedia throughput: 1769.2075882838571
Configuration: {'autovacuum_analyze_scale_factor': 76.40128070488572, 'autovacuum_analyze_threshold': 2054345871, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1742961, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': 2889, 'autovacuum_vacuum_scale_factor': 68.17056005820632, 'autovacuum_vacuum_threshold': 292674466, 'backend_flush_after': 185, 'bgwriter_delay': 6898, 'bgwriter_flush_after': 57, 'bgwriter_lru_maxpages': 369, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.11681524477899075, 'checkpoint_flush_after': 25, 'checkpoint_timeout': 3292, 'commit_delay': 59820, 'commit_siblings': 705, 'cursor_tuple_fraction': 0.8368948232382536, 'deadlock_timeout': 1828021056, 'default_statistics_target': 979, 'effective_cache_size': 298898560, 'effective_io_concurrency': 229, 'from_collapse_limit': 1168982740, 'geqo_effort': 5, 'geqo_generations': 1431332651, 'geqo_pool_size': 1791561467, 'geqo_seed': 0.9844945101067424, 'geqo_threshold': 1014366143, 'join_collapse_limit': 1215862036, 'maintenance_work_mem': 353354037, 'max_connections': 110, 'max_wal_senders': 11, 'shared_buffers': 2180834, 'temp_buffers': 577406274, 'temp_file_limit': 1860665339, 'vacuum_cost_delay': 81, 'vacuum_cost_limit': 699, 'vacuum_cost_page_dirty': 2223, 'vacuum_cost_page_hit': 9814, 'vacuum_cost_page_miss': 4302, 'wal_buffers': 98184, 'wal_writer_delay': 7372, 'work_mem': 1272186404}, QPS: -1769.2075882838571
Performance (QPS): -1769.2075882838571
Evaluating configuration: {'autovacuum_analyze_scale_factor': 26.481935661286116, 'autovacuum_analyze_threshold': 721596254, 'autovacuum_max_workers': 190, 'autovacuum_naptime': 1062135, 'autovacuum_vacuum_cost_delay': 67, 'autovacuum_vacuum_cost_limit': 5079, 'autovacuum_vacuum_scale_factor': 1.2826400808990002, 'autovacuum_vacuum_threshold': 1241364491, 'backend_flush_after': 76, 'bgwriter_delay': 477, 'bgwriter_flush_after': 204, 'bgwriter_lru_maxpages': 980, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.7091427892446518, 'checkpoint_flush_after': 141, 'checkpoint_timeout': 41, 'commit_delay': 6757, 'commit_siblings': 195, 'cursor_tuple_fraction': 0.46846663393080235, 'deadlock_timeout': 341141914, 'default_statistics_target': 8863, 'effective_cache_size': 1715922758, 'effective_io_concurrency': 572, 'from_collapse_limit': 609895714, 'geqo_effort': 6, 'geqo_generations': 550156632, 'geqo_pool_size': 891369298, 'geqo_seed': 0.020743686705827713, 'geqo_threshold': 1646830390, 'join_collapse_limit': 874423020, 'maintenance_work_mem': 1167999267, 'max_connections': 1786, 'max_wal_senders': 39, 'shared_buffers': 1247105, 'temp_buffers': 470443576, 'temp_file_limit': 1005496917, 'vacuum_cost_delay': 28, 'vacuum_cost_limit': 8183, 'vacuum_cost_page_dirty': 9458, 'vacuum_cost_page_hit': 3934, 'vacuum_cost_page_miss': 6476, 'wal_buffers': 35589, 'wal_writer_delay': 3725, 'work_mem': 818438137}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 26.481935661286116
Set autovacuum_analyze_threshold = 721596254
Set autovacuum_max_workers = 190
Set autovacuum_naptime = 1062135
Set autovacuum_vacuum_cost_delay = 67
Set autovacuum_vacuum_cost_limit = 5079
Set autovacuum_vacuum_scale_factor = 1.2826400808990002
Set autovacuum_vacuum_threshold = 1241364491
Set backend_flush_after = 76
Set bgwriter_delay = 477
Set bgwriter_flush_after = 204
Set bgwriter_lru_maxpages = 980
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.7091427892446518
Set checkpoint_flush_after = 141
Set checkpoint_timeout = 41
Set commit_delay = 6757
Set commit_siblings = 195
Set cursor_tuple_fraction = 0.46846663393080235
Set deadlock_timeout = 341141914
Set default_statistics_target = 8863
Set effective_cache_size = 1715922758
Set effective_io_concurrency = 572
Set from_collapse_limit = 609895714
Set geqo_effort = 6
Set geqo_generations = 550156632
Set geqo_pool_size = 891369298
Set geqo_seed = 0.020743686705827713
Set geqo_threshold = 1646830390
Set join_collapse_limit = 874423020
Set maintenance_work_mem = 1167999267
Set max_connections = 1786
Set max_wal_senders = 39
Set shared_buffers = 1247105
Set temp_buffers = 470443576
Set temp_file_limit = 1005496917
Set vacuum_cost_delay = 28
Set vacuum_cost_limit = 8183
Set vacuum_cost_page_dirty = 9458
Set vacuum_cost_page_hit = 3934
Set vacuum_cost_page_miss = 6476
Set wal_buffers = 35589
Set wal_writer_delay = 3725
Set work_mem = 818438137
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-52-48.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-52-48.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-52-48.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_08-52-48.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-52-48.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-52-48.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763715105.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-52-48.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-52-48.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-52-48.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-52-48.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-52-48.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-52-48.config.xml
Parsed throughput from summary.json: 1906.6820509044878
BenchBase wikipedia throughput: 1906.6820509044878
Configuration: {'autovacuum_analyze_scale_factor': 26.481935661286116, 'autovacuum_analyze_threshold': 721596254, 'autovacuum_max_workers': 190, 'autovacuum_naptime': 1062135, 'autovacuum_vacuum_cost_delay': 67, 'autovacuum_vacuum_cost_limit': 5079, 'autovacuum_vacuum_scale_factor': 1.2826400808990002, 'autovacuum_vacuum_threshold': 1241364491, 'backend_flush_after': 76, 'bgwriter_delay': 477, 'bgwriter_flush_after': 204, 'bgwriter_lru_maxpages': 980, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.7091427892446518, 'checkpoint_flush_after': 141, 'checkpoint_timeout': 41, 'commit_delay': 6757, 'commit_siblings': 195, 'cursor_tuple_fraction': 0.46846663393080235, 'deadlock_timeout': 341141914, 'default_statistics_target': 8863, 'effective_cache_size': 1715922758, 'effective_io_concurrency': 572, 'from_collapse_limit': 609895714, 'geqo_effort': 6, 'geqo_generations': 550156632, 'geqo_pool_size': 891369298, 'geqo_seed': 0.020743686705827713, 'geqo_threshold': 1646830390, 'join_collapse_limit': 874423020, 'maintenance_work_mem': 1167999267, 'max_connections': 1786, 'max_wal_senders': 39, 'shared_buffers': 1247105, 'temp_buffers': 470443576, 'temp_file_limit': 1005496917, 'vacuum_cost_delay': 28, 'vacuum_cost_limit': 8183, 'vacuum_cost_page_dirty': 9458, 'vacuum_cost_page_hit': 3934, 'vacuum_cost_page_miss': 6476, 'wal_buffers': 35589, 'wal_writer_delay': 3725, 'work_mem': 818438137}, QPS: -1906.6820509044878
Performance (QPS): -1906.6820509044878
Evaluating configuration: {'autovacuum_analyze_scale_factor': 0.1, 'autovacuum_analyze_threshold': 50, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 60, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': -1, 'autovacuum_vacuum_scale_factor': 0.2, 'autovacuum_vacuum_threshold': 50, 'backend_flush_after': 0, 'bgwriter_delay': 200, 'bgwriter_flush_after': 64, 'bgwriter_lru_maxpages': 2, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.9, 'checkpoint_flush_after': 32, 'checkpoint_timeout': 300, 'commit_delay': 0, 'commit_siblings': 5, 'cursor_tuple_fraction': 0.1, 'deadlock_timeout': 1000, 'default_statistics_target': 100, 'effective_cache_size': 524288, 'effective_io_concurrency': 1, 'from_collapse_limit': 8, 'geqo_effort': 5, 'geqo_generations': 0, 'geqo_pool_size': 0, 'geqo_seed': 0.0, 'geqo_threshold': 12, 'join_collapse_limit': 8, 'maintenance_work_mem': 65536, 'max_connections': 100, 'max_wal_senders': 10, 'shared_buffers': 1024, 'temp_buffers': 1024, 'temp_file_limit': -1, 'vacuum_cost_delay': 0, 'vacuum_cost_limit': 200, 'vacuum_cost_page_dirty': 20, 'vacuum_cost_page_hit': 1, 'vacuum_cost_page_miss': 2, 'wal_buffers': -1, 'wal_writer_delay': 200, 'work_mem': 4096}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 0.1
Set autovacuum_analyze_threshold = 50
Set autovacuum_max_workers = 3
Set autovacuum_naptime = 60
Set autovacuum_vacuum_cost_delay = 2
Set autovacuum_vacuum_cost_limit = -1
Set autovacuum_vacuum_scale_factor = 0.2
Set autovacuum_vacuum_threshold = 50
Set backend_flush_after = 0
Set bgwriter_delay = 200
Set bgwriter_flush_after = 64
Set bgwriter_lru_maxpages = 2
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.9
Set checkpoint_flush_after = 32
Set checkpoint_timeout = 300
Set commit_delay = 0
Set commit_siblings = 5
Set cursor_tuple_fraction = 0.1
Set deadlock_timeout = 1000
Set default_statistics_target = 100
Set effective_cache_size = 524288
Set effective_io_concurrency = 1
Set from_collapse_limit = 8
Set geqo_effort = 5
Set geqo_generations = 0
Set geqo_pool_size = 0
Set geqo_seed = 0.0
Set geqo_threshold = 12
Set join_collapse_limit = 8
Set maintenance_work_mem = 65536
Set max_connections = 100
Set max_wal_senders = 10
Set shared_buffers = 1024
Set temp_buffers = 1024
Set temp_file_limit = -1
Set vacuum_cost_delay = 0
Set vacuum_cost_limit = 200
Set vacuum_cost_page_dirty = 20
Set vacuum_cost_page_hit = 1
Set vacuum_cost_page_miss = 2
Set wal_buffers = -1
Set wal_writer_delay = 200
Set work_mem = 4096
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-54-21.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-54-21.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763715198.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-54-21.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-54-21.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-54-21.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-54-21.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-54-21.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_08-54-21.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-54-21.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-54-21.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-54-21.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-54-21.results.RemoveWatchList.csv
Parsed throughput from summary.json: 1683.561675968728
BenchBase wikipedia throughput: 1683.561675968728
Configuration: {'autovacuum_analyze_scale_factor': 0.1, 'autovacuum_analyze_threshold': 50, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 60, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': -1, 'autovacuum_vacuum_scale_factor': 0.2, 'autovacuum_vacuum_threshold': 50, 'backend_flush_after': 0, 'bgwriter_delay': 200, 'bgwriter_flush_after': 64, 'bgwriter_lru_maxpages': 2, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.9, 'checkpoint_flush_after': 32, 'checkpoint_timeout': 300, 'commit_delay': 0, 'commit_siblings': 5, 'cursor_tuple_fraction': 0.1, 'deadlock_timeout': 1000, 'default_statistics_target': 100, 'effective_cache_size': 524288, 'effective_io_concurrency': 1, 'from_collapse_limit': 8, 'geqo_effort': 5, 'geqo_generations': 0, 'geqo_pool_size': 0, 'geqo_seed': 0.0, 'geqo_threshold': 12, 'join_collapse_limit': 8, 'maintenance_work_mem': 65536, 'max_connections': 100, 'max_wal_senders': 10, 'shared_buffers': 1024, 'temp_buffers': 1024, 'temp_file_limit': -1, 'vacuum_cost_delay': 0, 'vacuum_cost_limit': 200, 'vacuum_cost_page_dirty': 20, 'vacuum_cost_page_hit': 1, 'vacuum_cost_page_miss': 2, 'wal_buffers': -1, 'wal_writer_delay': 200, 'work_mem': 4096}, QPS: -1683.561675968728
Performance (QPS): -1683.561675968728
Evaluating configuration: {'autovacuum_analyze_scale_factor': 48.01633795723319, 'autovacuum_analyze_threshold': 1816547535, 'autovacuum_max_workers': 149, 'autovacuum_naptime': 621009, 'autovacuum_vacuum_cost_delay': 59, 'autovacuum_vacuum_cost_limit': 9147, 'autovacuum_vacuum_scale_factor': 57.31241349130869, 'autovacuum_vacuum_threshold': 231256504, 'backend_flush_after': 145, 'bgwriter_delay': 8439, 'bgwriter_flush_after': 15, 'bgwriter_lru_maxpages': 813, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8292871350422502, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 530, 'commit_delay': 23408, 'commit_siblings': 91, 'cursor_tuple_fraction': 0.9567479509860277, 'deadlock_timeout': 1229396950, 'default_statistics_target': 3231, 'effective_cache_size': 1277266344, 'effective_io_concurrency': 90, 'from_collapse_limit': 894198186, 'geqo_effort': 7, 'geqo_generations': 1262883605, 'geqo_pool_size': 2070704061, 'geqo_seed': 0.693586204200983, 'geqo_threshold': 400058367, 'join_collapse_limit': 535658784, 'maintenance_work_mem': 160923555, 'max_connections': 833, 'max_wal_senders': 45, 'shared_buffers': 2766233, 'temp_buffers': 843252663, 'temp_file_limit': 1300067389, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 9385, 'vacuum_cost_page_dirty': 784, 'vacuum_cost_page_hit': 3665, 'vacuum_cost_page_miss': 5211, 'wal_buffers': 103151, 'wal_writer_delay': 8140, 'work_mem': 656629010}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
(1 row)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 48.01633795723319
Set autovacuum_analyze_threshold = 1816547535
Set autovacuum_max_workers = 149
Set autovacuum_naptime = 621009
Set autovacuum_vacuum_cost_delay = 59
Set autovacuum_vacuum_cost_limit = 9147
Set autovacuum_vacuum_scale_factor = 57.31241349130869
Set autovacuum_vacuum_threshold = 231256504
Set backend_flush_after = 145
Set bgwriter_delay = 8439
Set bgwriter_flush_after = 15
Set bgwriter_lru_maxpages = 813
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.8292871350422502
Set checkpoint_flush_after = 165
Set checkpoint_timeout = 530
Set commit_delay = 23408
Set commit_siblings = 91
Set cursor_tuple_fraction = 0.9567479509860277
Set deadlock_timeout = 1229396950
Set default_statistics_target = 3231
Set effective_cache_size = 1277266344
Set effective_io_concurrency = 90
Set from_collapse_limit = 894198186
Set geqo_effort = 7
Set geqo_generations = 1262883605
Set geqo_pool_size = 2070704061
Set geqo_seed = 0.693586204200983
Set geqo_threshold = 400058367
Set join_collapse_limit = 535658784
Set maintenance_work_mem = 160923555
Set max_connections = 833
Set max_wal_senders = 45
Set shared_buffers = 2766233
Set temp_buffers = 843252663
Set temp_file_limit = 1300067389
Set vacuum_cost_delay = 21
Set vacuum_cost_limit = 9385
Set vacuum_cost_page_dirty = 784
Set vacuum_cost_page_hit = 3665
Set vacuum_cost_page_miss = 5211
Set wal_buffers = 103151
Set wal_writer_delay = 8140
Set work_mem = 656629010
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-55-54.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-55-54.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_08-55-54.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763715291.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-55-54.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-55-54.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-55-54.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-55-54.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-55-54.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-55-54.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-55-54.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-55-54.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-55-54.config.xml
Parsed throughput from summary.json: 1862.8083863281554
BenchBase wikipedia throughput: 1862.8083863281554
Configuration: {'autovacuum_analyze_scale_factor': 48.01633795723319, 'autovacuum_analyze_threshold': 1816547535, 'autovacuum_max_workers': 149, 'autovacuum_naptime': 621009, 'autovacuum_vacuum_cost_delay': 59, 'autovacuum_vacuum_cost_limit': 9147, 'autovacuum_vacuum_scale_factor': 57.31241349130869, 'autovacuum_vacuum_threshold': 231256504, 'backend_flush_after': 145, 'bgwriter_delay': 8439, 'bgwriter_flush_after': 15, 'bgwriter_lru_maxpages': 813, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8292871350422502, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 530, 'commit_delay': 23408, 'commit_siblings': 91, 'cursor_tuple_fraction': 0.9567479509860277, 'deadlock_timeout': 1229396950, 'default_statistics_target': 3231, 'effective_cache_size': 1277266344, 'effective_io_concurrency': 90, 'from_collapse_limit': 894198186, 'geqo_effort': 7, 'geqo_generations': 1262883605, 'geqo_pool_size': 2070704061, 'geqo_seed': 0.693586204200983, 'geqo_threshold': 400058367, 'join_collapse_limit': 535658784, 'maintenance_work_mem': 160923555, 'max_connections': 833, 'max_wal_senders': 45, 'shared_buffers': 2766233, 'temp_buffers': 843252663, 'temp_file_limit': 1300067389, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 9385, 'vacuum_cost_page_dirty': 784, 'vacuum_cost_page_hit': 3665, 'vacuum_cost_page_miss': 5211, 'wal_buffers': 103151, 'wal_writer_delay': 8140, 'work_mem': 656629010}, QPS: -1862.8083863281554
Performance (QPS): -1862.8083863281554
Evaluating configuration: {'autovacuum_analyze_scale_factor': 97.93487088754773, 'autovacuum_analyze_threshold': 1026960158, 'autovacuum_max_workers': 91, 'autovacuum_naptime': 2108575, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 1320, 'autovacuum_vacuum_scale_factor': 24.787272326648235, 'autovacuum_vacuum_threshold': 1430573589, 'backend_flush_after': 100, 'bgwriter_delay': 4246, 'bgwriter_flush_after': 253, 'bgwriter_lru_maxpages': 456, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.48489107098430395, 'checkpoint_flush_after': 49, 'checkpoint_timeout': 2860, 'commit_delay': 70121, 'commit_siblings': 567, 'cursor_tuple_fraction': 0.33298872970044613, 'deadlock_timeout': 837226764, 'default_statistics_target': 6616, 'effective_cache_size': 1001896558, 'effective_io_concurrency': 750, 'from_collapse_limit': 1421567580, 'geqo_effort': 4, 'geqo_generations': 1054657890, 'geqo_pool_size': 612652560, 'geqo_seed': 0.28427873831242323, 'geqo_threshold': 1233468278, 'join_collapse_limit': 1670100696, 'maintenance_work_mem': 1493629621, 'max_connections': 2449, 'max_wal_senders': 5, 'shared_buffers': 1602634, 'temp_buffers': 203677959, 'temp_file_limit': 410296723, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 1902, 'vacuum_cost_page_dirty': 8707, 'vacuum_cost_page_hit': 7592, 'vacuum_cost_page_miss': 3068, 'wal_buffers': 26210, 'wal_writer_delay': 2015, 'work_mem': 1547633999}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 97.93487088754773
Set autovacuum_analyze_threshold = 1026960158
Set autovacuum_max_workers = 91
Set autovacuum_naptime = 2108575
Set autovacuum_vacuum_cost_delay = 19
Set autovacuum_vacuum_cost_limit = 1320
Set autovacuum_vacuum_scale_factor = 24.787272326648235
Set autovacuum_vacuum_threshold = 1430573589
Set backend_flush_after = 100
Set bgwriter_delay = 4246
Set bgwriter_flush_after = 253
Set bgwriter_lru_maxpages = 456
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.48489107098430395
Set checkpoint_flush_after = 49
Set checkpoint_timeout = 2860
Set commit_delay = 70121
Set commit_siblings = 567
Set cursor_tuple_fraction = 0.33298872970044613
Set deadlock_timeout = 837226764
Set default_statistics_target = 6616
Set effective_cache_size = 1001896558
Set effective_io_concurrency = 750
Set from_collapse_limit = 1421567580
Set geqo_effort = 4
Set geqo_generations = 1054657890
Set geqo_pool_size = 612652560
Set geqo_seed = 0.28427873831242323
Set geqo_threshold = 1233468278
Set join_collapse_limit = 1670100696
Set maintenance_work_mem = 1493629621
Set max_connections = 2449
Set max_wal_senders = 5
Set shared_buffers = 1602634
Set temp_buffers = 203677959
Set temp_file_limit = 410296723
Set vacuum_cost_delay = 69
Set vacuum_cost_limit = 1902
Set vacuum_cost_page_dirty = 8707
Set vacuum_cost_page_hit = 7592
Set vacuum_cost_page_miss = 3068
Set wal_buffers = 26210
Set wal_writer_delay = 2015
Set work_mem = 1547633999
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-57-28.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-57-28.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_08-57-28.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-57-28.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-57-28.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-57-28.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-57-28.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-57-28.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-57-28.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-57-28.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-57-28.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763715384.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-57-28.results.UpdatePage.csv
Parsed throughput from summary.json: 1954.691282310284
BenchBase wikipedia throughput: 1954.691282310284
Configuration: {'autovacuum_analyze_scale_factor': 97.93487088754773, 'autovacuum_analyze_threshold': 1026960158, 'autovacuum_max_workers': 91, 'autovacuum_naptime': 2108575, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 1320, 'autovacuum_vacuum_scale_factor': 24.787272326648235, 'autovacuum_vacuum_threshold': 1430573589, 'backend_flush_after': 100, 'bgwriter_delay': 4246, 'bgwriter_flush_after': 253, 'bgwriter_lru_maxpages': 456, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.48489107098430395, 'checkpoint_flush_after': 49, 'checkpoint_timeout': 2860, 'commit_delay': 70121, 'commit_siblings': 567, 'cursor_tuple_fraction': 0.33298872970044613, 'deadlock_timeout': 837226764, 'default_statistics_target': 6616, 'effective_cache_size': 1001896558, 'effective_io_concurrency': 750, 'from_collapse_limit': 1421567580, 'geqo_effort': 4, 'geqo_generations': 1054657890, 'geqo_pool_size': 612652560, 'geqo_seed': 0.28427873831242323, 'geqo_threshold': 1233468278, 'join_collapse_limit': 1670100696, 'maintenance_work_mem': 1493629621, 'max_connections': 2449, 'max_wal_senders': 5, 'shared_buffers': 1602634, 'temp_buffers': 203677959, 'temp_file_limit': 410296723, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 1902, 'vacuum_cost_page_dirty': 8707, 'vacuum_cost_page_hit': 7592, 'vacuum_cost_page_miss': 3068, 'wal_buffers': 26210, 'wal_writer_delay': 2015, 'work_mem': 1547633999}, QPS: -1954.691282310284
Performance (QPS): -1954.691282310284
Evaluating configuration: {'autovacuum_analyze_scale_factor': 68.1232750415802, 'autovacuum_analyze_threshold': 1464507551, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 260835, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 4223, 'autovacuum_vacuum_scale_factor': 92.15154927223921, 'autovacuum_vacuum_threshold': 1864409019, 'backend_flush_after': 49, 'bgwriter_delay': 1800, 'bgwriter_flush_after': 153, 'bgwriter_lru_maxpages': 104, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5672597279772162, 'checkpoint_flush_after': 69, 'checkpoint_timeout': 1531, 'commit_delay': 99241, 'commit_siblings': 341, 'cursor_tuple_fraction': 0.006115379743278027, 'deadlock_timeout': 1984482532, 'default_statistics_target': 1414, 'effective_cache_size': 250592792, 'effective_io_concurrency': 351, 'from_collapse_limit': 467357266, 'geqo_effort': 10, 'geqo_generations': 395675276, 'geqo_pool_size': 1522604345, 'geqo_seed': 0.15250328183174133, 'geqo_threshold': 570257513, 'join_collapse_limit': 1409068376, 'maintenance_work_mem': 629937567, 'max_connections': 608, 'max_wal_senders': 35, 'shared_buffers': 533398, 'temp_buffers': 337236825, 'temp_file_limit': 613530673, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 7487, 'vacuum_cost_page_dirty': 3488, 'vacuum_cost_page_hit': 963, 'vacuum_cost_page_miss': 9247, 'wal_buffers': 51689, 'wal_writer_delay': 5403, 'work_mem': 260375776}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 68.1232750415802
Set autovacuum_analyze_threshold = 1464507551
Set autovacuum_max_workers = 167
Set autovacuum_naptime = 260835
Set autovacuum_vacuum_cost_delay = 29
Set autovacuum_vacuum_cost_limit = 4223
Set autovacuum_vacuum_scale_factor = 92.15154927223921
Set autovacuum_vacuum_threshold = 1864409019
Set backend_flush_after = 49
Set bgwriter_delay = 1800
Set bgwriter_flush_after = 153
Set bgwriter_lru_maxpages = 104
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.5672597279772162
Set checkpoint_flush_after = 69
Set checkpoint_timeout = 1531
Set commit_delay = 99241
Set commit_siblings = 341
Set cursor_tuple_fraction = 0.006115379743278027
Set deadlock_timeout = 1984482532
Set default_statistics_target = 1414
Set effective_cache_size = 250592792
Set effective_io_concurrency = 351
Set from_collapse_limit = 467357266
Set geqo_effort = 10
Set geqo_generations = 395675276
Set geqo_pool_size = 1522604345
Set geqo_seed = 0.15250328183174133
Set geqo_threshold = 570257513
Set join_collapse_limit = 1409068376
Set maintenance_work_mem = 629937567
Set max_connections = 608
Set max_wal_senders = 35
Set shared_buffers = 533398
Set temp_buffers = 337236825
Set temp_file_limit = 613530673
Set vacuum_cost_delay = 40
Set vacuum_cost_limit = 7487
Set vacuum_cost_page_dirty = 3488
Set vacuum_cost_page_hit = 963
Set vacuum_cost_page_miss = 9247
Set wal_buffers = 51689
Set wal_writer_delay = 5403
Set work_mem = 260375776
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-59-01.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_08-59-01.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-59-01.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-59-01.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-59-01.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-59-01.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-59-01.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-59-01.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-59-01.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-59-01.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-59-01.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_08-59-01.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763715478.log
Parsed throughput from summary.json: 1859.6860204997809
BenchBase wikipedia throughput: 1859.6860204997809
Configuration: {'autovacuum_analyze_scale_factor': 68.1232750415802, 'autovacuum_analyze_threshold': 1464507551, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 260835, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 4223, 'autovacuum_vacuum_scale_factor': 92.15154927223921, 'autovacuum_vacuum_threshold': 1864409019, 'backend_flush_after': 49, 'bgwriter_delay': 1800, 'bgwriter_flush_after': 153, 'bgwriter_lru_maxpages': 104, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5672597279772162, 'checkpoint_flush_after': 69, 'checkpoint_timeout': 1531, 'commit_delay': 99241, 'commit_siblings': 341, 'cursor_tuple_fraction': 0.006115379743278027, 'deadlock_timeout': 1984482532, 'default_statistics_target': 1414, 'effective_cache_size': 250592792, 'effective_io_concurrency': 351, 'from_collapse_limit': 467357266, 'geqo_effort': 10, 'geqo_generations': 395675276, 'geqo_pool_size': 1522604345, 'geqo_seed': 0.15250328183174133, 'geqo_threshold': 570257513, 'join_collapse_limit': 1409068376, 'maintenance_work_mem': 629937567, 'max_connections': 608, 'max_wal_senders': 35, 'shared_buffers': 533398, 'temp_buffers': 337236825, 'temp_file_limit': 613530673, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 7487, 'vacuum_cost_page_dirty': 3488, 'vacuum_cost_page_hit': 963, 'vacuum_cost_page_miss': 9247, 'wal_buffers': 51689, 'wal_writer_delay': 5403, 'work_mem': 260375776}, QPS: -1859.6860204997809
Performance (QPS): -1859.6860204997809
Evaluating configuration: {'autovacuum_analyze_scale_factor': 18.054398335516453, 'autovacuum_analyze_threshold': 104523630, 'autovacuum_max_workers': 22, 'autovacuum_naptime': 1461821, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 6558, 'autovacuum_vacuum_scale_factor': 27.39966604858637, 'autovacuum_vacuum_threshold': 934083602, 'backend_flush_after': 198, 'bgwriter_delay': 5886, 'bgwriter_flush_after': 106, 'bgwriter_lru_maxpages': 744, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.22403083089739084, 'checkpoint_flush_after': 210, 'checkpoint_timeout': 1852, 'commit_delay': 46242, 'commit_siblings': 818, 'cursor_tuple_fraction': 0.6260237609967589, 'deadlock_timeout': 250136126, 'default_statistics_target': 8745, 'effective_cache_size': 2038009310, 'effective_io_concurrency': 942, 'from_collapse_limit': 2049722788, 'geqo_effort': 1, 'geqo_generations': 1645172983, 'geqo_pool_size': 86581396, 'geqo_seed': 0.868207267485559, 'geqo_threshold': 2141203680, 'join_collapse_limit': 798661280, 'maintenance_work_mem': 1964871833, 'max_connections': 1935, 'max_wal_senders': 15, 'shared_buffers': 3826214, 'temp_buffers': 712585250, 'temp_file_limit': 1905813911, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 4969, 'vacuum_cost_page_dirty': 5771, 'vacuum_cost_page_hit': 5280, 'vacuum_cost_page_miss': 1535, 'wal_buffers': 81252, 'wal_writer_delay': 4127, 'work_mem': 1956207989}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 18.054398335516453
Set autovacuum_analyze_threshold = 104523630
Set autovacuum_max_workers = 22
Set autovacuum_naptime = 1461821
Set autovacuum_vacuum_cost_delay = 91
Set autovacuum_vacuum_cost_limit = 6558
Set autovacuum_vacuum_scale_factor = 27.39966604858637
Set autovacuum_vacuum_threshold = 934083602
Set backend_flush_after = 198
Set bgwriter_delay = 5886
Set bgwriter_flush_after = 106
Set bgwriter_lru_maxpages = 744
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.22403083089739084
Set checkpoint_flush_after = 210
Set checkpoint_timeout = 1852
Set commit_delay = 46242
Set commit_siblings = 818
Set cursor_tuple_fraction = 0.6260237609967589
Set deadlock_timeout = 250136126
Set default_statistics_target = 8745
Set effective_cache_size = 2038009310
Set effective_io_concurrency = 942
Set from_collapse_limit = 2049722788
Set geqo_effort = 1
Set geqo_generations = 1645172983
Set geqo_pool_size = 86581396
Set geqo_seed = 0.868207267485559
Set geqo_threshold = 2141203680
Set join_collapse_limit = 798661280
Set maintenance_work_mem = 1964871833
Set max_connections = 1935
Set max_wal_senders = 15
Set shared_buffers = 3826214
Set temp_buffers = 712585250
Set temp_file_limit = 1905813911
Set vacuum_cost_delay = 88
Set vacuum_cost_limit = 4969
Set vacuum_cost_page_dirty = 5771
Set vacuum_cost_page_hit = 5280
Set vacuum_cost_page_miss = 1535
Set wal_buffers = 81252
Set wal_writer_delay = 4127
Set work_mem = 1956207989
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-00-36.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-00-36.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-00-36.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-00-36.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-00-36.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-00-36.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-00-36.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-00-36.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763715572.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-00-36.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-00-36.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-00-36.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-00-36.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 1855.604614838427
BenchBase wikipedia throughput: 1855.604614838427
Configuration: {'autovacuum_analyze_scale_factor': 18.054398335516453, 'autovacuum_analyze_threshold': 104523630, 'autovacuum_max_workers': 22, 'autovacuum_naptime': 1461821, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 6558, 'autovacuum_vacuum_scale_factor': 27.39966604858637, 'autovacuum_vacuum_threshold': 934083602, 'backend_flush_after': 198, 'bgwriter_delay': 5886, 'bgwriter_flush_after': 106, 'bgwriter_lru_maxpages': 744, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.22403083089739084, 'checkpoint_flush_after': 210, 'checkpoint_timeout': 1852, 'commit_delay': 46242, 'commit_siblings': 818, 'cursor_tuple_fraction': 0.6260237609967589, 'deadlock_timeout': 250136126, 'default_statistics_target': 8745, 'effective_cache_size': 2038009310, 'effective_io_concurrency': 942, 'from_collapse_limit': 2049722788, 'geqo_effort': 1, 'geqo_generations': 1645172983, 'geqo_pool_size': 86581396, 'geqo_seed': 0.868207267485559, 'geqo_threshold': 2141203680, 'join_collapse_limit': 798661280, 'maintenance_work_mem': 1964871833, 'max_connections': 1935, 'max_wal_senders': 15, 'shared_buffers': 3826214, 'temp_buffers': 712585250, 'temp_file_limit': 1905813911, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 4969, 'vacuum_cost_page_dirty': 5771, 'vacuum_cost_page_hit': 5280, 'vacuum_cost_page_miss': 1535, 'wal_buffers': 81252, 'wal_writer_delay': 4127, 'work_mem': 1956207989}, QPS: -1855.604614838427
Performance (QPS): -1855.604614838427
Evaluating configuration: {'autovacuum_analyze_scale_factor': 24.392467457801104, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 163, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 26329702, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 855200746, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 410094950, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 1044371522, 'temp_file_limit': 761908879, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 2936, 'work_mem': 2036127693}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 24.392467457801104
Set autovacuum_analyze_threshold = 1969911119
Set autovacuum_max_workers = 163
Set autovacuum_naptime = 1880690
Set autovacuum_vacuum_cost_delay = 38
Set autovacuum_vacuum_cost_limit = 5652
Set autovacuum_vacuum_scale_factor = 51.02565577253699
Set autovacuum_vacuum_threshold = 26329702
Set backend_flush_after = 140
Set bgwriter_delay = 862
Set bgwriter_flush_after = 127
Set bgwriter_lru_maxpages = 517
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.5030564842745662
Set checkpoint_flush_after = 7
Set checkpoint_timeout = 703
Set commit_delay = 54508
Set commit_siblings = 173
Set cursor_tuple_fraction = 0.9186503402888775
Set deadlock_timeout = 1689266024
Set default_statistics_target = 2922
Set effective_cache_size = 855200746
Set effective_io_concurrency = 270
Set from_collapse_limit = 1026139532
Set geqo_effort = 3
Set geqo_generations = 23614720
Set geqo_pool_size = 410094950
Set geqo_seed = 0.3290532799437642
Set geqo_threshold = 1116794408
Set join_collapse_limit = 1517115132
Set maintenance_work_mem = 97161105
Set max_connections = 1692
Set max_wal_senders = 25
Set shared_buffers = 2926931
Set temp_buffers = 1044371522
Set temp_file_limit = 761908879
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 7873
Set vacuum_cost_page_dirty = 1448
Set vacuum_cost_page_hit = 1912
Set vacuum_cost_page_miss = 8596
Set wal_buffers = 200
Set wal_writer_delay = 2936
Set work_mem = 2036127693
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-02-11.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-02-11.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-02-11.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-02-11.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-02-11.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-02-11.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-02-11.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-02-11.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-02-11.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-02-11.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-02-11.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763715667.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-02-11.results.csv
Parsed throughput from summary.json: 1967.4174731115056
BenchBase wikipedia throughput: 1967.4174731115056
Configuration: {'autovacuum_analyze_scale_factor': 24.392467457801104, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 163, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 26329702, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 855200746, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 410094950, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 1044371522, 'temp_file_limit': 761908879, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 2936, 'work_mem': 2036127693}, QPS: -1967.4174731115056
Performance (QPS): -1967.4174731115056
Evaluating configuration: {'autovacuum_analyze_scale_factor': 74.28701287135482, 'autovacuum_analyze_threshold': 605687454, 'autovacuum_max_workers': 2, 'autovacuum_naptime': 682924, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 3565, 'autovacuum_vacuum_scale_factor': 18.52565510198474, 'autovacuum_vacuum_threshold': 1495114183, 'backend_flush_after': 127, 'bgwriter_delay': 6825, 'bgwriter_flush_after': 140, 'bgwriter_lru_maxpages': 127, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.15877843368798494, 'checkpoint_flush_after': 146, 'checkpoint_timeout': 3061, 'commit_delay': 1521, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.29296087473630905, 'deadlock_timeout': 470822322, 'default_statistics_target': 6920, 'effective_cache_size': 1164927020, 'effective_io_concurrency': 930, 'from_collapse_limit': 1558094458, 'geqo_effort': 7, 'geqo_generations': 1962052467, 'geqo_pool_size': 1201255623, 'geqo_seed': 0.6775582823902369, 'geqo_threshold': 483242657, 'join_collapse_limit': 638279940, 'maintenance_work_mem': 1432029859, 'max_connections': 391, 'max_wal_senders': 26, 'shared_buffers': 2025707, 'temp_buffers': 6241207, 'temp_file_limit': 2019564345, 'vacuum_cost_delay': 17, 'vacuum_cost_limit': 356, 'vacuum_cost_page_dirty': 9371, 'vacuum_cost_page_hit': 6855, 'vacuum_cost_page_miss': 933, 'wal_buffers': 128069, 'wal_writer_delay': 6594, 'work_mem': 37785168}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 74.28701287135482
Set autovacuum_analyze_threshold = 605687454
Set autovacuum_max_workers = 2
Set autovacuum_naptime = 682924
Set autovacuum_vacuum_cost_delay = 77
Set autovacuum_vacuum_cost_limit = 3565
Set autovacuum_vacuum_scale_factor = 18.52565510198474
Set autovacuum_vacuum_threshold = 1495114183
Set backend_flush_after = 127
Set bgwriter_delay = 6825
Set bgwriter_flush_after = 140
Set bgwriter_lru_maxpages = 127
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.15877843368798494
Set checkpoint_flush_after = 146
Set checkpoint_timeout = 3061
Set commit_delay = 1521
Set commit_siblings = 665
Set cursor_tuple_fraction = 0.29296087473630905
Set deadlock_timeout = 470822322
Set default_statistics_target = 6920
Set effective_cache_size = 1164927020
Set effective_io_concurrency = 930
Set from_collapse_limit = 1558094458
Set geqo_effort = 7
Set geqo_generations = 1962052467
Set geqo_pool_size = 1201255623
Set geqo_seed = 0.6775582823902369
Set geqo_threshold = 483242657
Set join_collapse_limit = 638279940
Set maintenance_work_mem = 1432029859
Set max_connections = 391
Set max_wal_senders = 26
Set shared_buffers = 2025707
Set temp_buffers = 6241207
Set temp_file_limit = 2019564345
Set vacuum_cost_delay = 17
Set vacuum_cost_limit = 356
Set vacuum_cost_page_dirty = 9371
Set vacuum_cost_page_hit = 6855
Set vacuum_cost_page_miss = 933
Set wal_buffers = 128069
Set wal_writer_delay = 6594
Set work_mem = 37785168
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-03-45.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-03-45.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-03-45.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-03-45.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-03-45.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-03-45.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-03-45.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763715762.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-03-45.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-03-45.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-03-45.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-03-45.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-03-45.params.json
Parsed throughput from summary.json: 1611.4348202537562
BenchBase wikipedia throughput: 1611.4348202537562
Configuration: {'autovacuum_analyze_scale_factor': 74.28701287135482, 'autovacuum_analyze_threshold': 605687454, 'autovacuum_max_workers': 2, 'autovacuum_naptime': 682924, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 3565, 'autovacuum_vacuum_scale_factor': 18.52565510198474, 'autovacuum_vacuum_threshold': 1495114183, 'backend_flush_after': 127, 'bgwriter_delay': 6825, 'bgwriter_flush_after': 140, 'bgwriter_lru_maxpages': 127, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.15877843368798494, 'checkpoint_flush_after': 146, 'checkpoint_timeout': 3061, 'commit_delay': 1521, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.29296087473630905, 'deadlock_timeout': 470822322, 'default_statistics_target': 6920, 'effective_cache_size': 1164927020, 'effective_io_concurrency': 930, 'from_collapse_limit': 1558094458, 'geqo_effort': 7, 'geqo_generations': 1962052467, 'geqo_pool_size': 1201255623, 'geqo_seed': 0.6775582823902369, 'geqo_threshold': 483242657, 'join_collapse_limit': 638279940, 'maintenance_work_mem': 1432029859, 'max_connections': 391, 'max_wal_senders': 26, 'shared_buffers': 2025707, 'temp_buffers': 6241207, 'temp_file_limit': 2019564345, 'vacuum_cost_delay': 17, 'vacuum_cost_limit': 356, 'vacuum_cost_page_dirty': 9371, 'vacuum_cost_page_hit': 6855, 'vacuum_cost_page_miss': 933, 'wal_buffers': 128069, 'wal_writer_delay': 6594, 'work_mem': 37785168}, QPS: -1611.4348202537562
Performance (QPS): -1611.4348202537562
Evaluating configuration: {'autovacuum_analyze_scale_factor': 91.7959289625287, 'autovacuum_analyze_threshold': 1315354911, 'autovacuum_max_workers': 132, 'autovacuum_naptime': 1519837, 'autovacuum_vacuum_cost_delay': 73, 'autovacuum_vacuum_cost_limit': 878, 'autovacuum_vacuum_scale_factor': 98.41327322646976, 'autovacuum_vacuum_threshold': 1668934753, 'backend_flush_after': 42, 'bgwriter_delay': 9368, 'bgwriter_flush_after': 234, 'bgwriter_lru_maxpages': 308, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.7722707288339734, 'checkpoint_flush_after': 232, 'checkpoint_timeout': 1703, 'commit_delay': 30629, 'commit_siblings': 422, 'cursor_tuple_fraction': 0.1184236528351903, 'deadlock_timeout': 1539305562, 'default_statistics_target': 2356, 'effective_cache_size': 1882678362, 'effective_io_concurrency': 46, 'from_collapse_limit': 331254388, 'geqo_effort': 2, 'geqo_generations': 1572585625, 'geqo_pool_size': 970783714, 'geqo_seed': 0.7606275612488389, 'geqo_threshold': 1958083006, 'join_collapse_limit': 377256580, 'maintenance_work_mem': 701621677, 'max_connections': 2977, 'max_wal_senders': 8, 'shared_buffers': 966498, 'temp_buffers': 409274676, 'temp_file_limit': 1149568667, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 5239, 'vacuum_cost_page_dirty': 4074, 'vacuum_cost_page_hit': 4591, 'vacuum_cost_page_miss': 7102, 'wal_buffers': 89038, 'wal_writer_delay': 666, 'work_mem': 1375375259}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 91.7959289625287
Set autovacuum_analyze_threshold = 1315354911
Set autovacuum_max_workers = 132
Set autovacuum_naptime = 1519837
Set autovacuum_vacuum_cost_delay = 73
Set autovacuum_vacuum_cost_limit = 878
Set autovacuum_vacuum_scale_factor = 98.41327322646976
Set autovacuum_vacuum_threshold = 1668934753
Set backend_flush_after = 42
Set bgwriter_delay = 9368
Set bgwriter_flush_after = 234
Set bgwriter_lru_maxpages = 308
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.7722707288339734
Set checkpoint_flush_after = 232
Set checkpoint_timeout = 1703
Set commit_delay = 30629
Set commit_siblings = 422
Set cursor_tuple_fraction = 0.1184236528351903
Set deadlock_timeout = 1539305562
Set default_statistics_target = 2356
Set effective_cache_size = 1882678362
Set effective_io_concurrency = 46
Set from_collapse_limit = 331254388
Set geqo_effort = 2
Set geqo_generations = 1572585625
Set geqo_pool_size = 970783714
Set geqo_seed = 0.7606275612488389
Set geqo_threshold = 1958083006
Set join_collapse_limit = 377256580
Set maintenance_work_mem = 701621677
Set max_connections = 2977
Set max_wal_senders = 8
Set shared_buffers = 966498
Set temp_buffers = 409274676
Set temp_file_limit = 1149568667
Set vacuum_cost_delay = 99
Set vacuum_cost_limit = 5239
Set vacuum_cost_page_dirty = 4074
Set vacuum_cost_page_hit = 4591
Set vacuum_cost_page_miss = 7102
Set wal_buffers = 89038
Set wal_writer_delay = 666
Set work_mem = 1375375259
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-05-20.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-05-20.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-05-20.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-05-20.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-05-20.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-05-20.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-05-20.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-05-20.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-05-20.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-05-20.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-05-20.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763715856.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-05-20.metrics.json
Parsed throughput from summary.json: 1917.233972476099
BenchBase wikipedia throughput: 1917.233972476099
Configuration: {'autovacuum_analyze_scale_factor': 91.7959289625287, 'autovacuum_analyze_threshold': 1315354911, 'autovacuum_max_workers': 132, 'autovacuum_naptime': 1519837, 'autovacuum_vacuum_cost_delay': 73, 'autovacuum_vacuum_cost_limit': 878, 'autovacuum_vacuum_scale_factor': 98.41327322646976, 'autovacuum_vacuum_threshold': 1668934753, 'backend_flush_after': 42, 'bgwriter_delay': 9368, 'bgwriter_flush_after': 234, 'bgwriter_lru_maxpages': 308, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.7722707288339734, 'checkpoint_flush_after': 232, 'checkpoint_timeout': 1703, 'commit_delay': 30629, 'commit_siblings': 422, 'cursor_tuple_fraction': 0.1184236528351903, 'deadlock_timeout': 1539305562, 'default_statistics_target': 2356, 'effective_cache_size': 1882678362, 'effective_io_concurrency': 46, 'from_collapse_limit': 331254388, 'geqo_effort': 2, 'geqo_generations': 1572585625, 'geqo_pool_size': 970783714, 'geqo_seed': 0.7606275612488389, 'geqo_threshold': 1958083006, 'join_collapse_limit': 377256580, 'maintenance_work_mem': 701621677, 'max_connections': 2977, 'max_wal_senders': 8, 'shared_buffers': 966498, 'temp_buffers': 409274676, 'temp_file_limit': 1149568667, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 5239, 'vacuum_cost_page_dirty': 4074, 'vacuum_cost_page_hit': 4591, 'vacuum_cost_page_miss': 7102, 'wal_buffers': 89038, 'wal_writer_delay': 666, 'work_mem': 1375375259}, QPS: -1917.233972476099
Performance (QPS): -1917.233972476099
Evaluating configuration: {'autovacuum_analyze_scale_factor': 41.65347293019295, 'autovacuum_analyze_threshold': 521585390, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 37439, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 8652, 'autovacuum_vacuum_scale_factor': 33.686508145183325, 'autovacuum_vacuum_threshold': 1005948876, 'backend_flush_after': 223, 'bgwriter_delay': 3316, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 915, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.4291755883023143, 'checkpoint_flush_after': 114, 'checkpoint_timeout': 2053, 'commit_delay': 77354, 'commit_siblings': 916, 'cursor_tuple_fraction': 0.7480900222435594, 'deadlock_timeout': 589298304, 'default_statistics_target': 7799, 'effective_cache_size': 128014236, 'effective_io_concurrency': 638, 'from_collapse_limit': 1917422978, 'geqo_effort': 10, 'geqo_generations': 673259246, 'geqo_pool_size': 1714733643, 'geqo_seed': 0.23414401523768902, 'geqo_threshold': 719889719, 'join_collapse_limit': 1780108668, 'maintenance_work_mem': 2034262183, 'max_connections': 1318, 'max_wal_senders': 42, 'shared_buffers': 3997434, 'temp_buffers': 637922315, 'temp_file_limit': 294441781, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 2755, 'vacuum_cost_page_dirty': 6357, 'vacuum_cost_page_hit': 9142, 'vacuum_cost_page_miss': 4931, 'wal_buffers': 44867, 'wal_writer_delay': 9488, 'work_mem': 719771270}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 41.65347293019295
Set autovacuum_analyze_threshold = 521585390
Set autovacuum_max_workers = 83
Set autovacuum_naptime = 37439
Set autovacuum_vacuum_cost_delay = 10
Set autovacuum_vacuum_cost_limit = 8652
Set autovacuum_vacuum_scale_factor = 33.686508145183325
Set autovacuum_vacuum_threshold = 1005948876
Set backend_flush_after = 223
Set bgwriter_delay = 3316
Set bgwriter_flush_after = 26
Set bgwriter_lru_maxpages = 915
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.4291755883023143
Set checkpoint_flush_after = 114
Set checkpoint_timeout = 2053
Set commit_delay = 77354
Set commit_siblings = 916
Set cursor_tuple_fraction = 0.7480900222435594
Set deadlock_timeout = 589298304
Set default_statistics_target = 7799
Set effective_cache_size = 128014236
Set effective_io_concurrency = 638
Set from_collapse_limit = 1917422978
Set geqo_effort = 10
Set geqo_generations = 673259246
Set geqo_pool_size = 1714733643
Set geqo_seed = 0.23414401523768902
Set geqo_threshold = 719889719
Set join_collapse_limit = 1780108668
Set maintenance_work_mem = 2034262183
Set max_connections = 1318
Set max_wal_senders = 42
Set shared_buffers = 3997434
Set temp_buffers = 637922315
Set temp_file_limit = 294441781
Set vacuum_cost_delay = 48
Set vacuum_cost_limit = 2755
Set vacuum_cost_page_dirty = 6357
Set vacuum_cost_page_hit = 9142
Set vacuum_cost_page_miss = 4931
Set wal_buffers = 44867
Set wal_writer_delay = 9488
Set work_mem = 719771270
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
Start failed, removing auto.conf and retrying...
Removed postgresql.auto.conf file (if it existed).
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-06-54.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-06-54.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-06-54.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-06-54.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-06-54.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-06-54.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-06-54.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-06-54.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-06-54.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763715951.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-06-54.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-06-54.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-06-54.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Parsed throughput from summary.json: 1807.1599200450844
BenchBase wikipedia throughput: 1807.1599200450844
Configuration: {'autovacuum_analyze_scale_factor': 41.65347293019295, 'autovacuum_analyze_threshold': 521585390, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 37439, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 8652, 'autovacuum_vacuum_scale_factor': 33.686508145183325, 'autovacuum_vacuum_threshold': 1005948876, 'backend_flush_after': 223, 'bgwriter_delay': 3316, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 915, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.4291755883023143, 'checkpoint_flush_after': 114, 'checkpoint_timeout': 2053, 'commit_delay': 77354, 'commit_siblings': 916, 'cursor_tuple_fraction': 0.7480900222435594, 'deadlock_timeout': 589298304, 'default_statistics_target': 7799, 'effective_cache_size': 128014236, 'effective_io_concurrency': 638, 'from_collapse_limit': 1917422978, 'geqo_effort': 10, 'geqo_generations': 673259246, 'geqo_pool_size': 1714733643, 'geqo_seed': 0.23414401523768902, 'geqo_threshold': 719889719, 'join_collapse_limit': 1780108668, 'maintenance_work_mem': 2034262183, 'max_connections': 1318, 'max_wal_senders': 42, 'shared_buffers': 3997434, 'temp_buffers': 637922315, 'temp_file_limit': 294441781, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 2755, 'vacuum_cost_page_dirty': 6357, 'vacuum_cost_page_hit': 9142, 'vacuum_cost_page_miss': 4931, 'wal_buffers': 44867, 'wal_writer_delay': 9488, 'work_mem': 719771270}, QPS: -1807.1599200450844
Performance (QPS): -1807.1599200450844
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.62144364416599, 'autovacuum_analyze_threshold': 1481784671, 'autovacuum_max_workers': 31, 'autovacuum_naptime': 410416, 'autovacuum_vacuum_cost_delay': 14, 'autovacuum_vacuum_cost_limit': 7083, 'autovacuum_vacuum_scale_factor': 78.04583366960287, 'autovacuum_vacuum_threshold': 2143323767, 'backend_flush_after': 2, 'bgwriter_delay': 5345, 'bgwriter_flush_after': 223, 'bgwriter_lru_maxpages': 753, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.047244736924767494, 'checkpoint_flush_after': 90, 'checkpoint_timeout': 2516, 'commit_delay': 92443, 'commit_siblings': 810, 'cursor_tuple_fraction': 0.23637110088020563, 'deadlock_timeout': 2114816204, 'default_statistics_target': 4686, 'effective_cache_size': 767965554, 'effective_io_concurrency': 149, 'from_collapse_limit': 1667213578, 'geqo_effort': 9, 'geqo_generations': 1135457439, 'geqo_pool_size': 679058080, 'geqo_seed': 0.5593483727425337, 'geqo_threshold': 1595433470, 'join_collapse_limit': 1105817264, 'maintenance_work_mem': 893986599, 'max_connections': 2208, 'max_wal_senders': 49, 'shared_buffers': 379946, 'temp_buffers': 139234968, 'temp_file_limit': 1730088285, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4055, 'vacuum_cost_page_dirty': 2684, 'vacuum_cost_page_hit': 8259, 'vacuum_cost_page_miss': 3695, 'wal_buffers': 112297, 'wal_writer_delay': 4916, 'work_mem': 1024316809}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
(1 row)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.62144364416599
Set autovacuum_analyze_threshold = 1481784671
Set autovacuum_max_workers = 31
Set autovacuum_naptime = 410416
Set autovacuum_vacuum_cost_delay = 14
Set autovacuum_vacuum_cost_limit = 7083
Set autovacuum_vacuum_scale_factor = 78.04583366960287
Set autovacuum_vacuum_threshold = 2143323767
Set backend_flush_after = 2
Set bgwriter_delay = 5345
Set bgwriter_flush_after = 223
Set bgwriter_lru_maxpages = 753
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.047244736924767494
Set checkpoint_flush_after = 90
Set checkpoint_timeout = 2516
Set commit_delay = 92443
Set commit_siblings = 810
Set cursor_tuple_fraction = 0.23637110088020563
Set deadlock_timeout = 2114816204
Set default_statistics_target = 4686
Set effective_cache_size = 767965554
Set effective_io_concurrency = 149
Set from_collapse_limit = 1667213578
Set geqo_effort = 9
Set geqo_generations = 1135457439
Set geqo_pool_size = 679058080
Set geqo_seed = 0.5593483727425337
Set geqo_threshold = 1595433470
Set join_collapse_limit = 1105817264
Set maintenance_work_mem = 893986599
Set max_connections = 2208
Set max_wal_senders = 49
Set shared_buffers = 379946
Set temp_buffers = 139234968
Set temp_file_limit = 1730088285
Set vacuum_cost_delay = 1
Set vacuum_cost_limit = 4055
Set vacuum_cost_page_dirty = 2684
Set vacuum_cost_page_hit = 8259
Set vacuum_cost_page_miss = 3695
Set wal_buffers = 112297
Set wal_writer_delay = 4916
Set work_mem = 1024316809
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-08-26.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-08-26.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763716043.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-08-26.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-08-26.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-08-26.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-08-26.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-08-26.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-08-26.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-08-26.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-08-26.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-08-26.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-08-26.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Parsed throughput from summary.json: 1839.4037865252214
BenchBase wikipedia throughput: 1839.4037865252214
Configuration: {'autovacuum_analyze_scale_factor': 32.62144364416599, 'autovacuum_analyze_threshold': 1481784671, 'autovacuum_max_workers': 31, 'autovacuum_naptime': 410416, 'autovacuum_vacuum_cost_delay': 14, 'autovacuum_vacuum_cost_limit': 7083, 'autovacuum_vacuum_scale_factor': 78.04583366960287, 'autovacuum_vacuum_threshold': 2143323767, 'backend_flush_after': 2, 'bgwriter_delay': 5345, 'bgwriter_flush_after': 223, 'bgwriter_lru_maxpages': 753, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.047244736924767494, 'checkpoint_flush_after': 90, 'checkpoint_timeout': 2516, 'commit_delay': 92443, 'commit_siblings': 810, 'cursor_tuple_fraction': 0.23637110088020563, 'deadlock_timeout': 2114816204, 'default_statistics_target': 4686, 'effective_cache_size': 767965554, 'effective_io_concurrency': 149, 'from_collapse_limit': 1667213578, 'geqo_effort': 9, 'geqo_generations': 1135457439, 'geqo_pool_size': 679058080, 'geqo_seed': 0.5593483727425337, 'geqo_threshold': 1595433470, 'join_collapse_limit': 1105817264, 'maintenance_work_mem': 893986599, 'max_connections': 2208, 'max_wal_senders': 49, 'shared_buffers': 379946, 'temp_buffers': 139234968, 'temp_file_limit': 1730088285, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4055, 'vacuum_cost_page_dirty': 2684, 'vacuum_cost_page_hit': 8259, 'vacuum_cost_page_miss': 3695, 'wal_buffers': 112297, 'wal_writer_delay': 4916, 'work_mem': 1024316809}, QPS: -1839.4037865252214
Performance (QPS): -1839.4037865252214
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.76318591088057
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1088155
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 247
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6424217484891415
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1302
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 112034326
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 21314935
Set join_collapse_limit = 1032804680
Set maintenance_work_mem = 1708697389
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3640755
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5839
Set wal_buffers = 16932
Set wal_writer_delay = 6181
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-10-02.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-10-02.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-10-02.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763716138.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-10-02.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-10-02.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-10-02.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-10-02.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-10-02.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-10-02.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-10-02.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-10-02.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-10-02.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 2001.0380047219526
BenchBase wikipedia throughput: 2001.0380047219526
Configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}, QPS: -2001.0380047219526
Performance (QPS): -2001.0380047219526
Evaluating configuration: {'autovacuum_analyze_scale_factor': 52.75337500497699, 'autovacuum_analyze_threshold': 1667166479, 'autovacuum_max_workers': 62, 'autovacuum_naptime': 855221, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 2007, 'autovacuum_vacuum_scale_factor': 74.457055516541, 'autovacuum_vacuum_threshold': 489203836, 'backend_flush_after': 164, 'bgwriter_delay': 4485, 'bgwriter_flush_after': 72, 'bgwriter_lru_maxpages': 39, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.2866819314658642, 'checkpoint_flush_after': 187, 'checkpoint_timeout': 3523, 'commit_delay': 16120, 'commit_siblings': 560, 'cursor_tuple_fraction': 0.7890544533729553, 'deadlock_timeout': 1090674686, 'default_statistics_target': 58, 'effective_cache_size': 1862799042, 'effective_io_concurrency': 408, 'from_collapse_limit': 1304987378, 'geqo_effort': 6, 'geqo_generations': 528359738, 'geqo_pool_size': 164949028, 'geqo_seed': 0.1004312876611948, 'geqo_threshold': 1765635688, 'join_collapse_limit': 234373832, 'maintenance_work_mem': 424825123, 'max_connections': 2364, 'max_wal_senders': 32, 'shared_buffers': 2611726, 'temp_buffers': 773218065, 'temp_file_limit': 250856785, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 1576, 'vacuum_cost_page_dirty': 387, 'vacuum_cost_page_hit': 5863, 'vacuum_cost_page_miss': 2159, 'wal_buffers': 60847, 'wal_writer_delay': 1561, 'work_mem': 363564379}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 52.75337500497699
Set autovacuum_analyze_threshold = 1667166479
Set autovacuum_max_workers = 62
Set autovacuum_naptime = 855221
Set autovacuum_vacuum_cost_delay = 100
Set autovacuum_vacuum_cost_limit = 2007
Set autovacuum_vacuum_scale_factor = 74.457055516541
Set autovacuum_vacuum_threshold = 489203836
Set backend_flush_after = 164
Set bgwriter_delay = 4485
Set bgwriter_flush_after = 72
Set bgwriter_lru_maxpages = 39
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.2866819314658642
Set checkpoint_flush_after = 187
Set checkpoint_timeout = 3523
Set commit_delay = 16120
Set commit_siblings = 560
Set cursor_tuple_fraction = 0.7890544533729553
Set deadlock_timeout = 1090674686
Set default_statistics_target = 58
Set effective_cache_size = 1862799042
Set effective_io_concurrency = 408
Set from_collapse_limit = 1304987378
Set geqo_effort = 6
Set geqo_generations = 528359738
Set geqo_pool_size = 164949028
Set geqo_seed = 0.1004312876611948
Set geqo_threshold = 1765635688
Set join_collapse_limit = 234373832
Set maintenance_work_mem = 424825123
Set max_connections = 2364
Set max_wal_senders = 32
Set shared_buffers = 2611726
Set temp_buffers = 773218065
Set temp_file_limit = 250856785
Set vacuum_cost_delay = 32
Set vacuum_cost_limit = 1576
Set vacuum_cost_page_dirty = 387
Set vacuum_cost_page_hit = 5863
Set vacuum_cost_page_miss = 2159
Set wal_buffers = 60847
Set wal_writer_delay = 1561
Set work_mem = 363564379
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-11-36.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-11-36.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-11-36.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-11-36.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-11-36.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763716232.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-11-36.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-11-36.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-11-36.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-11-36.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-11-36.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-11-36.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-11-36.samples.csv
Parsed throughput from summary.json: 1773.2481248020424
BenchBase wikipedia throughput: 1773.2481248020424
Configuration: {'autovacuum_analyze_scale_factor': 52.75337500497699, 'autovacuum_analyze_threshold': 1667166479, 'autovacuum_max_workers': 62, 'autovacuum_naptime': 855221, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 2007, 'autovacuum_vacuum_scale_factor': 74.457055516541, 'autovacuum_vacuum_threshold': 489203836, 'backend_flush_after': 164, 'bgwriter_delay': 4485, 'bgwriter_flush_after': 72, 'bgwriter_lru_maxpages': 39, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.2866819314658642, 'checkpoint_flush_after': 187, 'checkpoint_timeout': 3523, 'commit_delay': 16120, 'commit_siblings': 560, 'cursor_tuple_fraction': 0.7890544533729553, 'deadlock_timeout': 1090674686, 'default_statistics_target': 58, 'effective_cache_size': 1862799042, 'effective_io_concurrency': 408, 'from_collapse_limit': 1304987378, 'geqo_effort': 6, 'geqo_generations': 528359738, 'geqo_pool_size': 164949028, 'geqo_seed': 0.1004312876611948, 'geqo_threshold': 1765635688, 'join_collapse_limit': 234373832, 'maintenance_work_mem': 424825123, 'max_connections': 2364, 'max_wal_senders': 32, 'shared_buffers': 2611726, 'temp_buffers': 773218065, 'temp_file_limit': 250856785, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 1576, 'vacuum_cost_page_dirty': 387, 'vacuum_cost_page_hit': 5863, 'vacuum_cost_page_miss': 2159, 'wal_buffers': 60847, 'wal_writer_delay': 1561, 'work_mem': 363564379}, QPS: -1773.2481248020424
Performance (QPS): -1773.2481248020424
Evaluating configuration: {'autovacuum_analyze_scale_factor': 2.858112845569849, 'autovacuum_analyze_threshold': 841911006, 'autovacuum_max_workers': 101, 'autovacuum_naptime': 1783905, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 9712, 'autovacuum_vacuum_scale_factor': 7.545425556600094, 'autovacuum_vacuum_threshold': 1168427985, 'backend_flush_after': 87, 'bgwriter_delay': 7887, 'bgwriter_flush_after': 188, 'bgwriter_lru_maxpages': 683, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8791203442960978, 'checkpoint_flush_after': 47, 'checkpoint_timeout': 301, 'commit_delay': 62957, 'commit_siblings': 35, 'cursor_tuple_fraction': 0.4069315083324909, 'deadlock_timeout': 966939940, 'default_statistics_target': 9790, 'effective_cache_size': 413023492, 'effective_io_concurrency': 752, 'from_collapse_limit': 742359300, 'geqo_effort': 5, 'geqo_generations': 1793392461, 'geqo_pool_size': 1446827401, 'geqo_seed': 0.8788679363206029, 'geqo_threshold': 929049313, 'join_collapse_limit': 1906210096, 'maintenance_work_mem': 1237569809, 'max_connections': 1100, 'max_wal_senders': 18, 'shared_buffers': 1416118, 'temp_buffers': 276217388, 'temp_file_limit': 1543114999, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 9093, 'vacuum_cost_page_dirty': 7622, 'vacuum_cost_page_hit': 374, 'vacuum_cost_page_miss': 9869, 'wal_buffers': 71970, 'wal_writer_delay': 7661, 'work_mem': 1857541382}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 2.858112845569849
Set autovacuum_analyze_threshold = 841911006
Set autovacuum_max_workers = 101
Set autovacuum_naptime = 1783905
Set autovacuum_vacuum_cost_delay = 34
Set autovacuum_vacuum_cost_limit = 9712
Set autovacuum_vacuum_scale_factor = 7.545425556600094
Set autovacuum_vacuum_threshold = 1168427985
Set backend_flush_after = 87
Set bgwriter_delay = 7887
Set bgwriter_flush_after = 188
Set bgwriter_lru_maxpages = 683
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.8791203442960978
Set checkpoint_flush_after = 47
Set checkpoint_timeout = 301
Set commit_delay = 62957
Set commit_siblings = 35
Set cursor_tuple_fraction = 0.4069315083324909
Set deadlock_timeout = 966939940
Set default_statistics_target = 9790
Set effective_cache_size = 413023492
Set effective_io_concurrency = 752
Set from_collapse_limit = 742359300
Set geqo_effort = 5
Set geqo_generations = 1793392461
Set geqo_pool_size = 1446827401
Set geqo_seed = 0.8788679363206029
Set geqo_threshold = 929049313
Set join_collapse_limit = 1906210096
Set maintenance_work_mem = 1237569809
Set max_connections = 1100
Set max_wal_senders = 18
Set shared_buffers = 1416118
Set temp_buffers = 276217388
Set temp_file_limit = 1543114999
Set vacuum_cost_delay = 83
Set vacuum_cost_limit = 9093
Set vacuum_cost_page_dirty = 7622
Set vacuum_cost_page_hit = 374
Set vacuum_cost_page_miss = 9869
Set wal_buffers = 71970
Set wal_writer_delay = 7661
Set work_mem = 1857541382
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-13-10.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-13-10.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-13-10.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-13-10.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-13-10.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-13-10.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-13-10.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-13-10.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-13-10.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763716327.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-13-10.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-13-10.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-13-10.results.UpdatePage.csv
Parsed throughput from summary.json: 1900.1817856975035
BenchBase wikipedia throughput: 1900.1817856975035
Configuration: {'autovacuum_analyze_scale_factor': 2.858112845569849, 'autovacuum_analyze_threshold': 841911006, 'autovacuum_max_workers': 101, 'autovacuum_naptime': 1783905, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 9712, 'autovacuum_vacuum_scale_factor': 7.545425556600094, 'autovacuum_vacuum_threshold': 1168427985, 'backend_flush_after': 87, 'bgwriter_delay': 7887, 'bgwriter_flush_after': 188, 'bgwriter_lru_maxpages': 683, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8791203442960978, 'checkpoint_flush_after': 47, 'checkpoint_timeout': 301, 'commit_delay': 62957, 'commit_siblings': 35, 'cursor_tuple_fraction': 0.4069315083324909, 'deadlock_timeout': 966939940, 'default_statistics_target': 9790, 'effective_cache_size': 413023492, 'effective_io_concurrency': 752, 'from_collapse_limit': 742359300, 'geqo_effort': 5, 'geqo_generations': 1793392461, 'geqo_pool_size': 1446827401, 'geqo_seed': 0.8788679363206029, 'geqo_threshold': 929049313, 'join_collapse_limit': 1906210096, 'maintenance_work_mem': 1237569809, 'max_connections': 1100, 'max_wal_senders': 18, 'shared_buffers': 1416118, 'temp_buffers': 276217388, 'temp_file_limit': 1543114999, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 9093, 'vacuum_cost_page_dirty': 7622, 'vacuum_cost_page_hit': 374, 'vacuum_cost_page_miss': 9869, 'wal_buffers': 71970, 'wal_writer_delay': 7661, 'work_mem': 1857541382}, QPS: -1900.1817856975035
Performance (QPS): -1900.1817856975035
Evaluating configuration: {'autovacuum_analyze_scale_factor': 4.810939077287912, 'autovacuum_analyze_threshold': 1733022457, 'autovacuum_max_workers': 7, 'autovacuum_naptime': 170989, 'autovacuum_vacuum_cost_delay': 64, 'autovacuum_vacuum_cost_limit': 4519, 'autovacuum_vacuum_scale_factor': 45.70860341191292, 'autovacuum_vacuum_threshold': 446696662, 'backend_flush_after': 119, 'bgwriter_delay': 3829, 'bgwriter_flush_after': 177, 'bgwriter_lru_maxpages': 864, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.8707450851798058, 'checkpoint_flush_after': 157, 'checkpoint_timeout': 2396, 'commit_delay': 58635, 'commit_siblings': 399, 'cursor_tuple_fraction': 0.8470497215166688, 'deadlock_timeout': 1451326618, 'default_statistics_target': 7189, 'effective_cache_size': 142041376, 'effective_io_concurrency': 791, 'from_collapse_limit': 96187758, 'geqo_effort': 8, 'geqo_generations': 332639024, 'geqo_pool_size': 1608470867, 'geqo_seed': 0.9223102023825049, 'geqo_threshold': 422742857, 'join_collapse_limit': 988249558, 'maintenance_work_mem': 207085937, 'max_connections': 293, 'max_wal_senders': 23, 'shared_buffers': 2707568, 'temp_buffers': 309878623, 'temp_file_limit': 2087156255, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 3336, 'vacuum_cost_page_dirty': 4876, 'vacuum_cost_page_hit': 3298, 'vacuum_cost_page_miss': 2587, 'wal_buffers': 48795, 'wal_writer_delay': 4458, 'work_mem': 511946888}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 4.810939077287912
Set autovacuum_analyze_threshold = 1733022457
Set autovacuum_max_workers = 7
Set autovacuum_naptime = 170989
Set autovacuum_vacuum_cost_delay = 64
Set autovacuum_vacuum_cost_limit = 4519
Set autovacuum_vacuum_scale_factor = 45.70860341191292
Set autovacuum_vacuum_threshold = 446696662
Set backend_flush_after = 119
Set bgwriter_delay = 3829
Set bgwriter_flush_after = 177
Set bgwriter_lru_maxpages = 864
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.8707450851798058
Set checkpoint_flush_after = 157
Set checkpoint_timeout = 2396
Set commit_delay = 58635
Set commit_siblings = 399
Set cursor_tuple_fraction = 0.8470497215166688
Set deadlock_timeout = 1451326618
Set default_statistics_target = 7189
Set effective_cache_size = 142041376
Set effective_io_concurrency = 791
Set from_collapse_limit = 96187758
Set geqo_effort = 8
Set geqo_generations = 332639024
Set geqo_pool_size = 1608470867
Set geqo_seed = 0.9223102023825049
Set geqo_threshold = 422742857
Set join_collapse_limit = 988249558
Set maintenance_work_mem = 207085937
Set max_connections = 293
Set max_wal_senders = 23
Set shared_buffers = 2707568
Set temp_buffers = 309878623
Set temp_file_limit = 2087156255
Set vacuum_cost_delay = 77
Set vacuum_cost_limit = 3336
Set vacuum_cost_page_dirty = 4876
Set vacuum_cost_page_hit = 3298
Set vacuum_cost_page_miss = 2587
Set wal_buffers = 48795
Set wal_writer_delay = 4458
Set work_mem = 511946888
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-14-44.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-14-44.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-14-44.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-14-44.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-14-44.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763716421.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-14-44.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-14-44.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-14-44.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-14-44.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-14-44.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-14-44.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-14-44.config.xml
Parsed throughput from summary.json: 1930.051293041426
BenchBase wikipedia throughput: 1930.051293041426
Configuration: {'autovacuum_analyze_scale_factor': 4.810939077287912, 'autovacuum_analyze_threshold': 1733022457, 'autovacuum_max_workers': 7, 'autovacuum_naptime': 170989, 'autovacuum_vacuum_cost_delay': 64, 'autovacuum_vacuum_cost_limit': 4519, 'autovacuum_vacuum_scale_factor': 45.70860341191292, 'autovacuum_vacuum_threshold': 446696662, 'backend_flush_after': 119, 'bgwriter_delay': 3829, 'bgwriter_flush_after': 177, 'bgwriter_lru_maxpages': 864, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.8707450851798058, 'checkpoint_flush_after': 157, 'checkpoint_timeout': 2396, 'commit_delay': 58635, 'commit_siblings': 399, 'cursor_tuple_fraction': 0.8470497215166688, 'deadlock_timeout': 1451326618, 'default_statistics_target': 7189, 'effective_cache_size': 142041376, 'effective_io_concurrency': 791, 'from_collapse_limit': 96187758, 'geqo_effort': 8, 'geqo_generations': 332639024, 'geqo_pool_size': 1608470867, 'geqo_seed': 0.9223102023825049, 'geqo_threshold': 422742857, 'join_collapse_limit': 988249558, 'maintenance_work_mem': 207085937, 'max_connections': 293, 'max_wal_senders': 23, 'shared_buffers': 2707568, 'temp_buffers': 309878623, 'temp_file_limit': 2087156255, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 3336, 'vacuum_cost_page_dirty': 4876, 'vacuum_cost_page_hit': 3298, 'vacuum_cost_page_miss': 2587, 'wal_buffers': 48795, 'wal_writer_delay': 4458, 'work_mem': 511946888}, QPS: -1930.051293041426
Performance (QPS): -1930.051293041426
Evaluating configuration: {'autovacuum_analyze_scale_factor': 54.70811007544398, 'autovacuum_analyze_threshold': 909879604, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1385992, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 7199, 'autovacuum_vacuum_scale_factor': 84.69125293195248, 'autovacuum_vacuum_threshold': 1110208375, 'backend_flush_after': 130, 'bgwriter_delay': 8540, 'bgwriter_flush_after': 66, 'bgwriter_lru_maxpages': 469, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.4629648458212614, 'checkpoint_flush_after': 9, 'checkpoint_timeout': 932, 'commit_delay': 11895, 'commit_siblings': 876, 'cursor_tuple_fraction': 0.4728327365592122, 'deadlock_timeout': 773944896, 'default_statistics_target': 2653, 'effective_cache_size': 2145473254, 'effective_io_concurrency': 385, 'from_collapse_limit': 1682748056, 'geqo_effort': 3, 'geqo_generations': 1716090179, 'geqo_pool_size': 3631354, 'geqo_seed': 0.08331520110368729, 'geqo_threshold': 1198512064, 'join_collapse_limit': 1182878254, 'maintenance_work_mem': 1556504691, 'max_connections': 1606, 'max_wal_senders': 27, 'shared_buffers': 1774032, 'temp_buffers': 739818539, 'temp_file_limit': 695119753, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 5858, 'vacuum_cost_page_dirty': 7115, 'vacuum_cost_page_hit': 7965, 'vacuum_cost_page_miss': 5384, 'wal_buffers': 84502, 'wal_writer_delay': 5701, 'work_mem': 1704978829}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 54.70811007544398
Set autovacuum_analyze_threshold = 909879604
Set autovacuum_max_workers = 156
Set autovacuum_naptime = 1385992
Set autovacuum_vacuum_cost_delay = -1
Set autovacuum_vacuum_cost_limit = 7199
Set autovacuum_vacuum_scale_factor = 84.69125293195248
Set autovacuum_vacuum_threshold = 1110208375
Set backend_flush_after = 130
Set bgwriter_delay = 8540
Set bgwriter_flush_after = 66
Set bgwriter_lru_maxpages = 469
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.4629648458212614
Set checkpoint_flush_after = 9
Set checkpoint_timeout = 932
Set commit_delay = 11895
Set commit_siblings = 876
Set cursor_tuple_fraction = 0.4728327365592122
Set deadlock_timeout = 773944896
Set default_statistics_target = 2653
Set effective_cache_size = 2145473254
Set effective_io_concurrency = 385
Set from_collapse_limit = 1682748056
Set geqo_effort = 3
Set geqo_generations = 1716090179
Set geqo_pool_size = 3631354
Set geqo_seed = 0.08331520110368729
Set geqo_threshold = 1198512064
Set join_collapse_limit = 1182878254
Set maintenance_work_mem = 1556504691
Set max_connections = 1606
Set max_wal_senders = 27
Set shared_buffers = 1774032
Set temp_buffers = 739818539
Set temp_file_limit = 695119753
Set vacuum_cost_delay = 26
Set vacuum_cost_limit = 5858
Set vacuum_cost_page_dirty = 7115
Set vacuum_cost_page_hit = 7965
Set vacuum_cost_page_miss = 5384
Set wal_buffers = 84502
Set wal_writer_delay = 5701
Set work_mem = 1704978829
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-16-18.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-16-18.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-16-18.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-16-18.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-16-18.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-16-18.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763716515.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-16-18.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-16-18.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-16-18.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-16-18.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-16-18.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-16-18.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 1934.9044960642925
BenchBase wikipedia throughput: 1934.9044960642925
Configuration: {'autovacuum_analyze_scale_factor': 54.70811007544398, 'autovacuum_analyze_threshold': 909879604, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1385992, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 7199, 'autovacuum_vacuum_scale_factor': 84.69125293195248, 'autovacuum_vacuum_threshold': 1110208375, 'backend_flush_after': 130, 'bgwriter_delay': 8540, 'bgwriter_flush_after': 66, 'bgwriter_lru_maxpages': 469, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.4629648458212614, 'checkpoint_flush_after': 9, 'checkpoint_timeout': 932, 'commit_delay': 11895, 'commit_siblings': 876, 'cursor_tuple_fraction': 0.4728327365592122, 'deadlock_timeout': 773944896, 'default_statistics_target': 2653, 'effective_cache_size': 2145473254, 'effective_io_concurrency': 385, 'from_collapse_limit': 1682748056, 'geqo_effort': 3, 'geqo_generations': 1716090179, 'geqo_pool_size': 3631354, 'geqo_seed': 0.08331520110368729, 'geqo_threshold': 1198512064, 'join_collapse_limit': 1182878254, 'maintenance_work_mem': 1556504691, 'max_connections': 1606, 'max_wal_senders': 27, 'shared_buffers': 1774032, 'temp_buffers': 739818539, 'temp_file_limit': 695119753, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 5858, 'vacuum_cost_page_dirty': 7115, 'vacuum_cost_page_hit': 7965, 'vacuum_cost_page_miss': 5384, 'wal_buffers': 84502, 'wal_writer_delay': 5701, 'work_mem': 1704978829}, QPS: -1934.9044960642925
Performance (QPS): -1934.9044960642925
Evaluating configuration: {'autovacuum_analyze_scale_factor': 84.71429403871298, 'autovacuum_analyze_threshold': 1548164745, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 549374, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 9591, 'autovacuum_vacuum_scale_factor': 4.815126582980156, 'autovacuum_vacuum_threshold': 2017993425, 'backend_flush_after': 216, 'bgwriter_delay': 6097, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 87, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.6077100019901991, 'checkpoint_flush_after': 124, 'checkpoint_timeout': 3181, 'commit_delay': 32800, 'commit_siblings': 149, 'cursor_tuple_fraction': 0.178312785923481, 'deadlock_timeout': 1770957736, 'default_statistics_target': 8068, 'effective_cache_size': 1253660304, 'effective_io_concurrency': 518, 'from_collapse_limit': 724343446, 'geqo_effort': 6, 'geqo_generations': 1325416105, 'geqo_pool_size': 2121410511, 'geqo_seed': 0.47888448368757963, 'geqo_threshold': 790076639, 'join_collapse_limit': 1995854254, 'maintenance_work_mem': 541898725, 'max_connections': 1232, 'max_wal_senders': 7, 'shared_buffers': 738943, 'temp_buffers': 874680257, 'temp_file_limit': 361476651, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 1055, 'vacuum_cost_page_dirty': 1935, 'vacuum_cost_page_hit': 667, 'vacuum_cost_page_miss': 1714, 'wal_buffers': 124317, 'wal_writer_delay': 1571, 'work_mem': 908453946}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 84.71429403871298
Set autovacuum_analyze_threshold = 1548164745
Set autovacuum_max_workers = 76
Set autovacuum_naptime = 549374
Set autovacuum_vacuum_cost_delay = 49
Set autovacuum_vacuum_cost_limit = 9591
Set autovacuum_vacuum_scale_factor = 4.815126582980156
Set autovacuum_vacuum_threshold = 2017993425
Set backend_flush_after = 216
Set bgwriter_delay = 6097
Set bgwriter_flush_after = 40
Set bgwriter_lru_maxpages = 87
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.6077100019901991
Set checkpoint_flush_after = 124
Set checkpoint_timeout = 3181
Set commit_delay = 32800
Set commit_siblings = 149
Set cursor_tuple_fraction = 0.178312785923481
Set deadlock_timeout = 1770957736
Set default_statistics_target = 8068
Set effective_cache_size = 1253660304
Set effective_io_concurrency = 518
Set from_collapse_limit = 724343446
Set geqo_effort = 6
Set geqo_generations = 1325416105
Set geqo_pool_size = 2121410511
Set geqo_seed = 0.47888448368757963
Set geqo_threshold = 790076639
Set join_collapse_limit = 1995854254
Set maintenance_work_mem = 541898725
Set max_connections = 1232
Set max_wal_senders = 7
Set shared_buffers = 738943
Set temp_buffers = 874680257
Set temp_file_limit = 361476651
Set vacuum_cost_delay = 59
Set vacuum_cost_limit = 1055
Set vacuum_cost_page_dirty = 1935
Set vacuum_cost_page_hit = 667
Set vacuum_cost_page_miss = 1714
Set wal_buffers = 124317
Set wal_writer_delay = 1571
Set work_mem = 908453946
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-17-53.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-17-53.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763716609.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-17-53.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-17-53.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-17-53.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-17-53.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-17-53.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-17-53.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-17-53.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-17-53.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-17-53.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-17-53.metrics.json
Parsed throughput from summary.json: 1897.697991032108
BenchBase wikipedia throughput: 1897.697991032108
Configuration: {'autovacuum_analyze_scale_factor': 84.71429403871298, 'autovacuum_analyze_threshold': 1548164745, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 549374, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 9591, 'autovacuum_vacuum_scale_factor': 4.815126582980156, 'autovacuum_vacuum_threshold': 2017993425, 'backend_flush_after': 216, 'bgwriter_delay': 6097, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 87, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.6077100019901991, 'checkpoint_flush_after': 124, 'checkpoint_timeout': 3181, 'commit_delay': 32800, 'commit_siblings': 149, 'cursor_tuple_fraction': 0.178312785923481, 'deadlock_timeout': 1770957736, 'default_statistics_target': 8068, 'effective_cache_size': 1253660304, 'effective_io_concurrency': 518, 'from_collapse_limit': 724343446, 'geqo_effort': 6, 'geqo_generations': 1325416105, 'geqo_pool_size': 2121410511, 'geqo_seed': 0.47888448368757963, 'geqo_threshold': 790076639, 'join_collapse_limit': 1995854254, 'maintenance_work_mem': 541898725, 'max_connections': 1232, 'max_wal_senders': 7, 'shared_buffers': 738943, 'temp_buffers': 874680257, 'temp_file_limit': 361476651, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 1055, 'vacuum_cost_page_dirty': 1935, 'vacuum_cost_page_hit': 667, 'vacuum_cost_page_miss': 1714, 'wal_buffers': 124317, 'wal_writer_delay': 1571, 'work_mem': 908453946}, QPS: -1897.697991032108
Performance (QPS): -1897.697991032108
Evaluating configuration: {'autovacuum_analyze_scale_factor': 34.5752265304327, 'autovacuum_analyze_threshold': 221734212, 'autovacuum_max_workers': 137, 'autovacuum_naptime': 2014535, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 2440, 'autovacuum_vacuum_scale_factor': 63.13391551375389, 'autovacuum_vacuum_threshold': 549732732, 'backend_flush_after': 35, 'bgwriter_delay': 1280, 'bgwriter_flush_after': 213, 'bgwriter_lru_maxpages': 698, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.20311132818460464, 'checkpoint_flush_after': 233, 'checkpoint_timeout': 154, 'commit_delay': 85778, 'commit_siblings': 626, 'cursor_tuple_fraction': 0.5486789308488369, 'deadlock_timeout': 288268658, 'default_statistics_target': 2087, 'effective_cache_size': 1026516310, 'effective_io_concurrency': 173, 'from_collapse_limit': 1255906656, 'geqo_effort': 4, 'geqo_generations': 983228638, 'geqo_pool_size': 563748478, 'geqo_seed': 0.5149009339511395, 'geqo_threshold': 1900724310, 'join_collapse_limit': 177235542, 'maintenance_work_mem': 1893545695, 'max_connections': 2879, 'max_wal_senders': 44, 'shared_buffers': 3737568, 'temp_buffers': 172125454, 'temp_file_limit': 1082288005, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 8532, 'vacuum_cost_page_dirty': 9824, 'vacuum_cost_page_hit': 5570, 'vacuum_cost_page_miss': 8752, 'wal_buffers': 4368, 'wal_writer_delay': 7964, 'work_mem': 1295626727}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 34.5752265304327
Set autovacuum_analyze_threshold = 221734212
Set autovacuum_max_workers = 137
Set autovacuum_naptime = 2014535
Set autovacuum_vacuum_cost_delay = 86
Set autovacuum_vacuum_cost_limit = 2440
Set autovacuum_vacuum_scale_factor = 63.13391551375389
Set autovacuum_vacuum_threshold = 549732732
Set backend_flush_after = 35
Set bgwriter_delay = 1280
Set bgwriter_flush_after = 213
Set bgwriter_lru_maxpages = 698
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.20311132818460464
Set checkpoint_flush_after = 233
Set checkpoint_timeout = 154
Set commit_delay = 85778
Set commit_siblings = 626
Set cursor_tuple_fraction = 0.5486789308488369
Set deadlock_timeout = 288268658
Set default_statistics_target = 2087
Set effective_cache_size = 1026516310
Set effective_io_concurrency = 173
Set from_collapse_limit = 1255906656
Set geqo_effort = 4
Set geqo_generations = 983228638
Set geqo_pool_size = 563748478
Set geqo_seed = 0.5149009339511395
Set geqo_threshold = 1900724310
Set join_collapse_limit = 177235542
Set maintenance_work_mem = 1893545695
Set max_connections = 2879
Set max_wal_senders = 44
Set shared_buffers = 3737568
Set temp_buffers = 172125454
Set temp_file_limit = 1082288005
Set vacuum_cost_delay = 7
Set vacuum_cost_limit = 8532
Set vacuum_cost_page_dirty = 9824
Set vacuum_cost_page_hit = 5570
Set vacuum_cost_page_miss = 8752
Set wal_buffers = 4368
Set wal_writer_delay = 7964
Set work_mem = 1295626727
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763716703.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-19-26.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-19-26.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-19-26.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-19-26.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-19-26.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-19-26.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-19-26.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-19-26.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-19-26.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-19-26.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-19-26.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-19-26.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 1906.785430096185
BenchBase wikipedia throughput: 1906.785430096185
Configuration: {'autovacuum_analyze_scale_factor': 34.5752265304327, 'autovacuum_analyze_threshold': 221734212, 'autovacuum_max_workers': 137, 'autovacuum_naptime': 2014535, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 2440, 'autovacuum_vacuum_scale_factor': 63.13391551375389, 'autovacuum_vacuum_threshold': 549732732, 'backend_flush_after': 35, 'bgwriter_delay': 1280, 'bgwriter_flush_after': 213, 'bgwriter_lru_maxpages': 698, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.20311132818460464, 'checkpoint_flush_after': 233, 'checkpoint_timeout': 154, 'commit_delay': 85778, 'commit_siblings': 626, 'cursor_tuple_fraction': 0.5486789308488369, 'deadlock_timeout': 288268658, 'default_statistics_target': 2087, 'effective_cache_size': 1026516310, 'effective_io_concurrency': 173, 'from_collapse_limit': 1255906656, 'geqo_effort': 4, 'geqo_generations': 983228638, 'geqo_pool_size': 563748478, 'geqo_seed': 0.5149009339511395, 'geqo_threshold': 1900724310, 'join_collapse_limit': 177235542, 'maintenance_work_mem': 1893545695, 'max_connections': 2879, 'max_wal_senders': 44, 'shared_buffers': 3737568, 'temp_buffers': 172125454, 'temp_file_limit': 1082288005, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 8532, 'vacuum_cost_page_dirty': 9824, 'vacuum_cost_page_hit': 5570, 'vacuum_cost_page_miss': 8752, 'wal_buffers': 4368, 'wal_writer_delay': 7964, 'work_mem': 1295626727}, QPS: -1906.785430096185
Performance (QPS): -1906.785430096185
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 390597560
Set effective_io_concurrency = 661
Set from_collapse_limit = 1540209128
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7525
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-21-00.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-21-00.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-21-00.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763716797.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-21-00.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-21-00.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-21-00.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-21-00.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-21-00.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-21-00.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-21-00.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-21-00.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-21-00.results.UpdatePage.csv
Parsed throughput from summary.json: 1924.4574588846492
BenchBase wikipedia throughput: 1924.4574588846492
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -1924.4574588846492
Performance (QPS): -1924.4574588846492
Evaluating configuration: {'autovacuum_analyze_scale_factor': 88.27907536178827, 'autovacuum_analyze_threshold': 453239044, 'autovacuum_max_workers': 37, 'autovacuum_naptime': 989066, 'autovacuum_vacuum_cost_delay': 26, 'autovacuum_vacuum_cost_limit': 6159, 'autovacuum_vacuum_scale_factor': 61.57751129940152, 'autovacuum_vacuum_threshold': 1014836070, 'backend_flush_after': 11, 'bgwriter_delay': 2818, 'bgwriter_flush_after': 228, 'bgwriter_lru_maxpages': 238, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.9778543328866363, 'checkpoint_flush_after': 84, 'checkpoint_timeout': 2747, 'commit_delay': 47402, 'commit_siblings': 12, 'cursor_tuple_fraction': 0.6822191923856735, 'deadlock_timeout': 882694628, 'default_statistics_target': 4955, 'effective_cache_size': 1625176190, 'effective_io_concurrency': 7, 'from_collapse_limit': 976928286, 'geqo_effort': 7, 'geqo_generations': 613192932, 'geqo_pool_size': 809467708, 'geqo_seed': 0.8060534400865436, 'geqo_threshold': 1525110806, 'join_collapse_limit': 1560638050, 'maintenance_work_mem': 1816522981, 'max_connections': 2122, 'max_wal_senders': 0, 'shared_buffers': 3306648, 'temp_buffers': 443279943, 'temp_file_limit': 1662544963, 'vacuum_cost_delay': 92, 'vacuum_cost_limit': 2333, 'vacuum_cost_page_dirty': 8419, 'vacuum_cost_page_hit': 1581, 'vacuum_cost_page_miss': 441, 'wal_buffers': 64631, 'wal_writer_delay': 6526, 'work_mem': 567208785}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 88.27907536178827
Set autovacuum_analyze_threshold = 453239044
Set autovacuum_max_workers = 37
Set autovacuum_naptime = 989066
Set autovacuum_vacuum_cost_delay = 26
Set autovacuum_vacuum_cost_limit = 6159
Set autovacuum_vacuum_scale_factor = 61.57751129940152
Set autovacuum_vacuum_threshold = 1014836070
Set backend_flush_after = 11
Set bgwriter_delay = 2818
Set bgwriter_flush_after = 228
Set bgwriter_lru_maxpages = 238
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.9778543328866363
Set checkpoint_flush_after = 84
Set checkpoint_timeout = 2747
Set commit_delay = 47402
Set commit_siblings = 12
Set cursor_tuple_fraction = 0.6822191923856735
Set deadlock_timeout = 882694628
Set default_statistics_target = 4955
Set effective_cache_size = 1625176190
Set effective_io_concurrency = 7
Set from_collapse_limit = 976928286
Set geqo_effort = 7
Set geqo_generations = 613192932
Set geqo_pool_size = 809467708
Set geqo_seed = 0.8060534400865436
Set geqo_threshold = 1525110806
Set join_collapse_limit = 1560638050
Set maintenance_work_mem = 1816522981
Set max_connections = 2122
Set max_wal_senders = 0
Set shared_buffers = 3306648
Set temp_buffers = 443279943
Set temp_file_limit = 1662544963
Set vacuum_cost_delay = 92
Set vacuum_cost_limit = 2333
Set vacuum_cost_page_dirty = 8419
Set vacuum_cost_page_hit = 1581
Set vacuum_cost_page_miss = 441
Set wal_buffers = 64631
Set wal_writer_delay = 6526
Set work_mem = 567208785
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-22-33.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-22-33.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-22-33.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-22-33.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-22-33.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-22-33.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-22-33.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-22-33.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-22-33.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-22-33.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763716891.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-22-33.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-22-33.results.AddWatchList.csv
Parsed throughput from summary.json: 1391.3372493450158
BenchBase wikipedia throughput: 1391.3372493450158
Configuration: {'autovacuum_analyze_scale_factor': 88.27907536178827, 'autovacuum_analyze_threshold': 453239044, 'autovacuum_max_workers': 37, 'autovacuum_naptime': 989066, 'autovacuum_vacuum_cost_delay': 26, 'autovacuum_vacuum_cost_limit': 6159, 'autovacuum_vacuum_scale_factor': 61.57751129940152, 'autovacuum_vacuum_threshold': 1014836070, 'backend_flush_after': 11, 'bgwriter_delay': 2818, 'bgwriter_flush_after': 228, 'bgwriter_lru_maxpages': 238, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.9778543328866363, 'checkpoint_flush_after': 84, 'checkpoint_timeout': 2747, 'commit_delay': 47402, 'commit_siblings': 12, 'cursor_tuple_fraction': 0.6822191923856735, 'deadlock_timeout': 882694628, 'default_statistics_target': 4955, 'effective_cache_size': 1625176190, 'effective_io_concurrency': 7, 'from_collapse_limit': 976928286, 'geqo_effort': 7, 'geqo_generations': 613192932, 'geqo_pool_size': 809467708, 'geqo_seed': 0.8060534400865436, 'geqo_threshold': 1525110806, 'join_collapse_limit': 1560638050, 'maintenance_work_mem': 1816522981, 'max_connections': 2122, 'max_wal_senders': 0, 'shared_buffers': 3306648, 'temp_buffers': 443279943, 'temp_file_limit': 1662544963, 'vacuum_cost_delay': 92, 'vacuum_cost_limit': 2333, 'vacuum_cost_page_dirty': 8419, 'vacuum_cost_page_hit': 1581, 'vacuum_cost_page_miss': 441, 'wal_buffers': 64631, 'wal_writer_delay': 6526, 'work_mem': 567208785}, QPS: -1391.3372493450158
Performance (QPS): -1391.3372493450158
Evaluating configuration: {'autovacuum_analyze_scale_factor': 70.77226033434272, 'autovacuum_analyze_threshold': 1904170681, 'autovacuum_max_workers': 108, 'autovacuum_naptime': 1221705, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 8141, 'autovacuum_vacuum_scale_factor': 28.612651396542788, 'autovacuum_vacuum_threshold': 102328012, 'backend_flush_after': 94, 'bgwriter_delay': 267, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 322, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.09085974749177694, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 1419, 'commit_delay': 20638, 'commit_siblings': 770, 'cursor_tuple_fraction': 0.9767390536144376, 'deadlock_timeout': 1932723212, 'default_statistics_target': 9521, 'effective_cache_size': 1434860552, 'effective_io_concurrency': 906, 'from_collapse_limit': 1968870928, 'geqo_effort': 1, 'geqo_generations': 231071498, 'geqo_pool_size': 1316630549, 'geqo_seed': 0.63118826597929, 'geqo_threshold': 849285897, 'join_collapse_limit': 1836214754, 'maintenance_work_mem': 282009459, 'max_connections': 1014, 'max_wal_senders': 34, 'shared_buffers': 2237227, 'temp_buffers': 38918670, 'temp_file_limit': 1610445281, 'vacuum_cost_delay': 24, 'vacuum_cost_limit': 7060, 'vacuum_cost_page_dirty': 3132, 'vacuum_cost_page_hit': 9474, 'vacuum_cost_page_miss': 6620, 'wal_buffers': 21500, 'wal_writer_delay': 1203, 'work_mem': 1920264890}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 70.77226033434272
Set autovacuum_analyze_threshold = 1904170681
Set autovacuum_max_workers = 108
Set autovacuum_naptime = 1221705
Set autovacuum_vacuum_cost_delay = 22
Set autovacuum_vacuum_cost_limit = 8141
Set autovacuum_vacuum_scale_factor = 28.612651396542788
Set autovacuum_vacuum_threshold = 102328012
Set backend_flush_after = 94
Set bgwriter_delay = 267
Set bgwriter_flush_after = 134
Set bgwriter_lru_maxpages = 322
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.09085974749177694
Set checkpoint_flush_after = 33
Set checkpoint_timeout = 1419
Set commit_delay = 20638
Set commit_siblings = 770
Set cursor_tuple_fraction = 0.9767390536144376
Set deadlock_timeout = 1932723212
Set default_statistics_target = 9521
Set effective_cache_size = 1434860552
Set effective_io_concurrency = 906
Set from_collapse_limit = 1968870928
Set geqo_effort = 1
Set geqo_generations = 231071498
Set geqo_pool_size = 1316630549
Set geqo_seed = 0.63118826597929
Set geqo_threshold = 849285897
Set join_collapse_limit = 1836214754
Set maintenance_work_mem = 282009459
Set max_connections = 1014
Set max_wal_senders = 34
Set shared_buffers = 2237227
Set temp_buffers = 38918670
Set temp_file_limit = 1610445281
Set vacuum_cost_delay = 24
Set vacuum_cost_limit = 7060
Set vacuum_cost_page_dirty = 3132
Set vacuum_cost_page_hit = 9474
Set vacuum_cost_page_miss = 6620
Set wal_buffers = 21500
Set wal_writer_delay = 1203
Set work_mem = 1920264890
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-24-07.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-24-07.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-24-07.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-24-07.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763716983.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-24-07.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-24-07.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-24-07.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-24-07.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-24-07.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-24-07.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-24-07.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-24-07.samples.csv
Parsed throughput from summary.json: 1837.634964700133
BenchBase wikipedia throughput: 1837.634964700133
Configuration: {'autovacuum_analyze_scale_factor': 70.77226033434272, 'autovacuum_analyze_threshold': 1904170681, 'autovacuum_max_workers': 108, 'autovacuum_naptime': 1221705, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 8141, 'autovacuum_vacuum_scale_factor': 28.612651396542788, 'autovacuum_vacuum_threshold': 102328012, 'backend_flush_after': 94, 'bgwriter_delay': 267, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 322, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.09085974749177694, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 1419, 'commit_delay': 20638, 'commit_siblings': 770, 'cursor_tuple_fraction': 0.9767390536144376, 'deadlock_timeout': 1932723212, 'default_statistics_target': 9521, 'effective_cache_size': 1434860552, 'effective_io_concurrency': 906, 'from_collapse_limit': 1968870928, 'geqo_effort': 1, 'geqo_generations': 231071498, 'geqo_pool_size': 1316630549, 'geqo_seed': 0.63118826597929, 'geqo_threshold': 849285897, 'join_collapse_limit': 1836214754, 'maintenance_work_mem': 282009459, 'max_connections': 1014, 'max_wal_senders': 34, 'shared_buffers': 2237227, 'temp_buffers': 38918670, 'temp_file_limit': 1610445281, 'vacuum_cost_delay': 24, 'vacuum_cost_limit': 7060, 'vacuum_cost_page_dirty': 3132, 'vacuum_cost_page_hit': 9474, 'vacuum_cost_page_miss': 6620, 'wal_buffers': 21500, 'wal_writer_delay': 1203, 'work_mem': 1920264890}, QPS: -1837.634964700133
Performance (QPS): -1837.634964700133
Evaluating configuration: {'autovacuum_analyze_scale_factor': 20.874277222901583, 'autovacuum_analyze_threshold': 537865588, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 276571, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 1078, 'autovacuum_vacuum_scale_factor': 89.433688018471, 'autovacuum_vacuum_threshold': 1586824545, 'backend_flush_after': 171, 'bgwriter_delay': 7422, 'bgwriter_flush_after': 117, 'bgwriter_lru_maxpages': 963, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.746817515231669, 'checkpoint_flush_after': 180, 'checkpoint_timeout': 1963, 'commit_delay': 73722, 'commit_siblings': 263, 'cursor_tuple_fraction': 0.35876862797886133, 'deadlock_timeout': 194186966, 'default_statistics_target': 326, 'effective_cache_size': 571477966, 'effective_io_concurrency': 309, 'from_collapse_limit': 346919398, 'geqo_effort': 10, 'geqo_generations': 2019492221, 'geqo_pool_size': 294783416, 'geqo_seed': 0.3471249183639884, 'geqo_threshold': 1824673664, 'join_collapse_limit': 286547482, 'maintenance_work_mem': 1079942001, 'max_connections': 2266, 'max_wal_senders': 17, 'shared_buffers': 1073819, 'temp_buffers': 1009859263, 'temp_file_limit': 183804999, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 4539, 'vacuum_cost_page_dirty': 6049, 'vacuum_cost_page_hit': 4259, 'vacuum_cost_page_miss': 3850, 'wal_buffers': 108401, 'wal_writer_delay': 9889, 'work_mem': 157856679}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 20.874277222901583
Set autovacuum_analyze_threshold = 537865588
Set autovacuum_max_workers = 56
Set autovacuum_naptime = 276571
Set autovacuum_vacuum_cost_delay = 62
Set autovacuum_vacuum_cost_limit = 1078
Set autovacuum_vacuum_scale_factor = 89.433688018471
Set autovacuum_vacuum_threshold = 1586824545
Set backend_flush_after = 171
Set bgwriter_delay = 7422
Set bgwriter_flush_after = 117
Set bgwriter_lru_maxpages = 963
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.746817515231669
Set checkpoint_flush_after = 180
Set checkpoint_timeout = 1963
Set commit_delay = 73722
Set commit_siblings = 263
Set cursor_tuple_fraction = 0.35876862797886133
Set deadlock_timeout = 194186966
Set default_statistics_target = 326
Set effective_cache_size = 571477966
Set effective_io_concurrency = 309
Set from_collapse_limit = 346919398
Set geqo_effort = 10
Set geqo_generations = 2019492221
Set geqo_pool_size = 294783416
Set geqo_seed = 0.3471249183639884
Set geqo_threshold = 1824673664
Set join_collapse_limit = 286547482
Set maintenance_work_mem = 1079942001
Set max_connections = 2266
Set max_wal_senders = 17
Set shared_buffers = 1073819
Set temp_buffers = 1009859263
Set temp_file_limit = 183804999
Set vacuum_cost_delay = 73
Set vacuum_cost_limit = 4539
Set vacuum_cost_page_dirty = 6049
Set vacuum_cost_page_hit = 4259
Set vacuum_cost_page_miss = 3850
Set wal_buffers = 108401
Set wal_writer_delay = 9889
Set work_mem = 157856679
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-25-41.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-25-41.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-25-41.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-25-41.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-25-41.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-25-41.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-25-41.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-25-41.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-25-41.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-25-41.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-25-41.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763717078.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-25-41.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Parsed throughput from summary.json: 1918.4044967210182
BenchBase wikipedia throughput: 1918.4044967210182
Configuration: {'autovacuum_analyze_scale_factor': 20.874277222901583, 'autovacuum_analyze_threshold': 537865588, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 276571, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 1078, 'autovacuum_vacuum_scale_factor': 89.433688018471, 'autovacuum_vacuum_threshold': 1586824545, 'backend_flush_after': 171, 'bgwriter_delay': 7422, 'bgwriter_flush_after': 117, 'bgwriter_lru_maxpages': 963, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.746817515231669, 'checkpoint_flush_after': 180, 'checkpoint_timeout': 1963, 'commit_delay': 73722, 'commit_siblings': 263, 'cursor_tuple_fraction': 0.35876862797886133, 'deadlock_timeout': 194186966, 'default_statistics_target': 326, 'effective_cache_size': 571477966, 'effective_io_concurrency': 309, 'from_collapse_limit': 346919398, 'geqo_effort': 10, 'geqo_generations': 2019492221, 'geqo_pool_size': 294783416, 'geqo_seed': 0.3471249183639884, 'geqo_threshold': 1824673664, 'join_collapse_limit': 286547482, 'maintenance_work_mem': 1079942001, 'max_connections': 2266, 'max_wal_senders': 17, 'shared_buffers': 1073819, 'temp_buffers': 1009859263, 'temp_file_limit': 183804999, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 4539, 'vacuum_cost_page_dirty': 6049, 'vacuum_cost_page_hit': 4259, 'vacuum_cost_page_miss': 3850, 'wal_buffers': 108401, 'wal_writer_delay': 9889, 'work_mem': 157856679}, QPS: -1918.4044967210182
Performance (QPS): -1918.4044967210182
Evaluating configuration: {'autovacuum_analyze_scale_factor': 14.541357941925526, 'autovacuum_analyze_threshold': 1398783817, 'autovacuum_max_workers': 116, 'autovacuum_naptime': 927250, 'autovacuum_vacuum_cost_delay': 7, 'autovacuum_vacuum_cost_limit': 1749, 'autovacuum_vacuum_scale_factor': 12.682785466313362, 'autovacuum_vacuum_threshold': 1755855637, 'backend_flush_after': 229, 'bgwriter_delay': 2456, 'bgwriter_flush_after': 96, 'bgwriter_lru_maxpages': 799, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.02632452081888914, 'checkpoint_flush_after': 99, 'checkpoint_timeout': 817, 'commit_delay': 25515, 'commit_siblings': 744, 'cursor_tuple_fraction': 0.0653075072914362, 'deadlock_timeout': 1640755072, 'default_statistics_target': 6143, 'effective_cache_size': 1771098618, 'effective_io_concurrency': 982, 'from_collapse_limit': 1403551182, 'geqo_effort': 8, 'geqo_generations': 456658054, 'geqo_pool_size': 214606922, 'geqo_seed': 0.8228023396804929, 'geqo_threshold': 1374850376, 'join_collapse_limit': 1692635718, 'maintenance_work_mem': 814318961, 'max_connections': 2789, 'max_wal_senders': 20, 'shared_buffers': 436723, 'temp_buffers': 678941471, 'temp_file_limit': 1443169087, 'vacuum_cost_delay': 95, 'vacuum_cost_limit': 7601, 'vacuum_cost_page_dirty': 1736, 'vacuum_cost_page_hit': 8548, 'vacuum_cost_page_miss': 6008, 'wal_buffers': 39645, 'wal_writer_delay': 8737, 'work_mem': 78461459}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 14.541357941925526
Set autovacuum_analyze_threshold = 1398783817
Set autovacuum_max_workers = 116
Set autovacuum_naptime = 927250
Set autovacuum_vacuum_cost_delay = 7
Set autovacuum_vacuum_cost_limit = 1749
Set autovacuum_vacuum_scale_factor = 12.682785466313362
Set autovacuum_vacuum_threshold = 1755855637
Set backend_flush_after = 229
Set bgwriter_delay = 2456
Set bgwriter_flush_after = 96
Set bgwriter_lru_maxpages = 799
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.02632452081888914
Set checkpoint_flush_after = 99
Set checkpoint_timeout = 817
Set commit_delay = 25515
Set commit_siblings = 744
Set cursor_tuple_fraction = 0.0653075072914362
Set deadlock_timeout = 1640755072
Set default_statistics_target = 6143
Set effective_cache_size = 1771098618
Set effective_io_concurrency = 982
Set from_collapse_limit = 1403551182
Set geqo_effort = 8
Set geqo_generations = 456658054
Set geqo_pool_size = 214606922
Set geqo_seed = 0.8228023396804929
Set geqo_threshold = 1374850376
Set join_collapse_limit = 1692635718
Set maintenance_work_mem = 814318961
Set max_connections = 2789
Set max_wal_senders = 20
Set shared_buffers = 436723
Set temp_buffers = 678941471
Set temp_file_limit = 1443169087
Set vacuum_cost_delay = 95
Set vacuum_cost_limit = 7601
Set vacuum_cost_page_dirty = 1736
Set vacuum_cost_page_hit = 8548
Set vacuum_cost_page_miss = 6008
Set wal_buffers = 39645
Set wal_writer_delay = 8737
Set work_mem = 78461459
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-27-15.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763717172.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-27-15.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-27-15.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-27-15.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-27-15.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-27-15.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-27-15.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-27-15.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-27-15.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-27-15.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-27-15.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-27-15.raw.csv
Parsed throughput from summary.json: 1862.3286476535247
BenchBase wikipedia throughput: 1862.3286476535247
Configuration: {'autovacuum_analyze_scale_factor': 14.541357941925526, 'autovacuum_analyze_threshold': 1398783817, 'autovacuum_max_workers': 116, 'autovacuum_naptime': 927250, 'autovacuum_vacuum_cost_delay': 7, 'autovacuum_vacuum_cost_limit': 1749, 'autovacuum_vacuum_scale_factor': 12.682785466313362, 'autovacuum_vacuum_threshold': 1755855637, 'backend_flush_after': 229, 'bgwriter_delay': 2456, 'bgwriter_flush_after': 96, 'bgwriter_lru_maxpages': 799, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.02632452081888914, 'checkpoint_flush_after': 99, 'checkpoint_timeout': 817, 'commit_delay': 25515, 'commit_siblings': 744, 'cursor_tuple_fraction': 0.0653075072914362, 'deadlock_timeout': 1640755072, 'default_statistics_target': 6143, 'effective_cache_size': 1771098618, 'effective_io_concurrency': 982, 'from_collapse_limit': 1403551182, 'geqo_effort': 8, 'geqo_generations': 456658054, 'geqo_pool_size': 214606922, 'geqo_seed': 0.8228023396804929, 'geqo_threshold': 1374850376, 'join_collapse_limit': 1692635718, 'maintenance_work_mem': 814318961, 'max_connections': 2789, 'max_wal_senders': 20, 'shared_buffers': 436723, 'temp_buffers': 678941471, 'temp_file_limit': 1443169087, 'vacuum_cost_delay': 95, 'vacuum_cost_limit': 7601, 'vacuum_cost_page_dirty': 1736, 'vacuum_cost_page_hit': 8548, 'vacuum_cost_page_miss': 6008, 'wal_buffers': 39645, 'wal_writer_delay': 8737, 'work_mem': 78461459}, QPS: -1862.3286476535247
Performance (QPS): -1862.3286476535247
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.8491895643425, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 804276160, 'backend_flush_after': 249, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.737689159620962, 'checkpoint_flush_after': 188, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 36088173, 'join_collapse_limit': 1074366208, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3729316, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6559, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 4393, 'wal_buffers': 12150, 'wal_writer_delay': 6181, 'work_mem': 1109935390}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.8491895643425
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1088155
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 804276160
Set backend_flush_after = 249
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.737689159620962
Set checkpoint_flush_after = 188
Set checkpoint_timeout = 1302
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 112034326
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 36088173
Set join_collapse_limit = 1074366208
Set maintenance_work_mem = 1708697389
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3729316
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6559
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 4393
Set wal_buffers = 12150
Set wal_writer_delay = 6181
Set work_mem = 1109935390
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-28-53.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-28-53.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-28-53.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-28-53.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-28-53.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-28-53.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-28-53.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-28-53.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763717270.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-28-53.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-28-53.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-28-53.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-28-53.params.json
Parsed throughput from summary.json: 1944.5870123601273
BenchBase wikipedia throughput: 1944.5870123601273
Configuration: {'autovacuum_analyze_scale_factor': 82.8491895643425, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 804276160, 'backend_flush_after': 249, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.737689159620962, 'checkpoint_flush_after': 188, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 36088173, 'join_collapse_limit': 1074366208, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3729316, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6559, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 4393, 'wal_buffers': 12150, 'wal_writer_delay': 6181, 'work_mem': 1109935390}, QPS: -1944.5870123601273
Performance (QPS): -1944.5870123601273
Evaluating configuration: {'autovacuum_analyze_scale_factor': 25.803196218561318, 'autovacuum_analyze_threshold': 334379757, 'autovacuum_max_workers': 139, 'autovacuum_naptime': 1825619, 'autovacuum_vacuum_cost_delay': 61, 'autovacuum_vacuum_cost_limit': 8753, 'autovacuum_vacuum_scale_factor': 29.858285707230714, 'autovacuum_vacuum_threshold': 574944101, 'backend_flush_after': 14, 'bgwriter_delay': 7824, 'bgwriter_flush_after': 144, 'bgwriter_lru_maxpages': 16, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.0014461691555975875, 'checkpoint_flush_after': 116, 'checkpoint_timeout': 1174, 'commit_delay': 68628, 'commit_siblings': 774, 'cursor_tuple_fraction': 0.7660129123818645, 'deadlock_timeout': 188885610, 'default_statistics_target': 551, 'effective_cache_size': 56914648, 'effective_io_concurrency': 195, 'from_collapse_limit': 1409901362, 'geqo_effort': 10, 'geqo_generations': 200373439, 'geqo_pool_size': 219973076, 'geqo_seed': 0.060404178159166655, 'geqo_threshold': 1965292483, 'join_collapse_limit': 856754802, 'maintenance_work_mem': 1137513311, 'max_connections': 1170, 'max_wal_senders': 13, 'shared_buffers': 2549380, 'temp_buffers': 1050220410, 'temp_file_limit': 1853649311, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 5205, 'vacuum_cost_page_dirty': 2155, 'vacuum_cost_page_hit': 646, 'vacuum_cost_page_miss': 8497, 'wal_buffers': 96657, 'wal_writer_delay': 6722, 'work_mem': 1493941684}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 25.803196218561318
Set autovacuum_analyze_threshold = 334379757
Set autovacuum_max_workers = 139
Set autovacuum_naptime = 1825619
Set autovacuum_vacuum_cost_delay = 61
Set autovacuum_vacuum_cost_limit = 8753
Set autovacuum_vacuum_scale_factor = 29.858285707230714
Set autovacuum_vacuum_threshold = 574944101
Set backend_flush_after = 14
Set bgwriter_delay = 7824
Set bgwriter_flush_after = 144
Set bgwriter_lru_maxpages = 16
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.0014461691555975875
Set checkpoint_flush_after = 116
Set checkpoint_timeout = 1174
Set commit_delay = 68628
Set commit_siblings = 774
Set cursor_tuple_fraction = 0.7660129123818645
Set deadlock_timeout = 188885610
Set default_statistics_target = 551
Set effective_cache_size = 56914648
Set effective_io_concurrency = 195
Set from_collapse_limit = 1409901362
Set geqo_effort = 10
Set geqo_generations = 200373439
Set geqo_pool_size = 219973076
Set geqo_seed = 0.060404178159166655
Set geqo_threshold = 1965292483
Set join_collapse_limit = 856754802
Set maintenance_work_mem = 1137513311
Set max_connections = 1170
Set max_wal_senders = 13
Set shared_buffers = 2549380
Set temp_buffers = 1050220410
Set temp_file_limit = 1853649311
Set vacuum_cost_delay = 64
Set vacuum_cost_limit = 5205
Set vacuum_cost_page_dirty = 2155
Set vacuum_cost_page_hit = 646
Set vacuum_cost_page_miss = 8497
Set wal_buffers = 96657
Set wal_writer_delay = 6722
Set work_mem = 1493941684
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-30-28.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-30-28.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-30-28.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-30-28.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-30-28.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-30-28.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-30-28.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763717364.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-30-28.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-30-28.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-30-28.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-30-28.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-30-28.results.AddWatchList.csv
Parsed throughput from summary.json: 1812.3194529072039
BenchBase wikipedia throughput: 1812.3194529072039
Configuration: {'autovacuum_analyze_scale_factor': 25.803196218561318, 'autovacuum_analyze_threshold': 334379757, 'autovacuum_max_workers': 139, 'autovacuum_naptime': 1825619, 'autovacuum_vacuum_cost_delay': 61, 'autovacuum_vacuum_cost_limit': 8753, 'autovacuum_vacuum_scale_factor': 29.858285707230714, 'autovacuum_vacuum_threshold': 574944101, 'backend_flush_after': 14, 'bgwriter_delay': 7824, 'bgwriter_flush_after': 144, 'bgwriter_lru_maxpages': 16, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.0014461691555975875, 'checkpoint_flush_after': 116, 'checkpoint_timeout': 1174, 'commit_delay': 68628, 'commit_siblings': 774, 'cursor_tuple_fraction': 0.7660129123818645, 'deadlock_timeout': 188885610, 'default_statistics_target': 551, 'effective_cache_size': 56914648, 'effective_io_concurrency': 195, 'from_collapse_limit': 1409901362, 'geqo_effort': 10, 'geqo_generations': 200373439, 'geqo_pool_size': 219973076, 'geqo_seed': 0.060404178159166655, 'geqo_threshold': 1965292483, 'join_collapse_limit': 856754802, 'maintenance_work_mem': 1137513311, 'max_connections': 1170, 'max_wal_senders': 13, 'shared_buffers': 2549380, 'temp_buffers': 1050220410, 'temp_file_limit': 1853649311, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 5205, 'vacuum_cost_page_dirty': 2155, 'vacuum_cost_page_hit': 646, 'vacuum_cost_page_miss': 8497, 'wal_buffers': 96657, 'wal_writer_delay': 6722, 'work_mem': 1493941684}, QPS: -1812.3194529072039
Performance (QPS): -1812.3194529072039
Evaluating configuration: {'autovacuum_analyze_scale_factor': 86.38340715208503, 'autovacuum_analyze_threshold': 551715674, 'autovacuum_max_workers': 146, 'autovacuum_naptime': 946297, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 8481, 'autovacuum_vacuum_scale_factor': 49.55037130941058, 'autovacuum_vacuum_threshold': 1085470904, 'backend_flush_after': 83, 'bgwriter_delay': 4602, 'bgwriter_flush_after': 109, 'bgwriter_lru_maxpages': 956, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.11873485040854115, 'checkpoint_flush_after': 116, 'checkpoint_timeout': 2367, 'commit_delay': 22101, 'commit_siblings': 859, 'cursor_tuple_fraction': 0.6911648722761776, 'deadlock_timeout': 432348035, 'default_statistics_target': 3597, 'effective_cache_size': 847077263, 'effective_io_concurrency': 194, 'from_collapse_limit': 2004832462, 'geqo_effort': 1, 'geqo_generations': 507243101, 'geqo_pool_size': 486235580, 'geqo_seed': 0.9389998400479398, 'geqo_threshold': 1303122931, 'join_collapse_limit': 967011934, 'maintenance_work_mem': 1977292377, 'max_connections': 757, 'max_wal_senders': 10, 'shared_buffers': 2136116, 'temp_buffers': 398039985, 'temp_file_limit': 139092, 'vacuum_cost_delay': 70, 'vacuum_cost_limit': 8734, 'vacuum_cost_page_dirty': 5253, 'vacuum_cost_page_hit': 7589, 'vacuum_cost_page_miss': 5250, 'wal_buffers': 5931, 'wal_writer_delay': 2656, 'work_mem': 186890235}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 86.38340715208503
Set autovacuum_analyze_threshold = 551715674
Set autovacuum_max_workers = 146
Set autovacuum_naptime = 946297
Set autovacuum_vacuum_cost_delay = 87
Set autovacuum_vacuum_cost_limit = 8481
Set autovacuum_vacuum_scale_factor = 49.55037130941058
Set autovacuum_vacuum_threshold = 1085470904
Set backend_flush_after = 83
Set bgwriter_delay = 4602
Set bgwriter_flush_after = 109
Set bgwriter_lru_maxpages = 956
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.11873485040854115
Set checkpoint_flush_after = 116
Set checkpoint_timeout = 2367
Set commit_delay = 22101
Set commit_siblings = 859
Set cursor_tuple_fraction = 0.6911648722761776
Set deadlock_timeout = 432348035
Set default_statistics_target = 3597
Set effective_cache_size = 847077263
Set effective_io_concurrency = 194
Set from_collapse_limit = 2004832462
Set geqo_effort = 1
Set geqo_generations = 507243101
Set geqo_pool_size = 486235580
Set geqo_seed = 0.9389998400479398
Set geqo_threshold = 1303122931
Set join_collapse_limit = 967011934
Set maintenance_work_mem = 1977292377
Set max_connections = 757
Set max_wal_senders = 10
Set shared_buffers = 2136116
Set temp_buffers = 398039985
Set temp_file_limit = 139092
Set vacuum_cost_delay = 70
Set vacuum_cost_limit = 8734
Set vacuum_cost_page_dirty = 5253
Set vacuum_cost_page_hit = 7589
Set vacuum_cost_page_miss = 5250
Set wal_buffers = 5931
Set wal_writer_delay = 2656
Set work_mem = 186890235
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-32-02.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-32-02.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-32-02.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-32-02.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-32-02.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-32-02.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-32-02.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763717458.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-32-02.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-32-02.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-32-02.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-32-02.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-32-02.results.UpdatePage.csv
Parsed throughput from summary.json: 1790.0343894657594
BenchBase wikipedia throughput: 1790.0343894657594
Configuration: {'autovacuum_analyze_scale_factor': 86.38340715208503, 'autovacuum_analyze_threshold': 551715674, 'autovacuum_max_workers': 146, 'autovacuum_naptime': 946297, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 8481, 'autovacuum_vacuum_scale_factor': 49.55037130941058, 'autovacuum_vacuum_threshold': 1085470904, 'backend_flush_after': 83, 'bgwriter_delay': 4602, 'bgwriter_flush_after': 109, 'bgwriter_lru_maxpages': 956, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.11873485040854115, 'checkpoint_flush_after': 116, 'checkpoint_timeout': 2367, 'commit_delay': 22101, 'commit_siblings': 859, 'cursor_tuple_fraction': 0.6911648722761776, 'deadlock_timeout': 432348035, 'default_statistics_target': 3597, 'effective_cache_size': 847077263, 'effective_io_concurrency': 194, 'from_collapse_limit': 2004832462, 'geqo_effort': 1, 'geqo_generations': 507243101, 'geqo_pool_size': 486235580, 'geqo_seed': 0.9389998400479398, 'geqo_threshold': 1303122931, 'join_collapse_limit': 967011934, 'maintenance_work_mem': 1977292377, 'max_connections': 757, 'max_wal_senders': 10, 'shared_buffers': 2136116, 'temp_buffers': 398039985, 'temp_file_limit': 139092, 'vacuum_cost_delay': 70, 'vacuum_cost_limit': 8734, 'vacuum_cost_page_dirty': 5253, 'vacuum_cost_page_hit': 7589, 'vacuum_cost_page_miss': 5250, 'wal_buffers': 5931, 'wal_writer_delay': 2656, 'work_mem': 186890235}, QPS: -1790.0343894657594
Performance (QPS): -1790.0343894657594
Evaluating configuration: {'autovacuum_analyze_scale_factor': 89.49807334098804, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 47, 'autovacuum_vacuum_cost_limit': 5718, 'autovacuum_vacuum_scale_factor': 40.464317127923344, 'autovacuum_vacuum_threshold': 804276160, 'backend_flush_after': 255, 'bgwriter_delay': 1715, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 516, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.737689159620962, 'checkpoint_flush_after': 188, 'checkpoint_timeout': 1302, 'commit_delay': 43842, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 128949376, 'geqo_effort': 2, 'geqo_generations': 847440896, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 1824773, 'join_collapse_limit': 1074366208, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3729316, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6559, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 4393, 'wal_buffers': 17687, 'wal_writer_delay': 5933, 'work_mem': 1196224924}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 89.49807334098804
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1088155
Set autovacuum_vacuum_cost_delay = 47
Set autovacuum_vacuum_cost_limit = 5718
Set autovacuum_vacuum_scale_factor = 40.464317127923344
Set autovacuum_vacuum_threshold = 804276160
Set backend_flush_after = 255
Set bgwriter_delay = 1715
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 516
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.737689159620962
Set checkpoint_flush_after = 188
Set checkpoint_timeout = 1302
Set commit_delay = 43842
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 112034326
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 128949376
Set geqo_effort = 2
Set geqo_generations = 847440896
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 1824773
Set join_collapse_limit = 1074366208
Set maintenance_work_mem = 1708697389
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3729316
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6559
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 4393
Set wal_buffers = 17687
Set wal_writer_delay = 5933
Set work_mem = 1196224924
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-33-41.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-33-41.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-33-41.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-33-41.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-33-41.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-33-41.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-33-41.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-33-41.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-33-41.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-33-41.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-33-41.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763717558.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-33-41.results.UpdatePage.csv
Parsed throughput from summary.json: 1953.1401491458453
BenchBase wikipedia throughput: 1953.1401491458453
Configuration: {'autovacuum_analyze_scale_factor': 89.49807334098804, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 47, 'autovacuum_vacuum_cost_limit': 5718, 'autovacuum_vacuum_scale_factor': 40.464317127923344, 'autovacuum_vacuum_threshold': 804276160, 'backend_flush_after': 255, 'bgwriter_delay': 1715, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 516, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.737689159620962, 'checkpoint_flush_after': 188, 'checkpoint_timeout': 1302, 'commit_delay': 43842, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 128949376, 'geqo_effort': 2, 'geqo_generations': 847440896, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 1824773, 'join_collapse_limit': 1074366208, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3729316, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6559, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 4393, 'wal_buffers': 17687, 'wal_writer_delay': 5933, 'work_mem': 1196224924}, QPS: -1953.1401491458453
Performance (QPS): -1953.1401491458453
Evaluating configuration: {'autovacuum_analyze_scale_factor': 7.217124107262817, 'autovacuum_analyze_threshold': 2004432708, 'autovacuum_max_workers': 115, 'autovacuum_naptime': 987441, 'autovacuum_vacuum_cost_delay': 48, 'autovacuum_vacuum_cost_limit': 4618, 'autovacuum_vacuum_scale_factor': 56.959489745463166, 'autovacuum_vacuum_threshold': 1024314471, 'backend_flush_after': 55, 'bgwriter_delay': 7198, 'bgwriter_flush_after': 187, 'bgwriter_lru_maxpages': 462, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.6343352673998711, 'checkpoint_flush_after': 10, 'checkpoint_timeout': 1660, 'commit_delay': 77148, 'commit_siblings': 490, 'cursor_tuple_fraction': 0.5984559127495681, 'deadlock_timeout': 1283928782, 'default_statistics_target': 5137, 'effective_cache_size': 619578827, 'effective_io_concurrency': 622, 'from_collapse_limit': 1574386107, 'geqo_effort': 1, 'geqo_generations': 1389319106, 'geqo_pool_size': 1724590715, 'geqo_seed': 0.5634829284264288, 'geqo_threshold': 610961349, 'join_collapse_limit': 1025869567, 'maintenance_work_mem': 1466845720, 'max_connections': 610, 'max_wal_senders': 39, 'shared_buffers': 3338091, 'temp_buffers': 408934829, 'temp_file_limit': 634288658, 'vacuum_cost_delay': 8, 'vacuum_cost_limit': 9252, 'vacuum_cost_page_dirty': 1136, 'vacuum_cost_page_hit': 1777, 'vacuum_cost_page_miss': 9435, 'wal_buffers': 26802, 'wal_writer_delay': 6503, 'work_mem': 1744366877}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 7.217124107262817
Set autovacuum_analyze_threshold = 2004432708
Set autovacuum_max_workers = 115
Set autovacuum_naptime = 987441
Set autovacuum_vacuum_cost_delay = 48
Set autovacuum_vacuum_cost_limit = 4618
Set autovacuum_vacuum_scale_factor = 56.959489745463166
Set autovacuum_vacuum_threshold = 1024314471
Set backend_flush_after = 55
Set bgwriter_delay = 7198
Set bgwriter_flush_after = 187
Set bgwriter_lru_maxpages = 462
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.6343352673998711
Set checkpoint_flush_after = 10
Set checkpoint_timeout = 1660
Set commit_delay = 77148
Set commit_siblings = 490
Set cursor_tuple_fraction = 0.5984559127495681
Set deadlock_timeout = 1283928782
Set default_statistics_target = 5137
Set effective_cache_size = 619578827
Set effective_io_concurrency = 622
Set from_collapse_limit = 1574386107
Set geqo_effort = 1
Set geqo_generations = 1389319106
Set geqo_pool_size = 1724590715
Set geqo_seed = 0.5634829284264288
Set geqo_threshold = 610961349
Set join_collapse_limit = 1025869567
Set maintenance_work_mem = 1466845720
Set max_connections = 610
Set max_wal_senders = 39
Set shared_buffers = 3338091
Set temp_buffers = 408934829
Set temp_file_limit = 634288658
Set vacuum_cost_delay = 8
Set vacuum_cost_limit = 9252
Set vacuum_cost_page_dirty = 1136
Set vacuum_cost_page_hit = 1777
Set vacuum_cost_page_miss = 9435
Set wal_buffers = 26802
Set wal_writer_delay = 6503
Set work_mem = 1744366877
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-35-15.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-35-15.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-35-15.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-35-15.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-35-15.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-35-15.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-35-15.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-35-15.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-35-15.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763717652.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-35-15.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-35-15.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-35-15.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Parsed throughput from summary.json: 1846.0494659760204
BenchBase wikipedia throughput: 1846.0494659760204
Configuration: {'autovacuum_analyze_scale_factor': 7.217124107262817, 'autovacuum_analyze_threshold': 2004432708, 'autovacuum_max_workers': 115, 'autovacuum_naptime': 987441, 'autovacuum_vacuum_cost_delay': 48, 'autovacuum_vacuum_cost_limit': 4618, 'autovacuum_vacuum_scale_factor': 56.959489745463166, 'autovacuum_vacuum_threshold': 1024314471, 'backend_flush_after': 55, 'bgwriter_delay': 7198, 'bgwriter_flush_after': 187, 'bgwriter_lru_maxpages': 462, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.6343352673998711, 'checkpoint_flush_after': 10, 'checkpoint_timeout': 1660, 'commit_delay': 77148, 'commit_siblings': 490, 'cursor_tuple_fraction': 0.5984559127495681, 'deadlock_timeout': 1283928782, 'default_statistics_target': 5137, 'effective_cache_size': 619578827, 'effective_io_concurrency': 622, 'from_collapse_limit': 1574386107, 'geqo_effort': 1, 'geqo_generations': 1389319106, 'geqo_pool_size': 1724590715, 'geqo_seed': 0.5634829284264288, 'geqo_threshold': 610961349, 'join_collapse_limit': 1025869567, 'maintenance_work_mem': 1466845720, 'max_connections': 610, 'max_wal_senders': 39, 'shared_buffers': 3338091, 'temp_buffers': 408934829, 'temp_file_limit': 634288658, 'vacuum_cost_delay': 8, 'vacuum_cost_limit': 9252, 'vacuum_cost_page_dirty': 1136, 'vacuum_cost_page_hit': 1777, 'vacuum_cost_page_miss': 9435, 'wal_buffers': 26802, 'wal_writer_delay': 6503, 'work_mem': 1744366877}, QPS: -1846.0494659760204
Performance (QPS): -1846.0494659760204
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1184857, 'autovacuum_vacuum_cost_delay': 52, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2221, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6657321650834834, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1312, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5757, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 51319484, 'geqo_effort': 3, 'geqo_generations': 909601492, 'geqo_pool_size': 2035983487, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1170787072, 'maintenance_work_mem': 1994906440, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 861564755, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.76318591088057
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1184857
Set autovacuum_vacuum_cost_delay = 52
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 247
Set bgwriter_delay = 2221
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6657321650834834
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1312
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 112034326
Set default_statistics_target = 5757
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 51319484
Set geqo_effort = 3
Set geqo_generations = 909601492
Set geqo_pool_size = 2035983487
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 21314935
Set join_collapse_limit = 1170787072
Set maintenance_work_mem = 1994906440
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3640755
Set temp_buffers = 861564755
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5839
Set wal_buffers = 16932
Set wal_writer_delay = 6181
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-36-54.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-36-54.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-36-54.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-36-54.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-36-54.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-36-54.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-36-54.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763717750.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-36-54.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-36-54.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-36-54.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-36-54.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-36-54.samples.csv
Parsed throughput from summary.json: 1915.5350090414686
BenchBase wikipedia throughput: 1915.5350090414686
Configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1184857, 'autovacuum_vacuum_cost_delay': 52, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2221, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6657321650834834, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1312, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5757, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 51319484, 'geqo_effort': 3, 'geqo_generations': 909601492, 'geqo_pool_size': 2035983487, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1170787072, 'maintenance_work_mem': 1994906440, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 861564755, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}, QPS: -1915.5350090414686
Performance (QPS): -1915.5350090414686
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 218879936, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 45.98341564025924, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 32, 'bgwriter_lru_maxpages': 316, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6573071141694182, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 3, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1809107105, 'max_connections': 518, 'max_wal_senders': 3, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 66, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 4736, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 6274, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.76318591088057
Set autovacuum_analyze_threshold = 218879936
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1088155
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 45.98341564025924
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 247
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 32
Set bgwriter_lru_maxpages = 316
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.6424217484891415
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1302
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6573071141694182
Set deadlock_timeout = 112034326
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 3
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 21314935
Set join_collapse_limit = 1032804680
Set maintenance_work_mem = 1809107105
Set max_connections = 518
Set max_wal_senders = 3
Set shared_buffers = 3640755
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 66
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 4736
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 6274
Set wal_buffers = 16932
Set wal_writer_delay = 6181
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-38-32.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-38-32.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-38-32.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-38-32.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-38-32.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-38-32.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-38-32.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-38-32.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-38-32.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-38-32.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763717849.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-38-32.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-38-32.results.UpdatePage.csv
Parsed throughput from summary.json: 1812.8765367295575
BenchBase wikipedia throughput: 1812.8765367295575
Configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 218879936, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 45.98341564025924, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 32, 'bgwriter_lru_maxpages': 316, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6573071141694182, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 3, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1809107105, 'max_connections': 518, 'max_wal_senders': 3, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 66, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 4736, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 6274, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}, QPS: -1812.8765367295575
Performance (QPS): -1812.8765367295575
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1052098, 'autovacuum_vacuum_cost_delay': 43, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 245, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 62, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1752, 'commit_delay': 39368, 'commit_siblings': 305, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 8063606, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 823, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1164492829}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.76318591088057
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1052098
Set autovacuum_vacuum_cost_delay = 43
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 245
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 62
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6424217484891415
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1752
Set commit_delay = 39368
Set commit_siblings = 305
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 112034326
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 8063606
Set join_collapse_limit = 1032804680
Set maintenance_work_mem = 1708697389
Set max_connections = 823
Set max_wal_senders = 2
Set shared_buffers = 3640755
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 59
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5839
Set wal_buffers = 16932
Set wal_writer_delay = 6181
Set work_mem = 1164492829
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-40-10.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-40-10.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-40-10.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-40-10.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763717948.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-40-10.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-40-10.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-40-10.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-40-10.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-40-10.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-40-10.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-40-10.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-40-10.samples.csv
Parsed throughput from summary.json: 1908.210741657352
BenchBase wikipedia throughput: 1908.210741657352
Configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1052098, 'autovacuum_vacuum_cost_delay': 43, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 245, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 62, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1752, 'commit_delay': 39368, 'commit_siblings': 305, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 8063606, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 823, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1164492829}, QPS: -1908.210741657352
Performance (QPS): -1908.210741657352
Evaluating configuration: {'autovacuum_analyze_scale_factor': 2.6959965640355743, 'autovacuum_analyze_threshold': 1975984454, 'autovacuum_max_workers': 114, 'autovacuum_naptime': 2040271, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 9828, 'autovacuum_vacuum_scale_factor': 6.235845839300214, 'autovacuum_vacuum_threshold': 1205048825, 'backend_flush_after': 19, 'bgwriter_delay': 9464, 'bgwriter_flush_after': 105, 'bgwriter_lru_maxpages': 911, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.8481509404155254, 'checkpoint_flush_after': 164, 'checkpoint_timeout': 2459, 'commit_delay': 33130, 'commit_siblings': 866, 'cursor_tuple_fraction': 0.32033740555929746, 'deadlock_timeout': 214098481, 'default_statistics_target': 8118, 'effective_cache_size': 85995586, 'effective_io_concurrency': 559, 'from_collapse_limit': 1158669483, 'geqo_effort': 9, 'geqo_generations': 704056408, 'geqo_pool_size': 241924837, 'geqo_seed': 0.3700485527244678, 'geqo_threshold': 2060307829, 'join_collapse_limit': 1115523864, 'maintenance_work_mem': 1861076787, 'max_connections': 2419, 'max_wal_senders': 46, 'shared_buffers': 2304846, 'temp_buffers': 750160172, 'temp_file_limit': 848414929, 'vacuum_cost_delay': 89, 'vacuum_cost_limit': 4528, 'vacuum_cost_page_dirty': 2329, 'vacuum_cost_page_hit': 6823, 'vacuum_cost_page_miss': 7917, 'wal_buffers': 45282, 'wal_writer_delay': 2312, 'work_mem': 78933343}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 2.6959965640355743
Set autovacuum_analyze_threshold = 1975984454
Set autovacuum_max_workers = 114
Set autovacuum_naptime = 2040271
Set autovacuum_vacuum_cost_delay = 49
Set autovacuum_vacuum_cost_limit = 9828
Set autovacuum_vacuum_scale_factor = 6.235845839300214
Set autovacuum_vacuum_threshold = 1205048825
Set backend_flush_after = 19
Set bgwriter_delay = 9464
Set bgwriter_flush_after = 105
Set bgwriter_lru_maxpages = 911
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.8481509404155254
Set checkpoint_flush_after = 164
Set checkpoint_timeout = 2459
Set commit_delay = 33130
Set commit_siblings = 866
Set cursor_tuple_fraction = 0.32033740555929746
Set deadlock_timeout = 214098481
Set default_statistics_target = 8118
Set effective_cache_size = 85995586
Set effective_io_concurrency = 559
Set from_collapse_limit = 1158669483
Set geqo_effort = 9
Set geqo_generations = 704056408
Set geqo_pool_size = 241924837
Set geqo_seed = 0.3700485527244678
Set geqo_threshold = 2060307829
Set join_collapse_limit = 1115523864
Set maintenance_work_mem = 1861076787
Set max_connections = 2419
Set max_wal_senders = 46
Set shared_buffers = 2304846
Set temp_buffers = 750160172
Set temp_file_limit = 848414929
Set vacuum_cost_delay = 89
Set vacuum_cost_limit = 4528
Set vacuum_cost_page_dirty = 2329
Set vacuum_cost_page_hit = 6823
Set vacuum_cost_page_miss = 7917
Set wal_buffers = 45282
Set wal_writer_delay = 2312
Set work_mem = 78933343
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-41-44.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-41-44.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763718041.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-41-44.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-41-44.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-41-44.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-41-44.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-41-44.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-41-44.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-41-44.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-41-44.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-41-44.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-41-44.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 1916.0783326642427
BenchBase wikipedia throughput: 1916.0783326642427
Configuration: {'autovacuum_analyze_scale_factor': 2.6959965640355743, 'autovacuum_analyze_threshold': 1975984454, 'autovacuum_max_workers': 114, 'autovacuum_naptime': 2040271, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 9828, 'autovacuum_vacuum_scale_factor': 6.235845839300214, 'autovacuum_vacuum_threshold': 1205048825, 'backend_flush_after': 19, 'bgwriter_delay': 9464, 'bgwriter_flush_after': 105, 'bgwriter_lru_maxpages': 911, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.8481509404155254, 'checkpoint_flush_after': 164, 'checkpoint_timeout': 2459, 'commit_delay': 33130, 'commit_siblings': 866, 'cursor_tuple_fraction': 0.32033740555929746, 'deadlock_timeout': 214098481, 'default_statistics_target': 8118, 'effective_cache_size': 85995586, 'effective_io_concurrency': 559, 'from_collapse_limit': 1158669483, 'geqo_effort': 9, 'geqo_generations': 704056408, 'geqo_pool_size': 241924837, 'geqo_seed': 0.3700485527244678, 'geqo_threshold': 2060307829, 'join_collapse_limit': 1115523864, 'maintenance_work_mem': 1861076787, 'max_connections': 2419, 'max_wal_senders': 46, 'shared_buffers': 2304846, 'temp_buffers': 750160172, 'temp_file_limit': 848414929, 'vacuum_cost_delay': 89, 'vacuum_cost_limit': 4528, 'vacuum_cost_page_dirty': 2329, 'vacuum_cost_page_hit': 6823, 'vacuum_cost_page_miss': 7917, 'wal_buffers': 45282, 'wal_writer_delay': 2312, 'work_mem': 78933343}, QPS: -1916.0783326642427
Performance (QPS): -1916.0783326642427
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.8491895643425, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 171, 'autovacuum_naptime': 1282193, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 907462592, 'backend_flush_after': 239, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 429, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.737689159620962, 'checkpoint_flush_after': 188, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1586217088, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 936807040, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 121987873, 'join_collapse_limit': 1058083520, 'maintenance_work_mem': 1659144040, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3887098, 'temp_buffers': 1043808514, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 61, 'vacuum_cost_limit': 6559, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 4393, 'wal_buffers': 12150, 'wal_writer_delay': 6181, 'work_mem': 1334033048}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.8491895643425
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 171
Set autovacuum_naptime = 1282193
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 907462592
Set backend_flush_after = 239
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 429
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.737689159620962
Set checkpoint_flush_after = 188
Set checkpoint_timeout = 1302
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 112034326
Set default_statistics_target = 5473
Set effective_cache_size = 1586217088
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 936807040
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 121987873
Set join_collapse_limit = 1058083520
Set maintenance_work_mem = 1659144040
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3887098
Set temp_buffers = 1043808514
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 61
Set vacuum_cost_limit = 6559
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 4393
Set wal_buffers = 12150
Set wal_writer_delay = 6181
Set work_mem = 1334033048
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763718139.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-43-23.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-43-23.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-43-23.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-43-23.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-43-23.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-43-23.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-43-23.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-43-23.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-43-23.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-43-23.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-43-23.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-43-23.metrics.json
Parsed throughput from summary.json: 1910.513416210388
BenchBase wikipedia throughput: 1910.513416210388
Configuration: {'autovacuum_analyze_scale_factor': 82.8491895643425, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 171, 'autovacuum_naptime': 1282193, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 907462592, 'backend_flush_after': 239, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 429, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.737689159620962, 'checkpoint_flush_after': 188, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1586217088, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 936807040, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 121987873, 'join_collapse_limit': 1058083520, 'maintenance_work_mem': 1659144040, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3887098, 'temp_buffers': 1043808514, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 61, 'vacuum_cost_limit': 6559, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 4393, 'wal_buffers': 12150, 'wal_writer_delay': 6181, 'work_mem': 1334033048}, QPS: -1910.513416210388
Performance (QPS): -1910.513416210388
Evaluating configuration: {'autovacuum_analyze_scale_factor': 90.63494376235546, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1006641, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 4721, 'autovacuum_vacuum_scale_factor': 38.77948318449352, 'autovacuum_vacuum_threshold': 804276160, 'backend_flush_after': 249, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 376, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.6443078573341942, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 42653856, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 36088173, 'join_collapse_limit': 987715456, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3729316, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 6269, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 4795, 'wal_buffers': 1084, 'wal_writer_delay': 5372, 'work_mem': 1329577752}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 90.63494376235546
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1006641
Set autovacuum_vacuum_cost_delay = 38
Set autovacuum_vacuum_cost_limit = 4721
Set autovacuum_vacuum_scale_factor = 38.77948318449352
Set autovacuum_vacuum_threshold = 804276160
Set backend_flush_after = 249
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 40
Set bgwriter_lru_maxpages = 376
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.6443078573341942
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 1302
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 42653856
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 36088173
Set join_collapse_limit = 987715456
Set maintenance_work_mem = 1708697389
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3729316
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 51
Set vacuum_cost_limit = 6269
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 4795
Set wal_buffers = 1084
Set wal_writer_delay = 5372
Set work_mem = 1329577752
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-45-01.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-45-01.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-45-01.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-45-01.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763718237.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-45-01.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-45-01.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-45-01.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-45-01.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-45-01.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-45-01.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-45-01.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-45-01.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Parsed throughput from summary.json: 1964.8457887325292
BenchBase wikipedia throughput: 1964.8457887325292
Configuration: {'autovacuum_analyze_scale_factor': 90.63494376235546, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1006641, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 4721, 'autovacuum_vacuum_scale_factor': 38.77948318449352, 'autovacuum_vacuum_threshold': 804276160, 'backend_flush_after': 249, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 376, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.6443078573341942, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 42653856, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 36088173, 'join_collapse_limit': 987715456, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3729316, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 6269, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 4795, 'wal_buffers': 1084, 'wal_writer_delay': 5372, 'work_mem': 1329577752}, QPS: -1964.8457887325292
Performance (QPS): -1964.8457887325292
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.8491895643425, 'autovacuum_analyze_threshold': 185414048, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1005109, 'autovacuum_vacuum_cost_delay': 54, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 36.19413640640169, 'autovacuum_vacuum_threshold': 633077696, 'backend_flush_after': 255, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 45, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.737689159620962, 'checkpoint_flush_after': 210, 'checkpoint_timeout': 1219, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6503446460156058, 'deadlock_timeout': 6547612, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 107602488, 'geqo_effort': 2, 'geqo_generations': 680274944, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.5611111261453883, 'geqo_threshold': 36088173, 'join_collapse_limit': 974307968, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3529823, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6529, 'vacuum_cost_page_dirty': 6792, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5910, 'wal_buffers': 17168, 'wal_writer_delay': 5938, 'work_mem': 1176217372}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.8491895643425
Set autovacuum_analyze_threshold = 185414048
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1005109
Set autovacuum_vacuum_cost_delay = 54
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 36.19413640640169
Set autovacuum_vacuum_threshold = 633077696
Set backend_flush_after = 255
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 45
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.737689159620962
Set checkpoint_flush_after = 210
Set checkpoint_timeout = 1219
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6503446460156058
Set deadlock_timeout = 6547612
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 107602488
Set geqo_effort = 2
Set geqo_generations = 680274944
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.5611111261453883
Set geqo_threshold = 36088173
Set join_collapse_limit = 974307968
Set maintenance_work_mem = 1708697389
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3529823
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6529
Set vacuum_cost_page_dirty = 6792
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5910
Set wal_buffers = 17168
Set wal_writer_delay = 5938
Set work_mem = 1176217372
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-46-40.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-46-40.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-46-40.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-46-40.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-46-40.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763718336.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-46-40.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-46-40.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-46-40.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-46-40.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-46-40.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-46-40.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-46-40.results.UpdatePage.csv
Parsed throughput from summary.json: 1876.5027478425347
BenchBase wikipedia throughput: 1876.5027478425347
Configuration: {'autovacuum_analyze_scale_factor': 82.8491895643425, 'autovacuum_analyze_threshold': 185414048, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1005109, 'autovacuum_vacuum_cost_delay': 54, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 36.19413640640169, 'autovacuum_vacuum_threshold': 633077696, 'backend_flush_after': 255, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 45, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.737689159620962, 'checkpoint_flush_after': 210, 'checkpoint_timeout': 1219, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6503446460156058, 'deadlock_timeout': 6547612, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 107602488, 'geqo_effort': 2, 'geqo_generations': 680274944, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.5611111261453883, 'geqo_threshold': 36088173, 'join_collapse_limit': 974307968, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3529823, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6529, 'vacuum_cost_page_dirty': 6792, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5910, 'wal_buffers': 17168, 'wal_writer_delay': 5938, 'work_mem': 1176217372}, QPS: -1876.5027478425347
Performance (QPS): -1876.5027478425347
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.8491895643425, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1194919, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 674443968, 'backend_flush_after': 249, 'bgwriter_delay': 532, 'bgwriter_flush_after': 43, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.607316996757103, 'checkpoint_flush_after': 209, 'checkpoint_timeout': 1302, 'commit_delay': 36426, 'commit_siblings': 239, 'cursor_tuple_fraction': 0.6484236385617476, 'deadlock_timeout': 112034326, 'default_statistics_target': 4856, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.3839381889488467, 'geqo_threshold': 23743139, 'join_collapse_limit': 935460416, 'maintenance_work_mem': 1696413143, 'max_connections': 518, 'max_wal_senders': 1, 'shared_buffers': 3334016, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6559, 'vacuum_cost_page_dirty': 5426, 'vacuum_cost_page_hit': 2906, 'vacuum_cost_page_miss': 4393, 'wal_buffers': 5232, 'wal_writer_delay': 5199, 'work_mem': 1109935390}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.8491895643425
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1194919
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 674443968
Set backend_flush_after = 249
Set bgwriter_delay = 532
Set bgwriter_flush_after = 43
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.607316996757103
Set checkpoint_flush_after = 209
Set checkpoint_timeout = 1302
Set commit_delay = 36426
Set commit_siblings = 239
Set cursor_tuple_fraction = 0.6484236385617476
Set deadlock_timeout = 112034326
Set default_statistics_target = 4856
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.3839381889488467
Set geqo_threshold = 23743139
Set join_collapse_limit = 935460416
Set maintenance_work_mem = 1696413143
Set max_connections = 518
Set max_wal_senders = 1
Set shared_buffers = 3334016
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6559
Set vacuum_cost_page_dirty = 5426
Set vacuum_cost_page_hit = 2906
Set vacuum_cost_page_miss = 4393
Set wal_buffers = 5232
Set wal_writer_delay = 5199
Set work_mem = 1109935390
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-48-18.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-48-18.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-48-18.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-48-18.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-48-18.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763718435.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-48-18.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-48-18.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-48-18.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-48-18.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-48-18.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-48-18.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-48-18.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 1956.2177598712037
BenchBase wikipedia throughput: 1956.2177598712037
Configuration: {'autovacuum_analyze_scale_factor': 82.8491895643425, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1194919, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 674443968, 'backend_flush_after': 249, 'bgwriter_delay': 532, 'bgwriter_flush_after': 43, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.607316996757103, 'checkpoint_flush_after': 209, 'checkpoint_timeout': 1302, 'commit_delay': 36426, 'commit_siblings': 239, 'cursor_tuple_fraction': 0.6484236385617476, 'deadlock_timeout': 112034326, 'default_statistics_target': 4856, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.3839381889488467, 'geqo_threshold': 23743139, 'join_collapse_limit': 935460416, 'maintenance_work_mem': 1696413143, 'max_connections': 518, 'max_wal_senders': 1, 'shared_buffers': 3334016, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6559, 'vacuum_cost_page_dirty': 5426, 'vacuum_cost_page_hit': 2906, 'vacuum_cost_page_miss': 4393, 'wal_buffers': 5232, 'wal_writer_delay': 5199, 'work_mem': 1109935390}, QPS: -1956.2177598712037
Performance (QPS): -1956.2177598712037
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 44, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 44.830642422522956, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1130, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6697152286208885, 'deadlock_timeout': 105777808, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 5, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1108024064, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3893596, 'temp_buffers': 908881252, 'temp_file_limit': 744668799, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6942, 'vacuum_cost_page_dirty': 4398, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 23739, 'wal_writer_delay': 6181, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.76318591088057
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1088155
Set autovacuum_vacuum_cost_delay = 44
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 44.830642422522956
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 247
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6424217484891415
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1130
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6697152286208885
Set deadlock_timeout = 105777808
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 5
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 21314935
Set join_collapse_limit = 1108024064
Set maintenance_work_mem = 1708697389
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3893596
Set temp_buffers = 908881252
Set temp_file_limit = 744668799
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6942
Set vacuum_cost_page_dirty = 4398
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5839
Set wal_buffers = 23739
Set wal_writer_delay = 6181
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-49-56.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-49-56.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-49-56.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-49-56.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-49-56.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-49-56.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-49-56.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-49-56.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-49-56.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763718533.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-49-56.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-49-56.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-49-56.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Parsed throughput from summary.json: 1831.808692681827
BenchBase wikipedia throughput: 1831.808692681827
Configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 44, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 44.830642422522956, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1130, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6697152286208885, 'deadlock_timeout': 105777808, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 5, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1108024064, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3893596, 'temp_buffers': 908881252, 'temp_file_limit': 744668799, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6942, 'vacuum_cost_page_dirty': 4398, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 23739, 'wal_writer_delay': 6181, 'work_mem': 1175555276}, QPS: -1831.808692681827
Performance (QPS): -1831.808692681827
Evaluating configuration: {'autovacuum_analyze_scale_factor': 61.49199204264069, 'autovacuum_analyze_threshold': 1939324860, 'autovacuum_max_workers': 60, 'autovacuum_naptime': 1621912, 'autovacuum_vacuum_cost_delay': 27, 'autovacuum_vacuum_cost_limit': 8733, 'autovacuum_vacuum_scale_factor': 56.59443217145077, 'autovacuum_vacuum_threshold': 981028205, 'backend_flush_after': 248, 'bgwriter_delay': 7131, 'bgwriter_flush_after': 186, 'bgwriter_lru_maxpages': 559, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.825474000529013, 'checkpoint_flush_after': 98, 'checkpoint_timeout': 413, 'commit_delay': 51436, 'commit_siblings': 518, 'cursor_tuple_fraction': 0.15892167203309693, 'deadlock_timeout': 517550908, 'default_statistics_target': 8209, 'effective_cache_size': 1211814808, 'effective_io_concurrency': 687, 'from_collapse_limit': 21883202, 'geqo_effort': 2, 'geqo_generations': 532509633, 'geqo_pool_size': 1212908109, 'geqo_seed': 0.5546010797916977, 'geqo_threshold': 2121188283, 'join_collapse_limit': 176948444, 'maintenance_work_mem': 1539564826, 'max_connections': 1719, 'max_wal_senders': 10, 'shared_buffers': 1051461, 'temp_buffers': 608850630, 'temp_file_limit': 70788476, 'vacuum_cost_delay': 50, 'vacuum_cost_limit': 4994, 'vacuum_cost_page_dirty': 92, 'vacuum_cost_page_hit': 5486, 'vacuum_cost_page_miss': 7668, 'wal_buffers': 49002, 'wal_writer_delay': 720, 'work_mem': 105687681}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 61.49199204264069
Set autovacuum_analyze_threshold = 1939324860
Set autovacuum_max_workers = 60
Set autovacuum_naptime = 1621912
Set autovacuum_vacuum_cost_delay = 27
Set autovacuum_vacuum_cost_limit = 8733
Set autovacuum_vacuum_scale_factor = 56.59443217145077
Set autovacuum_vacuum_threshold = 981028205
Set backend_flush_after = 248
Set bgwriter_delay = 7131
Set bgwriter_flush_after = 186
Set bgwriter_lru_maxpages = 559
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.825474000529013
Set checkpoint_flush_after = 98
Set checkpoint_timeout = 413
Set commit_delay = 51436
Set commit_siblings = 518
Set cursor_tuple_fraction = 0.15892167203309693
Set deadlock_timeout = 517550908
Set default_statistics_target = 8209
Set effective_cache_size = 1211814808
Set effective_io_concurrency = 687
Set from_collapse_limit = 21883202
Set geqo_effort = 2
Set geqo_generations = 532509633
Set geqo_pool_size = 1212908109
Set geqo_seed = 0.5546010797916977
Set geqo_threshold = 2121188283
Set join_collapse_limit = 176948444
Set maintenance_work_mem = 1539564826
Set max_connections = 1719
Set max_wal_senders = 10
Set shared_buffers = 1051461
Set temp_buffers = 608850630
Set temp_file_limit = 70788476
Set vacuum_cost_delay = 50
Set vacuum_cost_limit = 4994
Set vacuum_cost_page_dirty = 92
Set vacuum_cost_page_hit = 5486
Set vacuum_cost_page_miss = 7668
Set wal_buffers = 49002
Set wal_writer_delay = 720
Set work_mem = 105687681
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763718627.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-51-30.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-51-30.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-51-30.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-51-30.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-51-30.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-51-30.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-51-30.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-51-30.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-51-30.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-51-30.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-51-30.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-51-30.results.AddWatchList.csv
Parsed throughput from summary.json: 1911.7834497027648
BenchBase wikipedia throughput: 1911.7834497027648
Configuration: {'autovacuum_analyze_scale_factor': 61.49199204264069, 'autovacuum_analyze_threshold': 1939324860, 'autovacuum_max_workers': 60, 'autovacuum_naptime': 1621912, 'autovacuum_vacuum_cost_delay': 27, 'autovacuum_vacuum_cost_limit': 8733, 'autovacuum_vacuum_scale_factor': 56.59443217145077, 'autovacuum_vacuum_threshold': 981028205, 'backend_flush_after': 248, 'bgwriter_delay': 7131, 'bgwriter_flush_after': 186, 'bgwriter_lru_maxpages': 559, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.825474000529013, 'checkpoint_flush_after': 98, 'checkpoint_timeout': 413, 'commit_delay': 51436, 'commit_siblings': 518, 'cursor_tuple_fraction': 0.15892167203309693, 'deadlock_timeout': 517550908, 'default_statistics_target': 8209, 'effective_cache_size': 1211814808, 'effective_io_concurrency': 687, 'from_collapse_limit': 21883202, 'geqo_effort': 2, 'geqo_generations': 532509633, 'geqo_pool_size': 1212908109, 'geqo_seed': 0.5546010797916977, 'geqo_threshold': 2121188283, 'join_collapse_limit': 176948444, 'maintenance_work_mem': 1539564826, 'max_connections': 1719, 'max_wal_senders': 10, 'shared_buffers': 1051461, 'temp_buffers': 608850630, 'temp_file_limit': 70788476, 'vacuum_cost_delay': 50, 'vacuum_cost_limit': 4994, 'vacuum_cost_page_dirty': 92, 'vacuum_cost_page_hit': 5486, 'vacuum_cost_page_miss': 7668, 'wal_buffers': 49002, 'wal_writer_delay': 720, 'work_mem': 105687681}, QPS: -1911.7834497027648
Performance (QPS): -1911.7834497027648
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 204449104, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1184857, 'autovacuum_vacuum_cost_delay': 52, 'autovacuum_vacuum_cost_limit': 3612, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2221, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 400, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.6657321650834834, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1276, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5919, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 19214960, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 1937207935, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1356490752, 'maintenance_work_mem': 1788984618, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3757877, 'temp_buffers': 933003597, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 4956, 'vacuum_cost_page_hit': 3300, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6493, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.76318591088057
Set autovacuum_analyze_threshold = 204449104
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1184857
Set autovacuum_vacuum_cost_delay = 52
Set autovacuum_vacuum_cost_limit = 3612
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 247
Set bgwriter_delay = 2221
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 400
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.6657321650834834
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1276
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 112034326
Set default_statistics_target = 5919
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 19214960
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 1937207935
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 21314935
Set join_collapse_limit = 1356490752
Set maintenance_work_mem = 1788984618
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3757877
Set temp_buffers = 933003597
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 4956
Set vacuum_cost_page_hit = 3300
Set vacuum_cost_page_miss = 5839
Set wal_buffers = 16932
Set wal_writer_delay = 6493
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-53-09.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-53-09.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-53-09.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-53-09.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-53-09.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-53-09.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-53-09.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-53-09.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-53-09.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-53-09.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763718725.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-53-09.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-53-09.results.csv
Parsed throughput from summary.json: 1895.4687667456417
BenchBase wikipedia throughput: 1895.4687667456417
Configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 204449104, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1184857, 'autovacuum_vacuum_cost_delay': 52, 'autovacuum_vacuum_cost_limit': 3612, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2221, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 400, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.6657321650834834, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1276, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5919, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 19214960, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 1937207935, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1356490752, 'maintenance_work_mem': 1788984618, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3757877, 'temp_buffers': 933003597, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 4956, 'vacuum_cost_page_hit': 3300, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6493, 'work_mem': 1175555276}, QPS: -1895.4687667456417
Performance (QPS): -1895.4687667456417
Evaluating configuration: {'autovacuum_analyze_scale_factor': 74.11474931473205, 'autovacuum_analyze_threshold': 29655764, 'autovacuum_max_workers': 171, 'autovacuum_naptime': 1194919, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 40.38415663413104, 'autovacuum_vacuum_threshold': 601458816, 'backend_flush_after': 249, 'bgwriter_delay': 532, 'bgwriter_flush_after': 43, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.607316996757103, 'checkpoint_flush_after': 201, 'checkpoint_timeout': 1302, 'commit_delay': 36426, 'commit_siblings': 239, 'cursor_tuple_fraction': 0.6484236385617476, 'deadlock_timeout': 112034326, 'default_statistics_target': 3855, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 606, 'from_collapse_limit': 101094408, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 1768111615, 'geqo_seed': 0.3839381889488467, 'geqo_threshold': 23743139, 'join_collapse_limit': 935460416, 'maintenance_work_mem': 1696413143, 'max_connections': 518, 'max_wal_senders': 21, 'shared_buffers': 3334016, 'temp_buffers': 1009273094, 'temp_file_limit': 897655103, 'vacuum_cost_delay': 54, 'vacuum_cost_limit': 6559, 'vacuum_cost_page_dirty': 5426, 'vacuum_cost_page_hit': 2906, 'vacuum_cost_page_miss': 4393, 'wal_buffers': 7381, 'wal_writer_delay': 3651, 'work_mem': 1242806682}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 74.11474931473205
Set autovacuum_analyze_threshold = 29655764
Set autovacuum_max_workers = 171
Set autovacuum_naptime = 1194919
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 40.38415663413104
Set autovacuum_vacuum_threshold = 601458816
Set backend_flush_after = 249
Set bgwriter_delay = 532
Set bgwriter_flush_after = 43
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.607316996757103
Set checkpoint_flush_after = 201
Set checkpoint_timeout = 1302
Set commit_delay = 36426
Set commit_siblings = 239
Set cursor_tuple_fraction = 0.6484236385617476
Set deadlock_timeout = 112034326
Set default_statistics_target = 3855
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 606
Set from_collapse_limit = 101094408
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 1768111615
Set geqo_seed = 0.3839381889488467
Set geqo_threshold = 23743139
Set join_collapse_limit = 935460416
Set maintenance_work_mem = 1696413143
Set max_connections = 518
Set max_wal_senders = 21
Set shared_buffers = 3334016
Set temp_buffers = 1009273094
Set temp_file_limit = 897655103
Set vacuum_cost_delay = 54
Set vacuum_cost_limit = 6559
Set vacuum_cost_page_dirty = 5426
Set vacuum_cost_page_hit = 2906
Set vacuum_cost_page_miss = 4393
Set wal_buffers = 7381
Set wal_writer_delay = 3651
Set work_mem = 1242806682
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-54-47.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-54-47.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-54-47.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-54-47.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-54-47.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-54-47.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-54-47.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-54-47.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-54-47.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-54-47.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-54-47.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-54-47.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763718823.log
Parsed throughput from summary.json: 1858.420668010246
BenchBase wikipedia throughput: 1858.420668010246
Configuration: {'autovacuum_analyze_scale_factor': 74.11474931473205, 'autovacuum_analyze_threshold': 29655764, 'autovacuum_max_workers': 171, 'autovacuum_naptime': 1194919, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 40.38415663413104, 'autovacuum_vacuum_threshold': 601458816, 'backend_flush_after': 249, 'bgwriter_delay': 532, 'bgwriter_flush_after': 43, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.607316996757103, 'checkpoint_flush_after': 201, 'checkpoint_timeout': 1302, 'commit_delay': 36426, 'commit_siblings': 239, 'cursor_tuple_fraction': 0.6484236385617476, 'deadlock_timeout': 112034326, 'default_statistics_target': 3855, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 606, 'from_collapse_limit': 101094408, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 1768111615, 'geqo_seed': 0.3839381889488467, 'geqo_threshold': 23743139, 'join_collapse_limit': 935460416, 'maintenance_work_mem': 1696413143, 'max_connections': 518, 'max_wal_senders': 21, 'shared_buffers': 3334016, 'temp_buffers': 1009273094, 'temp_file_limit': 897655103, 'vacuum_cost_delay': 54, 'vacuum_cost_limit': 6559, 'vacuum_cost_page_dirty': 5426, 'vacuum_cost_page_hit': 2906, 'vacuum_cost_page_miss': 4393, 'wal_buffers': 7381, 'wal_writer_delay': 3651, 'work_mem': 1242806682}, QPS: -1858.420668010246
Performance (QPS): -1858.420668010246
Evaluating configuration: {'autovacuum_analyze_scale_factor': 91.95277807419208, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 181, 'autovacuum_naptime': 1339808, 'autovacuum_vacuum_cost_delay': 39, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 44.830642422522956, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 214, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 35, 'bgwriter_lru_maxpages': 387, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1130, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.5503504316686779, 'deadlock_timeout': 105777808, 'default_statistics_target': 5260, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 5, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.36132094280888494, 'geqo_threshold': 21314935, 'join_collapse_limit': 1108024064, 'maintenance_work_mem': 1868345221, 'max_connections': 354, 'max_wal_senders': 0, 'shared_buffers': 3893596, 'temp_buffers': 908881252, 'temp_file_limit': 766740671, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 6942, 'vacuum_cost_page_dirty': 5379, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5828, 'wal_buffers': 21108, 'wal_writer_delay': 5348, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 91.95277807419208
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 181
Set autovacuum_naptime = 1339808
Set autovacuum_vacuum_cost_delay = 39
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 44.830642422522956
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 214
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 35
Set bgwriter_lru_maxpages = 387
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6424217484891415
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1130
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.5503504316686779
Set deadlock_timeout = 105777808
Set default_statistics_target = 5260
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 5
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.36132094280888494
Set geqo_threshold = 21314935
Set join_collapse_limit = 1108024064
Set maintenance_work_mem = 1868345221
Set max_connections = 354
Set max_wal_senders = 0
Set shared_buffers = 3893596
Set temp_buffers = 908881252
Set temp_file_limit = 766740671
Set vacuum_cost_delay = 40
Set vacuum_cost_limit = 6942
Set vacuum_cost_page_dirty = 5379
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5828
Set wal_buffers = 21108
Set wal_writer_delay = 5348
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-56-25.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-56-25.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-56-25.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-56-25.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763718922.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-56-25.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-56-25.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-56-25.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-56-25.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-56-25.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-56-25.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-56-25.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-56-25.metrics.json
Parsed throughput from summary.json: 1876.1000880267968
BenchBase wikipedia throughput: 1876.1000880267968
Configuration: {'autovacuum_analyze_scale_factor': 91.95277807419208, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 181, 'autovacuum_naptime': 1339808, 'autovacuum_vacuum_cost_delay': 39, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 44.830642422522956, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 214, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 35, 'bgwriter_lru_maxpages': 387, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1130, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.5503504316686779, 'deadlock_timeout': 105777808, 'default_statistics_target': 5260, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 5, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.36132094280888494, 'geqo_threshold': 21314935, 'join_collapse_limit': 1108024064, 'maintenance_work_mem': 1868345221, 'max_connections': 354, 'max_wal_senders': 0, 'shared_buffers': 3893596, 'temp_buffers': 908881252, 'temp_file_limit': 766740671, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 6942, 'vacuum_cost_page_dirty': 5379, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5828, 'wal_buffers': 21108, 'wal_writer_delay': 5348, 'work_mem': 1175555276}, QPS: -1876.1000880267968
Performance (QPS): -1876.1000880267968
Evaluating configuration: {'autovacuum_analyze_scale_factor': 43.29904950055885, 'autovacuum_analyze_threshold': 642785127, 'autovacuum_max_workers': 32, 'autovacuum_naptime': 1044339, 'autovacuum_vacuum_cost_delay': 69, 'autovacuum_vacuum_cost_limit': 3501, 'autovacuum_vacuum_scale_factor': 72.28505286883777, 'autovacuum_vacuum_threshold': 1610925192, 'backend_flush_after': 51, 'bgwriter_delay': 4568, 'bgwriter_flush_after': 129, 'bgwriter_lru_maxpages': 129, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6685932453694613, 'checkpoint_flush_after': 196, 'checkpoint_timeout': 862, 'commit_delay': 31327, 'commit_siblings': 554, 'cursor_tuple_fraction': 0.9184720041346932, 'deadlock_timeout': 1665930626, 'default_statistics_target': 8894, 'effective_cache_size': 1248883783, 'effective_io_concurrency': 199, 'from_collapse_limit': 1759682115, 'geqo_effort': 7, 'geqo_generations': 493517387, 'geqo_pool_size': 1113657214, 'geqo_seed': 0.43549776479279645, 'geqo_threshold': 365179055, 'join_collapse_limit': 1730626915, 'maintenance_work_mem': 118987346, 'max_connections': 1190, 'max_wal_senders': 17, 'shared_buffers': 3904096, 'temp_buffers': 185287777, 'temp_file_limit': 212711150, 'vacuum_cost_delay': 20, 'vacuum_cost_limit': 4516, 'vacuum_cost_page_dirty': 1691, 'vacuum_cost_page_hit': 8033, 'vacuum_cost_page_miss': 1375, 'wal_buffers': 79036, 'wal_writer_delay': 7556, 'work_mem': 1513150196}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 43.29904950055885
Set autovacuum_analyze_threshold = 642785127
Set autovacuum_max_workers = 32
Set autovacuum_naptime = 1044339
Set autovacuum_vacuum_cost_delay = 69
Set autovacuum_vacuum_cost_limit = 3501
Set autovacuum_vacuum_scale_factor = 72.28505286883777
Set autovacuum_vacuum_threshold = 1610925192
Set backend_flush_after = 51
Set bgwriter_delay = 4568
Set bgwriter_flush_after = 129
Set bgwriter_lru_maxpages = 129
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6685932453694613
Set checkpoint_flush_after = 196
Set checkpoint_timeout = 862
Set commit_delay = 31327
Set commit_siblings = 554
Set cursor_tuple_fraction = 0.9184720041346932
Set deadlock_timeout = 1665930626
Set default_statistics_target = 8894
Set effective_cache_size = 1248883783
Set effective_io_concurrency = 199
Set from_collapse_limit = 1759682115
Set geqo_effort = 7
Set geqo_generations = 493517387
Set geqo_pool_size = 1113657214
Set geqo_seed = 0.43549776479279645
Set geqo_threshold = 365179055
Set join_collapse_limit = 1730626915
Set maintenance_work_mem = 118987346
Set max_connections = 1190
Set max_wal_senders = 17
Set shared_buffers = 3904096
Set temp_buffers = 185287777
Set temp_file_limit = 212711150
Set vacuum_cost_delay = 20
Set vacuum_cost_limit = 4516
Set vacuum_cost_page_dirty = 1691
Set vacuum_cost_page_hit = 8033
Set vacuum_cost_page_miss = 1375
Set wal_buffers = 79036
Set wal_writer_delay = 7556
Set work_mem = 1513150196
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-58-00.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-58-00.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-58-00.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-58-00.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-58-00.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-58-00.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-58-00.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-58-00.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763719016.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-58-00.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-58-00.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-58-00.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-58-00.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 1821.6990131328912
BenchBase wikipedia throughput: 1821.6990131328912
Configuration: {'autovacuum_analyze_scale_factor': 43.29904950055885, 'autovacuum_analyze_threshold': 642785127, 'autovacuum_max_workers': 32, 'autovacuum_naptime': 1044339, 'autovacuum_vacuum_cost_delay': 69, 'autovacuum_vacuum_cost_limit': 3501, 'autovacuum_vacuum_scale_factor': 72.28505286883777, 'autovacuum_vacuum_threshold': 1610925192, 'backend_flush_after': 51, 'bgwriter_delay': 4568, 'bgwriter_flush_after': 129, 'bgwriter_lru_maxpages': 129, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6685932453694613, 'checkpoint_flush_after': 196, 'checkpoint_timeout': 862, 'commit_delay': 31327, 'commit_siblings': 554, 'cursor_tuple_fraction': 0.9184720041346932, 'deadlock_timeout': 1665930626, 'default_statistics_target': 8894, 'effective_cache_size': 1248883783, 'effective_io_concurrency': 199, 'from_collapse_limit': 1759682115, 'geqo_effort': 7, 'geqo_generations': 493517387, 'geqo_pool_size': 1113657214, 'geqo_seed': 0.43549776479279645, 'geqo_threshold': 365179055, 'join_collapse_limit': 1730626915, 'maintenance_work_mem': 118987346, 'max_connections': 1190, 'max_wal_senders': 17, 'shared_buffers': 3904096, 'temp_buffers': 185287777, 'temp_file_limit': 212711150, 'vacuum_cost_delay': 20, 'vacuum_cost_limit': 4516, 'vacuum_cost_page_dirty': 1691, 'vacuum_cost_page_hit': 8033, 'vacuum_cost_page_miss': 1375, 'wal_buffers': 79036, 'wal_writer_delay': 7556, 'work_mem': 1513150196}, QPS: -1821.6990131328912
Performance (QPS): -1821.6990131328912
Evaluating configuration: {'autovacuum_analyze_scale_factor': 91.9673252733963, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 40, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 698145664, 'backend_flush_after': 250, 'bgwriter_delay': 1665, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 373, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.5752044619658071, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.5852295335130727, 'deadlock_timeout': 3203194, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2011711999, 'geqo_seed': 0.26222775933098885, 'geqo_threshold': 21314935, 'join_collapse_limit': 1061348864, 'maintenance_work_mem': 1612315007, 'max_connections': 463, 'max_wal_senders': 1, 'shared_buffers': 3678223, 'temp_buffers': 908881252, 'temp_file_limit': 693238143, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5579, 'wal_buffers': 16932, 'wal_writer_delay': 5179, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 91.9673252733963
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1088155
Set autovacuum_vacuum_cost_delay = 40
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 698145664
Set backend_flush_after = 250
Set bgwriter_delay = 1665
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 373
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.5752044619658071
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1302
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.5852295335130727
Set deadlock_timeout = 3203194
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2011711999
Set geqo_seed = 0.26222775933098885
Set geqo_threshold = 21314935
Set join_collapse_limit = 1061348864
Set maintenance_work_mem = 1612315007
Set max_connections = 463
Set max_wal_senders = 1
Set shared_buffers = 3678223
Set temp_buffers = 908881252
Set temp_file_limit = 693238143
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5579
Set wal_buffers = 16932
Set wal_writer_delay = 5179
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-59-39.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763719115.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-59-39.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-59-39.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-59-39.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-59-39.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-59-39.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-59-39.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-59-39.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_09-59-39.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-59-39.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-59-39.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_09-59-39.raw.csv
Parsed throughput from summary.json: 1945.9654356126782
BenchBase wikipedia throughput: 1945.9654356126782
Configuration: {'autovacuum_analyze_scale_factor': 91.9673252733963, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 40, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 698145664, 'backend_flush_after': 250, 'bgwriter_delay': 1665, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 373, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.5752044619658071, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.5852295335130727, 'deadlock_timeout': 3203194, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2011711999, 'geqo_seed': 0.26222775933098885, 'geqo_threshold': 21314935, 'join_collapse_limit': 1061348864, 'maintenance_work_mem': 1612315007, 'max_connections': 463, 'max_wal_senders': 1, 'shared_buffers': 3678223, 'temp_buffers': 908881252, 'temp_file_limit': 693238143, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5579, 'wal_buffers': 16932, 'wal_writer_delay': 5179, 'work_mem': 1175555276}, QPS: -1945.9654356126782
Performance (QPS): -1945.9654356126782
Evaluating configuration: {'autovacuum_analyze_scale_factor': 90.08280574888906, 'autovacuum_analyze_threshold': 87482632, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1277065, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 4205, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 599187584, 'backend_flush_after': 247, 'bgwriter_delay': 836, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 420, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.5752044619658071, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 314, 'cursor_tuple_fraction': 0.5501820665459971, 'deadlock_timeout': 222943296, 'default_statistics_target': 5473, 'effective_cache_size': 1254179200, 'effective_io_concurrency': 670, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2011711999, 'geqo_seed': 0.26222775933098885, 'geqo_threshold': 2173595, 'join_collapse_limit': 1282710784, 'maintenance_work_mem': 1612315007, 'max_connections': 463, 'max_wal_senders': 1, 'shared_buffers': 2982240, 'temp_buffers': 908881252, 'temp_file_limit': 624772799, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 6062, 'wal_buffers': 4008, 'wal_writer_delay': 5179, 'work_mem': 1354895511}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 90.08280574888906
Set autovacuum_analyze_threshold = 87482632
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1277065
Set autovacuum_vacuum_cost_delay = 49
Set autovacuum_vacuum_cost_limit = 4205
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 599187584
Set backend_flush_after = 247
Set bgwriter_delay = 836
Set bgwriter_flush_after = 40
Set bgwriter_lru_maxpages = 420
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.5752044619658071
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1302
Set commit_delay = 39368
Set commit_siblings = 314
Set cursor_tuple_fraction = 0.5501820665459971
Set deadlock_timeout = 222943296
Set default_statistics_target = 5473
Set effective_cache_size = 1254179200
Set effective_io_concurrency = 670
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2011711999
Set geqo_seed = 0.26222775933098885
Set geqo_threshold = 2173595
Set join_collapse_limit = 1282710784
Set maintenance_work_mem = 1612315007
Set max_connections = 463
Set max_wal_senders = 1
Set shared_buffers = 2982240
Set temp_buffers = 908881252
Set temp_file_limit = 624772799
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 6062
Set wal_buffers = 4008
Set wal_writer_delay = 5179
Set work_mem = 1354895511
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-01-17.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-01-17.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-01-17.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-01-17.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-01-17.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-01-17.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-01-17.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-01-17.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-01-17.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-01-17.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-01-17.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763719214.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-01-17.config.xml
Parsed throughput from summary.json: 1934.687240387209
BenchBase wikipedia throughput: 1934.687240387209
Configuration: {'autovacuum_analyze_scale_factor': 90.08280574888906, 'autovacuum_analyze_threshold': 87482632, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1277065, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 4205, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 599187584, 'backend_flush_after': 247, 'bgwriter_delay': 836, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 420, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.5752044619658071, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 314, 'cursor_tuple_fraction': 0.5501820665459971, 'deadlock_timeout': 222943296, 'default_statistics_target': 5473, 'effective_cache_size': 1254179200, 'effective_io_concurrency': 670, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2011711999, 'geqo_seed': 0.26222775933098885, 'geqo_threshold': 2173595, 'join_collapse_limit': 1282710784, 'maintenance_work_mem': 1612315007, 'max_connections': 463, 'max_wal_senders': 1, 'shared_buffers': 2982240, 'temp_buffers': 908881252, 'temp_file_limit': 624772799, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 6062, 'wal_buffers': 4008, 'wal_writer_delay': 5179, 'work_mem': 1354895511}, QPS: -1934.687240387209
Performance (QPS): -1934.687240387209
Evaluating configuration: {'autovacuum_analyze_scale_factor': 95.31390921364564, 'autovacuum_analyze_threshold': 52020676, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1006641, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 4657, 'autovacuum_vacuum_scale_factor': 38.77948318449352, 'autovacuum_vacuum_threshold': 804276160, 'backend_flush_after': 248, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 515, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.6443078573341942, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 241, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 42653856, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 903538880, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 13397794, 'join_collapse_limit': 987715456, 'maintenance_work_mem': 1708697389, 'max_connections': 820, 'max_wal_senders': 2, 'shared_buffers': 3729316, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 6269, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 4795, 'wal_buffers': 3749, 'wal_writer_delay': 6324, 'work_mem': 1509005715}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 95.31390921364564
Set autovacuum_analyze_threshold = 52020676
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1006641
Set autovacuum_vacuum_cost_delay = 38
Set autovacuum_vacuum_cost_limit = 4657
Set autovacuum_vacuum_scale_factor = 38.77948318449352
Set autovacuum_vacuum_threshold = 804276160
Set backend_flush_after = 248
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 40
Set bgwriter_lru_maxpages = 515
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.6443078573341942
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 1302
Set commit_delay = 39368
Set commit_siblings = 241
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 42653856
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 903538880
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 13397794
Set join_collapse_limit = 987715456
Set maintenance_work_mem = 1708697389
Set max_connections = 820
Set max_wal_senders = 2
Set shared_buffers = 3729316
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 51
Set vacuum_cost_limit = 6269
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 4795
Set wal_buffers = 3749
Set wal_writer_delay = 6324
Set work_mem = 1509005715
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-02-56.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-02-56.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-02-56.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-02-56.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-02-56.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-02-56.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-02-56.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-02-56.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-02-56.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763719312.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-02-56.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-02-56.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-02-56.samples.csv
Parsed throughput from summary.json: 1931.0984539190624
BenchBase wikipedia throughput: 1931.0984539190624
Configuration: {'autovacuum_analyze_scale_factor': 95.31390921364564, 'autovacuum_analyze_threshold': 52020676, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1006641, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 4657, 'autovacuum_vacuum_scale_factor': 38.77948318449352, 'autovacuum_vacuum_threshold': 804276160, 'backend_flush_after': 248, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 515, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.6443078573341942, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 241, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 42653856, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 903538880, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 13397794, 'join_collapse_limit': 987715456, 'maintenance_work_mem': 1708697389, 'max_connections': 820, 'max_wal_senders': 2, 'shared_buffers': 3729316, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 6269, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 4795, 'wal_buffers': 3749, 'wal_writer_delay': 6324, 'work_mem': 1509005715}, QPS: -1931.0984539190624
Performance (QPS): -1931.0984539190624
Evaluating configuration: {'autovacuum_analyze_scale_factor': 97.64430404379286, 'autovacuum_analyze_threshold': 819072333, 'autovacuum_max_workers': 85, 'autovacuum_naptime': 1140669, 'autovacuum_vacuum_cost_delay': 92, 'autovacuum_vacuum_cost_limit': 9722, 'autovacuum_vacuum_scale_factor': 46.77837297366722, 'autovacuum_vacuum_threshold': 1055536539, 'backend_flush_after': 230, 'bgwriter_delay': 778, 'bgwriter_flush_after': 135, 'bgwriter_lru_maxpages': 294, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.22249931547294755, 'checkpoint_flush_after': 215, 'checkpoint_timeout': 2538, 'commit_delay': 45099, 'commit_siblings': 89, 'cursor_tuple_fraction': 0.6311915315228483, 'deadlock_timeout': 1137016467, 'default_statistics_target': 6777, 'effective_cache_size': 2072320251, 'effective_io_concurrency': 628, 'from_collapse_limit': 1453911650, 'geqo_effort': 2, 'geqo_generations': 13772393, 'geqo_pool_size': 1472833601, 'geqo_seed': 0.3667670173816209, 'geqo_threshold': 1135705191, 'join_collapse_limit': 1122280522, 'maintenance_work_mem': 747934926, 'max_connections': 1017, 'max_wal_senders': 35, 'shared_buffers': 293484, 'temp_buffers': 169842733, 'temp_file_limit': 1296218746, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 1963, 'vacuum_cost_page_dirty': 925, 'vacuum_cost_page_hit': 1107, 'vacuum_cost_page_miss': 2993, 'wal_buffers': 42579, 'wal_writer_delay': 6951, 'work_mem': 1523236493}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 97.64430404379286
Set autovacuum_analyze_threshold = 819072333
Set autovacuum_max_workers = 85
Set autovacuum_naptime = 1140669
Set autovacuum_vacuum_cost_delay = 92
Set autovacuum_vacuum_cost_limit = 9722
Set autovacuum_vacuum_scale_factor = 46.77837297366722
Set autovacuum_vacuum_threshold = 1055536539
Set backend_flush_after = 230
Set bgwriter_delay = 778
Set bgwriter_flush_after = 135
Set bgwriter_lru_maxpages = 294
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.22249931547294755
Set checkpoint_flush_after = 215
Set checkpoint_timeout = 2538
Set commit_delay = 45099
Set commit_siblings = 89
Set cursor_tuple_fraction = 0.6311915315228483
Set deadlock_timeout = 1137016467
Set default_statistics_target = 6777
Set effective_cache_size = 2072320251
Set effective_io_concurrency = 628
Set from_collapse_limit = 1453911650
Set geqo_effort = 2
Set geqo_generations = 13772393
Set geqo_pool_size = 1472833601
Set geqo_seed = 0.3667670173816209
Set geqo_threshold = 1135705191
Set join_collapse_limit = 1122280522
Set maintenance_work_mem = 747934926
Set max_connections = 1017
Set max_wal_senders = 35
Set shared_buffers = 293484
Set temp_buffers = 169842733
Set temp_file_limit = 1296218746
Set vacuum_cost_delay = 51
Set vacuum_cost_limit = 1963
Set vacuum_cost_page_dirty = 925
Set vacuum_cost_page_hit = 1107
Set vacuum_cost_page_miss = 2993
Set wal_buffers = 42579
Set wal_writer_delay = 6951
Set work_mem = 1523236493
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-04-29.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-04-29.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-04-29.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-04-29.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-04-29.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-04-29.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-04-29.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763719406.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-04-29.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-04-29.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-04-29.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-04-29.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-04-29.metrics.json
Error parsing summary.json: [Errno 2] No such file or directory: '/home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json'
BenchBase wikipedia throughput: 0.0
Evaluating configuration: {'autovacuum_analyze_scale_factor': 66.17096480989781, 'autovacuum_analyze_threshold': 1878033608, 'autovacuum_max_workers': 134, 'autovacuum_naptime': 1452556, 'autovacuum_vacuum_cost_delay': 94, 'autovacuum_vacuum_cost_limit': 45, 'autovacuum_vacuum_scale_factor': 26.184972583918075, 'autovacuum_vacuum_threshold': 17702584, 'backend_flush_after': 225, 'bgwriter_delay': 5418, 'bgwriter_flush_after': 73, 'bgwriter_lru_maxpages': 359, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.08201190708629746, 'checkpoint_flush_after': 73, 'checkpoint_timeout': 1238, 'commit_delay': 72018, 'commit_siblings': 440, 'cursor_tuple_fraction': 0.6920534302059099, 'deadlock_timeout': 527377999, 'default_statistics_target': 9754, 'effective_cache_size': 586871659, 'effective_io_concurrency': 16, 'from_collapse_limit': 796064542, 'geqo_effort': 3, 'geqo_generations': 979755155, 'geqo_pool_size': 2079637138, 'geqo_seed': 0.7296493551978386, 'geqo_threshold': 1458417773, 'join_collapse_limit': 1381444538, 'maintenance_work_mem': 2081402438, 'max_connections': 2032, 'max_wal_senders': 45, 'shared_buffers': 2793847, 'temp_buffers': 595730706, 'temp_file_limit': 163177324, 'vacuum_cost_delay': 39, 'vacuum_cost_limit': 4138, 'vacuum_cost_page_dirty': 2952, 'vacuum_cost_page_hit': 5158, 'vacuum_cost_page_miss': 1997, 'wal_buffers': 52980, 'wal_writer_delay': 1738, 'work_mem': 1298076712}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 66.17096480989781
Set autovacuum_analyze_threshold = 1878033608
Set autovacuum_max_workers = 134
Set autovacuum_naptime = 1452556
Set autovacuum_vacuum_cost_delay = 94
Set autovacuum_vacuum_cost_limit = 45
Set autovacuum_vacuum_scale_factor = 26.184972583918075
Set autovacuum_vacuum_threshold = 17702584
Set backend_flush_after = 225
Set bgwriter_delay = 5418
Set bgwriter_flush_after = 73
Set bgwriter_lru_maxpages = 359
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.08201190708629746
Set checkpoint_flush_after = 73
Set checkpoint_timeout = 1238
Set commit_delay = 72018
Set commit_siblings = 440
Set cursor_tuple_fraction = 0.6920534302059099
Set deadlock_timeout = 527377999
Set default_statistics_target = 9754
Set effective_cache_size = 586871659
Set effective_io_concurrency = 16
Set from_collapse_limit = 796064542
Set geqo_effort = 3
Set geqo_generations = 979755155
Set geqo_pool_size = 2079637138
Set geqo_seed = 0.7296493551978386
Set geqo_threshold = 1458417773
Set join_collapse_limit = 1381444538
Set maintenance_work_mem = 2081402438
Set max_connections = 2032
Set max_wal_senders = 45
Set shared_buffers = 2793847
Set temp_buffers = 595730706
Set temp_file_limit = 163177324
Set vacuum_cost_delay = 39
Set vacuum_cost_limit = 4138
Set vacuum_cost_page_dirty = 2952
Set vacuum_cost_page_hit = 5158
Set vacuum_cost_page_miss = 1997
Set wal_buffers = 52980
Set wal_writer_delay = 1738
Set work_mem = 1298076712
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-06-03.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-06-03.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-06-03.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-06-03.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-06-03.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-06-03.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-06-03.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-06-03.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-06-03.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-06-03.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763719500.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-06-03.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-06-03.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 1776.5864148348476
BenchBase wikipedia throughput: 1776.5864148348476
Configuration: {'autovacuum_analyze_scale_factor': 66.17096480989781, 'autovacuum_analyze_threshold': 1878033608, 'autovacuum_max_workers': 134, 'autovacuum_naptime': 1452556, 'autovacuum_vacuum_cost_delay': 94, 'autovacuum_vacuum_cost_limit': 45, 'autovacuum_vacuum_scale_factor': 26.184972583918075, 'autovacuum_vacuum_threshold': 17702584, 'backend_flush_after': 225, 'bgwriter_delay': 5418, 'bgwriter_flush_after': 73, 'bgwriter_lru_maxpages': 359, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.08201190708629746, 'checkpoint_flush_after': 73, 'checkpoint_timeout': 1238, 'commit_delay': 72018, 'commit_siblings': 440, 'cursor_tuple_fraction': 0.6920534302059099, 'deadlock_timeout': 527377999, 'default_statistics_target': 9754, 'effective_cache_size': 586871659, 'effective_io_concurrency': 16, 'from_collapse_limit': 796064542, 'geqo_effort': 3, 'geqo_generations': 979755155, 'geqo_pool_size': 2079637138, 'geqo_seed': 0.7296493551978386, 'geqo_threshold': 1458417773, 'join_collapse_limit': 1381444538, 'maintenance_work_mem': 2081402438, 'max_connections': 2032, 'max_wal_senders': 45, 'shared_buffers': 2793847, 'temp_buffers': 595730706, 'temp_file_limit': 163177324, 'vacuum_cost_delay': 39, 'vacuum_cost_limit': 4138, 'vacuum_cost_page_dirty': 2952, 'vacuum_cost_page_hit': 5158, 'vacuum_cost_page_miss': 1997, 'wal_buffers': 52980, 'wal_writer_delay': 1738, 'work_mem': 1298076712}, QPS: -1776.5864148348476
Performance (QPS): -1776.5864148348476
Evaluating configuration: {'autovacuum_analyze_scale_factor': 95.42275658240854, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1006641, 'autovacuum_vacuum_cost_delay': 42, 'autovacuum_vacuum_cost_limit': 4721, 'autovacuum_vacuum_scale_factor': 38.77948318449352, 'autovacuum_vacuum_threshold': 455563872, 'backend_flush_after': 254, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 455, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.6132610537886669, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 188, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 202606080, 'default_statistics_target': 5473, 'effective_cache_size': 1590519936, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.49741684395534996, 'geqo_threshold': 36088173, 'join_collapse_limit': 987715456, 'maintenance_work_mem': 1708697389, 'max_connections': 607, 'max_wal_senders': 0, 'shared_buffers': 3238893, 'temp_buffers': 868194195, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 6570, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 2139, 'vacuum_cost_page_miss': 4795, 'wal_buffers': 1084, 'wal_writer_delay': 5372, 'work_mem': 1329577752}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 95.42275658240854
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1006641
Set autovacuum_vacuum_cost_delay = 42
Set autovacuum_vacuum_cost_limit = 4721
Set autovacuum_vacuum_scale_factor = 38.77948318449352
Set autovacuum_vacuum_threshold = 455563872
Set backend_flush_after = 254
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 40
Set bgwriter_lru_maxpages = 455
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.6132610537886669
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 1302
Set commit_delay = 39368
Set commit_siblings = 188
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 202606080
Set default_statistics_target = 5473
Set effective_cache_size = 1590519936
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.49741684395534996
Set geqo_threshold = 36088173
Set join_collapse_limit = 987715456
Set maintenance_work_mem = 1708697389
Set max_connections = 607
Set max_wal_senders = 0
Set shared_buffers = 3238893
Set temp_buffers = 868194195
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 51
Set vacuum_cost_limit = 6570
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 2139
Set vacuum_cost_page_miss = 4795
Set wal_buffers = 1084
Set wal_writer_delay = 5372
Set work_mem = 1329577752
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-07-42.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-07-42.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-07-42.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-07-42.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-07-42.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-07-42.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-07-42.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-07-42.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-07-42.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763719599.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-07-42.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-07-42.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-07-42.params.json
Parsed throughput from summary.json: 1908.6988051861201
BenchBase wikipedia throughput: 1908.6988051861201
Configuration: {'autovacuum_analyze_scale_factor': 95.42275658240854, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1006641, 'autovacuum_vacuum_cost_delay': 42, 'autovacuum_vacuum_cost_limit': 4721, 'autovacuum_vacuum_scale_factor': 38.77948318449352, 'autovacuum_vacuum_threshold': 455563872, 'backend_flush_after': 254, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 455, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.6132610537886669, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 188, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 202606080, 'default_statistics_target': 5473, 'effective_cache_size': 1590519936, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.49741684395534996, 'geqo_threshold': 36088173, 'join_collapse_limit': 987715456, 'maintenance_work_mem': 1708697389, 'max_connections': 607, 'max_wal_senders': 0, 'shared_buffers': 3238893, 'temp_buffers': 868194195, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 6570, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 2139, 'vacuum_cost_page_miss': 4795, 'wal_buffers': 1084, 'wal_writer_delay': 5372, 'work_mem': 1329577752}, QPS: -1908.6988051861201
Performance (QPS): -1908.6988051861201
Evaluating configuration: {'autovacuum_analyze_scale_factor': 41.300020350027935, 'autovacuum_analyze_threshold': 1211156787, 'autovacuum_max_workers': 34, 'autovacuum_naptime': 1655976, 'autovacuum_vacuum_cost_delay': 43, 'autovacuum_vacuum_cost_limit': 9672, 'autovacuum_vacuum_scale_factor': 23.581519207175273, 'autovacuum_vacuum_threshold': 1845297670, 'backend_flush_after': 203, 'bgwriter_delay': 224, 'bgwriter_flush_after': 163, 'bgwriter_lru_maxpages': 966, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.9709477221036842, 'checkpoint_flush_after': 184, 'checkpoint_timeout': 2778, 'commit_delay': 83612, 'commit_siblings': 402, 'cursor_tuple_fraction': 0.9557401918199695, 'deadlock_timeout': 1268593201, 'default_statistics_target': 3084, 'effective_cache_size': 1252883875, 'effective_io_concurrency': 526, 'from_collapse_limit': 1048260382, 'geqo_effort': 6, 'geqo_generations': 1755686713, 'geqo_pool_size': 1322059895, 'geqo_seed': 0.8317176520129871, 'geqo_threshold': 2017646111, 'join_collapse_limit': 265380761, 'maintenance_work_mem': 481617069, 'max_connections': 154, 'max_wal_senders': 46, 'shared_buffers': 1043175, 'temp_buffers': 78706413, 'temp_file_limit': 1038049722, 'vacuum_cost_delay': 14, 'vacuum_cost_limit': 8924, 'vacuum_cost_page_dirty': 3446, 'vacuum_cost_page_hit': 9034, 'vacuum_cost_page_miss': 9329, 'wal_buffers': 27347, 'wal_writer_delay': 9360, 'work_mem': 382885242}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 41.300020350027935
Set autovacuum_analyze_threshold = 1211156787
Set autovacuum_max_workers = 34
Set autovacuum_naptime = 1655976
Set autovacuum_vacuum_cost_delay = 43
Set autovacuum_vacuum_cost_limit = 9672
Set autovacuum_vacuum_scale_factor = 23.581519207175273
Set autovacuum_vacuum_threshold = 1845297670
Set backend_flush_after = 203
Set bgwriter_delay = 224
Set bgwriter_flush_after = 163
Set bgwriter_lru_maxpages = 966
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.9709477221036842
Set checkpoint_flush_after = 184
Set checkpoint_timeout = 2778
Set commit_delay = 83612
Set commit_siblings = 402
Set cursor_tuple_fraction = 0.9557401918199695
Set deadlock_timeout = 1268593201
Set default_statistics_target = 3084
Set effective_cache_size = 1252883875
Set effective_io_concurrency = 526
Set from_collapse_limit = 1048260382
Set geqo_effort = 6
Set geqo_generations = 1755686713
Set geqo_pool_size = 1322059895
Set geqo_seed = 0.8317176520129871
Set geqo_threshold = 2017646111
Set join_collapse_limit = 265380761
Set maintenance_work_mem = 481617069
Set max_connections = 154
Set max_wal_senders = 46
Set shared_buffers = 1043175
Set temp_buffers = 78706413
Set temp_file_limit = 1038049722
Set vacuum_cost_delay = 14
Set vacuum_cost_limit = 8924
Set vacuum_cost_page_dirty = 3446
Set vacuum_cost_page_hit = 9034
Set vacuum_cost_page_miss = 9329
Set wal_buffers = 27347
Set wal_writer_delay = 9360
Set work_mem = 382885242
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-09-16.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-09-16.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-09-16.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-09-16.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-09-16.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-09-16.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-09-16.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-09-16.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-09-16.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-09-16.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763719693.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-09-16.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-09-16.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Parsed throughput from summary.json: 1918.1047966948627
BenchBase wikipedia throughput: 1918.1047966948627
Configuration: {'autovacuum_analyze_scale_factor': 41.300020350027935, 'autovacuum_analyze_threshold': 1211156787, 'autovacuum_max_workers': 34, 'autovacuum_naptime': 1655976, 'autovacuum_vacuum_cost_delay': 43, 'autovacuum_vacuum_cost_limit': 9672, 'autovacuum_vacuum_scale_factor': 23.581519207175273, 'autovacuum_vacuum_threshold': 1845297670, 'backend_flush_after': 203, 'bgwriter_delay': 224, 'bgwriter_flush_after': 163, 'bgwriter_lru_maxpages': 966, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.9709477221036842, 'checkpoint_flush_after': 184, 'checkpoint_timeout': 2778, 'commit_delay': 83612, 'commit_siblings': 402, 'cursor_tuple_fraction': 0.9557401918199695, 'deadlock_timeout': 1268593201, 'default_statistics_target': 3084, 'effective_cache_size': 1252883875, 'effective_io_concurrency': 526, 'from_collapse_limit': 1048260382, 'geqo_effort': 6, 'geqo_generations': 1755686713, 'geqo_pool_size': 1322059895, 'geqo_seed': 0.8317176520129871, 'geqo_threshold': 2017646111, 'join_collapse_limit': 265380761, 'maintenance_work_mem': 481617069, 'max_connections': 154, 'max_wal_senders': 46, 'shared_buffers': 1043175, 'temp_buffers': 78706413, 'temp_file_limit': 1038049722, 'vacuum_cost_delay': 14, 'vacuum_cost_limit': 8924, 'vacuum_cost_page_dirty': 3446, 'vacuum_cost_page_hit': 9034, 'vacuum_cost_page_miss': 9329, 'wal_buffers': 27347, 'wal_writer_delay': 9360, 'work_mem': 382885242}, QPS: -1918.1047966948627
Performance (QPS): -1918.1047966948627
Evaluating configuration: {'autovacuum_analyze_scale_factor': 91.04118264827589, 'autovacuum_analyze_threshold': 1477318696, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 1645817, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 5505, 'autovacuum_vacuum_scale_factor': 52.18049359528606, 'autovacuum_vacuum_threshold': 1811279494, 'backend_flush_after': 196, 'bgwriter_delay': 2365, 'bgwriter_flush_after': 146, 'bgwriter_lru_maxpages': 647, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.39327145884993886, 'checkpoint_flush_after': 148, 'checkpoint_timeout': 2877, 'commit_delay': 30820, 'commit_siblings': 209, 'cursor_tuple_fraction': 0.6420704539561107, 'deadlock_timeout': 1549118410, 'default_statistics_target': 3938, 'effective_cache_size': 116947785, 'effective_io_concurrency': 588, 'from_collapse_limit': 1319763057, 'geqo_effort': 1, 'geqo_generations': 1311258216, 'geqo_pool_size': 1455940660, 'geqo_seed': 0.2830892070232768, 'geqo_threshold': 667435655, 'join_collapse_limit': 1203867737, 'maintenance_work_mem': 2091173293, 'max_connections': 427, 'max_wal_senders': 0, 'shared_buffers': 3657749, 'temp_buffers': 835145350, 'temp_file_limit': 822289204, 'vacuum_cost_delay': 86, 'vacuum_cost_limit': 8340, 'vacuum_cost_page_dirty': 2545, 'vacuum_cost_page_hit': 279, 'vacuum_cost_page_miss': 3412, 'wal_buffers': 91051, 'wal_writer_delay': 8707, 'work_mem': 311168623}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 91.04118264827589
Set autovacuum_analyze_threshold = 1477318696
Set autovacuum_max_workers = 76
Set autovacuum_naptime = 1645817
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 5505
Set autovacuum_vacuum_scale_factor = 52.18049359528606
Set autovacuum_vacuum_threshold = 1811279494
Set backend_flush_after = 196
Set bgwriter_delay = 2365
Set bgwriter_flush_after = 146
Set bgwriter_lru_maxpages = 647
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.39327145884993886
Set checkpoint_flush_after = 148
Set checkpoint_timeout = 2877
Set commit_delay = 30820
Set commit_siblings = 209
Set cursor_tuple_fraction = 0.6420704539561107
Set deadlock_timeout = 1549118410
Set default_statistics_target = 3938
Set effective_cache_size = 116947785
Set effective_io_concurrency = 588
Set from_collapse_limit = 1319763057
Set geqo_effort = 1
Set geqo_generations = 1311258216
Set geqo_pool_size = 1455940660
Set geqo_seed = 0.2830892070232768
Set geqo_threshold = 667435655
Set join_collapse_limit = 1203867737
Set maintenance_work_mem = 2091173293
Set max_connections = 427
Set max_wal_senders = 0
Set shared_buffers = 3657749
Set temp_buffers = 835145350
Set temp_file_limit = 822289204
Set vacuum_cost_delay = 86
Set vacuum_cost_limit = 8340
Set vacuum_cost_page_dirty = 2545
Set vacuum_cost_page_hit = 279
Set vacuum_cost_page_miss = 3412
Set wal_buffers = 91051
Set wal_writer_delay = 8707
Set work_mem = 311168623
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-10-50.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-10-50.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-10-50.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-10-50.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-10-50.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-10-50.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-10-50.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-10-50.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-10-50.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-10-50.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-10-50.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763719787.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-10-50.raw.csv
Parsed throughput from summary.json: 1756.4106880665884
BenchBase wikipedia throughput: 1756.4106880665884
Configuration: {'autovacuum_analyze_scale_factor': 91.04118264827589, 'autovacuum_analyze_threshold': 1477318696, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 1645817, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 5505, 'autovacuum_vacuum_scale_factor': 52.18049359528606, 'autovacuum_vacuum_threshold': 1811279494, 'backend_flush_after': 196, 'bgwriter_delay': 2365, 'bgwriter_flush_after': 146, 'bgwriter_lru_maxpages': 647, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.39327145884993886, 'checkpoint_flush_after': 148, 'checkpoint_timeout': 2877, 'commit_delay': 30820, 'commit_siblings': 209, 'cursor_tuple_fraction': 0.6420704539561107, 'deadlock_timeout': 1549118410, 'default_statistics_target': 3938, 'effective_cache_size': 116947785, 'effective_io_concurrency': 588, 'from_collapse_limit': 1319763057, 'geqo_effort': 1, 'geqo_generations': 1311258216, 'geqo_pool_size': 1455940660, 'geqo_seed': 0.2830892070232768, 'geqo_threshold': 667435655, 'join_collapse_limit': 1203867737, 'maintenance_work_mem': 2091173293, 'max_connections': 427, 'max_wal_senders': 0, 'shared_buffers': 3657749, 'temp_buffers': 835145350, 'temp_file_limit': 822289204, 'vacuum_cost_delay': 86, 'vacuum_cost_limit': 8340, 'vacuum_cost_page_dirty': 2545, 'vacuum_cost_page_hit': 279, 'vacuum_cost_page_miss': 3412, 'wal_buffers': 91051, 'wal_writer_delay': 8707, 'work_mem': 311168623}, QPS: -1756.4106880665884
Performance (QPS): -1756.4106880665884
Evaluating configuration: {'autovacuum_analyze_scale_factor': 80.86417493710627, 'autovacuum_analyze_threshold': 1198626269, 'autovacuum_max_workers': 128, 'autovacuum_naptime': 1073718, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 2436, 'autovacuum_vacuum_scale_factor': 47.1868607532065, 'autovacuum_vacuum_threshold': 45200097, 'backend_flush_after': 140, 'bgwriter_delay': 4616, 'bgwriter_flush_after': 124, 'bgwriter_lru_maxpages': 838, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.4599473287554069, 'checkpoint_flush_after': 138, 'checkpoint_timeout': 93, 'commit_delay': 54646, 'commit_siblings': 694, 'cursor_tuple_fraction': 0.25059972245753737, 'deadlock_timeout': 354877828, 'default_statistics_target': 1349, 'effective_cache_size': 1244816128, 'effective_io_concurrency': 869, 'from_collapse_limit': 1171139526, 'geqo_effort': 2, 'geqo_generations': 4469131, 'geqo_pool_size': 217072032, 'geqo_seed': 0.1109522626961813, 'geqo_threshold': 933893090, 'join_collapse_limit': 1463973362, 'maintenance_work_mem': 1233798320, 'max_connections': 159, 'max_wal_senders': 28, 'shared_buffers': 565326, 'temp_buffers': 69891572, 'temp_file_limit': 1426140855, 'vacuum_cost_delay': 9, 'vacuum_cost_limit': 7543, 'vacuum_cost_page_dirty': 9392, 'vacuum_cost_page_hit': 9971, 'vacuum_cost_page_miss': 8135, 'wal_buffers': 37863, 'wal_writer_delay': 4660, 'work_mem': 99796909}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 80.86417493710627
Set autovacuum_analyze_threshold = 1198626269
Set autovacuum_max_workers = 128
Set autovacuum_naptime = 1073718
Set autovacuum_vacuum_cost_delay = 19
Set autovacuum_vacuum_cost_limit = 2436
Set autovacuum_vacuum_scale_factor = 47.1868607532065
Set autovacuum_vacuum_threshold = 45200097
Set backend_flush_after = 140
Set bgwriter_delay = 4616
Set bgwriter_flush_after = 124
Set bgwriter_lru_maxpages = 838
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.4599473287554069
Set checkpoint_flush_after = 138
Set checkpoint_timeout = 93
Set commit_delay = 54646
Set commit_siblings = 694
Set cursor_tuple_fraction = 0.25059972245753737
Set deadlock_timeout = 354877828
Set default_statistics_target = 1349
Set effective_cache_size = 1244816128
Set effective_io_concurrency = 869
Set from_collapse_limit = 1171139526
Set geqo_effort = 2
Set geqo_generations = 4469131
Set geqo_pool_size = 217072032
Set geqo_seed = 0.1109522626961813
Set geqo_threshold = 933893090
Set join_collapse_limit = 1463973362
Set maintenance_work_mem = 1233798320
Set max_connections = 159
Set max_wal_senders = 28
Set shared_buffers = 565326
Set temp_buffers = 69891572
Set temp_file_limit = 1426140855
Set vacuum_cost_delay = 9
Set vacuum_cost_limit = 7543
Set vacuum_cost_page_dirty = 9392
Set vacuum_cost_page_hit = 9971
Set vacuum_cost_page_miss = 8135
Set wal_buffers = 37863
Set wal_writer_delay = 4660
Set work_mem = 99796909
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-12-30.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-12-30.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-12-30.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-12-30.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-12-30.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-12-30.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-12-30.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-12-30.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-12-30.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-12-30.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-12-30.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-12-30.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763719887.log
Parsed throughput from summary.json: 1942.42794582192
BenchBase wikipedia throughput: 1942.42794582192
Configuration: {'autovacuum_analyze_scale_factor': 80.86417493710627, 'autovacuum_analyze_threshold': 1198626269, 'autovacuum_max_workers': 128, 'autovacuum_naptime': 1073718, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 2436, 'autovacuum_vacuum_scale_factor': 47.1868607532065, 'autovacuum_vacuum_threshold': 45200097, 'backend_flush_after': 140, 'bgwriter_delay': 4616, 'bgwriter_flush_after': 124, 'bgwriter_lru_maxpages': 838, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.4599473287554069, 'checkpoint_flush_after': 138, 'checkpoint_timeout': 93, 'commit_delay': 54646, 'commit_siblings': 694, 'cursor_tuple_fraction': 0.25059972245753737, 'deadlock_timeout': 354877828, 'default_statistics_target': 1349, 'effective_cache_size': 1244816128, 'effective_io_concurrency': 869, 'from_collapse_limit': 1171139526, 'geqo_effort': 2, 'geqo_generations': 4469131, 'geqo_pool_size': 217072032, 'geqo_seed': 0.1109522626961813, 'geqo_threshold': 933893090, 'join_collapse_limit': 1463973362, 'maintenance_work_mem': 1233798320, 'max_connections': 159, 'max_wal_senders': 28, 'shared_buffers': 565326, 'temp_buffers': 69891572, 'temp_file_limit': 1426140855, 'vacuum_cost_delay': 9, 'vacuum_cost_limit': 7543, 'vacuum_cost_page_dirty': 9392, 'vacuum_cost_page_hit': 9971, 'vacuum_cost_page_miss': 8135, 'wal_buffers': 37863, 'wal_writer_delay': 4660, 'work_mem': 99796909}, QPS: -1942.42794582192
Performance (QPS): -1942.42794582192
Evaluating configuration: {'autovacuum_analyze_scale_factor': 99.18597089977374, 'autovacuum_analyze_threshold': 795803648, 'autovacuum_max_workers': 85, 'autovacuum_naptime': 1140669, 'autovacuum_vacuum_cost_delay': 92, 'autovacuum_vacuum_cost_limit': 9722, 'autovacuum_vacuum_scale_factor': 46.77837297366722, 'autovacuum_vacuum_threshold': 1055536539, 'backend_flush_after': 252, 'bgwriter_delay': 1323, 'bgwriter_flush_after': 135, 'bgwriter_lru_maxpages': 382, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.5740595466346574, 'checkpoint_flush_after': 215, 'checkpoint_timeout': 2538, 'commit_delay': 45099, 'commit_siblings': 89, 'cursor_tuple_fraction': 0.571232005344859, 'deadlock_timeout': 1147468672, 'default_statistics_target': 6777, 'effective_cache_size': 1889829632, 'effective_io_concurrency': 706, 'from_collapse_limit': 1272470528, 'geqo_effort': 8, 'geqo_generations': 147675488, 'geqo_pool_size': 1472833601, 'geqo_seed': 0.3667670173816209, 'geqo_threshold': 1242957440, 'join_collapse_limit': 1030176704, 'maintenance_work_mem': 747934926, 'max_connections': 1017, 'max_wal_senders': 35, 'shared_buffers': 293484, 'temp_buffers': 169842733, 'temp_file_limit': 1296218746, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 3328, 'vacuum_cost_page_dirty': 925, 'vacuum_cost_page_hit': 1290, 'vacuum_cost_page_miss': 2993, 'wal_buffers': 42579, 'wal_writer_delay': 6951, 'work_mem': 1429747989}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 99.18597089977374
Set autovacuum_analyze_threshold = 795803648
Set autovacuum_max_workers = 85
Set autovacuum_naptime = 1140669
Set autovacuum_vacuum_cost_delay = 92
Set autovacuum_vacuum_cost_limit = 9722
Set autovacuum_vacuum_scale_factor = 46.77837297366722
Set autovacuum_vacuum_threshold = 1055536539
Set backend_flush_after = 252
Set bgwriter_delay = 1323
Set bgwriter_flush_after = 135
Set bgwriter_lru_maxpages = 382
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.5740595466346574
Set checkpoint_flush_after = 215
Set checkpoint_timeout = 2538
Set commit_delay = 45099
Set commit_siblings = 89
Set cursor_tuple_fraction = 0.571232005344859
Set deadlock_timeout = 1147468672
Set default_statistics_target = 6777
Set effective_cache_size = 1889829632
Set effective_io_concurrency = 706
Set from_collapse_limit = 1272470528
Set geqo_effort = 8
Set geqo_generations = 147675488
Set geqo_pool_size = 1472833601
Set geqo_seed = 0.3667670173816209
Set geqo_threshold = 1242957440
Set join_collapse_limit = 1030176704
Set maintenance_work_mem = 747934926
Set max_connections = 1017
Set max_wal_senders = 35
Set shared_buffers = 293484
Set temp_buffers = 169842733
Set temp_file_limit = 1296218746
Set vacuum_cost_delay = 51
Set vacuum_cost_limit = 3328
Set vacuum_cost_page_dirty = 925
Set vacuum_cost_page_hit = 1290
Set vacuum_cost_page_miss = 2993
Set wal_buffers = 42579
Set wal_writer_delay = 6951
Set work_mem = 1429747989
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-14-10.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-14-10.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-14-10.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-14-10.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-14-10.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-14-10.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763719986.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-14-10.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-14-10.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-14-10.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-14-10.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-14-10.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-14-10.results.AddWatchList.csv
Parsed throughput from summary.json: 1898.0694691492488
BenchBase wikipedia throughput: 1898.0694691492488
Configuration: {'autovacuum_analyze_scale_factor': 99.18597089977374, 'autovacuum_analyze_threshold': 795803648, 'autovacuum_max_workers': 85, 'autovacuum_naptime': 1140669, 'autovacuum_vacuum_cost_delay': 92, 'autovacuum_vacuum_cost_limit': 9722, 'autovacuum_vacuum_scale_factor': 46.77837297366722, 'autovacuum_vacuum_threshold': 1055536539, 'backend_flush_after': 252, 'bgwriter_delay': 1323, 'bgwriter_flush_after': 135, 'bgwriter_lru_maxpages': 382, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.5740595466346574, 'checkpoint_flush_after': 215, 'checkpoint_timeout': 2538, 'commit_delay': 45099, 'commit_siblings': 89, 'cursor_tuple_fraction': 0.571232005344859, 'deadlock_timeout': 1147468672, 'default_statistics_target': 6777, 'effective_cache_size': 1889829632, 'effective_io_concurrency': 706, 'from_collapse_limit': 1272470528, 'geqo_effort': 8, 'geqo_generations': 147675488, 'geqo_pool_size': 1472833601, 'geqo_seed': 0.3667670173816209, 'geqo_threshold': 1242957440, 'join_collapse_limit': 1030176704, 'maintenance_work_mem': 747934926, 'max_connections': 1017, 'max_wal_senders': 35, 'shared_buffers': 293484, 'temp_buffers': 169842733, 'temp_file_limit': 1296218746, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 3328, 'vacuum_cost_page_dirty': 925, 'vacuum_cost_page_hit': 1290, 'vacuum_cost_page_miss': 2993, 'wal_buffers': 42579, 'wal_writer_delay': 6951, 'work_mem': 1429747989}, QPS: -1898.0694691492488
Performance (QPS): -1898.0694691492488
Evaluating configuration: {'autovacuum_analyze_scale_factor': 7.738337584575994, 'autovacuum_analyze_threshold': 590713868, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 738160, 'autovacuum_vacuum_cost_delay': 54, 'autovacuum_vacuum_cost_limit': 8326, 'autovacuum_vacuum_scale_factor': 98.15347764272168, 'autovacuum_vacuum_threshold': 9378001, 'backend_flush_after': 195, 'bgwriter_delay': 9980, 'bgwriter_flush_after': 154, 'bgwriter_lru_maxpages': 824, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.5518229010996973, 'checkpoint_flush_after': 103, 'checkpoint_timeout': 1344, 'commit_delay': 59255, 'commit_siblings': 972, 'cursor_tuple_fraction': 0.7103324775520012, 'deadlock_timeout': 962085793, 'default_statistics_target': 2675, 'effective_cache_size': 2132315397, 'effective_io_concurrency': 251, 'from_collapse_limit': 1178522610, 'geqo_effort': 5, 'geqo_generations': 782085877, 'geqo_pool_size': 1681400724, 'geqo_seed': 0.41124873753197555, 'geqo_threshold': 735141550, 'join_collapse_limit': 1705349843, 'maintenance_work_mem': 260010008, 'max_connections': 1428, 'max_wal_senders': 11, 'shared_buffers': 1862399, 'temp_buffers': 489583473, 'temp_file_limit': 1723544363, 'vacuum_cost_delay': 46, 'vacuum_cost_limit': 1285, 'vacuum_cost_page_dirty': 7942, 'vacuum_cost_page_hit': 9253, 'vacuum_cost_page_miss': 160, 'wal_buffers': 41288, 'wal_writer_delay': 8958, 'work_mem': 1529172387}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 7.738337584575994
Set autovacuum_analyze_threshold = 590713868
Set autovacuum_max_workers = 83
Set autovacuum_naptime = 738160
Set autovacuum_vacuum_cost_delay = 54
Set autovacuum_vacuum_cost_limit = 8326
Set autovacuum_vacuum_scale_factor = 98.15347764272168
Set autovacuum_vacuum_threshold = 9378001
Set backend_flush_after = 195
Set bgwriter_delay = 9980
Set bgwriter_flush_after = 154
Set bgwriter_lru_maxpages = 824
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.5518229010996973
Set checkpoint_flush_after = 103
Set checkpoint_timeout = 1344
Set commit_delay = 59255
Set commit_siblings = 972
Set cursor_tuple_fraction = 0.7103324775520012
Set deadlock_timeout = 962085793
Set default_statistics_target = 2675
Set effective_cache_size = 2132315397
Set effective_io_concurrency = 251
Set from_collapse_limit = 1178522610
Set geqo_effort = 5
Set geqo_generations = 782085877
Set geqo_pool_size = 1681400724
Set geqo_seed = 0.41124873753197555
Set geqo_threshold = 735141550
Set join_collapse_limit = 1705349843
Set maintenance_work_mem = 260010008
Set max_connections = 1428
Set max_wal_senders = 11
Set shared_buffers = 1862399
Set temp_buffers = 489583473
Set temp_file_limit = 1723544363
Set vacuum_cost_delay = 46
Set vacuum_cost_limit = 1285
Set vacuum_cost_page_dirty = 7942
Set vacuum_cost_page_hit = 9253
Set vacuum_cost_page_miss = 160
Set wal_buffers = 41288
Set wal_writer_delay = 8958
Set work_mem = 1529172387
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-15-44.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-15-44.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-15-44.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-15-44.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-15-44.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-15-44.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-15-44.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-15-44.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-15-44.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-15-44.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763720080.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-15-44.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-15-44.config.xml
Parsed throughput from summary.json: 1892.5295937439673
BenchBase wikipedia throughput: 1892.5295937439673
Configuration: {'autovacuum_analyze_scale_factor': 7.738337584575994, 'autovacuum_analyze_threshold': 590713868, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 738160, 'autovacuum_vacuum_cost_delay': 54, 'autovacuum_vacuum_cost_limit': 8326, 'autovacuum_vacuum_scale_factor': 98.15347764272168, 'autovacuum_vacuum_threshold': 9378001, 'backend_flush_after': 195, 'bgwriter_delay': 9980, 'bgwriter_flush_after': 154, 'bgwriter_lru_maxpages': 824, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.5518229010996973, 'checkpoint_flush_after': 103, 'checkpoint_timeout': 1344, 'commit_delay': 59255, 'commit_siblings': 972, 'cursor_tuple_fraction': 0.7103324775520012, 'deadlock_timeout': 962085793, 'default_statistics_target': 2675, 'effective_cache_size': 2132315397, 'effective_io_concurrency': 251, 'from_collapse_limit': 1178522610, 'geqo_effort': 5, 'geqo_generations': 782085877, 'geqo_pool_size': 1681400724, 'geqo_seed': 0.41124873753197555, 'geqo_threshold': 735141550, 'join_collapse_limit': 1705349843, 'maintenance_work_mem': 260010008, 'max_connections': 1428, 'max_wal_senders': 11, 'shared_buffers': 1862399, 'temp_buffers': 489583473, 'temp_file_limit': 1723544363, 'vacuum_cost_delay': 46, 'vacuum_cost_limit': 1285, 'vacuum_cost_page_dirty': 7942, 'vacuum_cost_page_hit': 9253, 'vacuum_cost_page_miss': 160, 'wal_buffers': 41288, 'wal_writer_delay': 8958, 'work_mem': 1529172387}, QPS: -1892.5295937439673
Performance (QPS): -1892.5295937439673
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 130325248, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1236501, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 3721, 'autovacuum_vacuum_scale_factor': 38.22311789432647, 'autovacuum_vacuum_threshold': 774633024, 'backend_flush_after': 250, 'bgwriter_delay': 534, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 400, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.6657321650834834, 'checkpoint_flush_after': 195, 'checkpoint_timeout': 1185, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5629, 'effective_cache_size': 1467651712, 'effective_io_concurrency': 557, 'from_collapse_limit': 222782416, 'geqo_effort': 2, 'geqo_generations': 954318016, 'geqo_pool_size': 1937207935, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 27369363, 'join_collapse_limit': 1356490752, 'maintenance_work_mem': 1788984618, 'max_connections': 518, 'max_wal_senders': 1, 'shared_buffers': 3757877, 'temp_buffers': 933003597, 'temp_file_limit': 857105663, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 4956, 'vacuum_cost_page_hit': 3300, 'vacuum_cost_page_miss': 6150, 'wal_buffers': 521, 'wal_writer_delay': 5708, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.76318591088057
Set autovacuum_analyze_threshold = 130325248
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1236501
Set autovacuum_vacuum_cost_delay = 49
Set autovacuum_vacuum_cost_limit = 3721
Set autovacuum_vacuum_scale_factor = 38.22311789432647
Set autovacuum_vacuum_threshold = 774633024
Set backend_flush_after = 250
Set bgwriter_delay = 534
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 400
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.6657321650834834
Set checkpoint_flush_after = 195
Set checkpoint_timeout = 1185
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 112034326
Set default_statistics_target = 5629
Set effective_cache_size = 1467651712
Set effective_io_concurrency = 557
Set from_collapse_limit = 222782416
Set geqo_effort = 2
Set geqo_generations = 954318016
Set geqo_pool_size = 1937207935
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 27369363
Set join_collapse_limit = 1356490752
Set maintenance_work_mem = 1788984618
Set max_connections = 518
Set max_wal_senders = 1
Set shared_buffers = 3757877
Set temp_buffers = 933003597
Set temp_file_limit = 857105663
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 4956
Set vacuum_cost_page_hit = 3300
Set vacuum_cost_page_miss = 6150
Set wal_buffers = 521
Set wal_writer_delay = 5708
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-17-23.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-17-23.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-17-23.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-17-23.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763720179.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-17-23.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-17-23.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-17-23.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-17-23.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-17-23.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-17-23.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-17-23.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-17-23.raw.csv
Parsed throughput from summary.json: 1933.5893153903703
BenchBase wikipedia throughput: 1933.5893153903703
Configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 130325248, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1236501, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 3721, 'autovacuum_vacuum_scale_factor': 38.22311789432647, 'autovacuum_vacuum_threshold': 774633024, 'backend_flush_after': 250, 'bgwriter_delay': 534, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 400, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.6657321650834834, 'checkpoint_flush_after': 195, 'checkpoint_timeout': 1185, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5629, 'effective_cache_size': 1467651712, 'effective_io_concurrency': 557, 'from_collapse_limit': 222782416, 'geqo_effort': 2, 'geqo_generations': 954318016, 'geqo_pool_size': 1937207935, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 27369363, 'join_collapse_limit': 1356490752, 'maintenance_work_mem': 1788984618, 'max_connections': 518, 'max_wal_senders': 1, 'shared_buffers': 3757877, 'temp_buffers': 933003597, 'temp_file_limit': 857105663, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 4956, 'vacuum_cost_page_hit': 3300, 'vacuum_cost_page_miss': 6150, 'wal_buffers': 521, 'wal_writer_delay': 5708, 'work_mem': 1175555276}, QPS: -1933.5893153903703
Performance (QPS): -1933.5893153903703
Evaluating configuration: {'autovacuum_analyze_scale_factor': 99.18597089977374, 'autovacuum_analyze_threshold': 694950592, 'autovacuum_max_workers': 85, 'autovacuum_naptime': 1099946, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 9722, 'autovacuum_vacuum_scale_factor': 46.77837297366722, 'autovacuum_vacuum_threshold': 853547584, 'backend_flush_after': 234, 'bgwriter_delay': 1323, 'bgwriter_flush_after': 135, 'bgwriter_lru_maxpages': 382, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.5740595466346574, 'checkpoint_flush_after': 215, 'checkpoint_timeout': 2538, 'commit_delay': 45099, 'commit_siblings': 71, 'cursor_tuple_fraction': 0.571232005344859, 'deadlock_timeout': 1147468672, 'default_statistics_target': 6710, 'effective_cache_size': 1889829632, 'effective_io_concurrency': 706, 'from_collapse_limit': 1272470528, 'geqo_effort': 8, 'geqo_generations': 147675488, 'geqo_pool_size': 1472833601, 'geqo_seed': 0.3667670173816209, 'geqo_threshold': 1242957440, 'join_collapse_limit': 1030176704, 'maintenance_work_mem': 982788331, 'max_connections': 1017, 'max_wal_senders': 31, 'shared_buffers': 440888, 'temp_buffers': 169842733, 'temp_file_limit': 1596671103, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 3328, 'vacuum_cost_page_dirty': 1592, 'vacuum_cost_page_hit': 1290, 'vacuum_cost_page_miss': 2993, 'wal_buffers': 42579, 'wal_writer_delay': 4081, 'work_mem': 1429747989}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 99.18597089977374
Set autovacuum_analyze_threshold = 694950592
Set autovacuum_max_workers = 85
Set autovacuum_naptime = 1099946
Set autovacuum_vacuum_cost_delay = 91
Set autovacuum_vacuum_cost_limit = 9722
Set autovacuum_vacuum_scale_factor = 46.77837297366722
Set autovacuum_vacuum_threshold = 853547584
Set backend_flush_after = 234
Set bgwriter_delay = 1323
Set bgwriter_flush_after = 135
Set bgwriter_lru_maxpages = 382
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.5740595466346574
Set checkpoint_flush_after = 215
Set checkpoint_timeout = 2538
Set commit_delay = 45099
Set commit_siblings = 71
Set cursor_tuple_fraction = 0.571232005344859
Set deadlock_timeout = 1147468672
Set default_statistics_target = 6710
Set effective_cache_size = 1889829632
Set effective_io_concurrency = 706
Set from_collapse_limit = 1272470528
Set geqo_effort = 8
Set geqo_generations = 147675488
Set geqo_pool_size = 1472833601
Set geqo_seed = 0.3667670173816209
Set geqo_threshold = 1242957440
Set join_collapse_limit = 1030176704
Set maintenance_work_mem = 982788331
Set max_connections = 1017
Set max_wal_senders = 31
Set shared_buffers = 440888
Set temp_buffers = 169842733
Set temp_file_limit = 1596671103
Set vacuum_cost_delay = 51
Set vacuum_cost_limit = 3328
Set vacuum_cost_page_dirty = 1592
Set vacuum_cost_page_hit = 1290
Set vacuum_cost_page_miss = 2993
Set wal_buffers = 42579
Set wal_writer_delay = 4081
Set work_mem = 1429747989
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-19-02.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763720279.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-19-02.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-19-02.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-19-02.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-19-02.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-19-02.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-19-02.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-19-02.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-19-02.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-19-02.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-19-02.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-19-02.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 1889.5142687562864
BenchBase wikipedia throughput: 1889.5142687562864
Configuration: {'autovacuum_analyze_scale_factor': 99.18597089977374, 'autovacuum_analyze_threshold': 694950592, 'autovacuum_max_workers': 85, 'autovacuum_naptime': 1099946, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 9722, 'autovacuum_vacuum_scale_factor': 46.77837297366722, 'autovacuum_vacuum_threshold': 853547584, 'backend_flush_after': 234, 'bgwriter_delay': 1323, 'bgwriter_flush_after': 135, 'bgwriter_lru_maxpages': 382, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.5740595466346574, 'checkpoint_flush_after': 215, 'checkpoint_timeout': 2538, 'commit_delay': 45099, 'commit_siblings': 71, 'cursor_tuple_fraction': 0.571232005344859, 'deadlock_timeout': 1147468672, 'default_statistics_target': 6710, 'effective_cache_size': 1889829632, 'effective_io_concurrency': 706, 'from_collapse_limit': 1272470528, 'geqo_effort': 8, 'geqo_generations': 147675488, 'geqo_pool_size': 1472833601, 'geqo_seed': 0.3667670173816209, 'geqo_threshold': 1242957440, 'join_collapse_limit': 1030176704, 'maintenance_work_mem': 982788331, 'max_connections': 1017, 'max_wal_senders': 31, 'shared_buffers': 440888, 'temp_buffers': 169842733, 'temp_file_limit': 1596671103, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 3328, 'vacuum_cost_page_dirty': 1592, 'vacuum_cost_page_hit': 1290, 'vacuum_cost_page_miss': 2993, 'wal_buffers': 42579, 'wal_writer_delay': 4081, 'work_mem': 1429747989}, QPS: -1889.5142687562864
Performance (QPS): -1889.5142687562864
Evaluating configuration: {'autovacuum_analyze_scale_factor': 51.93436518583513, 'autovacuum_analyze_threshold': 1991079423, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 2066555, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4581, 'autovacuum_vacuum_scale_factor': 63.276044451947875, 'autovacuum_vacuum_threshold': 1396964735, 'backend_flush_after': 98, 'bgwriter_delay': 2759, 'bgwriter_flush_after': 187, 'bgwriter_lru_maxpages': 550, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.9383617954596858, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 2701, 'commit_delay': 78908, 'commit_siblings': 44, 'cursor_tuple_fraction': 0.21813335202384765, 'deadlock_timeout': 1343839938, 'default_statistics_target': 8776, 'effective_cache_size': 1998537001, 'effective_io_concurrency': 351, 'from_collapse_limit': 1429640306, 'geqo_effort': 3, 'geqo_generations': 527131836, 'geqo_pool_size': 1419053148, 'geqo_seed': 0.7900890067492431, 'geqo_threshold': 490901729, 'join_collapse_limit': 1558797029, 'maintenance_work_mem': 630200033, 'max_connections': 98, 'max_wal_senders': 0, 'shared_buffers': 3803330, 'temp_buffers': 301809127, 'temp_file_limit': 345304084, 'vacuum_cost_delay': 98, 'vacuum_cost_limit': 3704, 'vacuum_cost_page_dirty': 6482, 'vacuum_cost_page_hit': 6558, 'vacuum_cost_page_miss': 803, 'wal_buffers': 58925, 'wal_writer_delay': 6374, 'work_mem': 1100831647}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 51.93436518583513
Set autovacuum_analyze_threshold = 1991079423
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 2066555
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4581
Set autovacuum_vacuum_scale_factor = 63.276044451947875
Set autovacuum_vacuum_threshold = 1396964735
Set backend_flush_after = 98
Set bgwriter_delay = 2759
Set bgwriter_flush_after = 187
Set bgwriter_lru_maxpages = 550
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.9383617954596858
Set checkpoint_flush_after = 33
Set checkpoint_timeout = 2701
Set commit_delay = 78908
Set commit_siblings = 44
Set cursor_tuple_fraction = 0.21813335202384765
Set deadlock_timeout = 1343839938
Set default_statistics_target = 8776
Set effective_cache_size = 1998537001
Set effective_io_concurrency = 351
Set from_collapse_limit = 1429640306
Set geqo_effort = 3
Set geqo_generations = 527131836
Set geqo_pool_size = 1419053148
Set geqo_seed = 0.7900890067492431
Set geqo_threshold = 490901729
Set join_collapse_limit = 1558797029
Set maintenance_work_mem = 630200033
Set max_connections = 98
Set max_wal_senders = 0
Set shared_buffers = 3803330
Set temp_buffers = 301809127
Set temp_file_limit = 345304084
Set vacuum_cost_delay = 98
Set vacuum_cost_limit = 3704
Set vacuum_cost_page_dirty = 6482
Set vacuum_cost_page_hit = 6558
Set vacuum_cost_page_miss = 803
Set wal_buffers = 58925
Set wal_writer_delay = 6374
Set work_mem = 1100831647
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-20-43.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-20-43.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-20-43.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-20-43.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-20-43.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-20-43.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-20-43.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763720379.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-20-43.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-20-43.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-20-43.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-20-43.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-20-43.results.AddWatchList.csv
Parsed throughput from summary.json: 1879.915476162039
BenchBase wikipedia throughput: 1879.915476162039
Configuration: {'autovacuum_analyze_scale_factor': 51.93436518583513, 'autovacuum_analyze_threshold': 1991079423, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 2066555, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4581, 'autovacuum_vacuum_scale_factor': 63.276044451947875, 'autovacuum_vacuum_threshold': 1396964735, 'backend_flush_after': 98, 'bgwriter_delay': 2759, 'bgwriter_flush_after': 187, 'bgwriter_lru_maxpages': 550, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.9383617954596858, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 2701, 'commit_delay': 78908, 'commit_siblings': 44, 'cursor_tuple_fraction': 0.21813335202384765, 'deadlock_timeout': 1343839938, 'default_statistics_target': 8776, 'effective_cache_size': 1998537001, 'effective_io_concurrency': 351, 'from_collapse_limit': 1429640306, 'geqo_effort': 3, 'geqo_generations': 527131836, 'geqo_pool_size': 1419053148, 'geqo_seed': 0.7900890067492431, 'geqo_threshold': 490901729, 'join_collapse_limit': 1558797029, 'maintenance_work_mem': 630200033, 'max_connections': 98, 'max_wal_senders': 0, 'shared_buffers': 3803330, 'temp_buffers': 301809127, 'temp_file_limit': 345304084, 'vacuum_cost_delay': 98, 'vacuum_cost_limit': 3704, 'vacuum_cost_page_dirty': 6482, 'vacuum_cost_page_hit': 6558, 'vacuum_cost_page_miss': 803, 'wal_buffers': 58925, 'wal_writer_delay': 6374, 'work_mem': 1100831647}, QPS: -1879.915476162039
Performance (QPS): -1879.915476162039
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.1399153781855, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 168, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 145991248, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 414, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.364486264058814, 'checkpoint_flush_after': 6, 'checkpoint_timeout': 748, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9432427691511922, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 836699456, 'effective_io_concurrency': 270, 'from_collapse_limit': 746187776, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 338887200, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1217208704, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 1041695554, 'temp_file_limit': 761908879, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 4004, 'work_mem': 2036127693}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.1399153781855
Set autovacuum_analyze_threshold = 1969911119
Set autovacuum_max_workers = 168
Set autovacuum_naptime = 1880690
Set autovacuum_vacuum_cost_delay = 38
Set autovacuum_vacuum_cost_limit = 5652
Set autovacuum_vacuum_scale_factor = 51.02565577253699
Set autovacuum_vacuum_threshold = 145991248
Set backend_flush_after = 140
Set bgwriter_delay = 862
Set bgwriter_flush_after = 127
Set bgwriter_lru_maxpages = 414
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.364486264058814
Set checkpoint_flush_after = 6
Set checkpoint_timeout = 748
Set commit_delay = 54508
Set commit_siblings = 173
Set cursor_tuple_fraction = 0.9432427691511922
Set deadlock_timeout = 1689266024
Set default_statistics_target = 2922
Set effective_cache_size = 836699456
Set effective_io_concurrency = 270
Set from_collapse_limit = 746187776
Set geqo_effort = 3
Set geqo_generations = 23614720
Set geqo_pool_size = 338887200
Set geqo_seed = 0.3290532799437642
Set geqo_threshold = 1217208704
Set join_collapse_limit = 1517115132
Set maintenance_work_mem = 97161105
Set max_connections = 1692
Set max_wal_senders = 25
Set shared_buffers = 2926931
Set temp_buffers = 1041695554
Set temp_file_limit = 761908879
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 7873
Set vacuum_cost_page_dirty = 1448
Set vacuum_cost_page_hit = 1912
Set vacuum_cost_page_miss = 8596
Set wal_buffers = 200
Set wal_writer_delay = 4004
Set work_mem = 2036127693
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-22-23.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-22-23.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763720479.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-22-23.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-22-23.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-22-23.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-22-23.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-22-23.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-22-23.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-22-23.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-22-23.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-22-23.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-22-23.raw.csv
Parsed throughput from summary.json: 1965.9893648435389
BenchBase wikipedia throughput: 1965.9893648435389
Configuration: {'autovacuum_analyze_scale_factor': 32.1399153781855, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 168, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 145991248, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 414, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.364486264058814, 'checkpoint_flush_after': 6, 'checkpoint_timeout': 748, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9432427691511922, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 836699456, 'effective_io_concurrency': 270, 'from_collapse_limit': 746187776, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 338887200, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1217208704, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 1041695554, 'temp_file_limit': 761908879, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 4004, 'work_mem': 2036127693}, QPS: -1965.9893648435389
Performance (QPS): -1965.9893648435389
Evaluating configuration: {'autovacuum_analyze_scale_factor': 24.397298481451777, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1945630, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 4514, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 199486512, 'backend_flush_after': 128, 'bgwriter_delay': 637, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 235, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1632666880, 'default_statistics_target': 2922, 'effective_cache_size': 877896128, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 8766537, 'geqo_pool_size': 410094950, 'geqo_seed': 0.35515161556767355, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1470, 'max_wal_senders': 25, 'shared_buffers': 2619697, 'temp_buffers': 1044371522, 'temp_file_limit': 908193279, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1104, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 2807, 'wal_writer_delay': 2936, 'work_mem': 2036127693}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 24.397298481451777
Set autovacuum_analyze_threshold = 1969911119
Set autovacuum_max_workers = 156
Set autovacuum_naptime = 1945630
Set autovacuum_vacuum_cost_delay = 49
Set autovacuum_vacuum_cost_limit = 4514
Set autovacuum_vacuum_scale_factor = 51.02565577253699
Set autovacuum_vacuum_threshold = 199486512
Set backend_flush_after = 128
Set bgwriter_delay = 637
Set bgwriter_flush_after = 127
Set bgwriter_lru_maxpages = 517
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.5030564842745662
Set checkpoint_flush_after = 7
Set checkpoint_timeout = 703
Set commit_delay = 54508
Set commit_siblings = 235
Set cursor_tuple_fraction = 0.9186503402888775
Set deadlock_timeout = 1632666880
Set default_statistics_target = 2922
Set effective_cache_size = 877896128
Set effective_io_concurrency = 270
Set from_collapse_limit = 1026139532
Set geqo_effort = 3
Set geqo_generations = 8766537
Set geqo_pool_size = 410094950
Set geqo_seed = 0.35515161556767355
Set geqo_threshold = 1116794408
Set join_collapse_limit = 1517115132
Set maintenance_work_mem = 97161105
Set max_connections = 1470
Set max_wal_senders = 25
Set shared_buffers = 2619697
Set temp_buffers = 1044371522
Set temp_file_limit = 908193279
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 7873
Set vacuum_cost_page_dirty = 1448
Set vacuum_cost_page_hit = 1104
Set vacuum_cost_page_miss = 8596
Set wal_buffers = 2807
Set wal_writer_delay = 2936
Set work_mem = 2036127693
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-24-02.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-24-02.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-24-02.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-24-02.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-24-02.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-24-02.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-24-02.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-24-02.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-24-02.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-24-02.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763720578.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-24-02.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-24-02.results.RemoveWatchList.csv
Parsed throughput from summary.json: 1901.8533253161104
BenchBase wikipedia throughput: 1901.8533253161104
Configuration: {'autovacuum_analyze_scale_factor': 24.397298481451777, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1945630, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 4514, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 199486512, 'backend_flush_after': 128, 'bgwriter_delay': 637, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 235, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1632666880, 'default_statistics_target': 2922, 'effective_cache_size': 877896128, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 8766537, 'geqo_pool_size': 410094950, 'geqo_seed': 0.35515161556767355, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1470, 'max_wal_senders': 25, 'shared_buffers': 2619697, 'temp_buffers': 1044371522, 'temp_file_limit': 908193279, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1104, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 2807, 'wal_writer_delay': 2936, 'work_mem': 2036127693}, QPS: -1901.8533253161104
Performance (QPS): -1901.8533253161104
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1118452, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 3480, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 555, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 213, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1340690688, 'default_statistics_target': 3113, 'effective_cache_size': 1435533056, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1225228287, 'geqo_seed': 0.2934177411129404, 'geqo_threshold': 2724422, 'join_collapse_limit': 314067744, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 74, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 5011, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1118452
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 3480
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 555
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 213
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1340690688
Set default_statistics_target = 3113
Set effective_cache_size = 1435533056
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 4
Set geqo_generations = 159642294
Set geqo_pool_size = 1225228287
Set geqo_seed = 0.2934177411129404
Set geqo_threshold = 2724422
Set join_collapse_limit = 314067744
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 70276608
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 74
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 5011
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-25-40.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-25-40.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-25-40.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-25-40.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-25-40.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-25-40.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763720678.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-25-40.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-25-40.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-25-40.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-25-40.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-25-40.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-25-40.params.json
Parsed throughput from summary.json: 1894.860512507113
BenchBase wikipedia throughput: 1894.860512507113
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1118452, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 3480, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 555, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 213, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1340690688, 'default_statistics_target': 3113, 'effective_cache_size': 1435533056, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1225228287, 'geqo_seed': 0.2934177411129404, 'geqo_threshold': 2724422, 'join_collapse_limit': 314067744, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 74, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 5011, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -1894.860512507113
Performance (QPS): -1894.860512507113
Evaluating configuration: {'autovacuum_analyze_scale_factor': 27.971370182689746, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1945630, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5438, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 199486512, 'backend_flush_after': 103, 'bgwriter_delay': 1022, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.5636961417249403, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 654, 'commit_delay': 54508, 'commit_siblings': 199, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1147611392, 'default_statistics_target': 2922, 'effective_cache_size': 877896128, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 8766537, 'geqo_pool_size': 410094950, 'geqo_seed': 0.3533986721646064, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1470, 'max_wal_senders': 25, 'shared_buffers': 2619697, 'temp_buffers': 1044371522, 'temp_file_limit': 874831551, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 8174, 'vacuum_cost_page_dirty': 1046, 'vacuum_cost_page_hit': 1830, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 34, 'wal_writer_delay': 2936, 'work_mem': 2077014018}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 27.971370182689746
Set autovacuum_analyze_threshold = 1969911119
Set autovacuum_max_workers = 156
Set autovacuum_naptime = 1945630
Set autovacuum_vacuum_cost_delay = 38
Set autovacuum_vacuum_cost_limit = 5438
Set autovacuum_vacuum_scale_factor = 51.02565577253699
Set autovacuum_vacuum_threshold = 199486512
Set backend_flush_after = 103
Set bgwriter_delay = 1022
Set bgwriter_flush_after = 127
Set bgwriter_lru_maxpages = 517
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.5636961417249403
Set checkpoint_flush_after = 7
Set checkpoint_timeout = 654
Set commit_delay = 54508
Set commit_siblings = 199
Set cursor_tuple_fraction = 0.9186503402888775
Set deadlock_timeout = 1147611392
Set default_statistics_target = 2922
Set effective_cache_size = 877896128
Set effective_io_concurrency = 270
Set from_collapse_limit = 1026139532
Set geqo_effort = 3
Set geqo_generations = 8766537
Set geqo_pool_size = 410094950
Set geqo_seed = 0.3533986721646064
Set geqo_threshold = 1116794408
Set join_collapse_limit = 1517115132
Set maintenance_work_mem = 97161105
Set max_connections = 1470
Set max_wal_senders = 25
Set shared_buffers = 2619697
Set temp_buffers = 1044371522
Set temp_file_limit = 874831551
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 8174
Set vacuum_cost_page_dirty = 1046
Set vacuum_cost_page_hit = 1830
Set vacuum_cost_page_miss = 8596
Set wal_buffers = 34
Set wal_writer_delay = 2936
Set work_mem = 2077014018
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-27-19.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-27-19.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-27-19.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-27-19.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-27-19.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763720776.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-27-19.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-27-19.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-27-19.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-27-19.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-27-19.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-27-19.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-27-19.results.RemoveWatchList.csv
Parsed throughput from summary.json: 1834.4944736921204
BenchBase wikipedia throughput: 1834.4944736921204
Configuration: {'autovacuum_analyze_scale_factor': 27.971370182689746, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1945630, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5438, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 199486512, 'backend_flush_after': 103, 'bgwriter_delay': 1022, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.5636961417249403, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 654, 'commit_delay': 54508, 'commit_siblings': 199, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1147611392, 'default_statistics_target': 2922, 'effective_cache_size': 877896128, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 8766537, 'geqo_pool_size': 410094950, 'geqo_seed': 0.3533986721646064, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1470, 'max_wal_senders': 25, 'shared_buffers': 2619697, 'temp_buffers': 1044371522, 'temp_file_limit': 874831551, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 8174, 'vacuum_cost_page_dirty': 1046, 'vacuum_cost_page_hit': 1830, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 34, 'wal_writer_delay': 2936, 'work_mem': 2077014018}, QPS: -1834.4944736921204
Performance (QPS): -1834.4944736921204
Evaluating configuration: {'autovacuum_analyze_scale_factor': 66.46003636123741, 'autovacuum_analyze_threshold': 1111891381, 'autovacuum_max_workers': 184, 'autovacuum_naptime': 130582, 'autovacuum_vacuum_cost_delay': 24, 'autovacuum_vacuum_cost_limit': 853, 'autovacuum_vacuum_scale_factor': 43.62199542006373, 'autovacuum_vacuum_threshold': 840258609, 'backend_flush_after': 54, 'bgwriter_delay': 5831, 'bgwriter_flush_after': 97, 'bgwriter_lru_maxpages': 906, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.7728175746276592, 'checkpoint_flush_after': 162, 'checkpoint_timeout': 764, 'commit_delay': 47242, 'commit_siblings': 81, 'cursor_tuple_fraction': 0.5111939681939418, 'deadlock_timeout': 1876793332, 'default_statistics_target': 1997, 'effective_cache_size': 988178905, 'effective_io_concurrency': 181, 'from_collapse_limit': 1843963363, 'geqo_effort': 9, 'geqo_generations': 708849787, 'geqo_pool_size': 676062633, 'geqo_seed': 0.5012140598391047, 'geqo_threshold': 1573215119, 'join_collapse_limit': 1831137208, 'maintenance_work_mem': 2121516927, 'max_connections': 1202, 'max_wal_senders': 43, 'shared_buffers': 1052856, 'temp_buffers': 734845045, 'temp_file_limit': 243360243, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 7894, 'vacuum_cost_page_dirty': 7991, 'vacuum_cost_page_hit': 1564, 'vacuum_cost_page_miss': 1009, 'wal_buffers': 80948, 'wal_writer_delay': 3663, 'work_mem': 390503909}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 66.46003636123741
Set autovacuum_analyze_threshold = 1111891381
Set autovacuum_max_workers = 184
Set autovacuum_naptime = 130582
Set autovacuum_vacuum_cost_delay = 24
Set autovacuum_vacuum_cost_limit = 853
Set autovacuum_vacuum_scale_factor = 43.62199542006373
Set autovacuum_vacuum_threshold = 840258609
Set backend_flush_after = 54
Set bgwriter_delay = 5831
Set bgwriter_flush_after = 97
Set bgwriter_lru_maxpages = 906
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.7728175746276592
Set checkpoint_flush_after = 162
Set checkpoint_timeout = 764
Set commit_delay = 47242
Set commit_siblings = 81
Set cursor_tuple_fraction = 0.5111939681939418
Set deadlock_timeout = 1876793332
Set default_statistics_target = 1997
Set effective_cache_size = 988178905
Set effective_io_concurrency = 181
Set from_collapse_limit = 1843963363
Set geqo_effort = 9
Set geqo_generations = 708849787
Set geqo_pool_size = 676062633
Set geqo_seed = 0.5012140598391047
Set geqo_threshold = 1573215119
Set join_collapse_limit = 1831137208
Set maintenance_work_mem = 2121516927
Set max_connections = 1202
Set max_wal_senders = 43
Set shared_buffers = 1052856
Set temp_buffers = 734845045
Set temp_file_limit = 243360243
Set vacuum_cost_delay = 48
Set vacuum_cost_limit = 7894
Set vacuum_cost_page_dirty = 7991
Set vacuum_cost_page_hit = 1564
Set vacuum_cost_page_miss = 1009
Set wal_buffers = 80948
Set wal_writer_delay = 3663
Set work_mem = 390503909
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-28-54.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-28-54.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-28-54.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-28-54.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-28-54.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-28-54.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-28-54.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-28-54.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-28-54.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-28-54.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-28-54.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763720870.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-28-54.metrics.json
Parsed throughput from summary.json: 1854.4786320581259
BenchBase wikipedia throughput: 1854.4786320581259
Configuration: {'autovacuum_analyze_scale_factor': 66.46003636123741, 'autovacuum_analyze_threshold': 1111891381, 'autovacuum_max_workers': 184, 'autovacuum_naptime': 130582, 'autovacuum_vacuum_cost_delay': 24, 'autovacuum_vacuum_cost_limit': 853, 'autovacuum_vacuum_scale_factor': 43.62199542006373, 'autovacuum_vacuum_threshold': 840258609, 'backend_flush_after': 54, 'bgwriter_delay': 5831, 'bgwriter_flush_after': 97, 'bgwriter_lru_maxpages': 906, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.7728175746276592, 'checkpoint_flush_after': 162, 'checkpoint_timeout': 764, 'commit_delay': 47242, 'commit_siblings': 81, 'cursor_tuple_fraction': 0.5111939681939418, 'deadlock_timeout': 1876793332, 'default_statistics_target': 1997, 'effective_cache_size': 988178905, 'effective_io_concurrency': 181, 'from_collapse_limit': 1843963363, 'geqo_effort': 9, 'geqo_generations': 708849787, 'geqo_pool_size': 676062633, 'geqo_seed': 0.5012140598391047, 'geqo_threshold': 1573215119, 'join_collapse_limit': 1831137208, 'maintenance_work_mem': 2121516927, 'max_connections': 1202, 'max_wal_senders': 43, 'shared_buffers': 1052856, 'temp_buffers': 734845045, 'temp_file_limit': 243360243, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 7894, 'vacuum_cost_page_dirty': 7991, 'vacuum_cost_page_hit': 1564, 'vacuum_cost_page_miss': 1009, 'wal_buffers': 80948, 'wal_writer_delay': 3663, 'work_mem': 390503909}, QPS: -1854.4786320581259
Performance (QPS): -1854.4786320581259
Evaluating configuration: {'autovacuum_analyze_scale_factor': 29.23926515549939, 'autovacuum_analyze_threshold': 2014148095, 'autovacuum_max_workers': 148, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 268585216, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 407, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.364486264058814, 'checkpoint_flush_after': 6, 'checkpoint_timeout': 748, 'commit_delay': 54086, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.8891371329649658, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 836699456, 'effective_io_concurrency': 270, 'from_collapse_limit': 746187776, 'geqo_effort': 3, 'geqo_generations': 1179236, 'geqo_pool_size': 338887200, 'geqo_seed': 0.2716224236004425, 'geqo_threshold': 1217208704, 'join_collapse_limit': 1441138816, 'maintenance_work_mem': 49147340, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 927910925, 'temp_file_limit': 675889215, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 792, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 4004, 'work_mem': 2036127693}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 29.23926515549939
Set autovacuum_analyze_threshold = 2014148095
Set autovacuum_max_workers = 148
Set autovacuum_naptime = 1880690
Set autovacuum_vacuum_cost_delay = 38
Set autovacuum_vacuum_cost_limit = 5652
Set autovacuum_vacuum_scale_factor = 51.02565577253699
Set autovacuum_vacuum_threshold = 268585216
Set backend_flush_after = 140
Set bgwriter_delay = 862
Set bgwriter_flush_after = 134
Set bgwriter_lru_maxpages = 407
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.364486264058814
Set checkpoint_flush_after = 6
Set checkpoint_timeout = 748
Set commit_delay = 54086
Set commit_siblings = 173
Set cursor_tuple_fraction = 0.8891371329649658
Set deadlock_timeout = 1689266024
Set default_statistics_target = 2922
Set effective_cache_size = 836699456
Set effective_io_concurrency = 270
Set from_collapse_limit = 746187776
Set geqo_effort = 3
Set geqo_generations = 1179236
Set geqo_pool_size = 338887200
Set geqo_seed = 0.2716224236004425
Set geqo_threshold = 1217208704
Set join_collapse_limit = 1441138816
Set maintenance_work_mem = 49147340
Set max_connections = 1692
Set max_wal_senders = 25
Set shared_buffers = 2926931
Set temp_buffers = 927910925
Set temp_file_limit = 675889215
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 7873
Set vacuum_cost_page_dirty = 792
Set vacuum_cost_page_hit = 1912
Set vacuum_cost_page_miss = 8596
Set wal_buffers = 200
Set wal_writer_delay = 4004
Set work_mem = 2036127693
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-30-31.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-30-31.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-30-31.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-30-31.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-30-31.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-30-31.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-30-31.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-30-31.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-30-31.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-30-31.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-30-31.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-30-31.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763720969.log
Parsed throughput from summary.json: 1919.1438101534834
BenchBase wikipedia throughput: 1919.1438101534834
Configuration: {'autovacuum_analyze_scale_factor': 29.23926515549939, 'autovacuum_analyze_threshold': 2014148095, 'autovacuum_max_workers': 148, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 268585216, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 407, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.364486264058814, 'checkpoint_flush_after': 6, 'checkpoint_timeout': 748, 'commit_delay': 54086, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.8891371329649658, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 836699456, 'effective_io_concurrency': 270, 'from_collapse_limit': 746187776, 'geqo_effort': 3, 'geqo_generations': 1179236, 'geqo_pool_size': 338887200, 'geqo_seed': 0.2716224236004425, 'geqo_threshold': 1217208704, 'join_collapse_limit': 1441138816, 'maintenance_work_mem': 49147340, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 927910925, 'temp_file_limit': 675889215, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 792, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 4004, 'work_mem': 2036127693}, QPS: -1919.1438101534834
Performance (QPS): -1919.1438101534834
Evaluating configuration: {'autovacuum_analyze_scale_factor': 29.23926515549939, 'autovacuum_analyze_threshold': 2014148095, 'autovacuum_max_workers': 148, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4999, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 7629559, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 383, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.4895673703138142, 'checkpoint_flush_after': 8, 'checkpoint_timeout': 748, 'commit_delay': 62057, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9144245786942428, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2075, 'effective_cache_size': 1032294784, 'effective_io_concurrency': 270, 'from_collapse_limit': 746187776, 'geqo_effort': 3, 'geqo_generations': 41454908, 'geqo_pool_size': 196806688, 'geqo_seed': 0.3093353368493051, 'geqo_threshold': 1217208704, 'join_collapse_limit': 1504826624, 'maintenance_work_mem': 49147340, 'max_connections': 1692, 'max_wal_senders': 28, 'shared_buffers': 2926931, 'temp_buffers': 927910925, 'temp_file_limit': 675889215, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 792, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 3654, 'work_mem': 2134856960}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 29.23926515549939
Set autovacuum_analyze_threshold = 2014148095
Set autovacuum_max_workers = 148
Set autovacuum_naptime = 1880690
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4999
Set autovacuum_vacuum_scale_factor = 51.02565577253699
Set autovacuum_vacuum_threshold = 7629559
Set backend_flush_after = 140
Set bgwriter_delay = 862
Set bgwriter_flush_after = 134
Set bgwriter_lru_maxpages = 383
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.4895673703138142
Set checkpoint_flush_after = 8
Set checkpoint_timeout = 748
Set commit_delay = 62057
Set commit_siblings = 173
Set cursor_tuple_fraction = 0.9144245786942428
Set deadlock_timeout = 1689266024
Set default_statistics_target = 2075
Set effective_cache_size = 1032294784
Set effective_io_concurrency = 270
Set from_collapse_limit = 746187776
Set geqo_effort = 3
Set geqo_generations = 41454908
Set geqo_pool_size = 196806688
Set geqo_seed = 0.3093353368493051
Set geqo_threshold = 1217208704
Set join_collapse_limit = 1504826624
Set maintenance_work_mem = 49147340
Set max_connections = 1692
Set max_wal_senders = 28
Set shared_buffers = 2926931
Set temp_buffers = 927910925
Set temp_file_limit = 675889215
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 7873
Set vacuum_cost_page_dirty = 792
Set vacuum_cost_page_hit = 1912
Set vacuum_cost_page_miss = 8596
Set wal_buffers = 200
Set wal_writer_delay = 3654
Set work_mem = 2134856960
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-32-10.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-32-10.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-32-10.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-32-10.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-32-10.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-32-10.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-32-10.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-32-10.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-32-10.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-32-10.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-32-10.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-32-10.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763721067.log
Parsed throughput from summary.json: 1967.068817592275
BenchBase wikipedia throughput: 1967.068817592275
Configuration: {'autovacuum_analyze_scale_factor': 29.23926515549939, 'autovacuum_analyze_threshold': 2014148095, 'autovacuum_max_workers': 148, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4999, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 7629559, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 383, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.4895673703138142, 'checkpoint_flush_after': 8, 'checkpoint_timeout': 748, 'commit_delay': 62057, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9144245786942428, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2075, 'effective_cache_size': 1032294784, 'effective_io_concurrency': 270, 'from_collapse_limit': 746187776, 'geqo_effort': 3, 'geqo_generations': 41454908, 'geqo_pool_size': 196806688, 'geqo_seed': 0.3093353368493051, 'geqo_threshold': 1217208704, 'join_collapse_limit': 1504826624, 'maintenance_work_mem': 49147340, 'max_connections': 1692, 'max_wal_senders': 28, 'shared_buffers': 2926931, 'temp_buffers': 927910925, 'temp_file_limit': 675889215, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 792, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 3654, 'work_mem': 2134856960}, QPS: -1967.068817592275
Performance (QPS): -1967.068817592275
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 130325248, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1236501, 'autovacuum_vacuum_cost_delay': 48, 'autovacuum_vacuum_cost_limit': 4847, 'autovacuum_vacuum_scale_factor': 46.940999660096, 'autovacuum_vacuum_threshold': 780979520, 'backend_flush_after': 250, 'bgwriter_delay': 801, 'bgwriter_flush_after': 62, 'bgwriter_lru_maxpages': 377, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.6299091484808352, 'checkpoint_flush_after': 214, 'checkpoint_timeout': 986, 'commit_delay': 39368, 'commit_siblings': 364, 'cursor_tuple_fraction': 0.5375523162001152, 'deadlock_timeout': 9595966, 'default_statistics_target': 5629, 'effective_cache_size': 1467651712, 'effective_io_concurrency': 618, 'from_collapse_limit': 222782416, 'geqo_effort': 4, 'geqo_generations': 954318016, 'geqo_pool_size': 1976114815, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 5002508, 'join_collapse_limit': 1024658816, 'maintenance_work_mem': 1788984618, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3553318, 'temp_buffers': 927324557, 'temp_file_limit': 643720383, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5652, 'vacuum_cost_page_hit': 3300, 'vacuum_cost_page_miss': 6150, 'wal_buffers': 521, 'wal_writer_delay': 5708, 'work_mem': 975727586}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.76318591088057
Set autovacuum_analyze_threshold = 130325248
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1236501
Set autovacuum_vacuum_cost_delay = 48
Set autovacuum_vacuum_cost_limit = 4847
Set autovacuum_vacuum_scale_factor = 46.940999660096
Set autovacuum_vacuum_threshold = 780979520
Set backend_flush_after = 250
Set bgwriter_delay = 801
Set bgwriter_flush_after = 62
Set bgwriter_lru_maxpages = 377
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.6299091484808352
Set checkpoint_flush_after = 214
Set checkpoint_timeout = 986
Set commit_delay = 39368
Set commit_siblings = 364
Set cursor_tuple_fraction = 0.5375523162001152
Set deadlock_timeout = 9595966
Set default_statistics_target = 5629
Set effective_cache_size = 1467651712
Set effective_io_concurrency = 618
Set from_collapse_limit = 222782416
Set geqo_effort = 4
Set geqo_generations = 954318016
Set geqo_pool_size = 1976114815
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 5002508
Set join_collapse_limit = 1024658816
Set maintenance_work_mem = 1788984618
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3553318
Set temp_buffers = 927324557
Set temp_file_limit = 643720383
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5652
Set vacuum_cost_page_hit = 3300
Set vacuum_cost_page_miss = 6150
Set wal_buffers = 521
Set wal_writer_delay = 5708
Set work_mem = 975727586
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-33-50.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-33-50.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-33-50.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-33-50.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-33-50.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-33-50.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-33-50.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-33-50.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-33-50.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763721167.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-33-50.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-33-50.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-33-50.results.AddWatchList.csv
Parsed throughput from summary.json: 1935.2463905204756
BenchBase wikipedia throughput: 1935.2463905204756
Configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 130325248, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1236501, 'autovacuum_vacuum_cost_delay': 48, 'autovacuum_vacuum_cost_limit': 4847, 'autovacuum_vacuum_scale_factor': 46.940999660096, 'autovacuum_vacuum_threshold': 780979520, 'backend_flush_after': 250, 'bgwriter_delay': 801, 'bgwriter_flush_after': 62, 'bgwriter_lru_maxpages': 377, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.6299091484808352, 'checkpoint_flush_after': 214, 'checkpoint_timeout': 986, 'commit_delay': 39368, 'commit_siblings': 364, 'cursor_tuple_fraction': 0.5375523162001152, 'deadlock_timeout': 9595966, 'default_statistics_target': 5629, 'effective_cache_size': 1467651712, 'effective_io_concurrency': 618, 'from_collapse_limit': 222782416, 'geqo_effort': 4, 'geqo_generations': 954318016, 'geqo_pool_size': 1976114815, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 5002508, 'join_collapse_limit': 1024658816, 'maintenance_work_mem': 1788984618, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3553318, 'temp_buffers': 927324557, 'temp_file_limit': 643720383, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5652, 'vacuum_cost_page_hit': 3300, 'vacuum_cost_page_miss': 6150, 'wal_buffers': 521, 'wal_writer_delay': 5708, 'work_mem': 975727586}, QPS: -1935.2463905204756
Performance (QPS): -1935.2463905204756
Evaluating configuration: {'autovacuum_analyze_scale_factor': 80.55660888778516, 'autovacuum_analyze_threshold': 1055456977, 'autovacuum_max_workers': 136, 'autovacuum_naptime': 617274, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 7911, 'autovacuum_vacuum_scale_factor': 19.065129511317753, 'autovacuum_vacuum_threshold': 32824480, 'backend_flush_after': 146, 'bgwriter_delay': 3696, 'bgwriter_flush_after': 201, 'bgwriter_lru_maxpages': 664, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.8749471223788347, 'checkpoint_flush_after': 198, 'checkpoint_timeout': 972, 'commit_delay': 9004, 'commit_siblings': 627, 'cursor_tuple_fraction': 0.9375193156000585, 'deadlock_timeout': 788815057, 'default_statistics_target': 1974, 'effective_cache_size': 2079044877, 'effective_io_concurrency': 234, 'from_collapse_limit': 634481128, 'geqo_effort': 1, 'geqo_generations': 998424115, 'geqo_pool_size': 1320271664, 'geqo_seed': 0.37154957004695444, 'geqo_threshold': 21729543, 'join_collapse_limit': 1433236224, 'maintenance_work_mem': 961003701, 'max_connections': 2720, 'max_wal_senders': 28, 'shared_buffers': 2924369, 'temp_buffers': 845639829, 'temp_file_limit': 359174951, 'vacuum_cost_delay': 90, 'vacuum_cost_limit': 4386, 'vacuum_cost_page_dirty': 6460, 'vacuum_cost_page_hit': 2947, 'vacuum_cost_page_miss': 9653, 'wal_buffers': 96, 'wal_writer_delay': 6611, 'work_mem': 310930582}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 80.55660888778516
Set autovacuum_analyze_threshold = 1055456977
Set autovacuum_max_workers = 136
Set autovacuum_naptime = 617274
Set autovacuum_vacuum_cost_delay = 29
Set autovacuum_vacuum_cost_limit = 7911
Set autovacuum_vacuum_scale_factor = 19.065129511317753
Set autovacuum_vacuum_threshold = 32824480
Set backend_flush_after = 146
Set bgwriter_delay = 3696
Set bgwriter_flush_after = 201
Set bgwriter_lru_maxpages = 664
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.8749471223788347
Set checkpoint_flush_after = 198
Set checkpoint_timeout = 972
Set commit_delay = 9004
Set commit_siblings = 627
Set cursor_tuple_fraction = 0.9375193156000585
Set deadlock_timeout = 788815057
Set default_statistics_target = 1974
Set effective_cache_size = 2079044877
Set effective_io_concurrency = 234
Set from_collapse_limit = 634481128
Set geqo_effort = 1
Set geqo_generations = 998424115
Set geqo_pool_size = 1320271664
Set geqo_seed = 0.37154957004695444
Set geqo_threshold = 21729543
Set join_collapse_limit = 1433236224
Set maintenance_work_mem = 961003701
Set max_connections = 2720
Set max_wal_senders = 28
Set shared_buffers = 2924369
Set temp_buffers = 845639829
Set temp_file_limit = 359174951
Set vacuum_cost_delay = 90
Set vacuum_cost_limit = 4386
Set vacuum_cost_page_dirty = 6460
Set vacuum_cost_page_hit = 2947
Set vacuum_cost_page_miss = 9653
Set wal_buffers = 96
Set wal_writer_delay = 6611
Set work_mem = 310930582
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-35-28.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-35-28.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-35-28.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-35-28.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-35-28.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-35-28.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-35-28.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-35-28.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-35-28.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-35-28.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-35-28.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-35-28.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763721266.log
Parsed throughput from summary.json: 1901.6123888311304
BenchBase wikipedia throughput: 1901.6123888311304
Configuration: {'autovacuum_analyze_scale_factor': 80.55660888778516, 'autovacuum_analyze_threshold': 1055456977, 'autovacuum_max_workers': 136, 'autovacuum_naptime': 617274, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 7911, 'autovacuum_vacuum_scale_factor': 19.065129511317753, 'autovacuum_vacuum_threshold': 32824480, 'backend_flush_after': 146, 'bgwriter_delay': 3696, 'bgwriter_flush_after': 201, 'bgwriter_lru_maxpages': 664, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.8749471223788347, 'checkpoint_flush_after': 198, 'checkpoint_timeout': 972, 'commit_delay': 9004, 'commit_siblings': 627, 'cursor_tuple_fraction': 0.9375193156000585, 'deadlock_timeout': 788815057, 'default_statistics_target': 1974, 'effective_cache_size': 2079044877, 'effective_io_concurrency': 234, 'from_collapse_limit': 634481128, 'geqo_effort': 1, 'geqo_generations': 998424115, 'geqo_pool_size': 1320271664, 'geqo_seed': 0.37154957004695444, 'geqo_threshold': 21729543, 'join_collapse_limit': 1433236224, 'maintenance_work_mem': 961003701, 'max_connections': 2720, 'max_wal_senders': 28, 'shared_buffers': 2924369, 'temp_buffers': 845639829, 'temp_file_limit': 359174951, 'vacuum_cost_delay': 90, 'vacuum_cost_limit': 4386, 'vacuum_cost_page_dirty': 6460, 'vacuum_cost_page_hit': 2947, 'vacuum_cost_page_miss': 9653, 'wal_buffers': 96, 'wal_writer_delay': 6611, 'work_mem': 310930582}, QPS: -1901.6123888311304
Performance (QPS): -1901.6123888311304
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.1399153781855, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 161, 'autovacuum_naptime': 2100272, 'autovacuum_vacuum_cost_delay': 35, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 59.08290757680857, 'autovacuum_vacuum_threshold': 145991248, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 385, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.47159991005471463, 'checkpoint_flush_after': 6, 'checkpoint_timeout': 573, 'commit_delay': 58430, 'commit_siblings': 281, 'cursor_tuple_fraction': 0.9432427691511922, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 943236992, 'effective_io_concurrency': 407, 'from_collapse_limit': 746187776, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 338887200, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1217208704, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 27, 'shared_buffers': 2926931, 'temp_buffers': 1051353858, 'temp_file_limit': 773125439, 'vacuum_cost_delay': 65, 'vacuum_cost_limit': 6603, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 843, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 25, 'wal_writer_delay': 4004, 'work_mem': 2145491584}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.1399153781855
Set autovacuum_analyze_threshold = 1969911119
Set autovacuum_max_workers = 161
Set autovacuum_naptime = 2100272
Set autovacuum_vacuum_cost_delay = 35
Set autovacuum_vacuum_cost_limit = 5652
Set autovacuum_vacuum_scale_factor = 59.08290757680857
Set autovacuum_vacuum_threshold = 145991248
Set backend_flush_after = 140
Set bgwriter_delay = 862
Set bgwriter_flush_after = 127
Set bgwriter_lru_maxpages = 385
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.47159991005471463
Set checkpoint_flush_after = 6
Set checkpoint_timeout = 573
Set commit_delay = 58430
Set commit_siblings = 281
Set cursor_tuple_fraction = 0.9432427691511922
Set deadlock_timeout = 1689266024
Set default_statistics_target = 2922
Set effective_cache_size = 943236992
Set effective_io_concurrency = 407
Set from_collapse_limit = 746187776
Set geqo_effort = 3
Set geqo_generations = 23614720
Set geqo_pool_size = 338887200
Set geqo_seed = 0.3290532799437642
Set geqo_threshold = 1217208704
Set join_collapse_limit = 1517115132
Set maintenance_work_mem = 97161105
Set max_connections = 1692
Set max_wal_senders = 27
Set shared_buffers = 2926931
Set temp_buffers = 1051353858
Set temp_file_limit = 773125439
Set vacuum_cost_delay = 65
Set vacuum_cost_limit = 6603
Set vacuum_cost_page_dirty = 1448
Set vacuum_cost_page_hit = 843
Set vacuum_cost_page_miss = 8596
Set wal_buffers = 25
Set wal_writer_delay = 4004
Set work_mem = 2145491584
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-37-08.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-37-08.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-37-08.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-37-08.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-37-08.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-37-08.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763721364.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-37-08.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-37-08.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-37-08.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-37-08.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-37-08.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-37-08.results.AddWatchList.csv
Parsed throughput from summary.json: 1911.261259917368
BenchBase wikipedia throughput: 1911.261259917368
Configuration: {'autovacuum_analyze_scale_factor': 32.1399153781855, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 161, 'autovacuum_naptime': 2100272, 'autovacuum_vacuum_cost_delay': 35, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 59.08290757680857, 'autovacuum_vacuum_threshold': 145991248, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 385, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.47159991005471463, 'checkpoint_flush_after': 6, 'checkpoint_timeout': 573, 'commit_delay': 58430, 'commit_siblings': 281, 'cursor_tuple_fraction': 0.9432427691511922, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 943236992, 'effective_io_concurrency': 407, 'from_collapse_limit': 746187776, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 338887200, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1217208704, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 27, 'shared_buffers': 2926931, 'temp_buffers': 1051353858, 'temp_file_limit': 773125439, 'vacuum_cost_delay': 65, 'vacuum_cost_limit': 6603, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 843, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 25, 'wal_writer_delay': 4004, 'work_mem': 2145491584}, QPS: -1911.261259917368
Performance (QPS): -1911.261259917368
Evaluating configuration: {'autovacuum_analyze_scale_factor': 97.70538538031221, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1091053, 'autovacuum_vacuum_cost_delay': 52, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 40.46340071614174, 'autovacuum_vacuum_threshold': 962213440, 'backend_flush_after': 248, 'bgwriter_delay': 1665, 'bgwriter_flush_after': 57, 'bgwriter_lru_maxpages': 373, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6404881026088906, 'checkpoint_flush_after': 193, 'checkpoint_timeout': 1092, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6132444365484879, 'deadlock_timeout': 85121320, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 709, 'from_collapse_limit': 171456704, 'geqo_effort': 3, 'geqo_generations': 909601492, 'geqo_pool_size': 2011711999, 'geqo_seed': 0.3367567754969912, 'geqo_threshold': 14252904, 'join_collapse_limit': 1074275968, 'maintenance_work_mem': 1834900245, 'max_connections': 463, 'max_wal_senders': 0, 'shared_buffers': 3678223, 'temp_buffers': 946990475, 'temp_file_limit': 693238143, 'vacuum_cost_delay': 50, 'vacuum_cost_limit': 6794, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5772, 'wal_buffers': 15714, 'wal_writer_delay': 5179, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 97.70538538031221
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1091053
Set autovacuum_vacuum_cost_delay = 52
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 40.46340071614174
Set autovacuum_vacuum_threshold = 962213440
Set backend_flush_after = 248
Set bgwriter_delay = 1665
Set bgwriter_flush_after = 57
Set bgwriter_lru_maxpages = 373
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6404881026088906
Set checkpoint_flush_after = 193
Set checkpoint_timeout = 1092
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6132444365484879
Set deadlock_timeout = 85121320
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 709
Set from_collapse_limit = 171456704
Set geqo_effort = 3
Set geqo_generations = 909601492
Set geqo_pool_size = 2011711999
Set geqo_seed = 0.3367567754969912
Set geqo_threshold = 14252904
Set join_collapse_limit = 1074275968
Set maintenance_work_mem = 1834900245
Set max_connections = 463
Set max_wal_senders = 0
Set shared_buffers = 3678223
Set temp_buffers = 946990475
Set temp_file_limit = 693238143
Set vacuum_cost_delay = 50
Set vacuum_cost_limit = 6794
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5772
Set wal_buffers = 15714
Set wal_writer_delay = 5179
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763721464.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-38-47.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-38-47.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-38-47.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-38-47.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-38-47.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-38-47.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-38-47.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-38-47.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-38-47.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-38-47.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-38-47.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-38-47.metrics.json
Parsed throughput from summary.json: 1929.5558805406206
BenchBase wikipedia throughput: 1929.5558805406206
Configuration: {'autovacuum_analyze_scale_factor': 97.70538538031221, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1091053, 'autovacuum_vacuum_cost_delay': 52, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 40.46340071614174, 'autovacuum_vacuum_threshold': 962213440, 'backend_flush_after': 248, 'bgwriter_delay': 1665, 'bgwriter_flush_after': 57, 'bgwriter_lru_maxpages': 373, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6404881026088906, 'checkpoint_flush_after': 193, 'checkpoint_timeout': 1092, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6132444365484879, 'deadlock_timeout': 85121320, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 709, 'from_collapse_limit': 171456704, 'geqo_effort': 3, 'geqo_generations': 909601492, 'geqo_pool_size': 2011711999, 'geqo_seed': 0.3367567754969912, 'geqo_threshold': 14252904, 'join_collapse_limit': 1074275968, 'maintenance_work_mem': 1834900245, 'max_connections': 463, 'max_wal_senders': 0, 'shared_buffers': 3678223, 'temp_buffers': 946990475, 'temp_file_limit': 693238143, 'vacuum_cost_delay': 50, 'vacuum_cost_limit': 6794, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5772, 'wal_buffers': 15714, 'wal_writer_delay': 5179, 'work_mem': 1175555276}, QPS: -1929.5558805406206
Performance (QPS): -1929.5558805406206
Evaluating configuration: {'autovacuum_analyze_scale_factor': 91.9673252733963, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 190, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 44, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 698145664, 'backend_flush_after': 237, 'bgwriter_delay': 659, 'bgwriter_flush_after': 42, 'bgwriter_lru_maxpages': 373, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.642235954724015, 'checkpoint_flush_after': 189, 'checkpoint_timeout': 1310, 'commit_delay': 39368, 'commit_siblings': 267, 'cursor_tuple_fraction': 0.5852295335130727, 'deadlock_timeout': 3203194, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 631, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2011711999, 'geqo_seed': 0.32433347746912233, 'geqo_threshold': 126605729, 'join_collapse_limit': 1019565248, 'maintenance_work_mem': 1659580904, 'max_connections': 463, 'max_wal_senders': 1, 'shared_buffers': 3200395, 'temp_buffers': 908881252, 'temp_file_limit': 688982847, 'vacuum_cost_delay': 62, 'vacuum_cost_limit': 6126, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 4655, 'wal_buffers': 16932, 'wal_writer_delay': 5179, 'work_mem': 1284937369}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 91.9673252733963
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 190
Set autovacuum_naptime = 1088155
Set autovacuum_vacuum_cost_delay = 44
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 698145664
Set backend_flush_after = 237
Set bgwriter_delay = 659
Set bgwriter_flush_after = 42
Set bgwriter_lru_maxpages = 373
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.642235954724015
Set checkpoint_flush_after = 189
Set checkpoint_timeout = 1310
Set commit_delay = 39368
Set commit_siblings = 267
Set cursor_tuple_fraction = 0.5852295335130727
Set deadlock_timeout = 3203194
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 631
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2011711999
Set geqo_seed = 0.32433347746912233
Set geqo_threshold = 126605729
Set join_collapse_limit = 1019565248
Set maintenance_work_mem = 1659580904
Set max_connections = 463
Set max_wal_senders = 1
Set shared_buffers = 3200395
Set temp_buffers = 908881252
Set temp_file_limit = 688982847
Set vacuum_cost_delay = 62
Set vacuum_cost_limit = 6126
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 4655
Set wal_buffers = 16932
Set wal_writer_delay = 5179
Set work_mem = 1284937369
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-40-27.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-40-27.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-40-27.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-40-27.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-40-27.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-40-27.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-40-27.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-40-27.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-40-27.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-40-27.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-40-27.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-40-27.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763721564.log
Parsed throughput from summary.json: 1954.9234377020305
BenchBase wikipedia throughput: 1954.9234377020305
Configuration: {'autovacuum_analyze_scale_factor': 91.9673252733963, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 190, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 44, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 698145664, 'backend_flush_after': 237, 'bgwriter_delay': 659, 'bgwriter_flush_after': 42, 'bgwriter_lru_maxpages': 373, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.642235954724015, 'checkpoint_flush_after': 189, 'checkpoint_timeout': 1310, 'commit_delay': 39368, 'commit_siblings': 267, 'cursor_tuple_fraction': 0.5852295335130727, 'deadlock_timeout': 3203194, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 631, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2011711999, 'geqo_seed': 0.32433347746912233, 'geqo_threshold': 126605729, 'join_collapse_limit': 1019565248, 'maintenance_work_mem': 1659580904, 'max_connections': 463, 'max_wal_senders': 1, 'shared_buffers': 3200395, 'temp_buffers': 908881252, 'temp_file_limit': 688982847, 'vacuum_cost_delay': 62, 'vacuum_cost_limit': 6126, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 4655, 'wal_buffers': 16932, 'wal_writer_delay': 5179, 'work_mem': 1284937369}, QPS: -1954.9234377020305
Performance (QPS): -1954.9234377020305
Evaluating configuration: {'autovacuum_analyze_scale_factor': 44.91142565410482, 'autovacuum_analyze_threshold': 998106624, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1752503, 'autovacuum_vacuum_cost_delay': 27, 'autovacuum_vacuum_cost_limit': 8437, 'autovacuum_vacuum_scale_factor': 24.53723113230668, 'autovacuum_vacuum_threshold': 169442192, 'backend_flush_after': 81, 'bgwriter_delay': 6934, 'bgwriter_flush_after': 167, 'bgwriter_lru_maxpages': 583, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.2543241529110192, 'checkpoint_flush_after': 237, 'checkpoint_timeout': 3577, 'commit_delay': 22386, 'commit_siblings': 995, 'cursor_tuple_fraction': 0.046177523614415183, 'deadlock_timeout': 1763174528, 'default_statistics_target': 8444, 'effective_cache_size': 668462278, 'effective_io_concurrency': 200, 'from_collapse_limit': 1892387931, 'geqo_effort': 2, 'geqo_generations': 554214518, 'geqo_pool_size': 1966575526, 'geqo_seed': 0.5727283092885573, 'geqo_threshold': 634868225, 'join_collapse_limit': 1671497140, 'maintenance_work_mem': 1267316691, 'max_connections': 670, 'max_wal_senders': 27, 'shared_buffers': 3477577, 'temp_buffers': 80839355, 'temp_file_limit': 188952649, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 4689, 'vacuum_cost_page_dirty': 6045, 'vacuum_cost_page_hit': 4887, 'vacuum_cost_page_miss': 7214, 'wal_buffers': 15481, 'wal_writer_delay': 6043, 'work_mem': 2017095668}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 44.91142565410482
Set autovacuum_analyze_threshold = 998106624
Set autovacuum_max_workers = 183
Set autovacuum_naptime = 1752503
Set autovacuum_vacuum_cost_delay = 27
Set autovacuum_vacuum_cost_limit = 8437
Set autovacuum_vacuum_scale_factor = 24.53723113230668
Set autovacuum_vacuum_threshold = 169442192
Set backend_flush_after = 81
Set bgwriter_delay = 6934
Set bgwriter_flush_after = 167
Set bgwriter_lru_maxpages = 583
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.2543241529110192
Set checkpoint_flush_after = 237
Set checkpoint_timeout = 3577
Set commit_delay = 22386
Set commit_siblings = 995
Set cursor_tuple_fraction = 0.046177523614415183
Set deadlock_timeout = 1763174528
Set default_statistics_target = 8444
Set effective_cache_size = 668462278
Set effective_io_concurrency = 200
Set from_collapse_limit = 1892387931
Set geqo_effort = 2
Set geqo_generations = 554214518
Set geqo_pool_size = 1966575526
Set geqo_seed = 0.5727283092885573
Set geqo_threshold = 634868225
Set join_collapse_limit = 1671497140
Set maintenance_work_mem = 1267316691
Set max_connections = 670
Set max_wal_senders = 27
Set shared_buffers = 3477577
Set temp_buffers = 80839355
Set temp_file_limit = 188952649
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 4689
Set vacuum_cost_page_dirty = 6045
Set vacuum_cost_page_hit = 4887
Set vacuum_cost_page_miss = 7214
Set wal_buffers = 15481
Set wal_writer_delay = 6043
Set work_mem = 2017095668
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763721664.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-42-07.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-42-07.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-42-07.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-42-07.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-42-07.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-42-07.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-42-07.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-42-07.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-42-07.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-42-07.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-42-07.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-42-07.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 1991.2883567184847
BenchBase wikipedia throughput: 1991.2883567184847
Configuration: {'autovacuum_analyze_scale_factor': 44.91142565410482, 'autovacuum_analyze_threshold': 998106624, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1752503, 'autovacuum_vacuum_cost_delay': 27, 'autovacuum_vacuum_cost_limit': 8437, 'autovacuum_vacuum_scale_factor': 24.53723113230668, 'autovacuum_vacuum_threshold': 169442192, 'backend_flush_after': 81, 'bgwriter_delay': 6934, 'bgwriter_flush_after': 167, 'bgwriter_lru_maxpages': 583, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.2543241529110192, 'checkpoint_flush_after': 237, 'checkpoint_timeout': 3577, 'commit_delay': 22386, 'commit_siblings': 995, 'cursor_tuple_fraction': 0.046177523614415183, 'deadlock_timeout': 1763174528, 'default_statistics_target': 8444, 'effective_cache_size': 668462278, 'effective_io_concurrency': 200, 'from_collapse_limit': 1892387931, 'geqo_effort': 2, 'geqo_generations': 554214518, 'geqo_pool_size': 1966575526, 'geqo_seed': 0.5727283092885573, 'geqo_threshold': 634868225, 'join_collapse_limit': 1671497140, 'maintenance_work_mem': 1267316691, 'max_connections': 670, 'max_wal_senders': 27, 'shared_buffers': 3477577, 'temp_buffers': 80839355, 'temp_file_limit': 188952649, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 4689, 'vacuum_cost_page_dirty': 6045, 'vacuum_cost_page_hit': 4887, 'vacuum_cost_page_miss': 7214, 'wal_buffers': 15481, 'wal_writer_delay': 6043, 'work_mem': 2017095668}, QPS: -1991.2883567184847
Performance (QPS): -1991.2883567184847
Evaluating configuration: {'autovacuum_analyze_scale_factor': 66.48393161438106, 'autovacuum_analyze_threshold': 1693650923, 'autovacuum_max_workers': 93, 'autovacuum_naptime': 1159761, 'autovacuum_vacuum_cost_delay': 24, 'autovacuum_vacuum_cost_limit': 8170, 'autovacuum_vacuum_scale_factor': 36.33361079350267, 'autovacuum_vacuum_threshold': 138090224, 'backend_flush_after': 5, 'bgwriter_delay': 488, 'bgwriter_flush_after': 76, 'bgwriter_lru_maxpages': 494, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.1639422786471303, 'checkpoint_flush_after': 214, 'checkpoint_timeout': 2875, 'commit_delay': 83162, 'commit_siblings': 785, 'cursor_tuple_fraction': 0.14253534888332525, 'deadlock_timeout': 1296480256, 'default_statistics_target': 8913, 'effective_cache_size': 1044821632, 'effective_io_concurrency': 256, 'from_collapse_limit': 1165800561, 'geqo_effort': 1, 'geqo_generations': 16793170, 'geqo_pool_size': 2071130608, 'geqo_seed': 0.07078697744671425, 'geqo_threshold': 781397484, 'join_collapse_limit': 1088532736, 'maintenance_work_mem': 1694720855, 'max_connections': 1900, 'max_wal_senders': 32, 'shared_buffers': 2975245, 'temp_buffers': 353846633, 'temp_file_limit': 483560029, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 1247, 'vacuum_cost_page_dirty': 3917, 'vacuum_cost_page_hit': 9784, 'vacuum_cost_page_miss': 4475, 'wal_buffers': 68229, 'wal_writer_delay': 5992, 'work_mem': 535612396}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 66.48393161438106
Set autovacuum_analyze_threshold = 1693650923
Set autovacuum_max_workers = 93
Set autovacuum_naptime = 1159761
Set autovacuum_vacuum_cost_delay = 24
Set autovacuum_vacuum_cost_limit = 8170
Set autovacuum_vacuum_scale_factor = 36.33361079350267
Set autovacuum_vacuum_threshold = 138090224
Set backend_flush_after = 5
Set bgwriter_delay = 488
Set bgwriter_flush_after = 76
Set bgwriter_lru_maxpages = 494
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.1639422786471303
Set checkpoint_flush_after = 214
Set checkpoint_timeout = 2875
Set commit_delay = 83162
Set commit_siblings = 785
Set cursor_tuple_fraction = 0.14253534888332525
Set deadlock_timeout = 1296480256
Set default_statistics_target = 8913
Set effective_cache_size = 1044821632
Set effective_io_concurrency = 256
Set from_collapse_limit = 1165800561
Set geqo_effort = 1
Set geqo_generations = 16793170
Set geqo_pool_size = 2071130608
Set geqo_seed = 0.07078697744671425
Set geqo_threshold = 781397484
Set join_collapse_limit = 1088532736
Set maintenance_work_mem = 1694720855
Set max_connections = 1900
Set max_wal_senders = 32
Set shared_buffers = 2975245
Set temp_buffers = 353846633
Set temp_file_limit = 483560029
Set vacuum_cost_delay = 40
Set vacuum_cost_limit = 1247
Set vacuum_cost_page_dirty = 3917
Set vacuum_cost_page_hit = 9784
Set vacuum_cost_page_miss = 4475
Set wal_buffers = 68229
Set wal_writer_delay = 5992
Set work_mem = 535612396
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-43-47.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-43-47.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-43-47.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-43-47.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-43-47.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-43-47.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-43-47.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-43-47.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-43-47.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-43-47.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-43-47.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-43-47.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763721764.log
Parsed throughput from summary.json: 1931.3462679659985
BenchBase wikipedia throughput: 1931.3462679659985
Configuration: {'autovacuum_analyze_scale_factor': 66.48393161438106, 'autovacuum_analyze_threshold': 1693650923, 'autovacuum_max_workers': 93, 'autovacuum_naptime': 1159761, 'autovacuum_vacuum_cost_delay': 24, 'autovacuum_vacuum_cost_limit': 8170, 'autovacuum_vacuum_scale_factor': 36.33361079350267, 'autovacuum_vacuum_threshold': 138090224, 'backend_flush_after': 5, 'bgwriter_delay': 488, 'bgwriter_flush_after': 76, 'bgwriter_lru_maxpages': 494, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.1639422786471303, 'checkpoint_flush_after': 214, 'checkpoint_timeout': 2875, 'commit_delay': 83162, 'commit_siblings': 785, 'cursor_tuple_fraction': 0.14253534888332525, 'deadlock_timeout': 1296480256, 'default_statistics_target': 8913, 'effective_cache_size': 1044821632, 'effective_io_concurrency': 256, 'from_collapse_limit': 1165800561, 'geqo_effort': 1, 'geqo_generations': 16793170, 'geqo_pool_size': 2071130608, 'geqo_seed': 0.07078697744671425, 'geqo_threshold': 781397484, 'join_collapse_limit': 1088532736, 'maintenance_work_mem': 1694720855, 'max_connections': 1900, 'max_wal_senders': 32, 'shared_buffers': 2975245, 'temp_buffers': 353846633, 'temp_file_limit': 483560029, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 1247, 'vacuum_cost_page_dirty': 3917, 'vacuum_cost_page_hit': 9784, 'vacuum_cost_page_miss': 4475, 'wal_buffers': 68229, 'wal_writer_delay': 5992, 'work_mem': 535612396}, QPS: -1931.3462679659985
Performance (QPS): -1931.3462679659985
Evaluating configuration: {'autovacuum_analyze_scale_factor': 96.06886896997409, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1329359, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 46.52534745085038, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 29, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6394453989721423, 'checkpoint_flush_after': 238, 'checkpoint_timeout': 1302, 'commit_delay': 36917, 'commit_siblings': 247, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 117401008, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 146892000, 'geqo_effort': 2, 'geqo_generations': 967920256, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 130907265, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1667658084, 'max_connections': 518, 'max_wal_senders': 1, 'shared_buffers': 3640755, 'temp_buffers': 942951244, 'temp_file_limit': 811411647, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5592, 'wal_buffers': 2208, 'wal_writer_delay': 6032, 'work_mem': 1372904983}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 96.06886896997409
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1329359
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 46.52534745085038
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 247
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 29
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6394453989721423
Set checkpoint_flush_after = 238
Set checkpoint_timeout = 1302
Set commit_delay = 36917
Set commit_siblings = 247
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 117401008
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 146892000
Set geqo_effort = 2
Set geqo_generations = 967920256
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 130907265
Set join_collapse_limit = 1032804680
Set maintenance_work_mem = 1667658084
Set max_connections = 518
Set max_wal_senders = 1
Set shared_buffers = 3640755
Set temp_buffers = 942951244
Set temp_file_limit = 811411647
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5592
Set wal_buffers = 2208
Set wal_writer_delay = 6032
Set work_mem = 1372904983
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-45-27.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-45-27.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-45-27.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-45-27.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-45-27.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-45-27.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-45-27.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-45-27.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-45-27.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-45-27.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-45-27.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-45-27.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763721864.log
Parsed throughput from summary.json: 1935.5042300113703
BenchBase wikipedia throughput: 1935.5042300113703
Configuration: {'autovacuum_analyze_scale_factor': 96.06886896997409, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1329359, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 46.52534745085038, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 29, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6394453989721423, 'checkpoint_flush_after': 238, 'checkpoint_timeout': 1302, 'commit_delay': 36917, 'commit_siblings': 247, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 117401008, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 146892000, 'geqo_effort': 2, 'geqo_generations': 967920256, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 130907265, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1667658084, 'max_connections': 518, 'max_wal_senders': 1, 'shared_buffers': 3640755, 'temp_buffers': 942951244, 'temp_file_limit': 811411647, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5592, 'wal_buffers': 2208, 'wal_writer_delay': 6032, 'work_mem': 1372904983}, QPS: -1935.5042300113703
Performance (QPS): -1935.5042300113703
Evaluating configuration: {'autovacuum_analyze_scale_factor': 11.956988984989325, 'autovacuum_analyze_threshold': 961149091, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 1615881, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 4768, 'autovacuum_vacuum_scale_factor': 32.82114955906249, 'autovacuum_vacuum_threshold': 1960403803, 'backend_flush_after': 108, 'bgwriter_delay': 3274, 'bgwriter_flush_after': 11, 'bgwriter_lru_maxpages': 728, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3988486390539798, 'checkpoint_flush_after': 209, 'checkpoint_timeout': 212, 'commit_delay': 12214, 'commit_siblings': 871, 'cursor_tuple_fraction': 0.9382251894379915, 'deadlock_timeout': 761837771, 'default_statistics_target': 1630, 'effective_cache_size': 1271065337, 'effective_io_concurrency': 907, 'from_collapse_limit': 1856676903, 'geqo_effort': 2, 'geqo_generations': 1840473802, 'geqo_pool_size': 1186037390, 'geqo_seed': 0.039545066966704234, 'geqo_threshold': 162054478, 'join_collapse_limit': 1623000131, 'maintenance_work_mem': 609912360, 'max_connections': 976, 'max_wal_senders': 30, 'shared_buffers': 1637166, 'temp_buffers': 337897974, 'temp_file_limit': 914641765, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 2052, 'vacuum_cost_page_dirty': 8830, 'vacuum_cost_page_hit': 3744, 'vacuum_cost_page_miss': 9227, 'wal_buffers': 102563, 'wal_writer_delay': 3375, 'work_mem': 1123126339}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 11.956988984989325
Set autovacuum_analyze_threshold = 961149091
Set autovacuum_max_workers = 3
Set autovacuum_naptime = 1615881
Set autovacuum_vacuum_cost_delay = 19
Set autovacuum_vacuum_cost_limit = 4768
Set autovacuum_vacuum_scale_factor = 32.82114955906249
Set autovacuum_vacuum_threshold = 1960403803
Set backend_flush_after = 108
Set bgwriter_delay = 3274
Set bgwriter_flush_after = 11
Set bgwriter_lru_maxpages = 728
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3988486390539798
Set checkpoint_flush_after = 209
Set checkpoint_timeout = 212
Set commit_delay = 12214
Set commit_siblings = 871
Set cursor_tuple_fraction = 0.9382251894379915
Set deadlock_timeout = 761837771
Set default_statistics_target = 1630
Set effective_cache_size = 1271065337
Set effective_io_concurrency = 907
Set from_collapse_limit = 1856676903
Set geqo_effort = 2
Set geqo_generations = 1840473802
Set geqo_pool_size = 1186037390
Set geqo_seed = 0.039545066966704234
Set geqo_threshold = 162054478
Set join_collapse_limit = 1623000131
Set maintenance_work_mem = 609912360
Set max_connections = 976
Set max_wal_senders = 30
Set shared_buffers = 1637166
Set temp_buffers = 337897974
Set temp_file_limit = 914641765
Set vacuum_cost_delay = 42
Set vacuum_cost_limit = 2052
Set vacuum_cost_page_dirty = 8830
Set vacuum_cost_page_hit = 3744
Set vacuum_cost_page_miss = 9227
Set wal_buffers = 102563
Set wal_writer_delay = 3375
Set work_mem = 1123126339
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-47-02.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-47-02.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-47-02.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-47-02.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-47-02.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-47-02.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-47-02.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-47-02.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763721958.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-47-02.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-47-02.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-47-02.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-47-02.results.RemoveWatchList.csv
Parsed throughput from summary.json: 1940.4755959523347
BenchBase wikipedia throughput: 1940.4755959523347
Configuration: {'autovacuum_analyze_scale_factor': 11.956988984989325, 'autovacuum_analyze_threshold': 961149091, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 1615881, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 4768, 'autovacuum_vacuum_scale_factor': 32.82114955906249, 'autovacuum_vacuum_threshold': 1960403803, 'backend_flush_after': 108, 'bgwriter_delay': 3274, 'bgwriter_flush_after': 11, 'bgwriter_lru_maxpages': 728, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3988486390539798, 'checkpoint_flush_after': 209, 'checkpoint_timeout': 212, 'commit_delay': 12214, 'commit_siblings': 871, 'cursor_tuple_fraction': 0.9382251894379915, 'deadlock_timeout': 761837771, 'default_statistics_target': 1630, 'effective_cache_size': 1271065337, 'effective_io_concurrency': 907, 'from_collapse_limit': 1856676903, 'geqo_effort': 2, 'geqo_generations': 1840473802, 'geqo_pool_size': 1186037390, 'geqo_seed': 0.039545066966704234, 'geqo_threshold': 162054478, 'join_collapse_limit': 1623000131, 'maintenance_work_mem': 609912360, 'max_connections': 976, 'max_wal_senders': 30, 'shared_buffers': 1637166, 'temp_buffers': 337897974, 'temp_file_limit': 914641765, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 2052, 'vacuum_cost_page_dirty': 8830, 'vacuum_cost_page_hit': 3744, 'vacuum_cost_page_miss': 9227, 'wal_buffers': 102563, 'wal_writer_delay': 3375, 'work_mem': 1123126339}, QPS: -1940.4755959523347
Performance (QPS): -1940.4755959523347
Evaluating configuration: {'autovacuum_analyze_scale_factor': 25.309678998361594, 'autovacuum_analyze_threshold': 2045091160, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 1754463, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 5482, 'autovacuum_vacuum_scale_factor': 93.07424061849548, 'autovacuum_vacuum_threshold': 234820061, 'backend_flush_after': 254, 'bgwriter_delay': 3784, 'bgwriter_flush_after': 211, 'bgwriter_lru_maxpages': 854, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.5734842500531225, 'checkpoint_flush_after': 183, 'checkpoint_timeout': 1586, 'commit_delay': 42278, 'commit_siblings': 138, 'cursor_tuple_fraction': 0.49988307676682286, 'deadlock_timeout': 306793227, 'default_statistics_target': 6061, 'effective_cache_size': 132504432, 'effective_io_concurrency': 616, 'from_collapse_limit': 423241477, 'geqo_effort': 1, 'geqo_generations': 646567446, 'geqo_pool_size': 1218518567, 'geqo_seed': 0.46341079071761315, 'geqo_threshold': 2065051392, 'join_collapse_limit': 1661809536, 'maintenance_work_mem': 1785012012, 'max_connections': 1749, 'max_wal_senders': 8, 'shared_buffers': 2612509, 'temp_buffers': 666940882, 'temp_file_limit': 2083781682, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 5245, 'vacuum_cost_page_dirty': 6941, 'vacuum_cost_page_hit': 5033, 'vacuum_cost_page_miss': 9390, 'wal_buffers': 2777, 'wal_writer_delay': 6050, 'work_mem': 983368841}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 25.309678998361594
Set autovacuum_analyze_threshold = 2045091160
Set autovacuum_max_workers = 3
Set autovacuum_naptime = 1754463
Set autovacuum_vacuum_cost_delay = 96
Set autovacuum_vacuum_cost_limit = 5482
Set autovacuum_vacuum_scale_factor = 93.07424061849548
Set autovacuum_vacuum_threshold = 234820061
Set backend_flush_after = 254
Set bgwriter_delay = 3784
Set bgwriter_flush_after = 211
Set bgwriter_lru_maxpages = 854
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.5734842500531225
Set checkpoint_flush_after = 183
Set checkpoint_timeout = 1586
Set commit_delay = 42278
Set commit_siblings = 138
Set cursor_tuple_fraction = 0.49988307676682286
Set deadlock_timeout = 306793227
Set default_statistics_target = 6061
Set effective_cache_size = 132504432
Set effective_io_concurrency = 616
Set from_collapse_limit = 423241477
Set geqo_effort = 1
Set geqo_generations = 646567446
Set geqo_pool_size = 1218518567
Set geqo_seed = 0.46341079071761315
Set geqo_threshold = 2065051392
Set join_collapse_limit = 1661809536
Set maintenance_work_mem = 1785012012
Set max_connections = 1749
Set max_wal_senders = 8
Set shared_buffers = 2612509
Set temp_buffers = 666940882
Set temp_file_limit = 2083781682
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 5245
Set vacuum_cost_page_dirty = 6941
Set vacuum_cost_page_hit = 5033
Set vacuum_cost_page_miss = 9390
Set wal_buffers = 2777
Set wal_writer_delay = 6050
Set work_mem = 983368841
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-48-41.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-48-41.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763722058.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-48-41.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-48-41.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-48-41.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-48-41.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-48-41.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-48-41.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-48-41.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-48-41.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-48-41.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-48-41.metrics.json
Parsed throughput from summary.json: 1981.470566775174
BenchBase wikipedia throughput: 1981.470566775174
Configuration: {'autovacuum_analyze_scale_factor': 25.309678998361594, 'autovacuum_analyze_threshold': 2045091160, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 1754463, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 5482, 'autovacuum_vacuum_scale_factor': 93.07424061849548, 'autovacuum_vacuum_threshold': 234820061, 'backend_flush_after': 254, 'bgwriter_delay': 3784, 'bgwriter_flush_after': 211, 'bgwriter_lru_maxpages': 854, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.5734842500531225, 'checkpoint_flush_after': 183, 'checkpoint_timeout': 1586, 'commit_delay': 42278, 'commit_siblings': 138, 'cursor_tuple_fraction': 0.49988307676682286, 'deadlock_timeout': 306793227, 'default_statistics_target': 6061, 'effective_cache_size': 132504432, 'effective_io_concurrency': 616, 'from_collapse_limit': 423241477, 'geqo_effort': 1, 'geqo_generations': 646567446, 'geqo_pool_size': 1218518567, 'geqo_seed': 0.46341079071761315, 'geqo_threshold': 2065051392, 'join_collapse_limit': 1661809536, 'maintenance_work_mem': 1785012012, 'max_connections': 1749, 'max_wal_senders': 8, 'shared_buffers': 2612509, 'temp_buffers': 666940882, 'temp_file_limit': 2083781682, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 5245, 'vacuum_cost_page_dirty': 6941, 'vacuum_cost_page_hit': 5033, 'vacuum_cost_page_miss': 9390, 'wal_buffers': 2777, 'wal_writer_delay': 6050, 'work_mem': 983368841}, QPS: -1981.470566775174
Performance (QPS): -1981.470566775174
Evaluating configuration: {'autovacuum_analyze_scale_factor': 81.9442941133191, 'autovacuum_analyze_threshold': 723591616, 'autovacuum_max_workers': 49, 'autovacuum_naptime': 1408298, 'autovacuum_vacuum_cost_delay': 31, 'autovacuum_vacuum_cost_limit': 5441, 'autovacuum_vacuum_scale_factor': 14.700979363994737, 'autovacuum_vacuum_threshold': 1623178367, 'backend_flush_after': 96, 'bgwriter_delay': 272, 'bgwriter_flush_after': 19, 'bgwriter_lru_maxpages': 876, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.27743829377672435, 'checkpoint_flush_after': 190, 'checkpoint_timeout': 2586, 'commit_delay': 21737, 'commit_siblings': 466, 'cursor_tuple_fraction': 0.021852186027130238, 'deadlock_timeout': 2077519999, 'default_statistics_target': 2599, 'effective_cache_size': 369194867, 'effective_io_concurrency': 988, 'from_collapse_limit': 854859596, 'geqo_effort': 1, 'geqo_generations': 594462234, 'geqo_pool_size': 689755520, 'geqo_seed': 0.11694957617221274, 'geqo_threshold': 1724041224, 'join_collapse_limit': 267961532, 'maintenance_work_mem': 69408398, 'max_connections': 486, 'max_wal_senders': 47, 'shared_buffers': 2162041, 'temp_buffers': 151680689, 'temp_file_limit': 2146391464, 'vacuum_cost_delay': 6, 'vacuum_cost_limit': 1971, 'vacuum_cost_page_dirty': 9938, 'vacuum_cost_page_hit': 3633, 'vacuum_cost_page_miss': 2572, 'wal_buffers': 8319, 'wal_writer_delay': 5052, 'work_mem': 884900395}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 81.9442941133191
Set autovacuum_analyze_threshold = 723591616
Set autovacuum_max_workers = 49
Set autovacuum_naptime = 1408298
Set autovacuum_vacuum_cost_delay = 31
Set autovacuum_vacuum_cost_limit = 5441
Set autovacuum_vacuum_scale_factor = 14.700979363994737
Set autovacuum_vacuum_threshold = 1623178367
Set backend_flush_after = 96
Set bgwriter_delay = 272
Set bgwriter_flush_after = 19
Set bgwriter_lru_maxpages = 876
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.27743829377672435
Set checkpoint_flush_after = 190
Set checkpoint_timeout = 2586
Set commit_delay = 21737
Set commit_siblings = 466
Set cursor_tuple_fraction = 0.021852186027130238
Set deadlock_timeout = 2077519999
Set default_statistics_target = 2599
Set effective_cache_size = 369194867
Set effective_io_concurrency = 988
Set from_collapse_limit = 854859596
Set geqo_effort = 1
Set geqo_generations = 594462234
Set geqo_pool_size = 689755520
Set geqo_seed = 0.11694957617221274
Set geqo_threshold = 1724041224
Set join_collapse_limit = 267961532
Set maintenance_work_mem = 69408398
Set max_connections = 486
Set max_wal_senders = 47
Set shared_buffers = 2162041
Set temp_buffers = 151680689
Set temp_file_limit = 2146391464
Set vacuum_cost_delay = 6
Set vacuum_cost_limit = 1971
Set vacuum_cost_page_dirty = 9938
Set vacuum_cost_page_hit = 3633
Set vacuum_cost_page_miss = 2572
Set wal_buffers = 8319
Set wal_writer_delay = 5052
Set work_mem = 884900395
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-50-20.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763722157.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-50-20.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-50-20.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-50-20.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-50-20.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-50-20.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-50-20.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-50-20.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-50-20.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-50-20.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-50-20.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-50-20.results.UpdatePage.csv
Parsed throughput from summary.json: 1791.025917265162
BenchBase wikipedia throughput: 1791.025917265162
Configuration: {'autovacuum_analyze_scale_factor': 81.9442941133191, 'autovacuum_analyze_threshold': 723591616, 'autovacuum_max_workers': 49, 'autovacuum_naptime': 1408298, 'autovacuum_vacuum_cost_delay': 31, 'autovacuum_vacuum_cost_limit': 5441, 'autovacuum_vacuum_scale_factor': 14.700979363994737, 'autovacuum_vacuum_threshold': 1623178367, 'backend_flush_after': 96, 'bgwriter_delay': 272, 'bgwriter_flush_after': 19, 'bgwriter_lru_maxpages': 876, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.27743829377672435, 'checkpoint_flush_after': 190, 'checkpoint_timeout': 2586, 'commit_delay': 21737, 'commit_siblings': 466, 'cursor_tuple_fraction': 0.021852186027130238, 'deadlock_timeout': 2077519999, 'default_statistics_target': 2599, 'effective_cache_size': 369194867, 'effective_io_concurrency': 988, 'from_collapse_limit': 854859596, 'geqo_effort': 1, 'geqo_generations': 594462234, 'geqo_pool_size': 689755520, 'geqo_seed': 0.11694957617221274, 'geqo_threshold': 1724041224, 'join_collapse_limit': 267961532, 'maintenance_work_mem': 69408398, 'max_connections': 486, 'max_wal_senders': 47, 'shared_buffers': 2162041, 'temp_buffers': 151680689, 'temp_file_limit': 2146391464, 'vacuum_cost_delay': 6, 'vacuum_cost_limit': 1971, 'vacuum_cost_page_dirty': 9938, 'vacuum_cost_page_hit': 3633, 'vacuum_cost_page_miss': 2572, 'wal_buffers': 8319, 'wal_writer_delay': 5052, 'work_mem': 884900395}, QPS: -1791.025917265162
Performance (QPS): -1791.025917265162
Evaluating configuration: {'autovacuum_analyze_scale_factor': 97.3349732501559, 'autovacuum_analyze_threshold': 127395776, 'autovacuum_max_workers': 187, 'autovacuum_naptime': 997513, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 46.52534745085038, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 1642, 'bgwriter_flush_after': 29, 'bgwriter_lru_maxpages': 412, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6085045338697631, 'checkpoint_flush_after': 238, 'checkpoint_timeout': 1395, 'commit_delay': 36917, 'commit_siblings': 247, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 117401008, 'default_statistics_target': 6061, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 146892000, 'geqo_effort': 2, 'geqo_generations': 967920256, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 130907265, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1712090447, 'max_connections': 459, 'max_wal_senders': 1, 'shared_buffers': 3596931, 'temp_buffers': 942951244, 'temp_file_limit': 811411647, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5301, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5565, 'wal_buffers': 2208, 'wal_writer_delay': 6059, 'work_mem': 958940003}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 97.3349732501559
Set autovacuum_analyze_threshold = 127395776
Set autovacuum_max_workers = 187
Set autovacuum_naptime = 997513
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 46.52534745085038
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 247
Set bgwriter_delay = 1642
Set bgwriter_flush_after = 29
Set bgwriter_lru_maxpages = 412
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6085045338697631
Set checkpoint_flush_after = 238
Set checkpoint_timeout = 1395
Set commit_delay = 36917
Set commit_siblings = 247
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 117401008
Set default_statistics_target = 6061
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 146892000
Set geqo_effort = 2
Set geqo_generations = 967920256
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 130907265
Set join_collapse_limit = 1032804680
Set maintenance_work_mem = 1712090447
Set max_connections = 459
Set max_wal_senders = 1
Set shared_buffers = 3596931
Set temp_buffers = 942951244
Set temp_file_limit = 811411647
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5301
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5565
Set wal_buffers = 2208
Set wal_writer_delay = 6059
Set work_mem = 958940003
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-52-00.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-52-00.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-52-00.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-52-00.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-52-00.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-52-00.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-52-00.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-52-00.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-52-00.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-52-00.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-52-00.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-52-00.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763722257.log
Parsed throughput from summary.json: 1935.4762877490723
BenchBase wikipedia throughput: 1935.4762877490723
Configuration: {'autovacuum_analyze_scale_factor': 97.3349732501559, 'autovacuum_analyze_threshold': 127395776, 'autovacuum_max_workers': 187, 'autovacuum_naptime': 997513, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 46.52534745085038, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 1642, 'bgwriter_flush_after': 29, 'bgwriter_lru_maxpages': 412, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6085045338697631, 'checkpoint_flush_after': 238, 'checkpoint_timeout': 1395, 'commit_delay': 36917, 'commit_siblings': 247, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 117401008, 'default_statistics_target': 6061, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 146892000, 'geqo_effort': 2, 'geqo_generations': 967920256, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 130907265, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1712090447, 'max_connections': 459, 'max_wal_senders': 1, 'shared_buffers': 3596931, 'temp_buffers': 942951244, 'temp_file_limit': 811411647, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5301, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5565, 'wal_buffers': 2208, 'wal_writer_delay': 6059, 'work_mem': 958940003}, QPS: -1935.4762877490723
Performance (QPS): -1935.4762877490723
Evaluating configuration: {'autovacuum_analyze_scale_factor': 89.69174822189933, 'autovacuum_analyze_threshold': 819072333, 'autovacuum_max_workers': 98, 'autovacuum_naptime': 1037991, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 9708, 'autovacuum_vacuum_scale_factor': 51.80198291932062, 'autovacuum_vacuum_threshold': 615358336, 'backend_flush_after': 230, 'bgwriter_delay': 778, 'bgwriter_flush_after': 135, 'bgwriter_lru_maxpages': 373, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.22249931547294755, 'checkpoint_flush_after': 215, 'checkpoint_timeout': 2538, 'commit_delay': 37661, 'commit_siblings': 89, 'cursor_tuple_fraction': 0.5318934061500292, 'deadlock_timeout': 1137016467, 'default_statistics_target': 5866, 'effective_cache_size': 2025815808, 'effective_io_concurrency': 628, 'from_collapse_limit': 1453911650, 'geqo_effort': 2, 'geqo_generations': 13772393, 'geqo_pool_size': 1472833601, 'geqo_seed': 0.24939833604392797, 'geqo_threshold': 1135705191, 'join_collapse_limit': 956992640, 'maintenance_work_mem': 724472230, 'max_connections': 638, 'max_wal_senders': 35, 'shared_buffers': 641193, 'temp_buffers': 169842733, 'temp_file_limit': 1266258687, 'vacuum_cost_delay': 47, 'vacuum_cost_limit': 1963, 'vacuum_cost_page_dirty': 925, 'vacuum_cost_page_hit': 2105, 'vacuum_cost_page_miss': 2993, 'wal_buffers': 42579, 'wal_writer_delay': 6951, 'work_mem': 1264893722}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 89.69174822189933
Set autovacuum_analyze_threshold = 819072333
Set autovacuum_max_workers = 98
Set autovacuum_naptime = 1037991
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 9708
Set autovacuum_vacuum_scale_factor = 51.80198291932062
Set autovacuum_vacuum_threshold = 615358336
Set backend_flush_after = 230
Set bgwriter_delay = 778
Set bgwriter_flush_after = 135
Set bgwriter_lru_maxpages = 373
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.22249931547294755
Set checkpoint_flush_after = 215
Set checkpoint_timeout = 2538
Set commit_delay = 37661
Set commit_siblings = 89
Set cursor_tuple_fraction = 0.5318934061500292
Set deadlock_timeout = 1137016467
Set default_statistics_target = 5866
Set effective_cache_size = 2025815808
Set effective_io_concurrency = 628
Set from_collapse_limit = 1453911650
Set geqo_effort = 2
Set geqo_generations = 13772393
Set geqo_pool_size = 1472833601
Set geqo_seed = 0.24939833604392797
Set geqo_threshold = 1135705191
Set join_collapse_limit = 956992640
Set maintenance_work_mem = 724472230
Set max_connections = 638
Set max_wal_senders = 35
Set shared_buffers = 641193
Set temp_buffers = 169842733
Set temp_file_limit = 1266258687
Set vacuum_cost_delay = 47
Set vacuum_cost_limit = 1963
Set vacuum_cost_page_dirty = 925
Set vacuum_cost_page_hit = 2105
Set vacuum_cost_page_miss = 2993
Set wal_buffers = 42579
Set wal_writer_delay = 6951
Set work_mem = 1264893722
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763722356.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-53-40.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-53-40.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-53-40.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-53-40.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-53-40.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-53-40.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-53-40.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-53-40.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-53-40.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-53-40.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-53-40.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-53-40.raw.csv
Parsed throughput from summary.json: 1862.1528521888345
BenchBase wikipedia throughput: 1862.1528521888345
Configuration: {'autovacuum_analyze_scale_factor': 89.69174822189933, 'autovacuum_analyze_threshold': 819072333, 'autovacuum_max_workers': 98, 'autovacuum_naptime': 1037991, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 9708, 'autovacuum_vacuum_scale_factor': 51.80198291932062, 'autovacuum_vacuum_threshold': 615358336, 'backend_flush_after': 230, 'bgwriter_delay': 778, 'bgwriter_flush_after': 135, 'bgwriter_lru_maxpages': 373, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.22249931547294755, 'checkpoint_flush_after': 215, 'checkpoint_timeout': 2538, 'commit_delay': 37661, 'commit_siblings': 89, 'cursor_tuple_fraction': 0.5318934061500292, 'deadlock_timeout': 1137016467, 'default_statistics_target': 5866, 'effective_cache_size': 2025815808, 'effective_io_concurrency': 628, 'from_collapse_limit': 1453911650, 'geqo_effort': 2, 'geqo_generations': 13772393, 'geqo_pool_size': 1472833601, 'geqo_seed': 0.24939833604392797, 'geqo_threshold': 1135705191, 'join_collapse_limit': 956992640, 'maintenance_work_mem': 724472230, 'max_connections': 638, 'max_wal_senders': 35, 'shared_buffers': 641193, 'temp_buffers': 169842733, 'temp_file_limit': 1266258687, 'vacuum_cost_delay': 47, 'vacuum_cost_limit': 1963, 'vacuum_cost_page_dirty': 925, 'vacuum_cost_page_hit': 2105, 'vacuum_cost_page_miss': 2993, 'wal_buffers': 42579, 'wal_writer_delay': 6951, 'work_mem': 1264893722}, QPS: -1862.1528521888345
Performance (QPS): -1862.1528521888345
Evaluating configuration: {'autovacuum_analyze_scale_factor': 25.309678998361594, 'autovacuum_analyze_threshold': 2045091160, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 1716184, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 5482, 'autovacuum_vacuum_scale_factor': 93.07424061849548, 'autovacuum_vacuum_threshold': 234820061, 'backend_flush_after': 254, 'bgwriter_delay': 3784, 'bgwriter_flush_after': 180, 'bgwriter_lru_maxpages': 854, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5734842500531225, 'checkpoint_flush_after': 185, 'checkpoint_timeout': 1787, 'commit_delay': 37062, 'commit_siblings': 138, 'cursor_tuple_fraction': 0.49988307676682286, 'deadlock_timeout': 306793227, 'default_statistics_target': 6061, 'effective_cache_size': 132504432, 'effective_io_concurrency': 616, 'from_collapse_limit': 423241477, 'geqo_effort': 1, 'geqo_generations': 694694656, 'geqo_pool_size': 1218518567, 'geqo_seed': 0.46341079071761315, 'geqo_threshold': 2065051392, 'join_collapse_limit': 1661809536, 'maintenance_work_mem': 1785012012, 'max_connections': 1478, 'max_wal_senders': 8, 'shared_buffers': 2612509, 'temp_buffers': 566125295, 'temp_file_limit': 2083781682, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 5245, 'vacuum_cost_page_dirty': 6941, 'vacuum_cost_page_hit': 5033, 'vacuum_cost_page_miss': 9390, 'wal_buffers': 2777, 'wal_writer_delay': 6259, 'work_mem': 899299301}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 25.309678998361594
Set autovacuum_analyze_threshold = 2045091160
Set autovacuum_max_workers = 3
Set autovacuum_naptime = 1716184
Set autovacuum_vacuum_cost_delay = 96
Set autovacuum_vacuum_cost_limit = 5482
Set autovacuum_vacuum_scale_factor = 93.07424061849548
Set autovacuum_vacuum_threshold = 234820061
Set backend_flush_after = 254
Set bgwriter_delay = 3784
Set bgwriter_flush_after = 180
Set bgwriter_lru_maxpages = 854
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.5734842500531225
Set checkpoint_flush_after = 185
Set checkpoint_timeout = 1787
Set commit_delay = 37062
Set commit_siblings = 138
Set cursor_tuple_fraction = 0.49988307676682286
Set deadlock_timeout = 306793227
Set default_statistics_target = 6061
Set effective_cache_size = 132504432
Set effective_io_concurrency = 616
Set from_collapse_limit = 423241477
Set geqo_effort = 1
Set geqo_generations = 694694656
Set geqo_pool_size = 1218518567
Set geqo_seed = 0.46341079071761315
Set geqo_threshold = 2065051392
Set join_collapse_limit = 1661809536
Set maintenance_work_mem = 1785012012
Set max_connections = 1478
Set max_wal_senders = 8
Set shared_buffers = 2612509
Set temp_buffers = 566125295
Set temp_file_limit = 2083781682
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 5245
Set vacuum_cost_page_dirty = 6941
Set vacuum_cost_page_hit = 5033
Set vacuum_cost_page_miss = 9390
Set wal_buffers = 2777
Set wal_writer_delay = 6259
Set work_mem = 899299301
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763722455.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-55-19.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-55-19.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-55-19.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-55-19.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-55-19.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-55-19.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-55-19.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-55-19.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-55-19.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-55-19.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-55-19.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-55-19.config.xml
Parsed throughput from summary.json: 1809.5486548766
BenchBase wikipedia throughput: 1809.5486548766
Configuration: {'autovacuum_analyze_scale_factor': 25.309678998361594, 'autovacuum_analyze_threshold': 2045091160, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 1716184, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 5482, 'autovacuum_vacuum_scale_factor': 93.07424061849548, 'autovacuum_vacuum_threshold': 234820061, 'backend_flush_after': 254, 'bgwriter_delay': 3784, 'bgwriter_flush_after': 180, 'bgwriter_lru_maxpages': 854, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5734842500531225, 'checkpoint_flush_after': 185, 'checkpoint_timeout': 1787, 'commit_delay': 37062, 'commit_siblings': 138, 'cursor_tuple_fraction': 0.49988307676682286, 'deadlock_timeout': 306793227, 'default_statistics_target': 6061, 'effective_cache_size': 132504432, 'effective_io_concurrency': 616, 'from_collapse_limit': 423241477, 'geqo_effort': 1, 'geqo_generations': 694694656, 'geqo_pool_size': 1218518567, 'geqo_seed': 0.46341079071761315, 'geqo_threshold': 2065051392, 'join_collapse_limit': 1661809536, 'maintenance_work_mem': 1785012012, 'max_connections': 1478, 'max_wal_senders': 8, 'shared_buffers': 2612509, 'temp_buffers': 566125295, 'temp_file_limit': 2083781682, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 5245, 'vacuum_cost_page_dirty': 6941, 'vacuum_cost_page_hit': 5033, 'vacuum_cost_page_miss': 9390, 'wal_buffers': 2777, 'wal_writer_delay': 6259, 'work_mem': 899299301}, QPS: -1809.5486548766
Performance (QPS): -1809.5486548766
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 175356512, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1095552, 'autovacuum_vacuum_cost_delay': 54, 'autovacuum_vacuum_cost_limit': 3905, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 243, 'bgwriter_delay': 2071, 'bgwriter_flush_after': 62, 'bgwriter_lru_maxpages': 493, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.5406151964632874, 'checkpoint_flush_after': 179, 'checkpoint_timeout': 1520, 'commit_delay': 39368, 'commit_siblings': 305, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1977814912, 'effective_io_concurrency': 502, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2000148991, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 8063606, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 823, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 57, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6195, 'work_mem': 994455074}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.76318591088057
Set autovacuum_analyze_threshold = 175356512
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1095552
Set autovacuum_vacuum_cost_delay = 54
Set autovacuum_vacuum_cost_limit = 3905
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 243
Set bgwriter_delay = 2071
Set bgwriter_flush_after = 62
Set bgwriter_lru_maxpages = 493
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.5406151964632874
Set checkpoint_flush_after = 179
Set checkpoint_timeout = 1520
Set commit_delay = 39368
Set commit_siblings = 305
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 112034326
Set default_statistics_target = 5473
Set effective_cache_size = 1977814912
Set effective_io_concurrency = 502
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2000148991
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 8063606
Set join_collapse_limit = 1032804680
Set maintenance_work_mem = 1708697389
Set max_connections = 823
Set max_wal_senders = 2
Set shared_buffers = 3640755
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 57
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5839
Set wal_buffers = 16932
Set wal_writer_delay = 6195
Set work_mem = 994455074
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-56-59.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-56-59.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-56-59.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-56-59.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-56-59.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-56-59.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-56-59.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-56-59.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-56-59.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-56-59.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-56-59.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763722555.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-56-59.metrics.json
Parsed throughput from summary.json: 1873.440789183631
BenchBase wikipedia throughput: 1873.440789183631
Configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 175356512, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1095552, 'autovacuum_vacuum_cost_delay': 54, 'autovacuum_vacuum_cost_limit': 3905, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 243, 'bgwriter_delay': 2071, 'bgwriter_flush_after': 62, 'bgwriter_lru_maxpages': 493, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.5406151964632874, 'checkpoint_flush_after': 179, 'checkpoint_timeout': 1520, 'commit_delay': 39368, 'commit_siblings': 305, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1977814912, 'effective_io_concurrency': 502, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2000148991, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 8063606, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 823, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 57, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6195, 'work_mem': 994455074}, QPS: -1873.440789183631
Performance (QPS): -1873.440789183631
Evaluating configuration: {'autovacuum_analyze_scale_factor': 24.392467457801104, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 155, 'autovacuum_naptime': 1799294, 'autovacuum_vacuum_cost_delay': 41, 'autovacuum_vacuum_cost_limit': 5945, 'autovacuum_vacuum_scale_factor': 40.579326082834896, 'autovacuum_vacuum_threshold': 26329702, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 555, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 13, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 705634560, 'effective_io_concurrency': 222, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 423451616, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1445, 'max_wal_senders': 25, 'shared_buffers': 2602968, 'temp_buffers': 981886856, 'temp_file_limit': 890629439, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 771, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 2936, 'work_mem': 2036127693}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 24.392467457801104
Set autovacuum_analyze_threshold = 1969911119
Set autovacuum_max_workers = 155
Set autovacuum_naptime = 1799294
Set autovacuum_vacuum_cost_delay = 41
Set autovacuum_vacuum_cost_limit = 5945
Set autovacuum_vacuum_scale_factor = 40.579326082834896
Set autovacuum_vacuum_threshold = 26329702
Set backend_flush_after = 140
Set bgwriter_delay = 862
Set bgwriter_flush_after = 127
Set bgwriter_lru_maxpages = 555
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.5030564842745662
Set checkpoint_flush_after = 13
Set checkpoint_timeout = 703
Set commit_delay = 54508
Set commit_siblings = 173
Set cursor_tuple_fraction = 0.9186503402888775
Set deadlock_timeout = 1689266024
Set default_statistics_target = 2922
Set effective_cache_size = 705634560
Set effective_io_concurrency = 222
Set from_collapse_limit = 1026139532
Set geqo_effort = 3
Set geqo_generations = 23614720
Set geqo_pool_size = 423451616
Set geqo_seed = 0.3290532799437642
Set geqo_threshold = 1116794408
Set join_collapse_limit = 1517115132
Set maintenance_work_mem = 97161105
Set max_connections = 1445
Set max_wal_senders = 25
Set shared_buffers = 2602968
Set temp_buffers = 981886856
Set temp_file_limit = 890629439
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 7873
Set vacuum_cost_page_dirty = 1448
Set vacuum_cost_page_hit = 771
Set vacuum_cost_page_miss = 8596
Set wal_buffers = 200
Set wal_writer_delay = 2936
Set work_mem = 2036127693
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-58-39.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-58-39.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-58-39.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_10-58-39.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-58-39.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763722655.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-58-39.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-58-39.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-58-39.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-58-39.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-58-39.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-58-39.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_10-58-39.raw.csv
Parsed throughput from summary.json: 1837.2538711101317
BenchBase wikipedia throughput: 1837.2538711101317
Configuration: {'autovacuum_analyze_scale_factor': 24.392467457801104, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 155, 'autovacuum_naptime': 1799294, 'autovacuum_vacuum_cost_delay': 41, 'autovacuum_vacuum_cost_limit': 5945, 'autovacuum_vacuum_scale_factor': 40.579326082834896, 'autovacuum_vacuum_threshold': 26329702, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 555, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 13, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 705634560, 'effective_io_concurrency': 222, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 423451616, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1445, 'max_wal_senders': 25, 'shared_buffers': 2602968, 'temp_buffers': 981886856, 'temp_file_limit': 890629439, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 771, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 2936, 'work_mem': 2036127693}, QPS: -1837.2538711101317
Performance (QPS): -1837.2538711101317
Evaluating configuration: {'autovacuum_analyze_scale_factor': 44.91142565410482, 'autovacuum_analyze_threshold': 998106624, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1752503, 'autovacuum_vacuum_cost_delay': 27, 'autovacuum_vacuum_cost_limit': 9782, 'autovacuum_vacuum_scale_factor': 24.53723113230668, 'autovacuum_vacuum_threshold': 61477848, 'backend_flush_after': 81, 'bgwriter_delay': 6934, 'bgwriter_flush_after': 126, 'bgwriter_lru_maxpages': 583, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.2480776950116898, 'checkpoint_flush_after': 237, 'checkpoint_timeout': 3577, 'commit_delay': 22386, 'commit_siblings': 995, 'cursor_tuple_fraction': 0.046177523614415183, 'deadlock_timeout': 1786538368, 'default_statistics_target': 9181, 'effective_cache_size': 668462278, 'effective_io_concurrency': 200, 'from_collapse_limit': 1909322752, 'geqo_effort': 2, 'geqo_generations': 554214518, 'geqo_pool_size': 2051065215, 'geqo_seed': 0.5727283092885573, 'geqo_threshold': 634868225, 'join_collapse_limit': 1671497140, 'maintenance_work_mem': 1267316691, 'max_connections': 499, 'max_wal_senders': 24, 'shared_buffers': 3477577, 'temp_buffers': 4462177, 'temp_file_limit': 188952649, 'vacuum_cost_delay': 72, 'vacuum_cost_limit': 4689, 'vacuum_cost_page_dirty': 5501, 'vacuum_cost_page_hit': 4887, 'vacuum_cost_page_miss': 6684, 'wal_buffers': 15481, 'wal_writer_delay': 6176, 'work_mem': 2017095668}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 44.91142565410482
Set autovacuum_analyze_threshold = 998106624
Set autovacuum_max_workers = 183
Set autovacuum_naptime = 1752503
Set autovacuum_vacuum_cost_delay = 27
Set autovacuum_vacuum_cost_limit = 9782
Set autovacuum_vacuum_scale_factor = 24.53723113230668
Set autovacuum_vacuum_threshold = 61477848
Set backend_flush_after = 81
Set bgwriter_delay = 6934
Set bgwriter_flush_after = 126
Set bgwriter_lru_maxpages = 583
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.2480776950116898
Set checkpoint_flush_after = 237
Set checkpoint_timeout = 3577
Set commit_delay = 22386
Set commit_siblings = 995
Set cursor_tuple_fraction = 0.046177523614415183
Set deadlock_timeout = 1786538368
Set default_statistics_target = 9181
Set effective_cache_size = 668462278
Set effective_io_concurrency = 200
Set from_collapse_limit = 1909322752
Set geqo_effort = 2
Set geqo_generations = 554214518
Set geqo_pool_size = 2051065215
Set geqo_seed = 0.5727283092885573
Set geqo_threshold = 634868225
Set join_collapse_limit = 1671497140
Set maintenance_work_mem = 1267316691
Set max_connections = 499
Set max_wal_senders = 24
Set shared_buffers = 3477577
Set temp_buffers = 4462177
Set temp_file_limit = 188952649
Set vacuum_cost_delay = 72
Set vacuum_cost_limit = 4689
Set vacuum_cost_page_dirty = 5501
Set vacuum_cost_page_hit = 4887
Set vacuum_cost_page_miss = 6684
Set wal_buffers = 15481
Set wal_writer_delay = 6176
Set work_mem = 2017095668
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-00-18.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-00-18.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-00-18.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-00-18.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763722754.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-00-18.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-00-18.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-00-18.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-00-18.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-00-18.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-00-18.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-00-18.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-00-18.config.xml
Parsed throughput from summary.json: 1907.8225786283151
BenchBase wikipedia throughput: 1907.8225786283151
Configuration: {'autovacuum_analyze_scale_factor': 44.91142565410482, 'autovacuum_analyze_threshold': 998106624, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1752503, 'autovacuum_vacuum_cost_delay': 27, 'autovacuum_vacuum_cost_limit': 9782, 'autovacuum_vacuum_scale_factor': 24.53723113230668, 'autovacuum_vacuum_threshold': 61477848, 'backend_flush_after': 81, 'bgwriter_delay': 6934, 'bgwriter_flush_after': 126, 'bgwriter_lru_maxpages': 583, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.2480776950116898, 'checkpoint_flush_after': 237, 'checkpoint_timeout': 3577, 'commit_delay': 22386, 'commit_siblings': 995, 'cursor_tuple_fraction': 0.046177523614415183, 'deadlock_timeout': 1786538368, 'default_statistics_target': 9181, 'effective_cache_size': 668462278, 'effective_io_concurrency': 200, 'from_collapse_limit': 1909322752, 'geqo_effort': 2, 'geqo_generations': 554214518, 'geqo_pool_size': 2051065215, 'geqo_seed': 0.5727283092885573, 'geqo_threshold': 634868225, 'join_collapse_limit': 1671497140, 'maintenance_work_mem': 1267316691, 'max_connections': 499, 'max_wal_senders': 24, 'shared_buffers': 3477577, 'temp_buffers': 4462177, 'temp_file_limit': 188952649, 'vacuum_cost_delay': 72, 'vacuum_cost_limit': 4689, 'vacuum_cost_page_dirty': 5501, 'vacuum_cost_page_hit': 4887, 'vacuum_cost_page_miss': 6684, 'wal_buffers': 15481, 'wal_writer_delay': 6176, 'work_mem': 2017095668}, QPS: -1907.8225786283151
Performance (QPS): -1907.8225786283151
Evaluating configuration: {'autovacuum_analyze_scale_factor': 58.54476557843811, 'autovacuum_analyze_threshold': 1563725278, 'autovacuum_max_workers': 186, 'autovacuum_naptime': 1084735, 'autovacuum_vacuum_cost_delay': 0, 'autovacuum_vacuum_cost_limit': 9096, 'autovacuum_vacuum_scale_factor': 44.49973783572997, 'autovacuum_vacuum_threshold': 1089611837, 'backend_flush_after': 101, 'bgwriter_delay': 5727, 'bgwriter_flush_after': 6, 'bgwriter_lru_maxpages': 655, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.25698476556503036, 'checkpoint_flush_after': 226, 'checkpoint_timeout': 3477, 'commit_delay': 25327, 'commit_siblings': 685, 'cursor_tuple_fraction': 0.35208301372802897, 'deadlock_timeout': 545807680, 'default_statistics_target': 4159, 'effective_cache_size': 2142052931, 'effective_io_concurrency': 33, 'from_collapse_limit': 455432714, 'geqo_effort': 9, 'geqo_generations': 1044990976, 'geqo_pool_size': 1064506595, 'geqo_seed': 0.5005961367505526, 'geqo_threshold': 2079916746, 'join_collapse_limit': 861407680, 'maintenance_work_mem': 860053679, 'max_connections': 1591, 'max_wal_senders': 26, 'shared_buffers': 1374708, 'temp_buffers': 269560973, 'temp_file_limit': 2127865355, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 2993, 'vacuum_cost_page_dirty': 8856, 'vacuum_cost_page_hit': 488, 'vacuum_cost_page_miss': 4641, 'wal_buffers': 7215, 'wal_writer_delay': 7435, 'work_mem': 924690549}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 58.54476557843811
Set autovacuum_analyze_threshold = 1563725278
Set autovacuum_max_workers = 186
Set autovacuum_naptime = 1084735
Set autovacuum_vacuum_cost_delay = 0
Set autovacuum_vacuum_cost_limit = 9096
Set autovacuum_vacuum_scale_factor = 44.49973783572997
Set autovacuum_vacuum_threshold = 1089611837
Set backend_flush_after = 101
Set bgwriter_delay = 5727
Set bgwriter_flush_after = 6
Set bgwriter_lru_maxpages = 655
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.25698476556503036
Set checkpoint_flush_after = 226
Set checkpoint_timeout = 3477
Set commit_delay = 25327
Set commit_siblings = 685
Set cursor_tuple_fraction = 0.35208301372802897
Set deadlock_timeout = 545807680
Set default_statistics_target = 4159
Set effective_cache_size = 2142052931
Set effective_io_concurrency = 33
Set from_collapse_limit = 455432714
Set geqo_effort = 9
Set geqo_generations = 1044990976
Set geqo_pool_size = 1064506595
Set geqo_seed = 0.5005961367505526
Set geqo_threshold = 2079916746
Set join_collapse_limit = 861407680
Set maintenance_work_mem = 860053679
Set max_connections = 1591
Set max_wal_senders = 26
Set shared_buffers = 1374708
Set temp_buffers = 269560973
Set temp_file_limit = 2127865355
Set vacuum_cost_delay = 7
Set vacuum_cost_limit = 2993
Set vacuum_cost_page_dirty = 8856
Set vacuum_cost_page_hit = 488
Set vacuum_cost_page_miss = 4641
Set wal_buffers = 7215
Set wal_writer_delay = 7435
Set work_mem = 924690549
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-01-57.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-01-57.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-01-57.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-01-57.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-01-57.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-01-57.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-01-57.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-01-57.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-01-57.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763722854.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-01-57.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-01-57.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-01-57.params.json
Parsed throughput from summary.json: 1908.012523062762
BenchBase wikipedia throughput: 1908.012523062762
Configuration: {'autovacuum_analyze_scale_factor': 58.54476557843811, 'autovacuum_analyze_threshold': 1563725278, 'autovacuum_max_workers': 186, 'autovacuum_naptime': 1084735, 'autovacuum_vacuum_cost_delay': 0, 'autovacuum_vacuum_cost_limit': 9096, 'autovacuum_vacuum_scale_factor': 44.49973783572997, 'autovacuum_vacuum_threshold': 1089611837, 'backend_flush_after': 101, 'bgwriter_delay': 5727, 'bgwriter_flush_after': 6, 'bgwriter_lru_maxpages': 655, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.25698476556503036, 'checkpoint_flush_after': 226, 'checkpoint_timeout': 3477, 'commit_delay': 25327, 'commit_siblings': 685, 'cursor_tuple_fraction': 0.35208301372802897, 'deadlock_timeout': 545807680, 'default_statistics_target': 4159, 'effective_cache_size': 2142052931, 'effective_io_concurrency': 33, 'from_collapse_limit': 455432714, 'geqo_effort': 9, 'geqo_generations': 1044990976, 'geqo_pool_size': 1064506595, 'geqo_seed': 0.5005961367505526, 'geqo_threshold': 2079916746, 'join_collapse_limit': 861407680, 'maintenance_work_mem': 860053679, 'max_connections': 1591, 'max_wal_senders': 26, 'shared_buffers': 1374708, 'temp_buffers': 269560973, 'temp_file_limit': 2127865355, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 2993, 'vacuum_cost_page_dirty': 8856, 'vacuum_cost_page_hit': 488, 'vacuum_cost_page_miss': 4641, 'wal_buffers': 7215, 'wal_writer_delay': 7435, 'work_mem': 924690549}, QPS: -1908.012523062762
Performance (QPS): -1908.012523062762
Evaluating configuration: {'autovacuum_analyze_scale_factor': 87.13615147025021, 'autovacuum_analyze_threshold': 2112280563, 'autovacuum_max_workers': 116, 'autovacuum_naptime': 1256015, 'autovacuum_vacuum_cost_delay': 25, 'autovacuum_vacuum_cost_limit': 8880, 'autovacuum_vacuum_scale_factor': 84.83888285229075, 'autovacuum_vacuum_threshold': 1963748509, 'backend_flush_after': 16, 'bgwriter_delay': 4795, 'bgwriter_flush_after': 254, 'bgwriter_lru_maxpages': 362, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.21384512488519958, 'checkpoint_flush_after': 195, 'checkpoint_timeout': 2629, 'commit_delay': 65241, 'commit_siblings': 958, 'cursor_tuple_fraction': 0.8168005414242353, 'deadlock_timeout': 1007034548, 'default_statistics_target': 9623, 'effective_cache_size': 2031880394, 'effective_io_concurrency': 74, 'from_collapse_limit': 70284001, 'geqo_effort': 6, 'geqo_generations': 1564573814, 'geqo_pool_size': 536644929, 'geqo_seed': 0.41461581343335097, 'geqo_threshold': 1786159309, 'join_collapse_limit': 269765097, 'maintenance_work_mem': 1270363891, 'max_connections': 200, 'max_wal_senders': 17, 'shared_buffers': 2708423, 'temp_buffers': 1067403359, 'temp_file_limit': 1602902233, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 3344, 'vacuum_cost_page_dirty': 9133, 'vacuum_cost_page_hit': 8971, 'vacuum_cost_page_miss': 5073, 'wal_buffers': 49706, 'wal_writer_delay': 1370, 'work_mem': 1759412152}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 87.13615147025021
Set autovacuum_analyze_threshold = 2112280563
Set autovacuum_max_workers = 116
Set autovacuum_naptime = 1256015
Set autovacuum_vacuum_cost_delay = 25
Set autovacuum_vacuum_cost_limit = 8880
Set autovacuum_vacuum_scale_factor = 84.83888285229075
Set autovacuum_vacuum_threshold = 1963748509
Set backend_flush_after = 16
Set bgwriter_delay = 4795
Set bgwriter_flush_after = 254
Set bgwriter_lru_maxpages = 362
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.21384512488519958
Set checkpoint_flush_after = 195
Set checkpoint_timeout = 2629
Set commit_delay = 65241
Set commit_siblings = 958
Set cursor_tuple_fraction = 0.8168005414242353
Set deadlock_timeout = 1007034548
Set default_statistics_target = 9623
Set effective_cache_size = 2031880394
Set effective_io_concurrency = 74
Set from_collapse_limit = 70284001
Set geqo_effort = 6
Set geqo_generations = 1564573814
Set geqo_pool_size = 536644929
Set geqo_seed = 0.41461581343335097
Set geqo_threshold = 1786159309
Set join_collapse_limit = 269765097
Set maintenance_work_mem = 1270363891
Set max_connections = 200
Set max_wal_senders = 17
Set shared_buffers = 2708423
Set temp_buffers = 1067403359
Set temp_file_limit = 1602902233
Set vacuum_cost_delay = 51
Set vacuum_cost_limit = 3344
Set vacuum_cost_page_dirty = 9133
Set vacuum_cost_page_hit = 8971
Set vacuum_cost_page_miss = 5073
Set wal_buffers = 49706
Set wal_writer_delay = 1370
Set work_mem = 1759412152
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-03-32.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-03-32.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-03-32.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-03-32.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-03-32.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-03-32.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-03-32.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-03-32.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-03-32.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-03-32.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763722948.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-03-32.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-03-32.results.RemoveWatchList.csv
Parsed throughput from summary.json: 1807.7116451628365
BenchBase wikipedia throughput: 1807.7116451628365
Configuration: {'autovacuum_analyze_scale_factor': 87.13615147025021, 'autovacuum_analyze_threshold': 2112280563, 'autovacuum_max_workers': 116, 'autovacuum_naptime': 1256015, 'autovacuum_vacuum_cost_delay': 25, 'autovacuum_vacuum_cost_limit': 8880, 'autovacuum_vacuum_scale_factor': 84.83888285229075, 'autovacuum_vacuum_threshold': 1963748509, 'backend_flush_after': 16, 'bgwriter_delay': 4795, 'bgwriter_flush_after': 254, 'bgwriter_lru_maxpages': 362, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.21384512488519958, 'checkpoint_flush_after': 195, 'checkpoint_timeout': 2629, 'commit_delay': 65241, 'commit_siblings': 958, 'cursor_tuple_fraction': 0.8168005414242353, 'deadlock_timeout': 1007034548, 'default_statistics_target': 9623, 'effective_cache_size': 2031880394, 'effective_io_concurrency': 74, 'from_collapse_limit': 70284001, 'geqo_effort': 6, 'geqo_generations': 1564573814, 'geqo_pool_size': 536644929, 'geqo_seed': 0.41461581343335097, 'geqo_threshold': 1786159309, 'join_collapse_limit': 269765097, 'maintenance_work_mem': 1270363891, 'max_connections': 200, 'max_wal_senders': 17, 'shared_buffers': 2708423, 'temp_buffers': 1067403359, 'temp_file_limit': 1602902233, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 3344, 'vacuum_cost_page_dirty': 9133, 'vacuum_cost_page_hit': 8971, 'vacuum_cost_page_miss': 5073, 'wal_buffers': 49706, 'wal_writer_delay': 1370, 'work_mem': 1759412152}, QPS: -1807.7116451628365
Performance (QPS): -1807.7116451628365
Evaluating configuration: {'autovacuum_analyze_scale_factor': 96.42126600361132, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 5062, 'autovacuum_vacuum_scale_factor': 36.81414019432137, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 234, 'bgwriter_delay': 1961, 'bgwriter_flush_after': 42, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 38614, 'commit_siblings': 196, 'cursor_tuple_fraction': 0.6622066655952287, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.4972346220650422, 'geqo_threshold': 21314935, 'join_collapse_limit': 1184884736, 'maintenance_work_mem': 1725796169, 'max_connections': 479, 'max_wal_senders': 2, 'shared_buffers': 3598674, 'temp_buffers': 981048264, 'temp_file_limit': 892921855, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 6725, 'wal_buffers': 16932, 'wal_writer_delay': 6096, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 96.42126600361132
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1088155
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 5062
Set autovacuum_vacuum_scale_factor = 36.81414019432137
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 234
Set bgwriter_delay = 1961
Set bgwriter_flush_after = 42
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6424217484891415
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1302
Set commit_delay = 38614
Set commit_siblings = 196
Set cursor_tuple_fraction = 0.6622066655952287
Set deadlock_timeout = 112034326
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.4972346220650422
Set geqo_threshold = 21314935
Set join_collapse_limit = 1184884736
Set maintenance_work_mem = 1725796169
Set max_connections = 479
Set max_wal_senders = 2
Set shared_buffers = 3598674
Set temp_buffers = 981048264
Set temp_file_limit = 892921855
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 6725
Set wal_buffers = 16932
Set wal_writer_delay = 6096
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-05-11.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-05-11.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-05-11.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-05-11.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-05-11.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-05-11.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-05-11.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-05-11.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763723048.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-05-11.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-05-11.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-05-11.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-05-11.results.UpdatePage.csv
Parsed throughput from summary.json: 1637.4450232968734
BenchBase wikipedia throughput: 1637.4450232968734
Configuration: {'autovacuum_analyze_scale_factor': 96.42126600361132, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 5062, 'autovacuum_vacuum_scale_factor': 36.81414019432137, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 234, 'bgwriter_delay': 1961, 'bgwriter_flush_after': 42, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 38614, 'commit_siblings': 196, 'cursor_tuple_fraction': 0.6622066655952287, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.4972346220650422, 'geqo_threshold': 21314935, 'join_collapse_limit': 1184884736, 'maintenance_work_mem': 1725796169, 'max_connections': 479, 'max_wal_senders': 2, 'shared_buffers': 3598674, 'temp_buffers': 981048264, 'temp_file_limit': 892921855, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 6725, 'wal_buffers': 16932, 'wal_writer_delay': 6096, 'work_mem': 1175555276}, QPS: -1637.4450232968734
Performance (QPS): -1637.4450232968734
Evaluating configuration: {'autovacuum_analyze_scale_factor': 97.91216187580221, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 184, 'autovacuum_naptime': 1052687, 'autovacuum_vacuum_cost_delay': 57, 'autovacuum_vacuum_cost_limit': 5488, 'autovacuum_vacuum_scale_factor': 40.46340071614174, 'autovacuum_vacuum_threshold': 962213440, 'backend_flush_after': 253, 'bgwriter_delay': 1665, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 388, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.6404881026088906, 'checkpoint_flush_after': 193, 'checkpoint_timeout': 1386, 'commit_delay': 39368, 'commit_siblings': 135, 'cursor_tuple_fraction': 0.6132444365484879, 'deadlock_timeout': 85121320, 'default_statistics_target': 5041, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 709, 'from_collapse_limit': 36623972, 'geqo_effort': 3, 'geqo_generations': 1055850880, 'geqo_pool_size': 2011711999, 'geqo_seed': 0.3367567754969912, 'geqo_threshold': 22158775, 'join_collapse_limit': 1074275968, 'maintenance_work_mem': 1656762473, 'max_connections': 463, 'max_wal_senders': 7, 'shared_buffers': 3546385, 'temp_buffers': 946990475, 'temp_file_limit': 693238143, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6794, 'vacuum_cost_page_dirty': 5663, 'vacuum_cost_page_hit': 2561, 'vacuum_cost_page_miss': 5750, 'wal_buffers': 15714, 'wal_writer_delay': 6010, 'work_mem': 1325572888}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 97.91216187580221
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 184
Set autovacuum_naptime = 1052687
Set autovacuum_vacuum_cost_delay = 57
Set autovacuum_vacuum_cost_limit = 5488
Set autovacuum_vacuum_scale_factor = 40.46340071614174
Set autovacuum_vacuum_threshold = 962213440
Set backend_flush_after = 253
Set bgwriter_delay = 1665
Set bgwriter_flush_after = 40
Set bgwriter_lru_maxpages = 388
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.6404881026088906
Set checkpoint_flush_after = 193
Set checkpoint_timeout = 1386
Set commit_delay = 39368
Set commit_siblings = 135
Set cursor_tuple_fraction = 0.6132444365484879
Set deadlock_timeout = 85121320
Set default_statistics_target = 5041
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 709
Set from_collapse_limit = 36623972
Set geqo_effort = 3
Set geqo_generations = 1055850880
Set geqo_pool_size = 2011711999
Set geqo_seed = 0.3367567754969912
Set geqo_threshold = 22158775
Set join_collapse_limit = 1074275968
Set maintenance_work_mem = 1656762473
Set max_connections = 463
Set max_wal_senders = 7
Set shared_buffers = 3546385
Set temp_buffers = 946990475
Set temp_file_limit = 693238143
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6794
Set vacuum_cost_page_dirty = 5663
Set vacuum_cost_page_hit = 2561
Set vacuum_cost_page_miss = 5750
Set wal_buffers = 15714
Set wal_writer_delay = 6010
Set work_mem = 1325572888
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-06-52.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-06-52.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763723149.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-06-52.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-06-52.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-06-52.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-06-52.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-06-52.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-06-52.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-06-52.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-06-52.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-06-52.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-06-52.results.AddWatchList.csv
Parsed throughput from summary.json: 1989.919347962756
BenchBase wikipedia throughput: 1989.919347962756
Configuration: {'autovacuum_analyze_scale_factor': 97.91216187580221, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 184, 'autovacuum_naptime': 1052687, 'autovacuum_vacuum_cost_delay': 57, 'autovacuum_vacuum_cost_limit': 5488, 'autovacuum_vacuum_scale_factor': 40.46340071614174, 'autovacuum_vacuum_threshold': 962213440, 'backend_flush_after': 253, 'bgwriter_delay': 1665, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 388, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.6404881026088906, 'checkpoint_flush_after': 193, 'checkpoint_timeout': 1386, 'commit_delay': 39368, 'commit_siblings': 135, 'cursor_tuple_fraction': 0.6132444365484879, 'deadlock_timeout': 85121320, 'default_statistics_target': 5041, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 709, 'from_collapse_limit': 36623972, 'geqo_effort': 3, 'geqo_generations': 1055850880, 'geqo_pool_size': 2011711999, 'geqo_seed': 0.3367567754969912, 'geqo_threshold': 22158775, 'join_collapse_limit': 1074275968, 'maintenance_work_mem': 1656762473, 'max_connections': 463, 'max_wal_senders': 7, 'shared_buffers': 3546385, 'temp_buffers': 946990475, 'temp_file_limit': 693238143, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6794, 'vacuum_cost_page_dirty': 5663, 'vacuum_cost_page_hit': 2561, 'vacuum_cost_page_miss': 5750, 'wal_buffers': 15714, 'wal_writer_delay': 6010, 'work_mem': 1325572888}, QPS: -1989.919347962756
Performance (QPS): -1989.919347962756
Evaluating configuration: {'autovacuum_analyze_scale_factor': 36.87922582060482, 'autovacuum_analyze_threshold': 2045091160, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 1754463, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 5482, 'autovacuum_vacuum_scale_factor': 88.67428935215321, 'autovacuum_vacuum_threshold': 150807232, 'backend_flush_after': 253, 'bgwriter_delay': 3784, 'bgwriter_flush_after': 211, 'bgwriter_lru_maxpages': 727, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.5734842500531225, 'checkpoint_flush_after': 183, 'checkpoint_timeout': 1295, 'commit_delay': 42278, 'commit_siblings': 110, 'cursor_tuple_fraction': 0.49988307676682286, 'deadlock_timeout': 306793227, 'default_statistics_target': 6061, 'effective_cache_size': 132504432, 'effective_io_concurrency': 616, 'from_collapse_limit': 609984192, 'geqo_effort': 1, 'geqo_generations': 547066304, 'geqo_pool_size': 1342523647, 'geqo_seed': 0.46341079071761315, 'geqo_threshold': 2065051392, 'join_collapse_limit': 1661809536, 'maintenance_work_mem': 1808809505, 'max_connections': 1749, 'max_wal_senders': 8, 'shared_buffers': 2612509, 'temp_buffers': 739507039, 'temp_file_limit': 2023812991, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 5651, 'vacuum_cost_page_dirty': 6708, 'vacuum_cost_page_hit': 3187, 'vacuum_cost_page_miss': 9762, 'wal_buffers': 2777, 'wal_writer_delay': 6050, 'work_mem': 959405859}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 36.87922582060482
Set autovacuum_analyze_threshold = 2045091160
Set autovacuum_max_workers = 3
Set autovacuum_naptime = 1754463
Set autovacuum_vacuum_cost_delay = 96
Set autovacuum_vacuum_cost_limit = 5482
Set autovacuum_vacuum_scale_factor = 88.67428935215321
Set autovacuum_vacuum_threshold = 150807232
Set backend_flush_after = 253
Set bgwriter_delay = 3784
Set bgwriter_flush_after = 211
Set bgwriter_lru_maxpages = 727
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.5734842500531225
Set checkpoint_flush_after = 183
Set checkpoint_timeout = 1295
Set commit_delay = 42278
Set commit_siblings = 110
Set cursor_tuple_fraction = 0.49988307676682286
Set deadlock_timeout = 306793227
Set default_statistics_target = 6061
Set effective_cache_size = 132504432
Set effective_io_concurrency = 616
Set from_collapse_limit = 609984192
Set geqo_effort = 1
Set geqo_generations = 547066304
Set geqo_pool_size = 1342523647
Set geqo_seed = 0.46341079071761315
Set geqo_threshold = 2065051392
Set join_collapse_limit = 1661809536
Set maintenance_work_mem = 1808809505
Set max_connections = 1749
Set max_wal_senders = 8
Set shared_buffers = 2612509
Set temp_buffers = 739507039
Set temp_file_limit = 2023812991
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 5651
Set vacuum_cost_page_dirty = 6708
Set vacuum_cost_page_hit = 3187
Set vacuum_cost_page_miss = 9762
Set wal_buffers = 2777
Set wal_writer_delay = 6050
Set work_mem = 959405859
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-08-31.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-08-31.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763723248.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-08-31.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-08-31.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-08-31.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-08-31.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-08-31.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-08-31.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-08-31.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-08-31.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-08-31.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-08-31.metrics.json
Parsed throughput from summary.json: 1862.7349967135947
BenchBase wikipedia throughput: 1862.7349967135947
Configuration: {'autovacuum_analyze_scale_factor': 36.87922582060482, 'autovacuum_analyze_threshold': 2045091160, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 1754463, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 5482, 'autovacuum_vacuum_scale_factor': 88.67428935215321, 'autovacuum_vacuum_threshold': 150807232, 'backend_flush_after': 253, 'bgwriter_delay': 3784, 'bgwriter_flush_after': 211, 'bgwriter_lru_maxpages': 727, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.5734842500531225, 'checkpoint_flush_after': 183, 'checkpoint_timeout': 1295, 'commit_delay': 42278, 'commit_siblings': 110, 'cursor_tuple_fraction': 0.49988307676682286, 'deadlock_timeout': 306793227, 'default_statistics_target': 6061, 'effective_cache_size': 132504432, 'effective_io_concurrency': 616, 'from_collapse_limit': 609984192, 'geqo_effort': 1, 'geqo_generations': 547066304, 'geqo_pool_size': 1342523647, 'geqo_seed': 0.46341079071761315, 'geqo_threshold': 2065051392, 'join_collapse_limit': 1661809536, 'maintenance_work_mem': 1808809505, 'max_connections': 1749, 'max_wal_senders': 8, 'shared_buffers': 2612509, 'temp_buffers': 739507039, 'temp_file_limit': 2023812991, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 5651, 'vacuum_cost_page_dirty': 6708, 'vacuum_cost_page_hit': 3187, 'vacuum_cost_page_miss': 9762, 'wal_buffers': 2777, 'wal_writer_delay': 6050, 'work_mem': 959405859}, QPS: -1862.7349967135947
Performance (QPS): -1862.7349967135947
Evaluating configuration: {'autovacuum_analyze_scale_factor': 24.864547979415896, 'autovacuum_analyze_threshold': 1644653823, 'autovacuum_max_workers': 158, 'autovacuum_naptime': 1589225, 'autovacuum_vacuum_cost_delay': 9, 'autovacuum_vacuum_cost_limit': 3239, 'autovacuum_vacuum_scale_factor': 39.353063111246044, 'autovacuum_vacuum_threshold': 998323536, 'backend_flush_after': 76, 'bgwriter_delay': 200, 'bgwriter_flush_after': 142, 'bgwriter_lru_maxpages': 769, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.25361030214551394, 'checkpoint_flush_after': 55, 'checkpoint_timeout': 908, 'commit_delay': 45636, 'commit_siblings': 709, 'cursor_tuple_fraction': 0.23693356327597648, 'deadlock_timeout': 604424064, 'default_statistics_target': 4355, 'effective_cache_size': 2138090368, 'effective_io_concurrency': 52, 'from_collapse_limit': 1234238878, 'geqo_effort': 2, 'geqo_generations': 373439460, 'geqo_pool_size': 1251950731, 'geqo_seed': 0.7924863682522566, 'geqo_threshold': 630189185, 'join_collapse_limit': 1705992704, 'maintenance_work_mem': 1930436455, 'max_connections': 725, 'max_wal_senders': 32, 'shared_buffers': 1520628, 'temp_buffers': 199681857, 'temp_file_limit': 1002318962, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 894, 'vacuum_cost_page_dirty': 8830, 'vacuum_cost_page_hit': 3065, 'vacuum_cost_page_miss': 3127, 'wal_buffers': 128727, 'wal_writer_delay': 705, 'work_mem': 1130754325}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 24.864547979415896
Set autovacuum_analyze_threshold = 1644653823
Set autovacuum_max_workers = 158
Set autovacuum_naptime = 1589225
Set autovacuum_vacuum_cost_delay = 9
Set autovacuum_vacuum_cost_limit = 3239
Set autovacuum_vacuum_scale_factor = 39.353063111246044
Set autovacuum_vacuum_threshold = 998323536
Set backend_flush_after = 76
Set bgwriter_delay = 200
Set bgwriter_flush_after = 142
Set bgwriter_lru_maxpages = 769
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.25361030214551394
Set checkpoint_flush_after = 55
Set checkpoint_timeout = 908
Set commit_delay = 45636
Set commit_siblings = 709
Set cursor_tuple_fraction = 0.23693356327597648
Set deadlock_timeout = 604424064
Set default_statistics_target = 4355
Set effective_cache_size = 2138090368
Set effective_io_concurrency = 52
Set from_collapse_limit = 1234238878
Set geqo_effort = 2
Set geqo_generations = 373439460
Set geqo_pool_size = 1251950731
Set geqo_seed = 0.7924863682522566
Set geqo_threshold = 630189185
Set join_collapse_limit = 1705992704
Set maintenance_work_mem = 1930436455
Set max_connections = 725
Set max_wal_senders = 32
Set shared_buffers = 1520628
Set temp_buffers = 199681857
Set temp_file_limit = 1002318962
Set vacuum_cost_delay = 7
Set vacuum_cost_limit = 894
Set vacuum_cost_page_dirty = 8830
Set vacuum_cost_page_hit = 3065
Set vacuum_cost_page_miss = 3127
Set wal_buffers = 128727
Set wal_writer_delay = 705
Set work_mem = 1130754325
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-10-12.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-10-12.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-10-12.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-10-12.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-10-12.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-10-12.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763723348.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-10-12.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-10-12.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-10-12.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-10-12.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-10-12.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-10-12.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 1833.2764721277933
BenchBase wikipedia throughput: 1833.2764721277933
Configuration: {'autovacuum_analyze_scale_factor': 24.864547979415896, 'autovacuum_analyze_threshold': 1644653823, 'autovacuum_max_workers': 158, 'autovacuum_naptime': 1589225, 'autovacuum_vacuum_cost_delay': 9, 'autovacuum_vacuum_cost_limit': 3239, 'autovacuum_vacuum_scale_factor': 39.353063111246044, 'autovacuum_vacuum_threshold': 998323536, 'backend_flush_after': 76, 'bgwriter_delay': 200, 'bgwriter_flush_after': 142, 'bgwriter_lru_maxpages': 769, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.25361030214551394, 'checkpoint_flush_after': 55, 'checkpoint_timeout': 908, 'commit_delay': 45636, 'commit_siblings': 709, 'cursor_tuple_fraction': 0.23693356327597648, 'deadlock_timeout': 604424064, 'default_statistics_target': 4355, 'effective_cache_size': 2138090368, 'effective_io_concurrency': 52, 'from_collapse_limit': 1234238878, 'geqo_effort': 2, 'geqo_generations': 373439460, 'geqo_pool_size': 1251950731, 'geqo_seed': 0.7924863682522566, 'geqo_threshold': 630189185, 'join_collapse_limit': 1705992704, 'maintenance_work_mem': 1930436455, 'max_connections': 725, 'max_wal_senders': 32, 'shared_buffers': 1520628, 'temp_buffers': 199681857, 'temp_file_limit': 1002318962, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 894, 'vacuum_cost_page_dirty': 8830, 'vacuum_cost_page_hit': 3065, 'vacuum_cost_page_miss': 3127, 'wal_buffers': 128727, 'wal_writer_delay': 705, 'work_mem': 1130754325}, QPS: -1833.2764721277933
Performance (QPS): -1833.2764721277933
Evaluating configuration: {'autovacuum_analyze_scale_factor': 61.05673535524993, 'autovacuum_analyze_threshold': 1985859636, 'autovacuum_max_workers': 195, 'autovacuum_naptime': 982356, 'autovacuum_vacuum_cost_delay': 24, 'autovacuum_vacuum_cost_limit': 1490, 'autovacuum_vacuum_scale_factor': 77.57381433013255, 'autovacuum_vacuum_threshold': 1221666243, 'backend_flush_after': 207, 'bgwriter_delay': 7306, 'bgwriter_flush_after': 233, 'bgwriter_lru_maxpages': 483, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.7944581977687236, 'checkpoint_flush_after': 115, 'checkpoint_timeout': 336, 'commit_delay': 38797, 'commit_siblings': 319, 'cursor_tuple_fraction': 0.9029854196058619, 'deadlock_timeout': 1014071815, 'default_statistics_target': 9481, 'effective_cache_size': 18822942, 'effective_io_concurrency': 208, 'from_collapse_limit': 365957282, 'geqo_effort': 4, 'geqo_generations': 1965207334, 'geqo_pool_size': 1346427015, 'geqo_seed': 0.9595356508926616, 'geqo_threshold': 1817773377, 'join_collapse_limit': 1772105387, 'maintenance_work_mem': 1104631535, 'max_connections': 2599, 'max_wal_senders': 8, 'shared_buffers': 1213788, 'temp_buffers': 148418869, 'temp_file_limit': 1395130162, 'vacuum_cost_delay': 16, 'vacuum_cost_limit': 163, 'vacuum_cost_page_dirty': 7865, 'vacuum_cost_page_hit': 5675, 'vacuum_cost_page_miss': 2370, 'wal_buffers': 446, 'wal_writer_delay': 3713, 'work_mem': 500715040}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 61.05673535524993
Set autovacuum_analyze_threshold = 1985859636
Set autovacuum_max_workers = 195
Set autovacuum_naptime = 982356
Set autovacuum_vacuum_cost_delay = 24
Set autovacuum_vacuum_cost_limit = 1490
Set autovacuum_vacuum_scale_factor = 77.57381433013255
Set autovacuum_vacuum_threshold = 1221666243
Set backend_flush_after = 207
Set bgwriter_delay = 7306
Set bgwriter_flush_after = 233
Set bgwriter_lru_maxpages = 483
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.7944581977687236
Set checkpoint_flush_after = 115
Set checkpoint_timeout = 336
Set commit_delay = 38797
Set commit_siblings = 319
Set cursor_tuple_fraction = 0.9029854196058619
Set deadlock_timeout = 1014071815
Set default_statistics_target = 9481
Set effective_cache_size = 18822942
Set effective_io_concurrency = 208
Set from_collapse_limit = 365957282
Set geqo_effort = 4
Set geqo_generations = 1965207334
Set geqo_pool_size = 1346427015
Set geqo_seed = 0.9595356508926616
Set geqo_threshold = 1817773377
Set join_collapse_limit = 1772105387
Set maintenance_work_mem = 1104631535
Set max_connections = 2599
Set max_wal_senders = 8
Set shared_buffers = 1213788
Set temp_buffers = 148418869
Set temp_file_limit = 1395130162
Set vacuum_cost_delay = 16
Set vacuum_cost_limit = 163
Set vacuum_cost_page_dirty = 7865
Set vacuum_cost_page_hit = 5675
Set vacuum_cost_page_miss = 2370
Set wal_buffers = 446
Set wal_writer_delay = 3713
Set work_mem = 500715040
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-11-46.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763723442.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-11-46.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-11-46.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-11-46.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-11-46.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-11-46.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-11-46.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-11-46.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-11-46.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-11-46.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-11-46.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-11-46.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Parsed throughput from summary.json: 1773.3682925401672
BenchBase wikipedia throughput: 1773.3682925401672
Configuration: {'autovacuum_analyze_scale_factor': 61.05673535524993, 'autovacuum_analyze_threshold': 1985859636, 'autovacuum_max_workers': 195, 'autovacuum_naptime': 982356, 'autovacuum_vacuum_cost_delay': 24, 'autovacuum_vacuum_cost_limit': 1490, 'autovacuum_vacuum_scale_factor': 77.57381433013255, 'autovacuum_vacuum_threshold': 1221666243, 'backend_flush_after': 207, 'bgwriter_delay': 7306, 'bgwriter_flush_after': 233, 'bgwriter_lru_maxpages': 483, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.7944581977687236, 'checkpoint_flush_after': 115, 'checkpoint_timeout': 336, 'commit_delay': 38797, 'commit_siblings': 319, 'cursor_tuple_fraction': 0.9029854196058619, 'deadlock_timeout': 1014071815, 'default_statistics_target': 9481, 'effective_cache_size': 18822942, 'effective_io_concurrency': 208, 'from_collapse_limit': 365957282, 'geqo_effort': 4, 'geqo_generations': 1965207334, 'geqo_pool_size': 1346427015, 'geqo_seed': 0.9595356508926616, 'geqo_threshold': 1817773377, 'join_collapse_limit': 1772105387, 'maintenance_work_mem': 1104631535, 'max_connections': 2599, 'max_wal_senders': 8, 'shared_buffers': 1213788, 'temp_buffers': 148418869, 'temp_file_limit': 1395130162, 'vacuum_cost_delay': 16, 'vacuum_cost_limit': 163, 'vacuum_cost_page_dirty': 7865, 'vacuum_cost_page_hit': 5675, 'vacuum_cost_page_miss': 2370, 'wal_buffers': 446, 'wal_writer_delay': 3713, 'work_mem': 500715040}, QPS: -1773.3682925401672
Performance (QPS): -1773.3682925401672
Evaluating configuration: {'autovacuum_analyze_scale_factor': 47.524026384540335, 'autovacuum_analyze_threshold': 998106624, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1752503, 'autovacuum_vacuum_cost_delay': 27, 'autovacuum_vacuum_cost_limit': 9718, 'autovacuum_vacuum_scale_factor': 24.53723113230668, 'autovacuum_vacuum_threshold': 436349152, 'backend_flush_after': 81, 'bgwriter_delay': 5705, 'bgwriter_flush_after': 126, 'bgwriter_lru_maxpages': 448, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.2480776950116898, 'checkpoint_flush_after': 237, 'checkpoint_timeout': 3577, 'commit_delay': 22993, 'commit_siblings': 995, 'cursor_tuple_fraction': 0.13785251790692366, 'deadlock_timeout': 1786538368, 'default_statistics_target': 9181, 'effective_cache_size': 668462278, 'effective_io_concurrency': 200, 'from_collapse_limit': 1909322752, 'geqo_effort': 2, 'geqo_generations': 416696256, 'geqo_pool_size': 2051065215, 'geqo_seed': 0.592846216429701, 'geqo_threshold': 802244865, 'join_collapse_limit': 1671497140, 'maintenance_work_mem': 1267316691, 'max_connections': 499, 'max_wal_senders': 27, 'shared_buffers': 3477577, 'temp_buffers': 4462177, 'temp_file_limit': 188952649, 'vacuum_cost_delay': 72, 'vacuum_cost_limit': 5486, 'vacuum_cost_page_dirty': 5978, 'vacuum_cost_page_hit': 4887, 'vacuum_cost_page_miss': 6790, 'wal_buffers': 15481, 'wal_writer_delay': 5908, 'work_mem': 2017095668}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 47.524026384540335
Set autovacuum_analyze_threshold = 998106624
Set autovacuum_max_workers = 183
Set autovacuum_naptime = 1752503
Set autovacuum_vacuum_cost_delay = 27
Set autovacuum_vacuum_cost_limit = 9718
Set autovacuum_vacuum_scale_factor = 24.53723113230668
Set autovacuum_vacuum_threshold = 436349152
Set backend_flush_after = 81
Set bgwriter_delay = 5705
Set bgwriter_flush_after = 126
Set bgwriter_lru_maxpages = 448
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.2480776950116898
Set checkpoint_flush_after = 237
Set checkpoint_timeout = 3577
Set commit_delay = 22993
Set commit_siblings = 995
Set cursor_tuple_fraction = 0.13785251790692366
Set deadlock_timeout = 1786538368
Set default_statistics_target = 9181
Set effective_cache_size = 668462278
Set effective_io_concurrency = 200
Set from_collapse_limit = 1909322752
Set geqo_effort = 2
Set geqo_generations = 416696256
Set geqo_pool_size = 2051065215
Set geqo_seed = 0.592846216429701
Set geqo_threshold = 802244865
Set join_collapse_limit = 1671497140
Set maintenance_work_mem = 1267316691
Set max_connections = 499
Set max_wal_senders = 27
Set shared_buffers = 3477577
Set temp_buffers = 4462177
Set temp_file_limit = 188952649
Set vacuum_cost_delay = 72
Set vacuum_cost_limit = 5486
Set vacuum_cost_page_dirty = 5978
Set vacuum_cost_page_hit = 4887
Set vacuum_cost_page_miss = 6790
Set wal_buffers = 15481
Set wal_writer_delay = 5908
Set work_mem = 2017095668
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-13-48.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-13-48.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-13-48.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-13-48.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-13-48.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-13-48.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-13-48.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763723542.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-13-48.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-13-48.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-13-48.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-13-48.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-13-48.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 1703.4882618377694
BenchBase wikipedia throughput: 1703.4882618377694
Configuration: {'autovacuum_analyze_scale_factor': 47.524026384540335, 'autovacuum_analyze_threshold': 998106624, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1752503, 'autovacuum_vacuum_cost_delay': 27, 'autovacuum_vacuum_cost_limit': 9718, 'autovacuum_vacuum_scale_factor': 24.53723113230668, 'autovacuum_vacuum_threshold': 436349152, 'backend_flush_after': 81, 'bgwriter_delay': 5705, 'bgwriter_flush_after': 126, 'bgwriter_lru_maxpages': 448, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.2480776950116898, 'checkpoint_flush_after': 237, 'checkpoint_timeout': 3577, 'commit_delay': 22993, 'commit_siblings': 995, 'cursor_tuple_fraction': 0.13785251790692366, 'deadlock_timeout': 1786538368, 'default_statistics_target': 9181, 'effective_cache_size': 668462278, 'effective_io_concurrency': 200, 'from_collapse_limit': 1909322752, 'geqo_effort': 2, 'geqo_generations': 416696256, 'geqo_pool_size': 2051065215, 'geqo_seed': 0.592846216429701, 'geqo_threshold': 802244865, 'join_collapse_limit': 1671497140, 'maintenance_work_mem': 1267316691, 'max_connections': 499, 'max_wal_senders': 27, 'shared_buffers': 3477577, 'temp_buffers': 4462177, 'temp_file_limit': 188952649, 'vacuum_cost_delay': 72, 'vacuum_cost_limit': 5486, 'vacuum_cost_page_dirty': 5978, 'vacuum_cost_page_hit': 4887, 'vacuum_cost_page_miss': 6790, 'wal_buffers': 15481, 'wal_writer_delay': 5908, 'work_mem': 2017095668}, QPS: -1703.4882618377694
Performance (QPS): -1703.4882618377694
Evaluating configuration: {'autovacuum_analyze_scale_factor': 54.24880907659916, 'autovacuum_analyze_threshold': 840887568, 'autovacuum_max_workers': 62, 'autovacuum_naptime': 1140939, 'autovacuum_vacuum_cost_delay': 61, 'autovacuum_vacuum_cost_limit': 9784, 'autovacuum_vacuum_scale_factor': 18.498914836673386, 'autovacuum_vacuum_threshold': 760956808, 'backend_flush_after': 59, 'bgwriter_delay': 6524, 'bgwriter_flush_after': 142, 'bgwriter_lru_maxpages': 855, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.8382244759837941, 'checkpoint_flush_after': 83, 'checkpoint_timeout': 1152, 'commit_delay': 92077, 'commit_siblings': 151, 'cursor_tuple_fraction': 0.6225652690401802, 'deadlock_timeout': 84922938, 'default_statistics_target': 5839, 'effective_cache_size': 672468928, 'effective_io_concurrency': 540, 'from_collapse_limit': 1434889344, 'geqo_effort': 8, 'geqo_generations': 262058000, 'geqo_pool_size': 635540416, 'geqo_seed': 0.9265030536421895, 'geqo_threshold': 36805778, 'join_collapse_limit': 1206318464, 'maintenance_work_mem': 2362209, 'max_connections': 1778, 'max_wal_senders': 29, 'shared_buffers': 2134833, 'temp_buffers': 29665589, 'temp_file_limit': 162269245, 'vacuum_cost_delay': 62, 'vacuum_cost_limit': 8775, 'vacuum_cost_page_dirty': 6249, 'vacuum_cost_page_hit': 6071, 'vacuum_cost_page_miss': 7631, 'wal_buffers': 46490, 'wal_writer_delay': 8172, 'work_mem': 1402513602}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 54.24880907659916
Set autovacuum_analyze_threshold = 840887568
Set autovacuum_max_workers = 62
Set autovacuum_naptime = 1140939
Set autovacuum_vacuum_cost_delay = 61
Set autovacuum_vacuum_cost_limit = 9784
Set autovacuum_vacuum_scale_factor = 18.498914836673386
Set autovacuum_vacuum_threshold = 760956808
Set backend_flush_after = 59
Set bgwriter_delay = 6524
Set bgwriter_flush_after = 142
Set bgwriter_lru_maxpages = 855
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.8382244759837941
Set checkpoint_flush_after = 83
Set checkpoint_timeout = 1152
Set commit_delay = 92077
Set commit_siblings = 151
Set cursor_tuple_fraction = 0.6225652690401802
Set deadlock_timeout = 84922938
Set default_statistics_target = 5839
Set effective_cache_size = 672468928
Set effective_io_concurrency = 540
Set from_collapse_limit = 1434889344
Set geqo_effort = 8
Set geqo_generations = 262058000
Set geqo_pool_size = 635540416
Set geqo_seed = 0.9265030536421895
Set geqo_threshold = 36805778
Set join_collapse_limit = 1206318464
Set maintenance_work_mem = 2362209
Set max_connections = 1778
Set max_wal_senders = 29
Set shared_buffers = 2134833
Set temp_buffers = 29665589
Set temp_file_limit = 162269245
Set vacuum_cost_delay = 62
Set vacuum_cost_limit = 8775
Set vacuum_cost_page_dirty = 6249
Set vacuum_cost_page_hit = 6071
Set vacuum_cost_page_miss = 7631
Set wal_buffers = 46490
Set wal_writer_delay = 8172
Set work_mem = 1402513602
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-15-27.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-15-27.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-15-27.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-15-27.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-15-27.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-15-27.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-15-27.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-15-27.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763723664.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-15-27.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-15-27.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-15-27.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-15-27.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Parsed throughput from summary.json: 1712.4003771339167
BenchBase wikipedia throughput: 1712.4003771339167
Configuration: {'autovacuum_analyze_scale_factor': 54.24880907659916, 'autovacuum_analyze_threshold': 840887568, 'autovacuum_max_workers': 62, 'autovacuum_naptime': 1140939, 'autovacuum_vacuum_cost_delay': 61, 'autovacuum_vacuum_cost_limit': 9784, 'autovacuum_vacuum_scale_factor': 18.498914836673386, 'autovacuum_vacuum_threshold': 760956808, 'backend_flush_after': 59, 'bgwriter_delay': 6524, 'bgwriter_flush_after': 142, 'bgwriter_lru_maxpages': 855, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.8382244759837941, 'checkpoint_flush_after': 83, 'checkpoint_timeout': 1152, 'commit_delay': 92077, 'commit_siblings': 151, 'cursor_tuple_fraction': 0.6225652690401802, 'deadlock_timeout': 84922938, 'default_statistics_target': 5839, 'effective_cache_size': 672468928, 'effective_io_concurrency': 540, 'from_collapse_limit': 1434889344, 'geqo_effort': 8, 'geqo_generations': 262058000, 'geqo_pool_size': 635540416, 'geqo_seed': 0.9265030536421895, 'geqo_threshold': 36805778, 'join_collapse_limit': 1206318464, 'maintenance_work_mem': 2362209, 'max_connections': 1778, 'max_wal_senders': 29, 'shared_buffers': 2134833, 'temp_buffers': 29665589, 'temp_file_limit': 162269245, 'vacuum_cost_delay': 62, 'vacuum_cost_limit': 8775, 'vacuum_cost_page_dirty': 6249, 'vacuum_cost_page_hit': 6071, 'vacuum_cost_page_miss': 7631, 'wal_buffers': 46490, 'wal_writer_delay': 8172, 'work_mem': 1402513602}, QPS: -1712.4003771339167
Performance (QPS): -1712.4003771339167
Evaluating configuration: {'autovacuum_analyze_scale_factor': 48.247682715856186, 'autovacuum_analyze_threshold': 908337843, 'autovacuum_max_workers': 6, 'autovacuum_naptime': 967347, 'autovacuum_vacuum_cost_delay': 85, 'autovacuum_vacuum_cost_limit': 1972, 'autovacuum_vacuum_scale_factor': 41.33898389811102, 'autovacuum_vacuum_threshold': 834654569, 'backend_flush_after': 211, 'bgwriter_delay': 6151, 'bgwriter_flush_after': 24, 'bgwriter_lru_maxpages': 324, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.4588619960402305, 'checkpoint_flush_after': 188, 'checkpoint_timeout': 985, 'commit_delay': 48020, 'commit_siblings': 884, 'cursor_tuple_fraction': 0.8638675778795362, 'deadlock_timeout': 1463181730, 'default_statistics_target': 8933, 'effective_cache_size': 118101263, 'effective_io_concurrency': 204, 'from_collapse_limit': 579165378, 'geqo_effort': 9, 'geqo_generations': 2085212650, 'geqo_pool_size': 167421999, 'geqo_seed': 0.9104405649059242, 'geqo_threshold': 94307159, 'join_collapse_limit': 168946951, 'maintenance_work_mem': 969961251, 'max_connections': 508, 'max_wal_senders': 41, 'shared_buffers': 3784403, 'temp_buffers': 887710945, 'temp_file_limit': 623054010, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 5216, 'vacuum_cost_page_dirty': 4654, 'vacuum_cost_page_hit': 5640, 'vacuum_cost_page_miss': 5202, 'wal_buffers': 12486, 'wal_writer_delay': 6, 'work_mem': 59719587}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 48.247682715856186
Set autovacuum_analyze_threshold = 908337843
Set autovacuum_max_workers = 6
Set autovacuum_naptime = 967347
Set autovacuum_vacuum_cost_delay = 85
Set autovacuum_vacuum_cost_limit = 1972
Set autovacuum_vacuum_scale_factor = 41.33898389811102
Set autovacuum_vacuum_threshold = 834654569
Set backend_flush_after = 211
Set bgwriter_delay = 6151
Set bgwriter_flush_after = 24
Set bgwriter_lru_maxpages = 324
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.4588619960402305
Set checkpoint_flush_after = 188
Set checkpoint_timeout = 985
Set commit_delay = 48020
Set commit_siblings = 884
Set cursor_tuple_fraction = 0.8638675778795362
Set deadlock_timeout = 1463181730
Set default_statistics_target = 8933
Set effective_cache_size = 118101263
Set effective_io_concurrency = 204
Set from_collapse_limit = 579165378
Set geqo_effort = 9
Set geqo_generations = 2085212650
Set geqo_pool_size = 167421999
Set geqo_seed = 0.9104405649059242
Set geqo_threshold = 94307159
Set join_collapse_limit = 168946951
Set maintenance_work_mem = 969961251
Set max_connections = 508
Set max_wal_senders = 41
Set shared_buffers = 3784403
Set temp_buffers = 887710945
Set temp_file_limit = 623054010
Set vacuum_cost_delay = 73
Set vacuum_cost_limit = 5216
Set vacuum_cost_page_dirty = 4654
Set vacuum_cost_page_hit = 5640
Set vacuum_cost_page_miss = 5202
Set wal_buffers = 12486
Set wal_writer_delay = 6
Set work_mem = 59719587
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-17-01.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-17-01.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-17-01.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-17-01.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-17-01.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-17-01.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763723758.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-17-01.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-17-01.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-17-01.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-17-01.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-17-01.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-17-01.raw.csv
Parsed throughput from summary.json: 1752.599458974947
BenchBase wikipedia throughput: 1752.599458974947
Configuration: {'autovacuum_analyze_scale_factor': 48.247682715856186, 'autovacuum_analyze_threshold': 908337843, 'autovacuum_max_workers': 6, 'autovacuum_naptime': 967347, 'autovacuum_vacuum_cost_delay': 85, 'autovacuum_vacuum_cost_limit': 1972, 'autovacuum_vacuum_scale_factor': 41.33898389811102, 'autovacuum_vacuum_threshold': 834654569, 'backend_flush_after': 211, 'bgwriter_delay': 6151, 'bgwriter_flush_after': 24, 'bgwriter_lru_maxpages': 324, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.4588619960402305, 'checkpoint_flush_after': 188, 'checkpoint_timeout': 985, 'commit_delay': 48020, 'commit_siblings': 884, 'cursor_tuple_fraction': 0.8638675778795362, 'deadlock_timeout': 1463181730, 'default_statistics_target': 8933, 'effective_cache_size': 118101263, 'effective_io_concurrency': 204, 'from_collapse_limit': 579165378, 'geqo_effort': 9, 'geqo_generations': 2085212650, 'geqo_pool_size': 167421999, 'geqo_seed': 0.9104405649059242, 'geqo_threshold': 94307159, 'join_collapse_limit': 168946951, 'maintenance_work_mem': 969961251, 'max_connections': 508, 'max_wal_senders': 41, 'shared_buffers': 3784403, 'temp_buffers': 887710945, 'temp_file_limit': 623054010, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 5216, 'vacuum_cost_page_dirty': 4654, 'vacuum_cost_page_hit': 5640, 'vacuum_cost_page_miss': 5202, 'wal_buffers': 12486, 'wal_writer_delay': 6, 'work_mem': 59719587}, QPS: -1752.599458974947
Performance (QPS): -1752.599458974947
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.24730561190705, 'autovacuum_analyze_threshold': 501512497, 'autovacuum_max_workers': 28, 'autovacuum_naptime': 767578, 'autovacuum_vacuum_cost_delay': 35, 'autovacuum_vacuum_cost_limit': 6408, 'autovacuum_vacuum_scale_factor': 28.543279262869138, 'autovacuum_vacuum_threshold': 220676263, 'backend_flush_after': 181, 'bgwriter_delay': 9328, 'bgwriter_flush_after': 250, 'bgwriter_lru_maxpages': 471, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.021415903988672103, 'checkpoint_flush_after': 256, 'checkpoint_timeout': 2345, 'commit_delay': 20972, 'commit_siblings': 964, 'cursor_tuple_fraction': 0.630820846289698, 'deadlock_timeout': 866888815, 'default_statistics_target': 3122, 'effective_cache_size': 1917753127, 'effective_io_concurrency': 915, 'from_collapse_limit': 678396267, 'geqo_effort': 7, 'geqo_generations': 1763775958, 'geqo_pool_size': 1151373716, 'geqo_seed': 0.7103824590714521, 'geqo_threshold': 1027531282, 'join_collapse_limit': 1613526392, 'maintenance_work_mem': 1126015028, 'max_connections': 2881, 'max_wal_senders': 39, 'shared_buffers': 1560422, 'temp_buffers': 863513680, 'temp_file_limit': 401450874, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 4654, 'vacuum_cost_page_dirty': 9771, 'vacuum_cost_page_hit': 1776, 'vacuum_cost_page_miss': 6434, 'wal_buffers': 18809, 'wal_writer_delay': 4319, 'work_mem': 977122116}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.24730561190705
Set autovacuum_analyze_threshold = 501512497
Set autovacuum_max_workers = 28
Set autovacuum_naptime = 767578
Set autovacuum_vacuum_cost_delay = 35
Set autovacuum_vacuum_cost_limit = 6408
Set autovacuum_vacuum_scale_factor = 28.543279262869138
Set autovacuum_vacuum_threshold = 220676263
Set backend_flush_after = 181
Set bgwriter_delay = 9328
Set bgwriter_flush_after = 250
Set bgwriter_lru_maxpages = 471
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.021415903988672103
Set checkpoint_flush_after = 256
Set checkpoint_timeout = 2345
Set commit_delay = 20972
Set commit_siblings = 964
Set cursor_tuple_fraction = 0.630820846289698
Set deadlock_timeout = 866888815
Set default_statistics_target = 3122
Set effective_cache_size = 1917753127
Set effective_io_concurrency = 915
Set from_collapse_limit = 678396267
Set geqo_effort = 7
Set geqo_generations = 1763775958
Set geqo_pool_size = 1151373716
Set geqo_seed = 0.7103824590714521
Set geqo_threshold = 1027531282
Set join_collapse_limit = 1613526392
Set maintenance_work_mem = 1126015028
Set max_connections = 2881
Set max_wal_senders = 39
Set shared_buffers = 1560422
Set temp_buffers = 863513680
Set temp_file_limit = 401450874
Set vacuum_cost_delay = 99
Set vacuum_cost_limit = 4654
Set vacuum_cost_page_dirty = 9771
Set vacuum_cost_page_hit = 1776
Set vacuum_cost_page_miss = 6434
Set wal_buffers = 18809
Set wal_writer_delay = 4319
Set work_mem = 977122116
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-18-36.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-18-36.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-18-36.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-18-36.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-18-36.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-18-36.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-18-36.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763723852.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-18-36.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-18-36.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-18-36.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-18-36.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-18-36.metrics.json
Parsed throughput from summary.json: 1662.595419672424
BenchBase wikipedia throughput: 1662.595419672424
Configuration: {'autovacuum_analyze_scale_factor': 32.24730561190705, 'autovacuum_analyze_threshold': 501512497, 'autovacuum_max_workers': 28, 'autovacuum_naptime': 767578, 'autovacuum_vacuum_cost_delay': 35, 'autovacuum_vacuum_cost_limit': 6408, 'autovacuum_vacuum_scale_factor': 28.543279262869138, 'autovacuum_vacuum_threshold': 220676263, 'backend_flush_after': 181, 'bgwriter_delay': 9328, 'bgwriter_flush_after': 250, 'bgwriter_lru_maxpages': 471, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.021415903988672103, 'checkpoint_flush_after': 256, 'checkpoint_timeout': 2345, 'commit_delay': 20972, 'commit_siblings': 964, 'cursor_tuple_fraction': 0.630820846289698, 'deadlock_timeout': 866888815, 'default_statistics_target': 3122, 'effective_cache_size': 1917753127, 'effective_io_concurrency': 915, 'from_collapse_limit': 678396267, 'geqo_effort': 7, 'geqo_generations': 1763775958, 'geqo_pool_size': 1151373716, 'geqo_seed': 0.7103824590714521, 'geqo_threshold': 1027531282, 'join_collapse_limit': 1613526392, 'maintenance_work_mem': 1126015028, 'max_connections': 2881, 'max_wal_senders': 39, 'shared_buffers': 1560422, 'temp_buffers': 863513680, 'temp_file_limit': 401450874, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 4654, 'vacuum_cost_page_dirty': 9771, 'vacuum_cost_page_hit': 1776, 'vacuum_cost_page_miss': 6434, 'wal_buffers': 18809, 'wal_writer_delay': 4319, 'work_mem': 977122116}, QPS: -1662.595419672424
Performance (QPS): -1662.595419672424
Evaluating configuration: {'autovacuum_analyze_scale_factor': 44.33151010411463, 'autovacuum_analyze_threshold': 1925732, 'autovacuum_max_workers': 80, 'autovacuum_naptime': 16881, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 6470, 'autovacuum_vacuum_scale_factor': 86.21742218420624, 'autovacuum_vacuum_threshold': 209180543, 'backend_flush_after': 139, 'bgwriter_delay': 6750, 'bgwriter_flush_after': 146, 'bgwriter_lru_maxpages': 283, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.2735206274697586, 'checkpoint_flush_after': 53, 'checkpoint_timeout': 740, 'commit_delay': 20139, 'commit_siblings': 98, 'cursor_tuple_fraction': 0.022199231368472905, 'deadlock_timeout': 1273235946, 'default_statistics_target': 4004, 'effective_cache_size': 1104028130, 'effective_io_concurrency': 774, 'from_collapse_limit': 1490522900, 'geqo_effort': 3, 'geqo_generations': 2089771588, 'geqo_pool_size': 444111636, 'geqo_seed': 0.4916578493134319, 'geqo_threshold': 1857248553, 'join_collapse_limit': 1463944324, 'maintenance_work_mem': 1376939051, 'max_connections': 2585, 'max_wal_senders': 11, 'shared_buffers': 84620, 'temp_buffers': 706019181, 'temp_file_limit': 1268833054, 'vacuum_cost_delay': 76, 'vacuum_cost_limit': 6342, 'vacuum_cost_page_dirty': 5312, 'vacuum_cost_page_hit': 6351, 'vacuum_cost_page_miss': 1666, 'wal_buffers': 98880, 'wal_writer_delay': 10000, 'work_mem': 799361639}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 44.33151010411463
Set autovacuum_analyze_threshold = 1925732
Set autovacuum_max_workers = 80
Set autovacuum_naptime = 16881
Set autovacuum_vacuum_cost_delay = 62
Set autovacuum_vacuum_cost_limit = 6470
Set autovacuum_vacuum_scale_factor = 86.21742218420624
Set autovacuum_vacuum_threshold = 209180543
Set backend_flush_after = 139
Set bgwriter_delay = 6750
Set bgwriter_flush_after = 146
Set bgwriter_lru_maxpages = 283
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.2735206274697586
Set checkpoint_flush_after = 53
Set checkpoint_timeout = 740
Set commit_delay = 20139
Set commit_siblings = 98
Set cursor_tuple_fraction = 0.022199231368472905
Set deadlock_timeout = 1273235946
Set default_statistics_target = 4004
Set effective_cache_size = 1104028130
Set effective_io_concurrency = 774
Set from_collapse_limit = 1490522900
Set geqo_effort = 3
Set geqo_generations = 2089771588
Set geqo_pool_size = 444111636
Set geqo_seed = 0.4916578493134319
Set geqo_threshold = 1857248553
Set join_collapse_limit = 1463944324
Set maintenance_work_mem = 1376939051
Set max_connections = 2585
Set max_wal_senders = 11
Set shared_buffers = 84620
Set temp_buffers = 706019181
Set temp_file_limit = 1268833054
Set vacuum_cost_delay = 76
Set vacuum_cost_limit = 6342
Set vacuum_cost_page_dirty = 5312
Set vacuum_cost_page_hit = 6351
Set vacuum_cost_page_miss = 1666
Set wal_buffers = 98880
Set wal_writer_delay = 10000
Set work_mem = 799361639
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-20-10.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-20-10.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-20-10.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-20-10.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-20-10.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-20-10.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763723947.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-20-10.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-20-10.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-20-10.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-20-10.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-20-10.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-20-10.results.RemoveWatchList.csv
Parsed throughput from summary.json: 1719.9848250985806
BenchBase wikipedia throughput: 1719.9848250985806
Configuration: {'autovacuum_analyze_scale_factor': 44.33151010411463, 'autovacuum_analyze_threshold': 1925732, 'autovacuum_max_workers': 80, 'autovacuum_naptime': 16881, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 6470, 'autovacuum_vacuum_scale_factor': 86.21742218420624, 'autovacuum_vacuum_threshold': 209180543, 'backend_flush_after': 139, 'bgwriter_delay': 6750, 'bgwriter_flush_after': 146, 'bgwriter_lru_maxpages': 283, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.2735206274697586, 'checkpoint_flush_after': 53, 'checkpoint_timeout': 740, 'commit_delay': 20139, 'commit_siblings': 98, 'cursor_tuple_fraction': 0.022199231368472905, 'deadlock_timeout': 1273235946, 'default_statistics_target': 4004, 'effective_cache_size': 1104028130, 'effective_io_concurrency': 774, 'from_collapse_limit': 1490522900, 'geqo_effort': 3, 'geqo_generations': 2089771588, 'geqo_pool_size': 444111636, 'geqo_seed': 0.4916578493134319, 'geqo_threshold': 1857248553, 'join_collapse_limit': 1463944324, 'maintenance_work_mem': 1376939051, 'max_connections': 2585, 'max_wal_senders': 11, 'shared_buffers': 84620, 'temp_buffers': 706019181, 'temp_file_limit': 1268833054, 'vacuum_cost_delay': 76, 'vacuum_cost_limit': 6342, 'vacuum_cost_page_dirty': 5312, 'vacuum_cost_page_hit': 6351, 'vacuum_cost_page_miss': 1666, 'wal_buffers': 98880, 'wal_writer_delay': 10000, 'work_mem': 799361639}, QPS: -1719.9848250985806
Performance (QPS): -1719.9848250985806
Evaluating configuration: {'autovacuum_analyze_scale_factor': 62.965527325561744, 'autovacuum_analyze_threshold': 1383546689, 'autovacuum_max_workers': 184, 'autovacuum_naptime': 1757384, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 9268, 'autovacuum_vacuum_scale_factor': 82.74245487020409, 'autovacuum_vacuum_threshold': 1127205661, 'backend_flush_after': 221, 'bgwriter_delay': 2154, 'bgwriter_flush_after': 146, 'bgwriter_lru_maxpages': 858, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.8618128273744988, 'checkpoint_flush_after': 216, 'checkpoint_timeout': 2464, 'commit_delay': 44101, 'commit_siblings': 955, 'cursor_tuple_fraction': 0.2535101152668541, 'deadlock_timeout': 1385976730, 'default_statistics_target': 825, 'effective_cache_size': 667904763, 'effective_io_concurrency': 4, 'from_collapse_limit': 13618692, 'geqo_effort': 1, 'geqo_generations': 24590206, 'geqo_pool_size': 759138752, 'geqo_seed': 0.16257699141134618, 'geqo_threshold': 382905601, 'join_collapse_limit': 426465012, 'maintenance_work_mem': 1377603599, 'max_connections': 583, 'max_wal_senders': 31, 'shared_buffers': 1208161, 'temp_buffers': 873135412, 'temp_file_limit': 706503424, 'vacuum_cost_delay': 4, 'vacuum_cost_limit': 3670, 'vacuum_cost_page_dirty': 8613, 'vacuum_cost_page_hit': 7025, 'vacuum_cost_page_miss': 81, 'wal_buffers': 49574, 'wal_writer_delay': 4760, 'work_mem': 956071971}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 62.965527325561744
Set autovacuum_analyze_threshold = 1383546689
Set autovacuum_max_workers = 184
Set autovacuum_naptime = 1757384
Set autovacuum_vacuum_cost_delay = 96
Set autovacuum_vacuum_cost_limit = 9268
Set autovacuum_vacuum_scale_factor = 82.74245487020409
Set autovacuum_vacuum_threshold = 1127205661
Set backend_flush_after = 221
Set bgwriter_delay = 2154
Set bgwriter_flush_after = 146
Set bgwriter_lru_maxpages = 858
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.8618128273744988
Set checkpoint_flush_after = 216
Set checkpoint_timeout = 2464
Set commit_delay = 44101
Set commit_siblings = 955
Set cursor_tuple_fraction = 0.2535101152668541
Set deadlock_timeout = 1385976730
Set default_statistics_target = 825
Set effective_cache_size = 667904763
Set effective_io_concurrency = 4
Set from_collapse_limit = 13618692
Set geqo_effort = 1
Set geqo_generations = 24590206
Set geqo_pool_size = 759138752
Set geqo_seed = 0.16257699141134618
Set geqo_threshold = 382905601
Set join_collapse_limit = 426465012
Set maintenance_work_mem = 1377603599
Set max_connections = 583
Set max_wal_senders = 31
Set shared_buffers = 1208161
Set temp_buffers = 873135412
Set temp_file_limit = 706503424
Set vacuum_cost_delay = 4
Set vacuum_cost_limit = 3670
Set vacuum_cost_page_dirty = 8613
Set vacuum_cost_page_hit = 7025
Set vacuum_cost_page_miss = 81
Set wal_buffers = 49574
Set wal_writer_delay = 4760
Set work_mem = 956071971
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-21-49.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763724045.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-21-49.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-21-49.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-21-49.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-21-49.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-21-49.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-21-49.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-21-49.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-21-49.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-21-49.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-21-49.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-21-49.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Parsed throughput from summary.json: 1758.1125839655836
BenchBase wikipedia throughput: 1758.1125839655836
Configuration: {'autovacuum_analyze_scale_factor': 62.965527325561744, 'autovacuum_analyze_threshold': 1383546689, 'autovacuum_max_workers': 184, 'autovacuum_naptime': 1757384, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 9268, 'autovacuum_vacuum_scale_factor': 82.74245487020409, 'autovacuum_vacuum_threshold': 1127205661, 'backend_flush_after': 221, 'bgwriter_delay': 2154, 'bgwriter_flush_after': 146, 'bgwriter_lru_maxpages': 858, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.8618128273744988, 'checkpoint_flush_after': 216, 'checkpoint_timeout': 2464, 'commit_delay': 44101, 'commit_siblings': 955, 'cursor_tuple_fraction': 0.2535101152668541, 'deadlock_timeout': 1385976730, 'default_statistics_target': 825, 'effective_cache_size': 667904763, 'effective_io_concurrency': 4, 'from_collapse_limit': 13618692, 'geqo_effort': 1, 'geqo_generations': 24590206, 'geqo_pool_size': 759138752, 'geqo_seed': 0.16257699141134618, 'geqo_threshold': 382905601, 'join_collapse_limit': 426465012, 'maintenance_work_mem': 1377603599, 'max_connections': 583, 'max_wal_senders': 31, 'shared_buffers': 1208161, 'temp_buffers': 873135412, 'temp_file_limit': 706503424, 'vacuum_cost_delay': 4, 'vacuum_cost_limit': 3670, 'vacuum_cost_page_dirty': 8613, 'vacuum_cost_page_hit': 7025, 'vacuum_cost_page_miss': 81, 'wal_buffers': 49574, 'wal_writer_delay': 4760, 'work_mem': 956071971}, QPS: -1758.1125839655836
Performance (QPS): -1758.1125839655836
Evaluating configuration: {'autovacuum_analyze_scale_factor': 48.74491698869708, 'autovacuum_analyze_threshold': 998106624, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1570303, 'autovacuum_vacuum_cost_delay': 27, 'autovacuum_vacuum_cost_limit': 9718, 'autovacuum_vacuum_scale_factor': 24.53723113230668, 'autovacuum_vacuum_threshold': 397340064, 'backend_flush_after': 81, 'bgwriter_delay': 4683, 'bgwriter_flush_after': 151, 'bgwriter_lru_maxpages': 502, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.21829603013973578, 'checkpoint_flush_after': 237, 'checkpoint_timeout': 3577, 'commit_delay': 22993, 'commit_siblings': 995, 'cursor_tuple_fraction': 0.07191875931533388, 'deadlock_timeout': 1786538368, 'default_statistics_target': 9181, 'effective_cache_size': 668462278, 'effective_io_concurrency': 200, 'from_collapse_limit': 1909322752, 'geqo_effort': 10, 'geqo_generations': 664651392, 'geqo_pool_size': 2051065215, 'geqo_seed': 0.592846216429701, 'geqo_threshold': 610229121, 'join_collapse_limit': 1744829312, 'maintenance_work_mem': 1129571173, 'max_connections': 549, 'max_wal_senders': 27, 'shared_buffers': 3214901, 'temp_buffers': 79626932, 'temp_file_limit': 188952649, 'vacuum_cost_delay': 72, 'vacuum_cost_limit': 5486, 'vacuum_cost_page_dirty': 5978, 'vacuum_cost_page_hit': 4706, 'vacuum_cost_page_miss': 7686, 'wal_buffers': 15481, 'wal_writer_delay': 6081, 'work_mem': 1812943369}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 48.74491698869708
Set autovacuum_analyze_threshold = 998106624
Set autovacuum_max_workers = 183
Set autovacuum_naptime = 1570303
Set autovacuum_vacuum_cost_delay = 27
Set autovacuum_vacuum_cost_limit = 9718
Set autovacuum_vacuum_scale_factor = 24.53723113230668
Set autovacuum_vacuum_threshold = 397340064
Set backend_flush_after = 81
Set bgwriter_delay = 4683
Set bgwriter_flush_after = 151
Set bgwriter_lru_maxpages = 502
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.21829603013973578
Set checkpoint_flush_after = 237
Set checkpoint_timeout = 3577
Set commit_delay = 22993
Set commit_siblings = 995
Set cursor_tuple_fraction = 0.07191875931533388
Set deadlock_timeout = 1786538368
Set default_statistics_target = 9181
Set effective_cache_size = 668462278
Set effective_io_concurrency = 200
Set from_collapse_limit = 1909322752
Set geqo_effort = 10
Set geqo_generations = 664651392
Set geqo_pool_size = 2051065215
Set geqo_seed = 0.592846216429701
Set geqo_threshold = 610229121
Set join_collapse_limit = 1744829312
Set maintenance_work_mem = 1129571173
Set max_connections = 549
Set max_wal_senders = 27
Set shared_buffers = 3214901
Set temp_buffers = 79626932
Set temp_file_limit = 188952649
Set vacuum_cost_delay = 72
Set vacuum_cost_limit = 5486
Set vacuum_cost_page_dirty = 5978
Set vacuum_cost_page_hit = 4706
Set vacuum_cost_page_miss = 7686
Set wal_buffers = 15481
Set wal_writer_delay = 6081
Set work_mem = 1812943369
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-23-29.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-23-29.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-23-29.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-23-29.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-23-29.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-23-29.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-23-29.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-23-29.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-23-29.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763724146.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-23-29.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-23-29.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-23-29.params.json
Parsed throughput from summary.json: 1833.725537100513
BenchBase wikipedia throughput: 1833.725537100513
Configuration: {'autovacuum_analyze_scale_factor': 48.74491698869708, 'autovacuum_analyze_threshold': 998106624, 'autovacuum_max_workers': 183, 'autovacuum_naptime': 1570303, 'autovacuum_vacuum_cost_delay': 27, 'autovacuum_vacuum_cost_limit': 9718, 'autovacuum_vacuum_scale_factor': 24.53723113230668, 'autovacuum_vacuum_threshold': 397340064, 'backend_flush_after': 81, 'bgwriter_delay': 4683, 'bgwriter_flush_after': 151, 'bgwriter_lru_maxpages': 502, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.21829603013973578, 'checkpoint_flush_after': 237, 'checkpoint_timeout': 3577, 'commit_delay': 22993, 'commit_siblings': 995, 'cursor_tuple_fraction': 0.07191875931533388, 'deadlock_timeout': 1786538368, 'default_statistics_target': 9181, 'effective_cache_size': 668462278, 'effective_io_concurrency': 200, 'from_collapse_limit': 1909322752, 'geqo_effort': 10, 'geqo_generations': 664651392, 'geqo_pool_size': 2051065215, 'geqo_seed': 0.592846216429701, 'geqo_threshold': 610229121, 'join_collapse_limit': 1744829312, 'maintenance_work_mem': 1129571173, 'max_connections': 549, 'max_wal_senders': 27, 'shared_buffers': 3214901, 'temp_buffers': 79626932, 'temp_file_limit': 188952649, 'vacuum_cost_delay': 72, 'vacuum_cost_limit': 5486, 'vacuum_cost_page_dirty': 5978, 'vacuum_cost_page_hit': 4706, 'vacuum_cost_page_miss': 7686, 'wal_buffers': 15481, 'wal_writer_delay': 6081, 'work_mem': 1812943369}, QPS: -1833.725537100513
Performance (QPS): -1833.725537100513
Evaluating configuration: {'autovacuum_analyze_scale_factor': 85.15126157397408, 'autovacuum_analyze_threshold': 1425197969, 'autovacuum_max_workers': 89, 'autovacuum_naptime': 1495181, 'autovacuum_vacuum_cost_delay': 75, 'autovacuum_vacuum_cost_limit': 2057, 'autovacuum_vacuum_scale_factor': 82.78561006603888, 'autovacuum_vacuum_threshold': 2078768032, 'backend_flush_after': 210, 'bgwriter_delay': 2172, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 488, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.4841248246045565, 'checkpoint_flush_after': 249, 'checkpoint_timeout': 1280, 'commit_delay': 43749, 'commit_siblings': 667, 'cursor_tuple_fraction': 0.7329913918191282, 'deadlock_timeout': 775386882, 'default_statistics_target': 6549, 'effective_cache_size': 738978793, 'effective_io_concurrency': 622, 'from_collapse_limit': 206945337, 'geqo_effort': 3, 'geqo_generations': 365788093, 'geqo_pool_size': 2106648010, 'geqo_seed': 0.5274699947249116, 'geqo_threshold': 555478701, 'join_collapse_limit': 956134877, 'maintenance_work_mem': 1281184767, 'max_connections': 1106, 'max_wal_senders': 27, 'shared_buffers': 2970921, 'temp_buffers': 62515028, 'temp_file_limit': 51826159, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 5676, 'vacuum_cost_page_dirty': 345, 'vacuum_cost_page_hit': 4099, 'vacuum_cost_page_miss': 3431, 'wal_buffers': 47374, 'wal_writer_delay': 6895, 'work_mem': 1425099170}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 85.15126157397408
Set autovacuum_analyze_threshold = 1425197969
Set autovacuum_max_workers = 89
Set autovacuum_naptime = 1495181
Set autovacuum_vacuum_cost_delay = 75
Set autovacuum_vacuum_cost_limit = 2057
Set autovacuum_vacuum_scale_factor = 82.78561006603888
Set autovacuum_vacuum_threshold = 2078768032
Set backend_flush_after = 210
Set bgwriter_delay = 2172
Set bgwriter_flush_after = 134
Set bgwriter_lru_maxpages = 488
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.4841248246045565
Set checkpoint_flush_after = 249
Set checkpoint_timeout = 1280
Set commit_delay = 43749
Set commit_siblings = 667
Set cursor_tuple_fraction = 0.7329913918191282
Set deadlock_timeout = 775386882
Set default_statistics_target = 6549
Set effective_cache_size = 738978793
Set effective_io_concurrency = 622
Set from_collapse_limit = 206945337
Set geqo_effort = 3
Set geqo_generations = 365788093
Set geqo_pool_size = 2106648010
Set geqo_seed = 0.5274699947249116
Set geqo_threshold = 555478701
Set join_collapse_limit = 956134877
Set maintenance_work_mem = 1281184767
Set max_connections = 1106
Set max_wal_senders = 27
Set shared_buffers = 2970921
Set temp_buffers = 62515028
Set temp_file_limit = 51826159
Set vacuum_cost_delay = 83
Set vacuum_cost_limit = 5676
Set vacuum_cost_page_dirty = 345
Set vacuum_cost_page_hit = 4099
Set vacuum_cost_page_miss = 3431
Set wal_buffers = 47374
Set wal_writer_delay = 6895
Set work_mem = 1425099170
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-25-04.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-25-04.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763724240.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-25-04.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-25-04.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-25-04.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-25-04.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-25-04.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-25-04.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-25-04.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-25-04.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-25-04.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-25-04.config.xml
Parsed throughput from summary.json: 1795.8062078949251
BenchBase wikipedia throughput: 1795.8062078949251
Configuration: {'autovacuum_analyze_scale_factor': 85.15126157397408, 'autovacuum_analyze_threshold': 1425197969, 'autovacuum_max_workers': 89, 'autovacuum_naptime': 1495181, 'autovacuum_vacuum_cost_delay': 75, 'autovacuum_vacuum_cost_limit': 2057, 'autovacuum_vacuum_scale_factor': 82.78561006603888, 'autovacuum_vacuum_threshold': 2078768032, 'backend_flush_after': 210, 'bgwriter_delay': 2172, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 488, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.4841248246045565, 'checkpoint_flush_after': 249, 'checkpoint_timeout': 1280, 'commit_delay': 43749, 'commit_siblings': 667, 'cursor_tuple_fraction': 0.7329913918191282, 'deadlock_timeout': 775386882, 'default_statistics_target': 6549, 'effective_cache_size': 738978793, 'effective_io_concurrency': 622, 'from_collapse_limit': 206945337, 'geqo_effort': 3, 'geqo_generations': 365788093, 'geqo_pool_size': 2106648010, 'geqo_seed': 0.5274699947249116, 'geqo_threshold': 555478701, 'join_collapse_limit': 956134877, 'maintenance_work_mem': 1281184767, 'max_connections': 1106, 'max_wal_senders': 27, 'shared_buffers': 2970921, 'temp_buffers': 62515028, 'temp_file_limit': 51826159, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 5676, 'vacuum_cost_page_dirty': 345, 'vacuum_cost_page_hit': 4099, 'vacuum_cost_page_miss': 3431, 'wal_buffers': 47374, 'wal_writer_delay': 6895, 'work_mem': 1425099170}, QPS: -1795.8062078949251
Performance (QPS): -1795.8062078949251
Evaluating configuration: {'autovacuum_analyze_scale_factor': 26.728108833080643, 'autovacuum_analyze_threshold': 1984246342, 'autovacuum_max_workers': 174, 'autovacuum_naptime': 89337, 'autovacuum_vacuum_cost_delay': 1, 'autovacuum_vacuum_cost_limit': 4204, 'autovacuum_vacuum_scale_factor': 70.946633880924, 'autovacuum_vacuum_threshold': 1346306402, 'backend_flush_after': 205, 'bgwriter_delay': 3519, 'bgwriter_flush_after': 87, 'bgwriter_lru_maxpages': 677, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.41260635088704245, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 3031, 'commit_delay': 91837, 'commit_siblings': 95, 'cursor_tuple_fraction': 0.3534477516924771, 'deadlock_timeout': 728493870, 'default_statistics_target': 6343, 'effective_cache_size': 457978204, 'effective_io_concurrency': 931, 'from_collapse_limit': 1425039145, 'geqo_effort': 10, 'geqo_generations': 883837679, 'geqo_pool_size': 245070074, 'geqo_seed': 0.356077182359295, 'geqo_threshold': 1329059721, 'join_collapse_limit': 1452478118, 'maintenance_work_mem': 2028441279, 'max_connections': 2871, 'max_wal_senders': 23, 'shared_buffers': 3925424, 'temp_buffers': 351433886, 'temp_file_limit': 1634440072, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 59, 'vacuum_cost_page_dirty': 7353, 'vacuum_cost_page_hit': 1684, 'vacuum_cost_page_miss': 8856, 'wal_buffers': 112646, 'wal_writer_delay': 7610, 'work_mem': 1428216208}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 26.728108833080643
Set autovacuum_analyze_threshold = 1984246342
Set autovacuum_max_workers = 174
Set autovacuum_naptime = 89337
Set autovacuum_vacuum_cost_delay = 1
Set autovacuum_vacuum_cost_limit = 4204
Set autovacuum_vacuum_scale_factor = 70.946633880924
Set autovacuum_vacuum_threshold = 1346306402
Set backend_flush_after = 205
Set bgwriter_delay = 3519
Set bgwriter_flush_after = 87
Set bgwriter_lru_maxpages = 677
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.41260635088704245
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 3031
Set commit_delay = 91837
Set commit_siblings = 95
Set cursor_tuple_fraction = 0.3534477516924771
Set deadlock_timeout = 728493870
Set default_statistics_target = 6343
Set effective_cache_size = 457978204
Set effective_io_concurrency = 931
Set from_collapse_limit = 1425039145
Set geqo_effort = 10
Set geqo_generations = 883837679
Set geqo_pool_size = 245070074
Set geqo_seed = 0.356077182359295
Set geqo_threshold = 1329059721
Set join_collapse_limit = 1452478118
Set maintenance_work_mem = 2028441279
Set max_connections = 2871
Set max_wal_senders = 23
Set shared_buffers = 3925424
Set temp_buffers = 351433886
Set temp_file_limit = 1634440072
Set vacuum_cost_delay = 42
Set vacuum_cost_limit = 59
Set vacuum_cost_page_dirty = 7353
Set vacuum_cost_page_hit = 1684
Set vacuum_cost_page_miss = 8856
Set wal_buffers = 112646
Set wal_writer_delay = 7610
Set work_mem = 1428216208
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
Start failed, removing auto.conf and retrying...
Removed postgresql.auto.conf file (if it existed).
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-26-38.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-26-38.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-26-38.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-26-38.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-26-38.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-26-38.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-26-38.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763724335.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-26-38.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-26-38.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-26-38.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-26-38.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-26-38.raw.csv
Parsed throughput from summary.json: 1893.0953892594396
BenchBase wikipedia throughput: 1893.0953892594396
Configuration: {'autovacuum_analyze_scale_factor': 26.728108833080643, 'autovacuum_analyze_threshold': 1984246342, 'autovacuum_max_workers': 174, 'autovacuum_naptime': 89337, 'autovacuum_vacuum_cost_delay': 1, 'autovacuum_vacuum_cost_limit': 4204, 'autovacuum_vacuum_scale_factor': 70.946633880924, 'autovacuum_vacuum_threshold': 1346306402, 'backend_flush_after': 205, 'bgwriter_delay': 3519, 'bgwriter_flush_after': 87, 'bgwriter_lru_maxpages': 677, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.41260635088704245, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 3031, 'commit_delay': 91837, 'commit_siblings': 95, 'cursor_tuple_fraction': 0.3534477516924771, 'deadlock_timeout': 728493870, 'default_statistics_target': 6343, 'effective_cache_size': 457978204, 'effective_io_concurrency': 931, 'from_collapse_limit': 1425039145, 'geqo_effort': 10, 'geqo_generations': 883837679, 'geqo_pool_size': 245070074, 'geqo_seed': 0.356077182359295, 'geqo_threshold': 1329059721, 'join_collapse_limit': 1452478118, 'maintenance_work_mem': 2028441279, 'max_connections': 2871, 'max_wal_senders': 23, 'shared_buffers': 3925424, 'temp_buffers': 351433886, 'temp_file_limit': 1634440072, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 59, 'vacuum_cost_page_dirty': 7353, 'vacuum_cost_page_hit': 1684, 'vacuum_cost_page_miss': 8856, 'wal_buffers': 112646, 'wal_writer_delay': 7610, 'work_mem': 1428216208}, QPS: -1893.0953892594396
Performance (QPS): -1893.0953892594396
Evaluating configuration: {'autovacuum_analyze_scale_factor': 91.89396237513753, 'autovacuum_analyze_threshold': 1896238321, 'autovacuum_max_workers': 127, 'autovacuum_naptime': 767449, 'autovacuum_vacuum_cost_delay': 44, 'autovacuum_vacuum_cost_limit': 1832, 'autovacuum_vacuum_scale_factor': 33.70755947944539, 'autovacuum_vacuum_threshold': 1004826660, 'backend_flush_after': 29, 'bgwriter_delay': 6456, 'bgwriter_flush_after': 126, 'bgwriter_lru_maxpages': 273, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.15069229635509573, 'checkpoint_flush_after': 174, 'checkpoint_timeout': 132, 'commit_delay': 94915, 'commit_siblings': 14, 'cursor_tuple_fraction': 0.9139763411374564, 'deadlock_timeout': 347054609, 'default_statistics_target': 2341, 'effective_cache_size': 968245914, 'effective_io_concurrency': 435, 'from_collapse_limit': 1120098932, 'geqo_effort': 3, 'geqo_generations': 1936193786, 'geqo_pool_size': 1772215961, 'geqo_seed': 0.10917100557396264, 'geqo_threshold': 442827745, 'join_collapse_limit': 1686275654, 'maintenance_work_mem': 855462288, 'max_connections': 1411, 'max_wal_senders': 3, 'shared_buffers': 2029097, 'temp_buffers': 19251531, 'temp_file_limit': 1010426359, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 4770, 'vacuum_cost_page_dirty': 4757, 'vacuum_cost_page_hit': 4374, 'vacuum_cost_page_miss': 1362, 'wal_buffers': 27977, 'wal_writer_delay': 6093, 'work_mem': 659954260}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 91.89396237513753
Set autovacuum_analyze_threshold = 1896238321
Set autovacuum_max_workers = 127
Set autovacuum_naptime = 767449
Set autovacuum_vacuum_cost_delay = 44
Set autovacuum_vacuum_cost_limit = 1832
Set autovacuum_vacuum_scale_factor = 33.70755947944539
Set autovacuum_vacuum_threshold = 1004826660
Set backend_flush_after = 29
Set bgwriter_delay = 6456
Set bgwriter_flush_after = 126
Set bgwriter_lru_maxpages = 273
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.15069229635509573
Set checkpoint_flush_after = 174
Set checkpoint_timeout = 132
Set commit_delay = 94915
Set commit_siblings = 14
Set cursor_tuple_fraction = 0.9139763411374564
Set deadlock_timeout = 347054609
Set default_statistics_target = 2341
Set effective_cache_size = 968245914
Set effective_io_concurrency = 435
Set from_collapse_limit = 1120098932
Set geqo_effort = 3
Set geqo_generations = 1936193786
Set geqo_pool_size = 1772215961
Set geqo_seed = 0.10917100557396264
Set geqo_threshold = 442827745
Set join_collapse_limit = 1686275654
Set maintenance_work_mem = 855462288
Set max_connections = 1411
Set max_wal_senders = 3
Set shared_buffers = 2029097
Set temp_buffers = 19251531
Set temp_file_limit = 1010426359
Set vacuum_cost_delay = 99
Set vacuum_cost_limit = 4770
Set vacuum_cost_page_dirty = 4757
Set vacuum_cost_page_hit = 4374
Set vacuum_cost_page_miss = 1362
Set wal_buffers = 27977
Set wal_writer_delay = 6093
Set work_mem = 659954260
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config1.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config1.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-28-12.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-28-12.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-28-12.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-28-12.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-28-12.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-28-12.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-28-12.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-28-12.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-28-12.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-28-12.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_1763724428.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary/wikipedia_2025-11-21_11-28-12.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config1/wikipedia_2025-11-21_11-28-12.raw.csv
Parsed throughput from summary.json: 1832.024998121631
BenchBase wikipedia throughput: 1832.024998121631
Configuration: {'autovacuum_analyze_scale_factor': 91.89396237513753, 'autovacuum_analyze_threshold': 1896238321, 'autovacuum_max_workers': 127, 'autovacuum_naptime': 767449, 'autovacuum_vacuum_cost_delay': 44, 'autovacuum_vacuum_cost_limit': 1832, 'autovacuum_vacuum_scale_factor': 33.70755947944539, 'autovacuum_vacuum_threshold': 1004826660, 'backend_flush_after': 29, 'bgwriter_delay': 6456, 'bgwriter_flush_after': 126, 'bgwriter_lru_maxpages': 273, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.15069229635509573, 'checkpoint_flush_after': 174, 'checkpoint_timeout': 132, 'commit_delay': 94915, 'commit_siblings': 14, 'cursor_tuple_fraction': 0.9139763411374564, 'deadlock_timeout': 347054609, 'default_statistics_target': 2341, 'effective_cache_size': 968245914, 'effective_io_concurrency': 435, 'from_collapse_limit': 1120098932, 'geqo_effort': 3, 'geqo_generations': 1936193786, 'geqo_pool_size': 1772215961, 'geqo_seed': 0.10917100557396264, 'geqo_threshold': 442827745, 'join_collapse_limit': 1686275654, 'maintenance_work_mem': 855462288, 'max_connections': 1411, 'max_wal_senders': 3, 'shared_buffers': 2029097, 'temp_buffers': 19251531, 'temp_file_limit': 1010426359, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 4770, 'vacuum_cost_page_dirty': 4757, 'vacuum_cost_page_hit': 4374, 'vacuum_cost_page_miss': 1362, 'wal_buffers': 27977, 'wal_writer_delay': 6093, 'work_mem': 659954260}, QPS: -1832.024998121631
Performance (QPS): -1832.024998121631
finish
<class 'ConfigSpace.configuration_space.Configuration'>
Configuration(values={
  'autovacuum_analyze_scale_factor': 82.76318591088057,
  'autovacuum_analyze_threshold': 153241262,
  'autovacuum_max_workers': 182,
  'autovacuum_naptime': 1088155,
  'autovacuum_vacuum_cost_delay': 50,
  'autovacuum_vacuum_cost_limit': 4947,
  'autovacuum_vacuum_scale_factor': 41.407461650669575,
  'autovacuum_vacuum_threshold': 659350998,
  'backend_flush_after': 247,
  'bgwriter_delay': 2029,
  'bgwriter_flush_after': 46,
  'bgwriter_lru_maxpages': 392,
  'bgwriter_lru_multiplier': 7,
  'checkpoint_completion_target': 0.6424217484891415,
  'checkpoint_flush_after': 207,
  'checkpoint_timeout': 1302,
  'commit_delay': 39368,
  'commit_siblings': 286,
  'cursor_tuple_fraction': 0.6145173208788037,
  'deadlock_timeout': 112034326,
  'default_statistics_target': 5473,
  'effective_cache_size': 1515195060,
  'effective_io_concurrency': 557,
  'from_collapse_limit': 44609276,
  'geqo_effort': 2,
  'geqo_generations': 909601492,
  'geqo_pool_size': 2006033165,
  'geqo_seed': 0.46279645804315805,
  'geqo_threshold': 21314935,
  'join_collapse_limit': 1032804680,
  'maintenance_work_mem': 1708697389,
  'max_connections': 518,
  'max_wal_senders': 2,
  'shared_buffers': 3640755,
  'temp_buffers': 908881252,
  'temp_file_limit': 840358131,
  'vacuum_cost_delay': 52,
  'vacuum_cost_limit': 6538,
  'vacuum_cost_page_dirty': 5557,
  'vacuum_cost_page_hit': 3003,
  'vacuum_cost_page_miss': 5839,
  'wal_buffers': 16932,
  'wal_writer_delay': 6181,
  'work_mem': 1175555276,
})

OrderedDict([(RunKey(config_id=1, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1905.3039909569045, time=92.87012195587158, status=<StatusType.SUCCESS: 1>, starttime=1763714793.6175396, endtime=1763714886.487715, additional_info={})), (RunKey(config_id=2, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1816.5499886574842, time=94.12449312210083, status=<StatusType.SUCCESS: 1>, starttime=1763714886.4909325, endtime=1763714980.6154819, additional_info={})), (RunKey(config_id=3, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1769.2075882838571, time=94.67498779296875, status=<StatusType.SUCCESS: 1>, starttime=1763714980.6178112, endtime=1763715075.2928483, additional_info={})), (RunKey(config_id=4, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1906.6820509044878, time=94.03542017936707, status=<StatusType.SUCCESS: 1>, starttime=1763715075.2953453, endtime=1763715169.330817, additional_info={})), (RunKey(config_id=5, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1683.561675968728, time=93.19021129608154, status=<StatusType.SUCCESS: 1>, starttime=1763715169.3361008, endtime=1763715262.526365, additional_info={})), (RunKey(config_id=6, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1862.8083863281554, time=92.53397274017334, status=<StatusType.SUCCESS: 1>, starttime=1763715262.5758204, endtime=1763715355.1098442, additional_info={})), (RunKey(config_id=7, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1954.691282310284, time=93.74889016151428, status=<StatusType.SUCCESS: 1>, starttime=1763715355.1125627, endtime=1763715448.8615031, additional_info={})), (RunKey(config_id=8, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1859.6860204997809, time=93.64634227752686, status=<StatusType.SUCCESS: 1>, starttime=1763715448.8672566, endtime=1763715542.513687, additional_info={})), (RunKey(config_id=9, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1855.604614838427, time=94.48395895957947, status=<StatusType.SUCCESS: 1>, starttime=1763715542.5168743, endtime=1763715637.000884, additional_info={})), (RunKey(config_id=10, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1967.4174731115056, time=95.11198091506958, status=<StatusType.SUCCESS: 1>, starttime=1763715637.0917387, endtime=1763715732.203773, additional_info={})), (RunKey(config_id=11, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1611.4348202537562, time=94.45207643508911, status=<StatusType.SUCCESS: 1>, starttime=1763715732.2097025, endtime=1763715826.6618316, additional_info={})), (RunKey(config_id=12, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1917.233972476099, time=94.44578051567078, status=<StatusType.SUCCESS: 1>, starttime=1763715826.6652205, endtime=1763715921.111055, additional_info={})), (RunKey(config_id=13, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1807.1599200450844, time=94.60925221443176, status=<StatusType.SUCCESS: 1>, starttime=1763715921.1143334, endtime=1763716015.7236555, additional_info={})), (RunKey(config_id=14, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1839.4037865252214, time=91.99981760978699, status=<StatusType.SUCCESS: 1>, starttime=1763716015.726865, endtime=1763716107.7267392, additional_info={})), (RunKey(config_id=15, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2001.0380047219526, time=95.08886861801147, status=<StatusType.SUCCESS: 1>, starttime=1763716107.783734, endtime=1763716202.8726885, additional_info={})), (RunKey(config_id=16, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1773.2481248020424, time=94.34696388244629, status=<StatusType.SUCCESS: 1>, starttime=1763716202.878952, endtime=1763716297.2259655, additional_info={})), (RunKey(config_id=17, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1900.1817856975035, time=94.08619976043701, status=<StatusType.SUCCESS: 1>, starttime=1763716297.2296042, endtime=1763716391.3158553, additional_info={})), (RunKey(config_id=18, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1930.051293041426, time=93.95683121681213, status=<StatusType.SUCCESS: 1>, starttime=1763716391.3194058, endtime=1763716485.276286, additional_info={})), (RunKey(config_id=19, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1934.9044960642925, time=94.27920985221863, status=<StatusType.SUCCESS: 1>, starttime=1763716485.2799454, endtime=1763716579.559205, additional_info={})), (RunKey(config_id=20, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1897.697991032108, time=94.35501074790955, status=<StatusType.SUCCESS: 1>, starttime=1763716579.5628228, endtime=1763716673.9178877, additional_info={})), (RunKey(config_id=21, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1906.785430096185, time=93.88695073127747, status=<StatusType.SUCCESS: 1>, starttime=1763716673.921647, endtime=1763716767.8086717, additional_info={})), (RunKey(config_id=22, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1924.4574588846492, time=93.86076593399048, status=<StatusType.SUCCESS: 1>, starttime=1763716767.8123507, endtime=1763716861.6731648, additional_info={})), (RunKey(config_id=23, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1391.3372493450158, time=92.4796028137207, status=<StatusType.SUCCESS: 1>, starttime=1763716861.677103, endtime=1763716954.1567707, additional_info={})), (RunKey(config_id=24, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1837.634964700133, time=94.01899099349976, status=<StatusType.SUCCESS: 1>, starttime=1763716954.161523, endtime=1763717048.1805818, additional_info={})), (RunKey(config_id=25, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1918.4044967210182, time=94.33422541618347, status=<StatusType.SUCCESS: 1>, starttime=1763717048.2055864, endtime=1763717142.539869, additional_info={})), (RunKey(config_id=26, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1862.3286476535247, time=93.80374789237976, status=<StatusType.SUCCESS: 1>, starttime=1763717142.5439787, endtime=1763717236.3477774, additional_info={})), (RunKey(config_id=27, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1944.5870123601273, time=93.74129915237427, status=<StatusType.SUCCESS: 1>, starttime=1763717240.974232, endtime=1763717334.715584, additional_info={})), (RunKey(config_id=28, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1812.3194529072039, time=94.2201931476593, status=<StatusType.SUCCESS: 1>, starttime=1763717334.7555761, endtime=1763717428.9758244, additional_info={})), (RunKey(config_id=29, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1790.0343894657594, time=94.0473222732544, status=<StatusType.SUCCESS: 1>, starttime=1763717429.0078511, endtime=1763717523.0552444, additional_info={})), (RunKey(config_id=30, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1953.1401491458453, time=93.921550989151, status=<StatusType.SUCCESS: 1>, starttime=1763717528.2131991, endtime=1763717622.1348085, additional_info={})), (RunKey(config_id=31, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1846.0494659760204, time=94.1751389503479, status=<StatusType.SUCCESS: 1>, starttime=1763717622.1799872, endtime=1763717716.3551912, additional_info={})), (RunKey(config_id=32, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1915.5350090414686, time=94.02033400535583, status=<StatusType.SUCCESS: 1>, starttime=1763717721.047164, endtime=1763717815.0675576, additional_info={})), (RunKey(config_id=33, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1812.8765367295575, time=94.13732981681824, status=<StatusType.SUCCESS: 1>, starttime=1763717819.473534, endtime=1763717913.6109164, additional_info={})), (RunKey(config_id=34, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1908.210741657352, time=93.0279541015625, status=<StatusType.SUCCESS: 1>, starttime=1763717918.407795, endtime=1763718011.4358068, additional_info={})), (RunKey(config_id=35, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1916.0783326642427, time=94.2450544834137, status=<StatusType.SUCCESS: 1>, starttime=1763718011.483719, endtime=1763718105.7288353, additional_info={})), (RunKey(config_id=36, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1910.513416210388, time=93.84723377227783, status=<StatusType.SUCCESS: 1>, starttime=1763718110.008675, endtime=1763718203.855958, additional_info={})), (RunKey(config_id=37, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1964.8457887325292, time=93.74423742294312, status=<StatusType.SUCCESS: 1>, starttime=1763718208.0362723, endtime=1763718301.7805595, additional_info={})), (RunKey(config_id=38, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1876.5027478425347, time=94.16464757919312, status=<StatusType.SUCCESS: 1>, starttime=1763718306.6655128, endtime=1763718400.8302197, additional_info={})), (RunKey(config_id=39, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1956.2177598712037, time=93.7844409942627, status=<StatusType.SUCCESS: 1>, starttime=1763718405.4315174, endtime=1763718499.2160103, additional_info={})), (RunKey(config_id=40, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1831.808692681827, time=94.274667263031, status=<StatusType.SUCCESS: 1>, starttime=1763718503.4298937, endtime=1763718597.704618, additional_info={})), (RunKey(config_id=41, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1911.7834497027648, time=93.89271116256714, status=<StatusType.SUCCESS: 1>, starttime=1763718597.7554913, endtime=1763718691.6482522, additional_info={})), (RunKey(config_id=42, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1895.4687667456417, time=93.87363147735596, status=<StatusType.SUCCESS: 1>, starttime=1763718696.090238, endtime=1763718789.9639237, additional_info={})), (RunKey(config_id=43, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1858.420668010246, time=94.04629683494568, status=<StatusType.SUCCESS: 1>, starttime=1763718794.302238, endtime=1763718888.3485863, additional_info={})), (RunKey(config_id=44, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1876.1000880267968, time=93.13062953948975, status=<StatusType.SUCCESS: 1>, starttime=1763718892.908537, endtime=1763718986.0392325, additional_info={})), (RunKey(config_id=45, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1821.6990131328912, time=94.83185362815857, status=<StatusType.SUCCESS: 1>, starttime=1763718986.1032577, endtime=1763719080.9351656, additional_info={})), (RunKey(config_id=46, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1945.9654356126782, time=94.11082196235657, status=<StatusType.SUCCESS: 1>, starttime=1763719085.8058388, endtime=1763719179.9167142, additional_info={})), (RunKey(config_id=47, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1934.687240387209, time=93.74203133583069, status=<StatusType.SUCCESS: 1>, starttime=1763719184.7877488, endtime=1763719278.5298316, additional_info={})), (RunKey(config_id=48, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1931.0984539190624, time=93.86582016944885, status=<StatusType.SUCCESS: 1>, starttime=1763719283.11416, endtime=1763719376.980034, additional_info={})), (RunKey(config_id=49, instance_id=None, seed=0, budget=0.0), RunValue(cost=2147483647.0, time=93.60767555236816, status=<StatusType.CRASHED: 3>, starttime=1763719377.0432515, endtime=1763719470.6509786, additional_info={})), (RunKey(config_id=50, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1776.5864148348476, time=93.99095892906189, status=<StatusType.SUCCESS: 1>, starttime=1763719470.7053578, endtime=1763719564.6963797, additional_info={})), (RunKey(config_id=51, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1908.6988051861201, time=93.86090326309204, status=<StatusType.SUCCESS: 1>, starttime=1763719569.5646646, endtime=1763719663.4256175, additional_info={})), (RunKey(config_id=52, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1918.1047966948627, time=93.74665093421936, status=<StatusType.SUCCESS: 1>, starttime=1763719663.4917076, endtime=1763719757.2384124, additional_info={})), (RunKey(config_id=53, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1756.4106880665884, time=94.59946393966675, status=<StatusType.SUCCESS: 1>, starttime=1763719757.2947223, endtime=1763719851.8942568, additional_info={})), (RunKey(config_id=54, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1942.42794582192, time=94.17077207565308, status=<StatusType.SUCCESS: 1>, starttime=1763719857.4161105, endtime=1763719951.586946, additional_info={})), (RunKey(config_id=55, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1898.0694691492488, time=93.74946427345276, status=<StatusType.SUCCESS: 1>, starttime=1763719957.4973886, endtime=1763720051.2469032, additional_info={})), (RunKey(config_id=56, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1892.5295937439673, time=93.77225184440613, status=<StatusType.SUCCESS: 1>, starttime=1763720051.315927, endtime=1763720145.0882406, additional_info={})), (RunKey(config_id=57, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1933.5893153903703, time=93.92874717712402, status=<StatusType.SUCCESS: 1>, starttime=1763720150.4543545, endtime=1763720244.3831515, additional_info={})), (RunKey(config_id=58, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1889.5142687562864, time=93.9992949962616, status=<StatusType.SUCCESS: 1>, starttime=1763720249.6941578, endtime=1763720343.6935043, additional_info={})), (RunKey(config_id=59, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1879.915476162039, time=94.07584285736084, status=<StatusType.SUCCESS: 1>, starttime=1763720350.0124063, endtime=1763720444.088309, additional_info={})), (RunKey(config_id=60, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1965.9893648435389, time=93.87326526641846, status=<StatusType.SUCCESS: 1>, starttime=1763720450.2108395, endtime=1763720544.0841548, additional_info={})), (RunKey(config_id=61, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1901.8533253161104, time=93.59058952331543, status=<StatusType.SUCCESS: 1>, starttime=1763720549.3139784, endtime=1763720642.904623, additional_info={})), (RunKey(config_id=62, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1894.860512507113, time=92.58586835861206, status=<StatusType.SUCCESS: 1>, starttime=1763720648.7563746, endtime=1763720741.3422954, additional_info={})), (RunKey(config_id=63, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1834.4944736921204, time=93.52021956443787, status=<StatusType.SUCCESS: 1>, starttime=1763720747.102947, endtime=1763720840.6232371, additional_info={})), (RunKey(config_id=64, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1854.4786320581259, time=94.1379463672638, status=<StatusType.SUCCESS: 1>, starttime=1763720840.702828, endtime=1763720934.8408272, additional_info={})), (RunKey(config_id=65, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1919.1438101534834, time=92.59701585769653, status=<StatusType.SUCCESS: 1>, starttime=1763720939.8508358, endtime=1763721032.4479008, additional_info={})), (RunKey(config_id=66, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1967.068817592275, time=93.89182710647583, status=<StatusType.SUCCESS: 1>, starttime=1763721037.7983062, endtime=1763721131.6901877, additional_info={})), (RunKey(config_id=67, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1935.2463905204756, time=93.87110352516174, status=<StatusType.SUCCESS: 1>, starttime=1763721137.6476932, endtime=1763721231.5188477, additional_info={})), (RunKey(config_id=68, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1901.6123888311304, time=92.76686978340149, status=<StatusType.SUCCESS: 1>, starttime=1763721236.6343439, endtime=1763721329.4012675, additional_info={})), (RunKey(config_id=69, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1911.261259917368, time=94.01191449165344, status=<StatusType.SUCCESS: 1>, starttime=1763721335.1369572, endtime=1763721429.1489246, additional_info={})), (RunKey(config_id=70, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1929.5558805406206, time=93.85745429992676, status=<StatusType.SUCCESS: 1>, starttime=1763721434.5335522, endtime=1763721528.391057, additional_info={})), (RunKey(config_id=71, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1954.9234377020305, time=93.80268359184265, status=<StatusType.SUCCESS: 1>, starttime=1763721534.4928765, endtime=1763721628.295612, additional_info={})), (RunKey(config_id=72, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1991.2883567184847, time=94.73036813735962, status=<StatusType.SUCCESS: 1>, starttime=1763721633.8326645, endtime=1763721728.5630853, additional_info={})), (RunKey(config_id=73, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1931.3462679659985, time=94.2931501865387, status=<StatusType.SUCCESS: 1>, starttime=1763721733.9984207, endtime=1763721828.2916212, additional_info={})), (RunKey(config_id=74, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1935.5042300113703, time=93.79986715316772, status=<StatusType.SUCCESS: 1>, starttime=1763721834.4745328, endtime=1763721928.2744539, additional_info={})), (RunKey(config_id=75, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1940.4755959523347, time=94.47838473320007, status=<StatusType.SUCCESS: 1>, starttime=1763721928.3624887, endtime=1763722022.8409286, additional_info={})), (RunKey(config_id=76, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1981.470566775174, time=93.81982612609863, status=<StatusType.SUCCESS: 1>, starttime=1763722028.5386224, endtime=1763722122.3585165, additional_info={})), (RunKey(config_id=77, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1791.025917265162, time=93.44536018371582, status=<StatusType.SUCCESS: 1>, starttime=1763722127.9591444, endtime=1763722221.4045575, additional_info={})), (RunKey(config_id=78, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1935.4762877490723, time=93.86716842651367, status=<StatusType.SUCCESS: 1>, starttime=1763722227.5919232, endtime=1763722321.45914, additional_info={})), (RunKey(config_id=79, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1862.1528521888345, time=94.00576496124268, status=<StatusType.SUCCESS: 1>, starttime=1763722326.9833548, endtime=1763722420.9891708, additional_info={})), (RunKey(config_id=80, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1809.5486548766, time=93.80941677093506, status=<StatusType.SUCCESS: 1>, starttime=1763722426.3570356, endtime=1763722520.16651, additional_info={})), (RunKey(config_id=81, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1873.440789183631, time=93.85532474517822, status=<StatusType.SUCCESS: 1>, starttime=1763722526.2611053, endtime=1763722620.116498, additional_info={})), (RunKey(config_id=82, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1837.2538711101317, time=93.95373201370239, status=<StatusType.SUCCESS: 1>, starttime=1763722626.009718, endtime=1763722719.9635072, additional_info={})), (RunKey(config_id=83, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1907.8225786283151, time=93.96270179748535, status=<StatusType.SUCCESS: 1>, starttime=1763722725.3109663, endtime=1763722819.273723, additional_info={})), (RunKey(config_id=84, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1908.012523062762, time=93.76289343833923, status=<StatusType.SUCCESS: 1>, starttime=1763722824.727797, endtime=1763722918.490743, additional_info={})), (RunKey(config_id=85, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1807.7116451628365, time=94.23750877380371, status=<StatusType.SUCCESS: 1>, starttime=1763722918.5886185, endtime=1763723012.8262138, additional_info={})), (RunKey(config_id=86, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1637.4450232968734, time=93.98450899124146, status=<StatusType.SUCCESS: 1>, starttime=1763723018.665918, endtime=1763723112.6504872, additional_info={})), (RunKey(config_id=87, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1989.919347962756, time=94.34370303153992, status=<StatusType.SUCCESS: 1>, starttime=1763723119.0535655, endtime=1763723213.3973217, additional_info={})), (RunKey(config_id=88, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1862.7349967135947, time=93.8541476726532, status=<StatusType.SUCCESS: 1>, starttime=1763723218.752021, endtime=1763723312.6062257, additional_info={})), (RunKey(config_id=89, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1833.2764721277933, time=94.5193784236908, status=<StatusType.SUCCESS: 1>, starttime=1763723318.446511, endtime=1763723412.965939, additional_info={})), (RunKey(config_id=90, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1773.3682925401672, time=94.1391613483429, status=<StatusType.SUCCESS: 1>, starttime=1763723413.0699153, endtime=1763723507.209148, additional_info={})), (RunKey(config_id=91, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1703.4882618377694, time=116.24553060531616, status=<StatusType.SUCCESS: 1>, starttime=1763723512.7308164, endtime=1763723628.9764018, additional_info={})), (RunKey(config_id=92, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1712.4003771339167, time=94.3562924861908, status=<StatusType.SUCCESS: 1>, starttime=1763723634.0524528, endtime=1763723728.4088, additional_info={})), (RunKey(config_id=93, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1752.599458974947, time=94.14910578727722, status=<StatusType.SUCCESS: 1>, starttime=1763723728.5155702, endtime=1763723822.6647415, additional_info={})), (RunKey(config_id=94, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1662.595419672424, time=94.2494945526123, status=<StatusType.SUCCESS: 1>, starttime=1763723822.7688537, endtime=1763723917.0184073, additional_info={})), (RunKey(config_id=95, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1719.9848250985806, time=94.52955842018127, status=<StatusType.SUCCESS: 1>, starttime=1763723917.1212168, endtime=1763724011.6508327, additional_info={})), (RunKey(config_id=96, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1758.1125839655836, time=92.57250475883484, status=<StatusType.SUCCESS: 1>, starttime=1763724017.784779, endtime=1763724110.3573358, additional_info={})), (RunKey(config_id=97, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1833.725537100513, time=94.08914065361023, status=<StatusType.SUCCESS: 1>, starttime=1763724116.5669808, endtime=1763724210.6561708, additional_info={})), (RunKey(config_id=98, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1795.8062078949251, time=94.14693188667297, status=<StatusType.SUCCESS: 1>, starttime=1763724210.8588347, endtime=1763724305.0058248, additional_info={})), (RunKey(config_id=99, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1893.0953892594396, time=94.75712537765503, status=<StatusType.SUCCESS: 1>, starttime=1763724305.1121106, endtime=1763724399.8692923, additional_info={})), (RunKey(config_id=100, instance_id=None, seed=0, budget=0.0), RunValue(cost=-1832.024998121631, time=93.12917971611023, status=<StatusType.SUCCESS: 1>, starttime=1763724399.9739552, endtime=1763724493.1032014, additional_info={}))])
SMAC optimization complete for ./oltp_workloads/wikipedia/sample_wikipedia_config1.xml
End time for workload (unix seconds): 1763724493
Begin tuning for workload: 2
tune for workload: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Start time for workload (unix seconds): 1763724493
üì¶ Removing corrupted postgresql.auto.conf...
‚è≥ Waiting briefly...
üîÅ Restarting PostgreSQL using pg_ctlcluster...
‚úÖ PostgreSQL restarted successfully.
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Running default configuration for workload
Removed postgresql.auto.conf file (if it existed).
Resetting inner metrics...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Internal metrics reset successfully.
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-30-09.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-30-09.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-30-09.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-30-09.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-30-09.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-30-09.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-30-09.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-30-09.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-30-09.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-30-09.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-30-09.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763724546.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-30-09.results.csv
Parsed throughput from summary.json: 2738.937449245188
BenchBase wikipedia throughput: 2738.937449245188
Configuration: None, QPS: -2738.937449245188
Default configuration run complete for workload
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Fetched 14 internal metrics
Internal metrics: {'xact_commit': 157311.0, 'xact_rollback': 38162.0, 'blks_read': 303951.0, 'blks_hit': 12906105.0, 'tup_returned': 6459044.0, 'tup_fetched': 5792424.0, 'tup_inserted': 688819.0, 'conflicts': 0.0, 'tup_updated': 155993.0, 'tup_deleted': 2448.0, 'disk_read_count': 508130.0, 'disk_write_count': 464476.0, 'disk_read_bytes': 4162600960.0, 'disk_write_bytes': 3804987392.0}
Internal metrics collected: {'xact_commit': 157311.0, 'xact_rollback': 38162.0, 'blks_read': 303951.0, 'blks_hit': 12906105.0, 'tup_returned': 6459044.0, 'tup_fetched': 5792424.0, 'tup_inserted': 688819.0, 'conflicts': 0.0, 'tup_updated': 155993.0, 'tup_deleted': 2448.0, 'disk_read_count': 508130.0, 'disk_write_count': 464476.0, 'disk_read_bytes': 4162600960.0, 'disk_write_bytes': 3804987392.0}
Internal metrics saved to: internal_metrics/wikipedia/sample_wikipedia_config10_internal_metrics.json
Starting tuning for workload: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Beginning SMAC optimization
Length of knobs: 44
Initialized configuration space with knobs.
Workload file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Save workload identifier: sample_wikipedia_config10
Starting SMAC scenario setup.
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
 t
(2 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1298967
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4358
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 70276608
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4598
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-31-41.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-31-41.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-31-41.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-31-41.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-31-41.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-31-41.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-31-41.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-31-41.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763724638.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-31-41.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-31-41.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-31-41.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-31-41.samples.csv
Parsed throughput from summary.json: 3143.3905961019973
BenchBase wikipedia throughput: 3143.3905961019973
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3143.3905961019973
Performance (QPS): -3143.3905961019973
Evaluating configuration: {'autovacuum_analyze_scale_factor': 59.09048430621624, 'autovacuum_analyze_threshold': 269378350, 'autovacuum_max_workers': 121, 'autovacuum_naptime': 364983, 'autovacuum_vacuum_cost_delay': 46, 'autovacuum_vacuum_cost_limit': 162, 'autovacuum_vacuum_scale_factor': 47.69385075196624, 'autovacuum_vacuum_threshold': 722834952, 'backend_flush_after': 238, 'bgwriter_delay': 9452, 'bgwriter_flush_after': 93, 'bgwriter_lru_maxpages': 187, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9411872830241919, 'checkpoint_flush_after': 108, 'checkpoint_timeout': 1042, 'commit_delay': 83081, 'commit_siblings': 447, 'cursor_tuple_fraction': 0.5100215626880527, 'deadlock_timeout': 727367336, 'default_statistics_target': 5797, 'effective_cache_size': 612946166, 'effective_io_concurrency': 862, 'from_collapse_limit': 181234394, 'geqo_effort': 8, 'geqo_generations': 2082024641, 'geqo_pool_size': 344736214, 'geqo_seed': 0.5773294121026993, 'geqo_threshold': 1410184352, 'join_collapse_limit': 2014285460, 'maintenance_work_mem': 1770346271, 'max_connections': 2691, 'max_wal_senders': 29, 'shared_buffers': 3215730, 'temp_buffers': 978368191, 'temp_file_limit': 1375887961, 'vacuum_cost_delay': 9, 'vacuum_cost_limit': 6208, 'vacuum_cost_page_dirty': 7472, 'vacuum_cost_page_hit': 1318, 'vacuum_cost_page_miss': 7972, 'wal_buffers': 118787, 'wal_writer_delay': 213, 'work_mem': 409864143}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 59.09048430621624
Set autovacuum_analyze_threshold = 269378350
Set autovacuum_max_workers = 121
Set autovacuum_naptime = 364983
Set autovacuum_vacuum_cost_delay = 46
Set autovacuum_vacuum_cost_limit = 162
Set autovacuum_vacuum_scale_factor = 47.69385075196624
Set autovacuum_vacuum_threshold = 722834952
Set backend_flush_after = 238
Set bgwriter_delay = 9452
Set bgwriter_flush_after = 93
Set bgwriter_lru_maxpages = 187
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.9411872830241919
Set checkpoint_flush_after = 108
Set checkpoint_timeout = 1042
Set commit_delay = 83081
Set commit_siblings = 447
Set cursor_tuple_fraction = 0.5100215626880527
Set deadlock_timeout = 727367336
Set default_statistics_target = 5797
Set effective_cache_size = 612946166
Set effective_io_concurrency = 862
Set from_collapse_limit = 181234394
Set geqo_effort = 8
Set geqo_generations = 2082024641
Set geqo_pool_size = 344736214
Set geqo_seed = 0.5773294121026993
Set geqo_threshold = 1410184352
Set join_collapse_limit = 2014285460
Set maintenance_work_mem = 1770346271
Set max_connections = 2691
Set max_wal_senders = 29
Set shared_buffers = 3215730
Set temp_buffers = 978368191
Set temp_file_limit = 1375887961
Set vacuum_cost_delay = 9
Set vacuum_cost_limit = 6208
Set vacuum_cost_page_dirty = 7472
Set vacuum_cost_page_hit = 1318
Set vacuum_cost_page_miss = 7972
Set wal_buffers = 118787
Set wal_writer_delay = 213
Set work_mem = 409864143
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-33-15.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-33-15.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763724732.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-33-15.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-33-15.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-33-15.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-33-15.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-33-15.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-33-15.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-33-15.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-33-15.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-33-15.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-33-15.params.json
Parsed throughput from summary.json: 2958.288924242239
BenchBase wikipedia throughput: 2958.288924242239
Configuration: {'autovacuum_analyze_scale_factor': 59.09048430621624, 'autovacuum_analyze_threshold': 269378350, 'autovacuum_max_workers': 121, 'autovacuum_naptime': 364983, 'autovacuum_vacuum_cost_delay': 46, 'autovacuum_vacuum_cost_limit': 162, 'autovacuum_vacuum_scale_factor': 47.69385075196624, 'autovacuum_vacuum_threshold': 722834952, 'backend_flush_after': 238, 'bgwriter_delay': 9452, 'bgwriter_flush_after': 93, 'bgwriter_lru_maxpages': 187, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9411872830241919, 'checkpoint_flush_after': 108, 'checkpoint_timeout': 1042, 'commit_delay': 83081, 'commit_siblings': 447, 'cursor_tuple_fraction': 0.5100215626880527, 'deadlock_timeout': 727367336, 'default_statistics_target': 5797, 'effective_cache_size': 612946166, 'effective_io_concurrency': 862, 'from_collapse_limit': 181234394, 'geqo_effort': 8, 'geqo_generations': 2082024641, 'geqo_pool_size': 344736214, 'geqo_seed': 0.5773294121026993, 'geqo_threshold': 1410184352, 'join_collapse_limit': 2014285460, 'maintenance_work_mem': 1770346271, 'max_connections': 2691, 'max_wal_senders': 29, 'shared_buffers': 3215730, 'temp_buffers': 978368191, 'temp_file_limit': 1375887961, 'vacuum_cost_delay': 9, 'vacuum_cost_limit': 6208, 'vacuum_cost_page_dirty': 7472, 'vacuum_cost_page_hit': 1318, 'vacuum_cost_page_miss': 7972, 'wal_buffers': 118787, 'wal_writer_delay': 213, 'work_mem': 409864143}, QPS: -2958.288924242239
Performance (QPS): -2958.288924242239
Evaluating configuration: {'autovacuum_analyze_scale_factor': 76.40128070488572, 'autovacuum_analyze_threshold': 2054345871, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1742961, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': 2889, 'autovacuum_vacuum_scale_factor': 68.17056005820632, 'autovacuum_vacuum_threshold': 292674466, 'backend_flush_after': 185, 'bgwriter_delay': 6898, 'bgwriter_flush_after': 57, 'bgwriter_lru_maxpages': 369, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.11681524477899075, 'checkpoint_flush_after': 25, 'checkpoint_timeout': 3292, 'commit_delay': 59820, 'commit_siblings': 705, 'cursor_tuple_fraction': 0.8368948232382536, 'deadlock_timeout': 1828021056, 'default_statistics_target': 979, 'effective_cache_size': 298898560, 'effective_io_concurrency': 229, 'from_collapse_limit': 1168982740, 'geqo_effort': 5, 'geqo_generations': 1431332651, 'geqo_pool_size': 1791561467, 'geqo_seed': 0.9844945101067424, 'geqo_threshold': 1014366143, 'join_collapse_limit': 1215862036, 'maintenance_work_mem': 353354037, 'max_connections': 110, 'max_wal_senders': 11, 'shared_buffers': 2180834, 'temp_buffers': 577406274, 'temp_file_limit': 1860665339, 'vacuum_cost_delay': 81, 'vacuum_cost_limit': 699, 'vacuum_cost_page_dirty': 2223, 'vacuum_cost_page_hit': 9814, 'vacuum_cost_page_miss': 4302, 'wal_buffers': 98184, 'wal_writer_delay': 7372, 'work_mem': 1272186404}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 76.40128070488572
Set autovacuum_analyze_threshold = 2054345871
Set autovacuum_max_workers = 48
Set autovacuum_naptime = 1742961
Set autovacuum_vacuum_cost_delay = 2
Set autovacuum_vacuum_cost_limit = 2889
Set autovacuum_vacuum_scale_factor = 68.17056005820632
Set autovacuum_vacuum_threshold = 292674466
Set backend_flush_after = 185
Set bgwriter_delay = 6898
Set bgwriter_flush_after = 57
Set bgwriter_lru_maxpages = 369
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.11681524477899075
Set checkpoint_flush_after = 25
Set checkpoint_timeout = 3292
Set commit_delay = 59820
Set commit_siblings = 705
Set cursor_tuple_fraction = 0.8368948232382536
Set deadlock_timeout = 1828021056
Set default_statistics_target = 979
Set effective_cache_size = 298898560
Set effective_io_concurrency = 229
Set from_collapse_limit = 1168982740
Set geqo_effort = 5
Set geqo_generations = 1431332651
Set geqo_pool_size = 1791561467
Set geqo_seed = 0.9844945101067424
Set geqo_threshold = 1014366143
Set join_collapse_limit = 1215862036
Set maintenance_work_mem = 353354037
Set max_connections = 110
Set max_wal_senders = 11
Set shared_buffers = 2180834
Set temp_buffers = 577406274
Set temp_file_limit = 1860665339
Set vacuum_cost_delay = 81
Set vacuum_cost_limit = 699
Set vacuum_cost_page_dirty = 2223
Set vacuum_cost_page_hit = 9814
Set vacuum_cost_page_miss = 4302
Set wal_buffers = 98184
Set wal_writer_delay = 7372
Set work_mem = 1272186404
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-34-50.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-34-50.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-34-50.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-34-50.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-34-50.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-34-50.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763724826.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-34-50.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-34-50.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-34-50.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-34-50.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-34-50.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-34-50.results.csv
Parsed throughput from summary.json: 2909.7037922649342
BenchBase wikipedia throughput: 2909.7037922649342
Configuration: {'autovacuum_analyze_scale_factor': 76.40128070488572, 'autovacuum_analyze_threshold': 2054345871, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1742961, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': 2889, 'autovacuum_vacuum_scale_factor': 68.17056005820632, 'autovacuum_vacuum_threshold': 292674466, 'backend_flush_after': 185, 'bgwriter_delay': 6898, 'bgwriter_flush_after': 57, 'bgwriter_lru_maxpages': 369, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.11681524477899075, 'checkpoint_flush_after': 25, 'checkpoint_timeout': 3292, 'commit_delay': 59820, 'commit_siblings': 705, 'cursor_tuple_fraction': 0.8368948232382536, 'deadlock_timeout': 1828021056, 'default_statistics_target': 979, 'effective_cache_size': 298898560, 'effective_io_concurrency': 229, 'from_collapse_limit': 1168982740, 'geqo_effort': 5, 'geqo_generations': 1431332651, 'geqo_pool_size': 1791561467, 'geqo_seed': 0.9844945101067424, 'geqo_threshold': 1014366143, 'join_collapse_limit': 1215862036, 'maintenance_work_mem': 353354037, 'max_connections': 110, 'max_wal_senders': 11, 'shared_buffers': 2180834, 'temp_buffers': 577406274, 'temp_file_limit': 1860665339, 'vacuum_cost_delay': 81, 'vacuum_cost_limit': 699, 'vacuum_cost_page_dirty': 2223, 'vacuum_cost_page_hit': 9814, 'vacuum_cost_page_miss': 4302, 'wal_buffers': 98184, 'wal_writer_delay': 7372, 'work_mem': 1272186404}, QPS: -2909.7037922649342
Performance (QPS): -2909.7037922649342
Evaluating configuration: {'autovacuum_analyze_scale_factor': 26.481935661286116, 'autovacuum_analyze_threshold': 721596254, 'autovacuum_max_workers': 190, 'autovacuum_naptime': 1062135, 'autovacuum_vacuum_cost_delay': 67, 'autovacuum_vacuum_cost_limit': 5079, 'autovacuum_vacuum_scale_factor': 1.2826400808990002, 'autovacuum_vacuum_threshold': 1241364491, 'backend_flush_after': 76, 'bgwriter_delay': 477, 'bgwriter_flush_after': 204, 'bgwriter_lru_maxpages': 980, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.7091427892446518, 'checkpoint_flush_after': 141, 'checkpoint_timeout': 41, 'commit_delay': 6757, 'commit_siblings': 195, 'cursor_tuple_fraction': 0.46846663393080235, 'deadlock_timeout': 341141914, 'default_statistics_target': 8863, 'effective_cache_size': 1715922758, 'effective_io_concurrency': 572, 'from_collapse_limit': 609895714, 'geqo_effort': 6, 'geqo_generations': 550156632, 'geqo_pool_size': 891369298, 'geqo_seed': 0.020743686705827713, 'geqo_threshold': 1646830390, 'join_collapse_limit': 874423020, 'maintenance_work_mem': 1167999267, 'max_connections': 1786, 'max_wal_senders': 39, 'shared_buffers': 1247105, 'temp_buffers': 470443576, 'temp_file_limit': 1005496917, 'vacuum_cost_delay': 28, 'vacuum_cost_limit': 8183, 'vacuum_cost_page_dirty': 9458, 'vacuum_cost_page_hit': 3934, 'vacuum_cost_page_miss': 6476, 'wal_buffers': 35589, 'wal_writer_delay': 3725, 'work_mem': 818438137}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 26.481935661286116
Set autovacuum_analyze_threshold = 721596254
Set autovacuum_max_workers = 190
Set autovacuum_naptime = 1062135
Set autovacuum_vacuum_cost_delay = 67
Set autovacuum_vacuum_cost_limit = 5079
Set autovacuum_vacuum_scale_factor = 1.2826400808990002
Set autovacuum_vacuum_threshold = 1241364491
Set backend_flush_after = 76
Set bgwriter_delay = 477
Set bgwriter_flush_after = 204
Set bgwriter_lru_maxpages = 980
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.7091427892446518
Set checkpoint_flush_after = 141
Set checkpoint_timeout = 41
Set commit_delay = 6757
Set commit_siblings = 195
Set cursor_tuple_fraction = 0.46846663393080235
Set deadlock_timeout = 341141914
Set default_statistics_target = 8863
Set effective_cache_size = 1715922758
Set effective_io_concurrency = 572
Set from_collapse_limit = 609895714
Set geqo_effort = 6
Set geqo_generations = 550156632
Set geqo_pool_size = 891369298
Set geqo_seed = 0.020743686705827713
Set geqo_threshold = 1646830390
Set join_collapse_limit = 874423020
Set maintenance_work_mem = 1167999267
Set max_connections = 1786
Set max_wal_senders = 39
Set shared_buffers = 1247105
Set temp_buffers = 470443576
Set temp_file_limit = 1005496917
Set vacuum_cost_delay = 28
Set vacuum_cost_limit = 8183
Set vacuum_cost_page_dirty = 9458
Set vacuum_cost_page_hit = 3934
Set vacuum_cost_page_miss = 6476
Set wal_buffers = 35589
Set wal_writer_delay = 3725
Set work_mem = 818438137
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-36-24.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-36-24.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-36-24.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-36-24.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763724920.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-36-24.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-36-24.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-36-24.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-36-24.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-36-24.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-36-24.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-36-24.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-36-24.params.json
Parsed throughput from summary.json: 3006.2676330726426
BenchBase wikipedia throughput: 3006.2676330726426
Configuration: {'autovacuum_analyze_scale_factor': 26.481935661286116, 'autovacuum_analyze_threshold': 721596254, 'autovacuum_max_workers': 190, 'autovacuum_naptime': 1062135, 'autovacuum_vacuum_cost_delay': 67, 'autovacuum_vacuum_cost_limit': 5079, 'autovacuum_vacuum_scale_factor': 1.2826400808990002, 'autovacuum_vacuum_threshold': 1241364491, 'backend_flush_after': 76, 'bgwriter_delay': 477, 'bgwriter_flush_after': 204, 'bgwriter_lru_maxpages': 980, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.7091427892446518, 'checkpoint_flush_after': 141, 'checkpoint_timeout': 41, 'commit_delay': 6757, 'commit_siblings': 195, 'cursor_tuple_fraction': 0.46846663393080235, 'deadlock_timeout': 341141914, 'default_statistics_target': 8863, 'effective_cache_size': 1715922758, 'effective_io_concurrency': 572, 'from_collapse_limit': 609895714, 'geqo_effort': 6, 'geqo_generations': 550156632, 'geqo_pool_size': 891369298, 'geqo_seed': 0.020743686705827713, 'geqo_threshold': 1646830390, 'join_collapse_limit': 874423020, 'maintenance_work_mem': 1167999267, 'max_connections': 1786, 'max_wal_senders': 39, 'shared_buffers': 1247105, 'temp_buffers': 470443576, 'temp_file_limit': 1005496917, 'vacuum_cost_delay': 28, 'vacuum_cost_limit': 8183, 'vacuum_cost_page_dirty': 9458, 'vacuum_cost_page_hit': 3934, 'vacuum_cost_page_miss': 6476, 'wal_buffers': 35589, 'wal_writer_delay': 3725, 'work_mem': 818438137}, QPS: -3006.2676330726426
Performance (QPS): -3006.2676330726426
Evaluating configuration: {'autovacuum_analyze_scale_factor': 48.01633795723319, 'autovacuum_analyze_threshold': 1816547535, 'autovacuum_max_workers': 149, 'autovacuum_naptime': 621009, 'autovacuum_vacuum_cost_delay': 59, 'autovacuum_vacuum_cost_limit': 9147, 'autovacuum_vacuum_scale_factor': 57.31241349130869, 'autovacuum_vacuum_threshold': 231256504, 'backend_flush_after': 145, 'bgwriter_delay': 8439, 'bgwriter_flush_after': 15, 'bgwriter_lru_maxpages': 813, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8292871350422502, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 530, 'commit_delay': 23408, 'commit_siblings': 91, 'cursor_tuple_fraction': 0.9567479509860277, 'deadlock_timeout': 1229396950, 'default_statistics_target': 3231, 'effective_cache_size': 1277266344, 'effective_io_concurrency': 90, 'from_collapse_limit': 894198186, 'geqo_effort': 7, 'geqo_generations': 1262883605, 'geqo_pool_size': 2070704061, 'geqo_seed': 0.693586204200983, 'geqo_threshold': 400058367, 'join_collapse_limit': 535658784, 'maintenance_work_mem': 160923555, 'max_connections': 833, 'max_wal_senders': 45, 'shared_buffers': 2766233, 'temp_buffers': 843252663, 'temp_file_limit': 1300067389, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 9385, 'vacuum_cost_page_dirty': 784, 'vacuum_cost_page_hit': 3665, 'vacuum_cost_page_miss': 5211, 'wal_buffers': 103151, 'wal_writer_delay': 8140, 'work_mem': 656629010}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 48.01633795723319
Set autovacuum_analyze_threshold = 1816547535
Set autovacuum_max_workers = 149
Set autovacuum_naptime = 621009
Set autovacuum_vacuum_cost_delay = 59
Set autovacuum_vacuum_cost_limit = 9147
Set autovacuum_vacuum_scale_factor = 57.31241349130869
Set autovacuum_vacuum_threshold = 231256504
Set backend_flush_after = 145
Set bgwriter_delay = 8439
Set bgwriter_flush_after = 15
Set bgwriter_lru_maxpages = 813
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.8292871350422502
Set checkpoint_flush_after = 165
Set checkpoint_timeout = 530
Set commit_delay = 23408
Set commit_siblings = 91
Set cursor_tuple_fraction = 0.9567479509860277
Set deadlock_timeout = 1229396950
Set default_statistics_target = 3231
Set effective_cache_size = 1277266344
Set effective_io_concurrency = 90
Set from_collapse_limit = 894198186
Set geqo_effort = 7
Set geqo_generations = 1262883605
Set geqo_pool_size = 2070704061
Set geqo_seed = 0.693586204200983
Set geqo_threshold = 400058367
Set join_collapse_limit = 535658784
Set maintenance_work_mem = 160923555
Set max_connections = 833
Set max_wal_senders = 45
Set shared_buffers = 2766233
Set temp_buffers = 843252663
Set temp_file_limit = 1300067389
Set vacuum_cost_delay = 21
Set vacuum_cost_limit = 9385
Set vacuum_cost_page_dirty = 784
Set vacuum_cost_page_hit = 3665
Set vacuum_cost_page_miss = 5211
Set wal_buffers = 103151
Set wal_writer_delay = 8140
Set work_mem = 656629010
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-37-58.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-37-58.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-37-58.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-37-58.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-37-58.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-37-58.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-37-58.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-37-58.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763725015.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-37-58.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-37-58.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-37-58.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-37-58.metrics.json
Parsed throughput from summary.json: 2786.538529577121
BenchBase wikipedia throughput: 2786.538529577121
Configuration: {'autovacuum_analyze_scale_factor': 48.01633795723319, 'autovacuum_analyze_threshold': 1816547535, 'autovacuum_max_workers': 149, 'autovacuum_naptime': 621009, 'autovacuum_vacuum_cost_delay': 59, 'autovacuum_vacuum_cost_limit': 9147, 'autovacuum_vacuum_scale_factor': 57.31241349130869, 'autovacuum_vacuum_threshold': 231256504, 'backend_flush_after': 145, 'bgwriter_delay': 8439, 'bgwriter_flush_after': 15, 'bgwriter_lru_maxpages': 813, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8292871350422502, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 530, 'commit_delay': 23408, 'commit_siblings': 91, 'cursor_tuple_fraction': 0.9567479509860277, 'deadlock_timeout': 1229396950, 'default_statistics_target': 3231, 'effective_cache_size': 1277266344, 'effective_io_concurrency': 90, 'from_collapse_limit': 894198186, 'geqo_effort': 7, 'geqo_generations': 1262883605, 'geqo_pool_size': 2070704061, 'geqo_seed': 0.693586204200983, 'geqo_threshold': 400058367, 'join_collapse_limit': 535658784, 'maintenance_work_mem': 160923555, 'max_connections': 833, 'max_wal_senders': 45, 'shared_buffers': 2766233, 'temp_buffers': 843252663, 'temp_file_limit': 1300067389, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 9385, 'vacuum_cost_page_dirty': 784, 'vacuum_cost_page_hit': 3665, 'vacuum_cost_page_miss': 5211, 'wal_buffers': 103151, 'wal_writer_delay': 8140, 'work_mem': 656629010}, QPS: -2786.538529577121
Performance (QPS): -2786.538529577121
Evaluating configuration: {'autovacuum_analyze_scale_factor': 97.93487088754773, 'autovacuum_analyze_threshold': 1026960158, 'autovacuum_max_workers': 91, 'autovacuum_naptime': 2108575, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 1320, 'autovacuum_vacuum_scale_factor': 24.787272326648235, 'autovacuum_vacuum_threshold': 1430573589, 'backend_flush_after': 100, 'bgwriter_delay': 4246, 'bgwriter_flush_after': 253, 'bgwriter_lru_maxpages': 456, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.48489107098430395, 'checkpoint_flush_after': 49, 'checkpoint_timeout': 2860, 'commit_delay': 70121, 'commit_siblings': 567, 'cursor_tuple_fraction': 0.33298872970044613, 'deadlock_timeout': 837226764, 'default_statistics_target': 6616, 'effective_cache_size': 1001896558, 'effective_io_concurrency': 750, 'from_collapse_limit': 1421567580, 'geqo_effort': 4, 'geqo_generations': 1054657890, 'geqo_pool_size': 612652560, 'geqo_seed': 0.28427873831242323, 'geqo_threshold': 1233468278, 'join_collapse_limit': 1670100696, 'maintenance_work_mem': 1493629621, 'max_connections': 2449, 'max_wal_senders': 5, 'shared_buffers': 1602634, 'temp_buffers': 203677959, 'temp_file_limit': 410296723, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 1902, 'vacuum_cost_page_dirty': 8707, 'vacuum_cost_page_hit': 7592, 'vacuum_cost_page_miss': 3068, 'wal_buffers': 26210, 'wal_writer_delay': 2015, 'work_mem': 1547633999}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 97.93487088754773
Set autovacuum_analyze_threshold = 1026960158
Set autovacuum_max_workers = 91
Set autovacuum_naptime = 2108575
Set autovacuum_vacuum_cost_delay = 19
Set autovacuum_vacuum_cost_limit = 1320
Set autovacuum_vacuum_scale_factor = 24.787272326648235
Set autovacuum_vacuum_threshold = 1430573589
Set backend_flush_after = 100
Set bgwriter_delay = 4246
Set bgwriter_flush_after = 253
Set bgwriter_lru_maxpages = 456
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.48489107098430395
Set checkpoint_flush_after = 49
Set checkpoint_timeout = 2860
Set commit_delay = 70121
Set commit_siblings = 567
Set cursor_tuple_fraction = 0.33298872970044613
Set deadlock_timeout = 837226764
Set default_statistics_target = 6616
Set effective_cache_size = 1001896558
Set effective_io_concurrency = 750
Set from_collapse_limit = 1421567580
Set geqo_effort = 4
Set geqo_generations = 1054657890
Set geqo_pool_size = 612652560
Set geqo_seed = 0.28427873831242323
Set geqo_threshold = 1233468278
Set join_collapse_limit = 1670100696
Set maintenance_work_mem = 1493629621
Set max_connections = 2449
Set max_wal_senders = 5
Set shared_buffers = 1602634
Set temp_buffers = 203677959
Set temp_file_limit = 410296723
Set vacuum_cost_delay = 69
Set vacuum_cost_limit = 1902
Set vacuum_cost_page_dirty = 8707
Set vacuum_cost_page_hit = 7592
Set vacuum_cost_page_miss = 3068
Set wal_buffers = 26210
Set wal_writer_delay = 2015
Set work_mem = 1547633999
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-39-32.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-39-32.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-39-32.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-39-32.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-39-32.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-39-32.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-39-32.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-39-32.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763725108.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-39-32.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-39-32.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-39-32.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-39-32.results.UpdatePage.csv
Parsed throughput from summary.json: 2963.0043800565036
BenchBase wikipedia throughput: 2963.0043800565036
Configuration: {'autovacuum_analyze_scale_factor': 97.93487088754773, 'autovacuum_analyze_threshold': 1026960158, 'autovacuum_max_workers': 91, 'autovacuum_naptime': 2108575, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 1320, 'autovacuum_vacuum_scale_factor': 24.787272326648235, 'autovacuum_vacuum_threshold': 1430573589, 'backend_flush_after': 100, 'bgwriter_delay': 4246, 'bgwriter_flush_after': 253, 'bgwriter_lru_maxpages': 456, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.48489107098430395, 'checkpoint_flush_after': 49, 'checkpoint_timeout': 2860, 'commit_delay': 70121, 'commit_siblings': 567, 'cursor_tuple_fraction': 0.33298872970044613, 'deadlock_timeout': 837226764, 'default_statistics_target': 6616, 'effective_cache_size': 1001896558, 'effective_io_concurrency': 750, 'from_collapse_limit': 1421567580, 'geqo_effort': 4, 'geqo_generations': 1054657890, 'geqo_pool_size': 612652560, 'geqo_seed': 0.28427873831242323, 'geqo_threshold': 1233468278, 'join_collapse_limit': 1670100696, 'maintenance_work_mem': 1493629621, 'max_connections': 2449, 'max_wal_senders': 5, 'shared_buffers': 1602634, 'temp_buffers': 203677959, 'temp_file_limit': 410296723, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 1902, 'vacuum_cost_page_dirty': 8707, 'vacuum_cost_page_hit': 7592, 'vacuum_cost_page_miss': 3068, 'wal_buffers': 26210, 'wal_writer_delay': 2015, 'work_mem': 1547633999}, QPS: -2963.0043800565036
Performance (QPS): -2963.0043800565036
Evaluating configuration: {'autovacuum_analyze_scale_factor': 68.1232750415802, 'autovacuum_analyze_threshold': 1464507551, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 260835, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 4223, 'autovacuum_vacuum_scale_factor': 92.15154927223921, 'autovacuum_vacuum_threshold': 1864409019, 'backend_flush_after': 49, 'bgwriter_delay': 1800, 'bgwriter_flush_after': 153, 'bgwriter_lru_maxpages': 104, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5672597279772162, 'checkpoint_flush_after': 69, 'checkpoint_timeout': 1531, 'commit_delay': 99241, 'commit_siblings': 341, 'cursor_tuple_fraction': 0.006115379743278027, 'deadlock_timeout': 1984482532, 'default_statistics_target': 1414, 'effective_cache_size': 250592792, 'effective_io_concurrency': 351, 'from_collapse_limit': 467357266, 'geqo_effort': 10, 'geqo_generations': 395675276, 'geqo_pool_size': 1522604345, 'geqo_seed': 0.15250328183174133, 'geqo_threshold': 570257513, 'join_collapse_limit': 1409068376, 'maintenance_work_mem': 629937567, 'max_connections': 608, 'max_wal_senders': 35, 'shared_buffers': 533398, 'temp_buffers': 337236825, 'temp_file_limit': 613530673, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 7487, 'vacuum_cost_page_dirty': 3488, 'vacuum_cost_page_hit': 963, 'vacuum_cost_page_miss': 9247, 'wal_buffers': 51689, 'wal_writer_delay': 5403, 'work_mem': 260375776}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 68.1232750415802
Set autovacuum_analyze_threshold = 1464507551
Set autovacuum_max_workers = 167
Set autovacuum_naptime = 260835
Set autovacuum_vacuum_cost_delay = 29
Set autovacuum_vacuum_cost_limit = 4223
Set autovacuum_vacuum_scale_factor = 92.15154927223921
Set autovacuum_vacuum_threshold = 1864409019
Set backend_flush_after = 49
Set bgwriter_delay = 1800
Set bgwriter_flush_after = 153
Set bgwriter_lru_maxpages = 104
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.5672597279772162
Set checkpoint_flush_after = 69
Set checkpoint_timeout = 1531
Set commit_delay = 99241
Set commit_siblings = 341
Set cursor_tuple_fraction = 0.006115379743278027
Set deadlock_timeout = 1984482532
Set default_statistics_target = 1414
Set effective_cache_size = 250592792
Set effective_io_concurrency = 351
Set from_collapse_limit = 467357266
Set geqo_effort = 10
Set geqo_generations = 395675276
Set geqo_pool_size = 1522604345
Set geqo_seed = 0.15250328183174133
Set geqo_threshold = 570257513
Set join_collapse_limit = 1409068376
Set maintenance_work_mem = 629937567
Set max_connections = 608
Set max_wal_senders = 35
Set shared_buffers = 533398
Set temp_buffers = 337236825
Set temp_file_limit = 613530673
Set vacuum_cost_delay = 40
Set vacuum_cost_limit = 7487
Set vacuum_cost_page_dirty = 3488
Set vacuum_cost_page_hit = 963
Set vacuum_cost_page_miss = 9247
Set wal_buffers = 51689
Set wal_writer_delay = 5403
Set work_mem = 260375776
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-41-06.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-41-06.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-41-06.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-41-06.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-41-06.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-41-06.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-41-06.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-41-06.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-41-06.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763725202.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-41-06.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-41-06.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-41-06.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 2881.3268640865117
BenchBase wikipedia throughput: 2881.3268640865117
Configuration: {'autovacuum_analyze_scale_factor': 68.1232750415802, 'autovacuum_analyze_threshold': 1464507551, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 260835, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 4223, 'autovacuum_vacuum_scale_factor': 92.15154927223921, 'autovacuum_vacuum_threshold': 1864409019, 'backend_flush_after': 49, 'bgwriter_delay': 1800, 'bgwriter_flush_after': 153, 'bgwriter_lru_maxpages': 104, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5672597279772162, 'checkpoint_flush_after': 69, 'checkpoint_timeout': 1531, 'commit_delay': 99241, 'commit_siblings': 341, 'cursor_tuple_fraction': 0.006115379743278027, 'deadlock_timeout': 1984482532, 'default_statistics_target': 1414, 'effective_cache_size': 250592792, 'effective_io_concurrency': 351, 'from_collapse_limit': 467357266, 'geqo_effort': 10, 'geqo_generations': 395675276, 'geqo_pool_size': 1522604345, 'geqo_seed': 0.15250328183174133, 'geqo_threshold': 570257513, 'join_collapse_limit': 1409068376, 'maintenance_work_mem': 629937567, 'max_connections': 608, 'max_wal_senders': 35, 'shared_buffers': 533398, 'temp_buffers': 337236825, 'temp_file_limit': 613530673, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 7487, 'vacuum_cost_page_dirty': 3488, 'vacuum_cost_page_hit': 963, 'vacuum_cost_page_miss': 9247, 'wal_buffers': 51689, 'wal_writer_delay': 5403, 'work_mem': 260375776}, QPS: -2881.3268640865117
Performance (QPS): -2881.3268640865117
Evaluating configuration: {'autovacuum_analyze_scale_factor': 18.054398335516453, 'autovacuum_analyze_threshold': 104523630, 'autovacuum_max_workers': 22, 'autovacuum_naptime': 1461821, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 6558, 'autovacuum_vacuum_scale_factor': 27.39966604858637, 'autovacuum_vacuum_threshold': 934083602, 'backend_flush_after': 198, 'bgwriter_delay': 5886, 'bgwriter_flush_after': 106, 'bgwriter_lru_maxpages': 744, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.22403083089739084, 'checkpoint_flush_after': 210, 'checkpoint_timeout': 1852, 'commit_delay': 46242, 'commit_siblings': 818, 'cursor_tuple_fraction': 0.6260237609967589, 'deadlock_timeout': 250136126, 'default_statistics_target': 8745, 'effective_cache_size': 2038009310, 'effective_io_concurrency': 942, 'from_collapse_limit': 2049722788, 'geqo_effort': 1, 'geqo_generations': 1645172983, 'geqo_pool_size': 86581396, 'geqo_seed': 0.868207267485559, 'geqo_threshold': 2141203680, 'join_collapse_limit': 798661280, 'maintenance_work_mem': 1964871833, 'max_connections': 1935, 'max_wal_senders': 15, 'shared_buffers': 3826214, 'temp_buffers': 712585250, 'temp_file_limit': 1905813911, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 4969, 'vacuum_cost_page_dirty': 5771, 'vacuum_cost_page_hit': 5280, 'vacuum_cost_page_miss': 1535, 'wal_buffers': 81252, 'wal_writer_delay': 4127, 'work_mem': 1956207989}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 18.054398335516453
Set autovacuum_analyze_threshold = 104523630
Set autovacuum_max_workers = 22
Set autovacuum_naptime = 1461821
Set autovacuum_vacuum_cost_delay = 91
Set autovacuum_vacuum_cost_limit = 6558
Set autovacuum_vacuum_scale_factor = 27.39966604858637
Set autovacuum_vacuum_threshold = 934083602
Set backend_flush_after = 198
Set bgwriter_delay = 5886
Set bgwriter_flush_after = 106
Set bgwriter_lru_maxpages = 744
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.22403083089739084
Set checkpoint_flush_after = 210
Set checkpoint_timeout = 1852
Set commit_delay = 46242
Set commit_siblings = 818
Set cursor_tuple_fraction = 0.6260237609967589
Set deadlock_timeout = 250136126
Set default_statistics_target = 8745
Set effective_cache_size = 2038009310
Set effective_io_concurrency = 942
Set from_collapse_limit = 2049722788
Set geqo_effort = 1
Set geqo_generations = 1645172983
Set geqo_pool_size = 86581396
Set geqo_seed = 0.868207267485559
Set geqo_threshold = 2141203680
Set join_collapse_limit = 798661280
Set maintenance_work_mem = 1964871833
Set max_connections = 1935
Set max_wal_senders = 15
Set shared_buffers = 3826214
Set temp_buffers = 712585250
Set temp_file_limit = 1905813911
Set vacuum_cost_delay = 88
Set vacuum_cost_limit = 4969
Set vacuum_cost_page_dirty = 5771
Set vacuum_cost_page_hit = 5280
Set vacuum_cost_page_miss = 1535
Set wal_buffers = 81252
Set wal_writer_delay = 4127
Set work_mem = 1956207989
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-42-39.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-42-39.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-42-39.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-42-39.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-42-39.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-42-39.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-42-39.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-42-39.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-42-39.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-42-39.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-42-39.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-42-39.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763725296.log
Parsed throughput from summary.json: 2927.329413653476
BenchBase wikipedia throughput: 2927.329413653476
Configuration: {'autovacuum_analyze_scale_factor': 18.054398335516453, 'autovacuum_analyze_threshold': 104523630, 'autovacuum_max_workers': 22, 'autovacuum_naptime': 1461821, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 6558, 'autovacuum_vacuum_scale_factor': 27.39966604858637, 'autovacuum_vacuum_threshold': 934083602, 'backend_flush_after': 198, 'bgwriter_delay': 5886, 'bgwriter_flush_after': 106, 'bgwriter_lru_maxpages': 744, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.22403083089739084, 'checkpoint_flush_after': 210, 'checkpoint_timeout': 1852, 'commit_delay': 46242, 'commit_siblings': 818, 'cursor_tuple_fraction': 0.6260237609967589, 'deadlock_timeout': 250136126, 'default_statistics_target': 8745, 'effective_cache_size': 2038009310, 'effective_io_concurrency': 942, 'from_collapse_limit': 2049722788, 'geqo_effort': 1, 'geqo_generations': 1645172983, 'geqo_pool_size': 86581396, 'geqo_seed': 0.868207267485559, 'geqo_threshold': 2141203680, 'join_collapse_limit': 798661280, 'maintenance_work_mem': 1964871833, 'max_connections': 1935, 'max_wal_senders': 15, 'shared_buffers': 3826214, 'temp_buffers': 712585250, 'temp_file_limit': 1905813911, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 4969, 'vacuum_cost_page_dirty': 5771, 'vacuum_cost_page_hit': 5280, 'vacuum_cost_page_miss': 1535, 'wal_buffers': 81252, 'wal_writer_delay': 4127, 'work_mem': 1956207989}, QPS: -2927.329413653476
Performance (QPS): -2927.329413653476
Evaluating configuration: {'autovacuum_analyze_scale_factor': 24.392467457801104, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 163, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 26329702, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 855200746, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 410094950, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 1044371522, 'temp_file_limit': 761908879, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 2936, 'work_mem': 2036127693}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 24.392467457801104
Set autovacuum_analyze_threshold = 1969911119
Set autovacuum_max_workers = 163
Set autovacuum_naptime = 1880690
Set autovacuum_vacuum_cost_delay = 38
Set autovacuum_vacuum_cost_limit = 5652
Set autovacuum_vacuum_scale_factor = 51.02565577253699
Set autovacuum_vacuum_threshold = 26329702
Set backend_flush_after = 140
Set bgwriter_delay = 862
Set bgwriter_flush_after = 127
Set bgwriter_lru_maxpages = 517
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.5030564842745662
Set checkpoint_flush_after = 7
Set checkpoint_timeout = 703
Set commit_delay = 54508
Set commit_siblings = 173
Set cursor_tuple_fraction = 0.9186503402888775
Set deadlock_timeout = 1689266024
Set default_statistics_target = 2922
Set effective_cache_size = 855200746
Set effective_io_concurrency = 270
Set from_collapse_limit = 1026139532
Set geqo_effort = 3
Set geqo_generations = 23614720
Set geqo_pool_size = 410094950
Set geqo_seed = 0.3290532799437642
Set geqo_threshold = 1116794408
Set join_collapse_limit = 1517115132
Set maintenance_work_mem = 97161105
Set max_connections = 1692
Set max_wal_senders = 25
Set shared_buffers = 2926931
Set temp_buffers = 1044371522
Set temp_file_limit = 761908879
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 7873
Set vacuum_cost_page_dirty = 1448
Set vacuum_cost_page_hit = 1912
Set vacuum_cost_page_miss = 8596
Set wal_buffers = 200
Set wal_writer_delay = 2936
Set work_mem = 2036127693
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-44-13.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-44-13.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-44-13.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-44-13.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-44-13.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-44-13.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-44-13.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763725389.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-44-13.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-44-13.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-44-13.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-44-13.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-44-13.metrics.json
Parsed throughput from summary.json: 2935.9100566247143
BenchBase wikipedia throughput: 2935.9100566247143
Configuration: {'autovacuum_analyze_scale_factor': 24.392467457801104, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 163, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 26329702, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 855200746, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 410094950, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 1044371522, 'temp_file_limit': 761908879, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 2936, 'work_mem': 2036127693}, QPS: -2935.9100566247143
Performance (QPS): -2935.9100566247143
Evaluating configuration: {'autovacuum_analyze_scale_factor': 74.28701287135482, 'autovacuum_analyze_threshold': 605687454, 'autovacuum_max_workers': 2, 'autovacuum_naptime': 682924, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 3565, 'autovacuum_vacuum_scale_factor': 18.52565510198474, 'autovacuum_vacuum_threshold': 1495114183, 'backend_flush_after': 127, 'bgwriter_delay': 6825, 'bgwriter_flush_after': 140, 'bgwriter_lru_maxpages': 127, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.15877843368798494, 'checkpoint_flush_after': 146, 'checkpoint_timeout': 3061, 'commit_delay': 1521, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.29296087473630905, 'deadlock_timeout': 470822322, 'default_statistics_target': 6920, 'effective_cache_size': 1164927020, 'effective_io_concurrency': 930, 'from_collapse_limit': 1558094458, 'geqo_effort': 7, 'geqo_generations': 1962052467, 'geqo_pool_size': 1201255623, 'geqo_seed': 0.6775582823902369, 'geqo_threshold': 483242657, 'join_collapse_limit': 638279940, 'maintenance_work_mem': 1432029859, 'max_connections': 391, 'max_wal_senders': 26, 'shared_buffers': 2025707, 'temp_buffers': 6241207, 'temp_file_limit': 2019564345, 'vacuum_cost_delay': 17, 'vacuum_cost_limit': 356, 'vacuum_cost_page_dirty': 9371, 'vacuum_cost_page_hit': 6855, 'vacuum_cost_page_miss': 933, 'wal_buffers': 128069, 'wal_writer_delay': 6594, 'work_mem': 37785168}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 74.28701287135482
Set autovacuum_analyze_threshold = 605687454
Set autovacuum_max_workers = 2
Set autovacuum_naptime = 682924
Set autovacuum_vacuum_cost_delay = 77
Set autovacuum_vacuum_cost_limit = 3565
Set autovacuum_vacuum_scale_factor = 18.52565510198474
Set autovacuum_vacuum_threshold = 1495114183
Set backend_flush_after = 127
Set bgwriter_delay = 6825
Set bgwriter_flush_after = 140
Set bgwriter_lru_maxpages = 127
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.15877843368798494
Set checkpoint_flush_after = 146
Set checkpoint_timeout = 3061
Set commit_delay = 1521
Set commit_siblings = 665
Set cursor_tuple_fraction = 0.29296087473630905
Set deadlock_timeout = 470822322
Set default_statistics_target = 6920
Set effective_cache_size = 1164927020
Set effective_io_concurrency = 930
Set from_collapse_limit = 1558094458
Set geqo_effort = 7
Set geqo_generations = 1962052467
Set geqo_pool_size = 1201255623
Set geqo_seed = 0.6775582823902369
Set geqo_threshold = 483242657
Set join_collapse_limit = 638279940
Set maintenance_work_mem = 1432029859
Set max_connections = 391
Set max_wal_senders = 26
Set shared_buffers = 2025707
Set temp_buffers = 6241207
Set temp_file_limit = 2019564345
Set vacuum_cost_delay = 17
Set vacuum_cost_limit = 356
Set vacuum_cost_page_dirty = 9371
Set vacuum_cost_page_hit = 6855
Set vacuum_cost_page_miss = 933
Set wal_buffers = 128069
Set wal_writer_delay = 6594
Set work_mem = 37785168
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-45-46.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-45-46.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-45-46.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-45-46.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-45-46.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-45-46.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-45-46.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-45-46.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763725484.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-45-46.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-45-46.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-45-46.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-45-46.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Parsed throughput from summary.json: 2954.1066740961232
BenchBase wikipedia throughput: 2954.1066740961232
Configuration: {'autovacuum_analyze_scale_factor': 74.28701287135482, 'autovacuum_analyze_threshold': 605687454, 'autovacuum_max_workers': 2, 'autovacuum_naptime': 682924, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 3565, 'autovacuum_vacuum_scale_factor': 18.52565510198474, 'autovacuum_vacuum_threshold': 1495114183, 'backend_flush_after': 127, 'bgwriter_delay': 6825, 'bgwriter_flush_after': 140, 'bgwriter_lru_maxpages': 127, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.15877843368798494, 'checkpoint_flush_after': 146, 'checkpoint_timeout': 3061, 'commit_delay': 1521, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.29296087473630905, 'deadlock_timeout': 470822322, 'default_statistics_target': 6920, 'effective_cache_size': 1164927020, 'effective_io_concurrency': 930, 'from_collapse_limit': 1558094458, 'geqo_effort': 7, 'geqo_generations': 1962052467, 'geqo_pool_size': 1201255623, 'geqo_seed': 0.6775582823902369, 'geqo_threshold': 483242657, 'join_collapse_limit': 638279940, 'maintenance_work_mem': 1432029859, 'max_connections': 391, 'max_wal_senders': 26, 'shared_buffers': 2025707, 'temp_buffers': 6241207, 'temp_file_limit': 2019564345, 'vacuum_cost_delay': 17, 'vacuum_cost_limit': 356, 'vacuum_cost_page_dirty': 9371, 'vacuum_cost_page_hit': 6855, 'vacuum_cost_page_miss': 933, 'wal_buffers': 128069, 'wal_writer_delay': 6594, 'work_mem': 37785168}, QPS: -2954.1066740961232
Performance (QPS): -2954.1066740961232
Evaluating configuration: {'autovacuum_analyze_scale_factor': 91.7959289625287, 'autovacuum_analyze_threshold': 1315354911, 'autovacuum_max_workers': 132, 'autovacuum_naptime': 1519837, 'autovacuum_vacuum_cost_delay': 73, 'autovacuum_vacuum_cost_limit': 878, 'autovacuum_vacuum_scale_factor': 98.41327322646976, 'autovacuum_vacuum_threshold': 1668934753, 'backend_flush_after': 42, 'bgwriter_delay': 9368, 'bgwriter_flush_after': 234, 'bgwriter_lru_maxpages': 308, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.7722707288339734, 'checkpoint_flush_after': 232, 'checkpoint_timeout': 1703, 'commit_delay': 30629, 'commit_siblings': 422, 'cursor_tuple_fraction': 0.1184236528351903, 'deadlock_timeout': 1539305562, 'default_statistics_target': 2356, 'effective_cache_size': 1882678362, 'effective_io_concurrency': 46, 'from_collapse_limit': 331254388, 'geqo_effort': 2, 'geqo_generations': 1572585625, 'geqo_pool_size': 970783714, 'geqo_seed': 0.7606275612488389, 'geqo_threshold': 1958083006, 'join_collapse_limit': 377256580, 'maintenance_work_mem': 701621677, 'max_connections': 2977, 'max_wal_senders': 8, 'shared_buffers': 966498, 'temp_buffers': 409274676, 'temp_file_limit': 1149568667, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 5239, 'vacuum_cost_page_dirty': 4074, 'vacuum_cost_page_hit': 4591, 'vacuum_cost_page_miss': 7102, 'wal_buffers': 89038, 'wal_writer_delay': 666, 'work_mem': 1375375259}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 91.7959289625287
Set autovacuum_analyze_threshold = 1315354911
Set autovacuum_max_workers = 132
Set autovacuum_naptime = 1519837
Set autovacuum_vacuum_cost_delay = 73
Set autovacuum_vacuum_cost_limit = 878
Set autovacuum_vacuum_scale_factor = 98.41327322646976
Set autovacuum_vacuum_threshold = 1668934753
Set backend_flush_after = 42
Set bgwriter_delay = 9368
Set bgwriter_flush_after = 234
Set bgwriter_lru_maxpages = 308
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.7722707288339734
Set checkpoint_flush_after = 232
Set checkpoint_timeout = 1703
Set commit_delay = 30629
Set commit_siblings = 422
Set cursor_tuple_fraction = 0.1184236528351903
Set deadlock_timeout = 1539305562
Set default_statistics_target = 2356
Set effective_cache_size = 1882678362
Set effective_io_concurrency = 46
Set from_collapse_limit = 331254388
Set geqo_effort = 2
Set geqo_generations = 1572585625
Set geqo_pool_size = 970783714
Set geqo_seed = 0.7606275612488389
Set geqo_threshold = 1958083006
Set join_collapse_limit = 377256580
Set maintenance_work_mem = 701621677
Set max_connections = 2977
Set max_wal_senders = 8
Set shared_buffers = 966498
Set temp_buffers = 409274676
Set temp_file_limit = 1149568667
Set vacuum_cost_delay = 99
Set vacuum_cost_limit = 5239
Set vacuum_cost_page_dirty = 4074
Set vacuum_cost_page_hit = 4591
Set vacuum_cost_page_miss = 7102
Set wal_buffers = 89038
Set wal_writer_delay = 666
Set work_mem = 1375375259
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-47-21.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-47-21.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-47-21.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-47-21.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-47-21.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-47-21.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763725578.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-47-21.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-47-21.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-47-21.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-47-21.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-47-21.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-47-21.config.xml
Parsed throughput from summary.json: 2905.577110832133
BenchBase wikipedia throughput: 2905.577110832133
Configuration: {'autovacuum_analyze_scale_factor': 91.7959289625287, 'autovacuum_analyze_threshold': 1315354911, 'autovacuum_max_workers': 132, 'autovacuum_naptime': 1519837, 'autovacuum_vacuum_cost_delay': 73, 'autovacuum_vacuum_cost_limit': 878, 'autovacuum_vacuum_scale_factor': 98.41327322646976, 'autovacuum_vacuum_threshold': 1668934753, 'backend_flush_after': 42, 'bgwriter_delay': 9368, 'bgwriter_flush_after': 234, 'bgwriter_lru_maxpages': 308, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.7722707288339734, 'checkpoint_flush_after': 232, 'checkpoint_timeout': 1703, 'commit_delay': 30629, 'commit_siblings': 422, 'cursor_tuple_fraction': 0.1184236528351903, 'deadlock_timeout': 1539305562, 'default_statistics_target': 2356, 'effective_cache_size': 1882678362, 'effective_io_concurrency': 46, 'from_collapse_limit': 331254388, 'geqo_effort': 2, 'geqo_generations': 1572585625, 'geqo_pool_size': 970783714, 'geqo_seed': 0.7606275612488389, 'geqo_threshold': 1958083006, 'join_collapse_limit': 377256580, 'maintenance_work_mem': 701621677, 'max_connections': 2977, 'max_wal_senders': 8, 'shared_buffers': 966498, 'temp_buffers': 409274676, 'temp_file_limit': 1149568667, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 5239, 'vacuum_cost_page_dirty': 4074, 'vacuum_cost_page_hit': 4591, 'vacuum_cost_page_miss': 7102, 'wal_buffers': 89038, 'wal_writer_delay': 666, 'work_mem': 1375375259}, QPS: -2905.577110832133
Performance (QPS): -2905.577110832133
Evaluating configuration: {'autovacuum_analyze_scale_factor': 41.65347293019295, 'autovacuum_analyze_threshold': 521585390, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 37439, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 8652, 'autovacuum_vacuum_scale_factor': 33.686508145183325, 'autovacuum_vacuum_threshold': 1005948876, 'backend_flush_after': 223, 'bgwriter_delay': 3316, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 915, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.4291755883023143, 'checkpoint_flush_after': 114, 'checkpoint_timeout': 2053, 'commit_delay': 77354, 'commit_siblings': 916, 'cursor_tuple_fraction': 0.7480900222435594, 'deadlock_timeout': 589298304, 'default_statistics_target': 7799, 'effective_cache_size': 128014236, 'effective_io_concurrency': 638, 'from_collapse_limit': 1917422978, 'geqo_effort': 10, 'geqo_generations': 673259246, 'geqo_pool_size': 1714733643, 'geqo_seed': 0.23414401523768902, 'geqo_threshold': 719889719, 'join_collapse_limit': 1780108668, 'maintenance_work_mem': 2034262183, 'max_connections': 1318, 'max_wal_senders': 42, 'shared_buffers': 3997434, 'temp_buffers': 637922315, 'temp_file_limit': 294441781, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 2755, 'vacuum_cost_page_dirty': 6357, 'vacuum_cost_page_hit': 9142, 'vacuum_cost_page_miss': 4931, 'wal_buffers': 44867, 'wal_writer_delay': 9488, 'work_mem': 719771270}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 41.65347293019295
Set autovacuum_analyze_threshold = 521585390
Set autovacuum_max_workers = 83
Set autovacuum_naptime = 37439
Set autovacuum_vacuum_cost_delay = 10
Set autovacuum_vacuum_cost_limit = 8652
Set autovacuum_vacuum_scale_factor = 33.686508145183325
Set autovacuum_vacuum_threshold = 1005948876
Set backend_flush_after = 223
Set bgwriter_delay = 3316
Set bgwriter_flush_after = 26
Set bgwriter_lru_maxpages = 915
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.4291755883023143
Set checkpoint_flush_after = 114
Set checkpoint_timeout = 2053
Set commit_delay = 77354
Set commit_siblings = 916
Set cursor_tuple_fraction = 0.7480900222435594
Set deadlock_timeout = 589298304
Set default_statistics_target = 7799
Set effective_cache_size = 128014236
Set effective_io_concurrency = 638
Set from_collapse_limit = 1917422978
Set geqo_effort = 10
Set geqo_generations = 673259246
Set geqo_pool_size = 1714733643
Set geqo_seed = 0.23414401523768902
Set geqo_threshold = 719889719
Set join_collapse_limit = 1780108668
Set maintenance_work_mem = 2034262183
Set max_connections = 1318
Set max_wal_senders = 42
Set shared_buffers = 3997434
Set temp_buffers = 637922315
Set temp_file_limit = 294441781
Set vacuum_cost_delay = 48
Set vacuum_cost_limit = 2755
Set vacuum_cost_page_dirty = 6357
Set vacuum_cost_page_hit = 9142
Set vacuum_cost_page_miss = 4931
Set wal_buffers = 44867
Set wal_writer_delay = 9488
Set work_mem = 719771270
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
Start failed, removing auto.conf and retrying...
Removed postgresql.auto.conf file (if it existed).
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-48-56.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-48-56.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-48-56.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-48-56.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-48-56.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-48-56.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-48-56.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-48-56.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763725672.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-48-56.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-48-56.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-48-56.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-48-56.results.UpdatePage.csv
Parsed throughput from summary.json: 2663.7969149244386
BenchBase wikipedia throughput: 2663.7969149244386
Configuration: {'autovacuum_analyze_scale_factor': 41.65347293019295, 'autovacuum_analyze_threshold': 521585390, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 37439, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 8652, 'autovacuum_vacuum_scale_factor': 33.686508145183325, 'autovacuum_vacuum_threshold': 1005948876, 'backend_flush_after': 223, 'bgwriter_delay': 3316, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 915, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.4291755883023143, 'checkpoint_flush_after': 114, 'checkpoint_timeout': 2053, 'commit_delay': 77354, 'commit_siblings': 916, 'cursor_tuple_fraction': 0.7480900222435594, 'deadlock_timeout': 589298304, 'default_statistics_target': 7799, 'effective_cache_size': 128014236, 'effective_io_concurrency': 638, 'from_collapse_limit': 1917422978, 'geqo_effort': 10, 'geqo_generations': 673259246, 'geqo_pool_size': 1714733643, 'geqo_seed': 0.23414401523768902, 'geqo_threshold': 719889719, 'join_collapse_limit': 1780108668, 'maintenance_work_mem': 2034262183, 'max_connections': 1318, 'max_wal_senders': 42, 'shared_buffers': 3997434, 'temp_buffers': 637922315, 'temp_file_limit': 294441781, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 2755, 'vacuum_cost_page_dirty': 6357, 'vacuum_cost_page_hit': 9142, 'vacuum_cost_page_miss': 4931, 'wal_buffers': 44867, 'wal_writer_delay': 9488, 'work_mem': 719771270}, QPS: -2663.7969149244386
Performance (QPS): -2663.7969149244386
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.62144364416599, 'autovacuum_analyze_threshold': 1481784671, 'autovacuum_max_workers': 31, 'autovacuum_naptime': 410416, 'autovacuum_vacuum_cost_delay': 14, 'autovacuum_vacuum_cost_limit': 7083, 'autovacuum_vacuum_scale_factor': 78.04583366960287, 'autovacuum_vacuum_threshold': 2143323767, 'backend_flush_after': 2, 'bgwriter_delay': 5345, 'bgwriter_flush_after': 223, 'bgwriter_lru_maxpages': 753, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.047244736924767494, 'checkpoint_flush_after': 90, 'checkpoint_timeout': 2516, 'commit_delay': 92443, 'commit_siblings': 810, 'cursor_tuple_fraction': 0.23637110088020563, 'deadlock_timeout': 2114816204, 'default_statistics_target': 4686, 'effective_cache_size': 767965554, 'effective_io_concurrency': 149, 'from_collapse_limit': 1667213578, 'geqo_effort': 9, 'geqo_generations': 1135457439, 'geqo_pool_size': 679058080, 'geqo_seed': 0.5593483727425337, 'geqo_threshold': 1595433470, 'join_collapse_limit': 1105817264, 'maintenance_work_mem': 893986599, 'max_connections': 2208, 'max_wal_senders': 49, 'shared_buffers': 379946, 'temp_buffers': 139234968, 'temp_file_limit': 1730088285, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4055, 'vacuum_cost_page_dirty': 2684, 'vacuum_cost_page_hit': 8259, 'vacuum_cost_page_miss': 3695, 'wal_buffers': 112297, 'wal_writer_delay': 4916, 'work_mem': 1024316809}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
(1 row)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.62144364416599
Set autovacuum_analyze_threshold = 1481784671
Set autovacuum_max_workers = 31
Set autovacuum_naptime = 410416
Set autovacuum_vacuum_cost_delay = 14
Set autovacuum_vacuum_cost_limit = 7083
Set autovacuum_vacuum_scale_factor = 78.04583366960287
Set autovacuum_vacuum_threshold = 2143323767
Set backend_flush_after = 2
Set bgwriter_delay = 5345
Set bgwriter_flush_after = 223
Set bgwriter_lru_maxpages = 753
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.047244736924767494
Set checkpoint_flush_after = 90
Set checkpoint_timeout = 2516
Set commit_delay = 92443
Set commit_siblings = 810
Set cursor_tuple_fraction = 0.23637110088020563
Set deadlock_timeout = 2114816204
Set default_statistics_target = 4686
Set effective_cache_size = 767965554
Set effective_io_concurrency = 149
Set from_collapse_limit = 1667213578
Set geqo_effort = 9
Set geqo_generations = 1135457439
Set geqo_pool_size = 679058080
Set geqo_seed = 0.5593483727425337
Set geqo_threshold = 1595433470
Set join_collapse_limit = 1105817264
Set maintenance_work_mem = 893986599
Set max_connections = 2208
Set max_wal_senders = 49
Set shared_buffers = 379946
Set temp_buffers = 139234968
Set temp_file_limit = 1730088285
Set vacuum_cost_delay = 1
Set vacuum_cost_limit = 4055
Set vacuum_cost_page_dirty = 2684
Set vacuum_cost_page_hit = 8259
Set vacuum_cost_page_miss = 3695
Set wal_buffers = 112297
Set wal_writer_delay = 4916
Set work_mem = 1024316809
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-50-28.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-50-28.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763725765.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-50-28.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-50-28.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-50-28.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-50-28.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-50-28.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-50-28.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-50-28.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-50-28.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-50-28.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-50-28.metrics.json
Parsed throughput from summary.json: 2847.6070836846975
BenchBase wikipedia throughput: 2847.6070836846975
Configuration: {'autovacuum_analyze_scale_factor': 32.62144364416599, 'autovacuum_analyze_threshold': 1481784671, 'autovacuum_max_workers': 31, 'autovacuum_naptime': 410416, 'autovacuum_vacuum_cost_delay': 14, 'autovacuum_vacuum_cost_limit': 7083, 'autovacuum_vacuum_scale_factor': 78.04583366960287, 'autovacuum_vacuum_threshold': 2143323767, 'backend_flush_after': 2, 'bgwriter_delay': 5345, 'bgwriter_flush_after': 223, 'bgwriter_lru_maxpages': 753, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.047244736924767494, 'checkpoint_flush_after': 90, 'checkpoint_timeout': 2516, 'commit_delay': 92443, 'commit_siblings': 810, 'cursor_tuple_fraction': 0.23637110088020563, 'deadlock_timeout': 2114816204, 'default_statistics_target': 4686, 'effective_cache_size': 767965554, 'effective_io_concurrency': 149, 'from_collapse_limit': 1667213578, 'geqo_effort': 9, 'geqo_generations': 1135457439, 'geqo_pool_size': 679058080, 'geqo_seed': 0.5593483727425337, 'geqo_threshold': 1595433470, 'join_collapse_limit': 1105817264, 'maintenance_work_mem': 893986599, 'max_connections': 2208, 'max_wal_senders': 49, 'shared_buffers': 379946, 'temp_buffers': 139234968, 'temp_file_limit': 1730088285, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4055, 'vacuum_cost_page_dirty': 2684, 'vacuum_cost_page_hit': 8259, 'vacuum_cost_page_miss': 3695, 'wal_buffers': 112297, 'wal_writer_delay': 4916, 'work_mem': 1024316809}, QPS: -2847.6070836846975
Performance (QPS): -2847.6070836846975
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.76318591088057
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1088155
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 247
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6424217484891415
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1302
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 112034326
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 21314935
Set join_collapse_limit = 1032804680
Set maintenance_work_mem = 1708697389
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3640755
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5839
Set wal_buffers = 16932
Set wal_writer_delay = 6181
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763725858.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-52-02.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-52-02.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-52-02.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-52-02.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-52-02.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-52-02.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-52-02.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-52-02.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-52-02.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-52-02.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-52-02.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-52-02.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 2921.4211058545725
BenchBase wikipedia throughput: 2921.4211058545725
Configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}, QPS: -2921.4211058545725
Performance (QPS): -2921.4211058545725
Evaluating configuration: {'autovacuum_analyze_scale_factor': 52.75337500497699, 'autovacuum_analyze_threshold': 1667166479, 'autovacuum_max_workers': 62, 'autovacuum_naptime': 855221, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 2007, 'autovacuum_vacuum_scale_factor': 74.457055516541, 'autovacuum_vacuum_threshold': 489203836, 'backend_flush_after': 164, 'bgwriter_delay': 4485, 'bgwriter_flush_after': 72, 'bgwriter_lru_maxpages': 39, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.2866819314658642, 'checkpoint_flush_after': 187, 'checkpoint_timeout': 3523, 'commit_delay': 16120, 'commit_siblings': 560, 'cursor_tuple_fraction': 0.7890544533729553, 'deadlock_timeout': 1090674686, 'default_statistics_target': 58, 'effective_cache_size': 1862799042, 'effective_io_concurrency': 408, 'from_collapse_limit': 1304987378, 'geqo_effort': 6, 'geqo_generations': 528359738, 'geqo_pool_size': 164949028, 'geqo_seed': 0.1004312876611948, 'geqo_threshold': 1765635688, 'join_collapse_limit': 234373832, 'maintenance_work_mem': 424825123, 'max_connections': 2364, 'max_wal_senders': 32, 'shared_buffers': 2611726, 'temp_buffers': 773218065, 'temp_file_limit': 250856785, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 1576, 'vacuum_cost_page_dirty': 387, 'vacuum_cost_page_hit': 5863, 'vacuum_cost_page_miss': 2159, 'wal_buffers': 60847, 'wal_writer_delay': 1561, 'work_mem': 363564379}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 52.75337500497699
Set autovacuum_analyze_threshold = 1667166479
Set autovacuum_max_workers = 62
Set autovacuum_naptime = 855221
Set autovacuum_vacuum_cost_delay = 100
Set autovacuum_vacuum_cost_limit = 2007
Set autovacuum_vacuum_scale_factor = 74.457055516541
Set autovacuum_vacuum_threshold = 489203836
Set backend_flush_after = 164
Set bgwriter_delay = 4485
Set bgwriter_flush_after = 72
Set bgwriter_lru_maxpages = 39
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.2866819314658642
Set checkpoint_flush_after = 187
Set checkpoint_timeout = 3523
Set commit_delay = 16120
Set commit_siblings = 560
Set cursor_tuple_fraction = 0.7890544533729553
Set deadlock_timeout = 1090674686
Set default_statistics_target = 58
Set effective_cache_size = 1862799042
Set effective_io_concurrency = 408
Set from_collapse_limit = 1304987378
Set geqo_effort = 6
Set geqo_generations = 528359738
Set geqo_pool_size = 164949028
Set geqo_seed = 0.1004312876611948
Set geqo_threshold = 1765635688
Set join_collapse_limit = 234373832
Set maintenance_work_mem = 424825123
Set max_connections = 2364
Set max_wal_senders = 32
Set shared_buffers = 2611726
Set temp_buffers = 773218065
Set temp_file_limit = 250856785
Set vacuum_cost_delay = 32
Set vacuum_cost_limit = 1576
Set vacuum_cost_page_dirty = 387
Set vacuum_cost_page_hit = 5863
Set vacuum_cost_page_miss = 2159
Set wal_buffers = 60847
Set wal_writer_delay = 1561
Set work_mem = 363564379
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-53-35.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-53-35.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-53-35.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-53-35.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-53-35.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-53-35.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-53-35.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763725953.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-53-35.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-53-35.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-53-35.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-53-35.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-53-35.raw.csv
Parsed throughput from summary.json: 2933.0205501708774
BenchBase wikipedia throughput: 2933.0205501708774
Configuration: {'autovacuum_analyze_scale_factor': 52.75337500497699, 'autovacuum_analyze_threshold': 1667166479, 'autovacuum_max_workers': 62, 'autovacuum_naptime': 855221, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 2007, 'autovacuum_vacuum_scale_factor': 74.457055516541, 'autovacuum_vacuum_threshold': 489203836, 'backend_flush_after': 164, 'bgwriter_delay': 4485, 'bgwriter_flush_after': 72, 'bgwriter_lru_maxpages': 39, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.2866819314658642, 'checkpoint_flush_after': 187, 'checkpoint_timeout': 3523, 'commit_delay': 16120, 'commit_siblings': 560, 'cursor_tuple_fraction': 0.7890544533729553, 'deadlock_timeout': 1090674686, 'default_statistics_target': 58, 'effective_cache_size': 1862799042, 'effective_io_concurrency': 408, 'from_collapse_limit': 1304987378, 'geqo_effort': 6, 'geqo_generations': 528359738, 'geqo_pool_size': 164949028, 'geqo_seed': 0.1004312876611948, 'geqo_threshold': 1765635688, 'join_collapse_limit': 234373832, 'maintenance_work_mem': 424825123, 'max_connections': 2364, 'max_wal_senders': 32, 'shared_buffers': 2611726, 'temp_buffers': 773218065, 'temp_file_limit': 250856785, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 1576, 'vacuum_cost_page_dirty': 387, 'vacuum_cost_page_hit': 5863, 'vacuum_cost_page_miss': 2159, 'wal_buffers': 60847, 'wal_writer_delay': 1561, 'work_mem': 363564379}, QPS: -2933.0205501708774
Performance (QPS): -2933.0205501708774
Evaluating configuration: {'autovacuum_analyze_scale_factor': 2.858112845569849, 'autovacuum_analyze_threshold': 841911006, 'autovacuum_max_workers': 101, 'autovacuum_naptime': 1783905, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 9712, 'autovacuum_vacuum_scale_factor': 7.545425556600094, 'autovacuum_vacuum_threshold': 1168427985, 'backend_flush_after': 87, 'bgwriter_delay': 7887, 'bgwriter_flush_after': 188, 'bgwriter_lru_maxpages': 683, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8791203442960978, 'checkpoint_flush_after': 47, 'checkpoint_timeout': 301, 'commit_delay': 62957, 'commit_siblings': 35, 'cursor_tuple_fraction': 0.4069315083324909, 'deadlock_timeout': 966939940, 'default_statistics_target': 9790, 'effective_cache_size': 413023492, 'effective_io_concurrency': 752, 'from_collapse_limit': 742359300, 'geqo_effort': 5, 'geqo_generations': 1793392461, 'geqo_pool_size': 1446827401, 'geqo_seed': 0.8788679363206029, 'geqo_threshold': 929049313, 'join_collapse_limit': 1906210096, 'maintenance_work_mem': 1237569809, 'max_connections': 1100, 'max_wal_senders': 18, 'shared_buffers': 1416118, 'temp_buffers': 276217388, 'temp_file_limit': 1543114999, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 9093, 'vacuum_cost_page_dirty': 7622, 'vacuum_cost_page_hit': 374, 'vacuum_cost_page_miss': 9869, 'wal_buffers': 71970, 'wal_writer_delay': 7661, 'work_mem': 1857541382}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 2.858112845569849
Set autovacuum_analyze_threshold = 841911006
Set autovacuum_max_workers = 101
Set autovacuum_naptime = 1783905
Set autovacuum_vacuum_cost_delay = 34
Set autovacuum_vacuum_cost_limit = 9712
Set autovacuum_vacuum_scale_factor = 7.545425556600094
Set autovacuum_vacuum_threshold = 1168427985
Set backend_flush_after = 87
Set bgwriter_delay = 7887
Set bgwriter_flush_after = 188
Set bgwriter_lru_maxpages = 683
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.8791203442960978
Set checkpoint_flush_after = 47
Set checkpoint_timeout = 301
Set commit_delay = 62957
Set commit_siblings = 35
Set cursor_tuple_fraction = 0.4069315083324909
Set deadlock_timeout = 966939940
Set default_statistics_target = 9790
Set effective_cache_size = 413023492
Set effective_io_concurrency = 752
Set from_collapse_limit = 742359300
Set geqo_effort = 5
Set geqo_generations = 1793392461
Set geqo_pool_size = 1446827401
Set geqo_seed = 0.8788679363206029
Set geqo_threshold = 929049313
Set join_collapse_limit = 1906210096
Set maintenance_work_mem = 1237569809
Set max_connections = 1100
Set max_wal_senders = 18
Set shared_buffers = 1416118
Set temp_buffers = 276217388
Set temp_file_limit = 1543114999
Set vacuum_cost_delay = 83
Set vacuum_cost_limit = 9093
Set vacuum_cost_page_dirty = 7622
Set vacuum_cost_page_hit = 374
Set vacuum_cost_page_miss = 9869
Set wal_buffers = 71970
Set wal_writer_delay = 7661
Set work_mem = 1857541382
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-55-09.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-55-09.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-55-09.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-55-09.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-55-09.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-55-09.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-55-09.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-55-09.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-55-09.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763726046.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-55-09.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-55-09.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-55-09.metrics.json
Parsed throughput from summary.json: 2935.959182072289
BenchBase wikipedia throughput: 2935.959182072289
Configuration: {'autovacuum_analyze_scale_factor': 2.858112845569849, 'autovacuum_analyze_threshold': 841911006, 'autovacuum_max_workers': 101, 'autovacuum_naptime': 1783905, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 9712, 'autovacuum_vacuum_scale_factor': 7.545425556600094, 'autovacuum_vacuum_threshold': 1168427985, 'backend_flush_after': 87, 'bgwriter_delay': 7887, 'bgwriter_flush_after': 188, 'bgwriter_lru_maxpages': 683, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8791203442960978, 'checkpoint_flush_after': 47, 'checkpoint_timeout': 301, 'commit_delay': 62957, 'commit_siblings': 35, 'cursor_tuple_fraction': 0.4069315083324909, 'deadlock_timeout': 966939940, 'default_statistics_target': 9790, 'effective_cache_size': 413023492, 'effective_io_concurrency': 752, 'from_collapse_limit': 742359300, 'geqo_effort': 5, 'geqo_generations': 1793392461, 'geqo_pool_size': 1446827401, 'geqo_seed': 0.8788679363206029, 'geqo_threshold': 929049313, 'join_collapse_limit': 1906210096, 'maintenance_work_mem': 1237569809, 'max_connections': 1100, 'max_wal_senders': 18, 'shared_buffers': 1416118, 'temp_buffers': 276217388, 'temp_file_limit': 1543114999, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 9093, 'vacuum_cost_page_dirty': 7622, 'vacuum_cost_page_hit': 374, 'vacuum_cost_page_miss': 9869, 'wal_buffers': 71970, 'wal_writer_delay': 7661, 'work_mem': 1857541382}, QPS: -2935.959182072289
Performance (QPS): -2935.959182072289
Evaluating configuration: {'autovacuum_analyze_scale_factor': 4.810939077287912, 'autovacuum_analyze_threshold': 1733022457, 'autovacuum_max_workers': 7, 'autovacuum_naptime': 170989, 'autovacuum_vacuum_cost_delay': 64, 'autovacuum_vacuum_cost_limit': 4519, 'autovacuum_vacuum_scale_factor': 45.70860341191292, 'autovacuum_vacuum_threshold': 446696662, 'backend_flush_after': 119, 'bgwriter_delay': 3829, 'bgwriter_flush_after': 177, 'bgwriter_lru_maxpages': 864, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.8707450851798058, 'checkpoint_flush_after': 157, 'checkpoint_timeout': 2396, 'commit_delay': 58635, 'commit_siblings': 399, 'cursor_tuple_fraction': 0.8470497215166688, 'deadlock_timeout': 1451326618, 'default_statistics_target': 7189, 'effective_cache_size': 142041376, 'effective_io_concurrency': 791, 'from_collapse_limit': 96187758, 'geqo_effort': 8, 'geqo_generations': 332639024, 'geqo_pool_size': 1608470867, 'geqo_seed': 0.9223102023825049, 'geqo_threshold': 422742857, 'join_collapse_limit': 988249558, 'maintenance_work_mem': 207085937, 'max_connections': 293, 'max_wal_senders': 23, 'shared_buffers': 2707568, 'temp_buffers': 309878623, 'temp_file_limit': 2087156255, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 3336, 'vacuum_cost_page_dirty': 4876, 'vacuum_cost_page_hit': 3298, 'vacuum_cost_page_miss': 2587, 'wal_buffers': 48795, 'wal_writer_delay': 4458, 'work_mem': 511946888}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 4.810939077287912
Set autovacuum_analyze_threshold = 1733022457
Set autovacuum_max_workers = 7
Set autovacuum_naptime = 170989
Set autovacuum_vacuum_cost_delay = 64
Set autovacuum_vacuum_cost_limit = 4519
Set autovacuum_vacuum_scale_factor = 45.70860341191292
Set autovacuum_vacuum_threshold = 446696662
Set backend_flush_after = 119
Set bgwriter_delay = 3829
Set bgwriter_flush_after = 177
Set bgwriter_lru_maxpages = 864
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.8707450851798058
Set checkpoint_flush_after = 157
Set checkpoint_timeout = 2396
Set commit_delay = 58635
Set commit_siblings = 399
Set cursor_tuple_fraction = 0.8470497215166688
Set deadlock_timeout = 1451326618
Set default_statistics_target = 7189
Set effective_cache_size = 142041376
Set effective_io_concurrency = 791
Set from_collapse_limit = 96187758
Set geqo_effort = 8
Set geqo_generations = 332639024
Set geqo_pool_size = 1608470867
Set geqo_seed = 0.9223102023825049
Set geqo_threshold = 422742857
Set join_collapse_limit = 988249558
Set maintenance_work_mem = 207085937
Set max_connections = 293
Set max_wal_senders = 23
Set shared_buffers = 2707568
Set temp_buffers = 309878623
Set temp_file_limit = 2087156255
Set vacuum_cost_delay = 77
Set vacuum_cost_limit = 3336
Set vacuum_cost_page_dirty = 4876
Set vacuum_cost_page_hit = 3298
Set vacuum_cost_page_miss = 2587
Set wal_buffers = 48795
Set wal_writer_delay = 4458
Set work_mem = 511946888
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-56-43.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-56-43.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-56-43.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-56-43.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-56-43.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-56-43.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-56-43.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-56-43.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-56-43.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-56-43.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763726140.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-56-43.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-56-43.results.AddWatchList.csv
Parsed throughput from summary.json: 2976.392937744301
BenchBase wikipedia throughput: 2976.392937744301
Configuration: {'autovacuum_analyze_scale_factor': 4.810939077287912, 'autovacuum_analyze_threshold': 1733022457, 'autovacuum_max_workers': 7, 'autovacuum_naptime': 170989, 'autovacuum_vacuum_cost_delay': 64, 'autovacuum_vacuum_cost_limit': 4519, 'autovacuum_vacuum_scale_factor': 45.70860341191292, 'autovacuum_vacuum_threshold': 446696662, 'backend_flush_after': 119, 'bgwriter_delay': 3829, 'bgwriter_flush_after': 177, 'bgwriter_lru_maxpages': 864, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.8707450851798058, 'checkpoint_flush_after': 157, 'checkpoint_timeout': 2396, 'commit_delay': 58635, 'commit_siblings': 399, 'cursor_tuple_fraction': 0.8470497215166688, 'deadlock_timeout': 1451326618, 'default_statistics_target': 7189, 'effective_cache_size': 142041376, 'effective_io_concurrency': 791, 'from_collapse_limit': 96187758, 'geqo_effort': 8, 'geqo_generations': 332639024, 'geqo_pool_size': 1608470867, 'geqo_seed': 0.9223102023825049, 'geqo_threshold': 422742857, 'join_collapse_limit': 988249558, 'maintenance_work_mem': 207085937, 'max_connections': 293, 'max_wal_senders': 23, 'shared_buffers': 2707568, 'temp_buffers': 309878623, 'temp_file_limit': 2087156255, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 3336, 'vacuum_cost_page_dirty': 4876, 'vacuum_cost_page_hit': 3298, 'vacuum_cost_page_miss': 2587, 'wal_buffers': 48795, 'wal_writer_delay': 4458, 'work_mem': 511946888}, QPS: -2976.392937744301
Performance (QPS): -2976.392937744301
Evaluating configuration: {'autovacuum_analyze_scale_factor': 54.70811007544398, 'autovacuum_analyze_threshold': 909879604, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1385992, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 7199, 'autovacuum_vacuum_scale_factor': 84.69125293195248, 'autovacuum_vacuum_threshold': 1110208375, 'backend_flush_after': 130, 'bgwriter_delay': 8540, 'bgwriter_flush_after': 66, 'bgwriter_lru_maxpages': 469, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.4629648458212614, 'checkpoint_flush_after': 9, 'checkpoint_timeout': 932, 'commit_delay': 11895, 'commit_siblings': 876, 'cursor_tuple_fraction': 0.4728327365592122, 'deadlock_timeout': 773944896, 'default_statistics_target': 2653, 'effective_cache_size': 2145473254, 'effective_io_concurrency': 385, 'from_collapse_limit': 1682748056, 'geqo_effort': 3, 'geqo_generations': 1716090179, 'geqo_pool_size': 3631354, 'geqo_seed': 0.08331520110368729, 'geqo_threshold': 1198512064, 'join_collapse_limit': 1182878254, 'maintenance_work_mem': 1556504691, 'max_connections': 1606, 'max_wal_senders': 27, 'shared_buffers': 1774032, 'temp_buffers': 739818539, 'temp_file_limit': 695119753, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 5858, 'vacuum_cost_page_dirty': 7115, 'vacuum_cost_page_hit': 7965, 'vacuum_cost_page_miss': 5384, 'wal_buffers': 84502, 'wal_writer_delay': 5701, 'work_mem': 1704978829}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 54.70811007544398
Set autovacuum_analyze_threshold = 909879604
Set autovacuum_max_workers = 156
Set autovacuum_naptime = 1385992
Set autovacuum_vacuum_cost_delay = -1
Set autovacuum_vacuum_cost_limit = 7199
Set autovacuum_vacuum_scale_factor = 84.69125293195248
Set autovacuum_vacuum_threshold = 1110208375
Set backend_flush_after = 130
Set bgwriter_delay = 8540
Set bgwriter_flush_after = 66
Set bgwriter_lru_maxpages = 469
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.4629648458212614
Set checkpoint_flush_after = 9
Set checkpoint_timeout = 932
Set commit_delay = 11895
Set commit_siblings = 876
Set cursor_tuple_fraction = 0.4728327365592122
Set deadlock_timeout = 773944896
Set default_statistics_target = 2653
Set effective_cache_size = 2145473254
Set effective_io_concurrency = 385
Set from_collapse_limit = 1682748056
Set geqo_effort = 3
Set geqo_generations = 1716090179
Set geqo_pool_size = 3631354
Set geqo_seed = 0.08331520110368729
Set geqo_threshold = 1198512064
Set join_collapse_limit = 1182878254
Set maintenance_work_mem = 1556504691
Set max_connections = 1606
Set max_wal_senders = 27
Set shared_buffers = 1774032
Set temp_buffers = 739818539
Set temp_file_limit = 695119753
Set vacuum_cost_delay = 26
Set vacuum_cost_limit = 5858
Set vacuum_cost_page_dirty = 7115
Set vacuum_cost_page_hit = 7965
Set vacuum_cost_page_miss = 5384
Set wal_buffers = 84502
Set wal_writer_delay = 5701
Set work_mem = 1704978829
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-58-18.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-58-18.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763726234.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-58-18.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-58-18.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-58-18.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-58-18.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-58-18.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-58-18.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-58-18.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-58-18.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-58-18.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-58-18.raw.csv
Parsed throughput from summary.json: 3011.7699916187507
BenchBase wikipedia throughput: 3011.7699916187507
Configuration: {'autovacuum_analyze_scale_factor': 54.70811007544398, 'autovacuum_analyze_threshold': 909879604, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1385992, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 7199, 'autovacuum_vacuum_scale_factor': 84.69125293195248, 'autovacuum_vacuum_threshold': 1110208375, 'backend_flush_after': 130, 'bgwriter_delay': 8540, 'bgwriter_flush_after': 66, 'bgwriter_lru_maxpages': 469, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.4629648458212614, 'checkpoint_flush_after': 9, 'checkpoint_timeout': 932, 'commit_delay': 11895, 'commit_siblings': 876, 'cursor_tuple_fraction': 0.4728327365592122, 'deadlock_timeout': 773944896, 'default_statistics_target': 2653, 'effective_cache_size': 2145473254, 'effective_io_concurrency': 385, 'from_collapse_limit': 1682748056, 'geqo_effort': 3, 'geqo_generations': 1716090179, 'geqo_pool_size': 3631354, 'geqo_seed': 0.08331520110368729, 'geqo_threshold': 1198512064, 'join_collapse_limit': 1182878254, 'maintenance_work_mem': 1556504691, 'max_connections': 1606, 'max_wal_senders': 27, 'shared_buffers': 1774032, 'temp_buffers': 739818539, 'temp_file_limit': 695119753, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 5858, 'vacuum_cost_page_dirty': 7115, 'vacuum_cost_page_hit': 7965, 'vacuum_cost_page_miss': 5384, 'wal_buffers': 84502, 'wal_writer_delay': 5701, 'work_mem': 1704978829}, QPS: -3011.7699916187507
Performance (QPS): -3011.7699916187507
Evaluating configuration: {'autovacuum_analyze_scale_factor': 84.71429403871298, 'autovacuum_analyze_threshold': 1548164745, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 549374, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 9591, 'autovacuum_vacuum_scale_factor': 4.815126582980156, 'autovacuum_vacuum_threshold': 2017993425, 'backend_flush_after': 216, 'bgwriter_delay': 6097, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 87, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.6077100019901991, 'checkpoint_flush_after': 124, 'checkpoint_timeout': 3181, 'commit_delay': 32800, 'commit_siblings': 149, 'cursor_tuple_fraction': 0.178312785923481, 'deadlock_timeout': 1770957736, 'default_statistics_target': 8068, 'effective_cache_size': 1253660304, 'effective_io_concurrency': 518, 'from_collapse_limit': 724343446, 'geqo_effort': 6, 'geqo_generations': 1325416105, 'geqo_pool_size': 2121410511, 'geqo_seed': 0.47888448368757963, 'geqo_threshold': 790076639, 'join_collapse_limit': 1995854254, 'maintenance_work_mem': 541898725, 'max_connections': 1232, 'max_wal_senders': 7, 'shared_buffers': 738943, 'temp_buffers': 874680257, 'temp_file_limit': 361476651, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 1055, 'vacuum_cost_page_dirty': 1935, 'vacuum_cost_page_hit': 667, 'vacuum_cost_page_miss': 1714, 'wal_buffers': 124317, 'wal_writer_delay': 1571, 'work_mem': 908453946}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 84.71429403871298
Set autovacuum_analyze_threshold = 1548164745
Set autovacuum_max_workers = 76
Set autovacuum_naptime = 549374
Set autovacuum_vacuum_cost_delay = 49
Set autovacuum_vacuum_cost_limit = 9591
Set autovacuum_vacuum_scale_factor = 4.815126582980156
Set autovacuum_vacuum_threshold = 2017993425
Set backend_flush_after = 216
Set bgwriter_delay = 6097
Set bgwriter_flush_after = 40
Set bgwriter_lru_maxpages = 87
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.6077100019901991
Set checkpoint_flush_after = 124
Set checkpoint_timeout = 3181
Set commit_delay = 32800
Set commit_siblings = 149
Set cursor_tuple_fraction = 0.178312785923481
Set deadlock_timeout = 1770957736
Set default_statistics_target = 8068
Set effective_cache_size = 1253660304
Set effective_io_concurrency = 518
Set from_collapse_limit = 724343446
Set geqo_effort = 6
Set geqo_generations = 1325416105
Set geqo_pool_size = 2121410511
Set geqo_seed = 0.47888448368757963
Set geqo_threshold = 790076639
Set join_collapse_limit = 1995854254
Set maintenance_work_mem = 541898725
Set max_connections = 1232
Set max_wal_senders = 7
Set shared_buffers = 738943
Set temp_buffers = 874680257
Set temp_file_limit = 361476651
Set vacuum_cost_delay = 59
Set vacuum_cost_limit = 1055
Set vacuum_cost_page_dirty = 1935
Set vacuum_cost_page_hit = 667
Set vacuum_cost_page_miss = 1714
Set wal_buffers = 124317
Set wal_writer_delay = 1571
Set work_mem = 908453946
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_11-59-52.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-59-52.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-59-52.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-59-52.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-59-52.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-59-52.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-59-52.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-59-52.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-59-52.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-59-52.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-59-52.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763726329.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_11-59-52.metrics.json
Parsed throughput from summary.json: 2978.032276941487
BenchBase wikipedia throughput: 2978.032276941487
Configuration: {'autovacuum_analyze_scale_factor': 84.71429403871298, 'autovacuum_analyze_threshold': 1548164745, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 549374, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 9591, 'autovacuum_vacuum_scale_factor': 4.815126582980156, 'autovacuum_vacuum_threshold': 2017993425, 'backend_flush_after': 216, 'bgwriter_delay': 6097, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 87, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.6077100019901991, 'checkpoint_flush_after': 124, 'checkpoint_timeout': 3181, 'commit_delay': 32800, 'commit_siblings': 149, 'cursor_tuple_fraction': 0.178312785923481, 'deadlock_timeout': 1770957736, 'default_statistics_target': 8068, 'effective_cache_size': 1253660304, 'effective_io_concurrency': 518, 'from_collapse_limit': 724343446, 'geqo_effort': 6, 'geqo_generations': 1325416105, 'geqo_pool_size': 2121410511, 'geqo_seed': 0.47888448368757963, 'geqo_threshold': 790076639, 'join_collapse_limit': 1995854254, 'maintenance_work_mem': 541898725, 'max_connections': 1232, 'max_wal_senders': 7, 'shared_buffers': 738943, 'temp_buffers': 874680257, 'temp_file_limit': 361476651, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 1055, 'vacuum_cost_page_dirty': 1935, 'vacuum_cost_page_hit': 667, 'vacuum_cost_page_miss': 1714, 'wal_buffers': 124317, 'wal_writer_delay': 1571, 'work_mem': 908453946}, QPS: -2978.032276941487
Performance (QPS): -2978.032276941487
Evaluating configuration: {'autovacuum_analyze_scale_factor': 34.5752265304327, 'autovacuum_analyze_threshold': 221734212, 'autovacuum_max_workers': 137, 'autovacuum_naptime': 2014535, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 2440, 'autovacuum_vacuum_scale_factor': 63.13391551375389, 'autovacuum_vacuum_threshold': 549732732, 'backend_flush_after': 35, 'bgwriter_delay': 1280, 'bgwriter_flush_after': 213, 'bgwriter_lru_maxpages': 698, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.20311132818460464, 'checkpoint_flush_after': 233, 'checkpoint_timeout': 154, 'commit_delay': 85778, 'commit_siblings': 626, 'cursor_tuple_fraction': 0.5486789308488369, 'deadlock_timeout': 288268658, 'default_statistics_target': 2087, 'effective_cache_size': 1026516310, 'effective_io_concurrency': 173, 'from_collapse_limit': 1255906656, 'geqo_effort': 4, 'geqo_generations': 983228638, 'geqo_pool_size': 563748478, 'geqo_seed': 0.5149009339511395, 'geqo_threshold': 1900724310, 'join_collapse_limit': 177235542, 'maintenance_work_mem': 1893545695, 'max_connections': 2879, 'max_wal_senders': 44, 'shared_buffers': 3737568, 'temp_buffers': 172125454, 'temp_file_limit': 1082288005, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 8532, 'vacuum_cost_page_dirty': 9824, 'vacuum_cost_page_hit': 5570, 'vacuum_cost_page_miss': 8752, 'wal_buffers': 4368, 'wal_writer_delay': 7964, 'work_mem': 1295626727}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 34.5752265304327
Set autovacuum_analyze_threshold = 221734212
Set autovacuum_max_workers = 137
Set autovacuum_naptime = 2014535
Set autovacuum_vacuum_cost_delay = 86
Set autovacuum_vacuum_cost_limit = 2440
Set autovacuum_vacuum_scale_factor = 63.13391551375389
Set autovacuum_vacuum_threshold = 549732732
Set backend_flush_after = 35
Set bgwriter_delay = 1280
Set bgwriter_flush_after = 213
Set bgwriter_lru_maxpages = 698
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.20311132818460464
Set checkpoint_flush_after = 233
Set checkpoint_timeout = 154
Set commit_delay = 85778
Set commit_siblings = 626
Set cursor_tuple_fraction = 0.5486789308488369
Set deadlock_timeout = 288268658
Set default_statistics_target = 2087
Set effective_cache_size = 1026516310
Set effective_io_concurrency = 173
Set from_collapse_limit = 1255906656
Set geqo_effort = 4
Set geqo_generations = 983228638
Set geqo_pool_size = 563748478
Set geqo_seed = 0.5149009339511395
Set geqo_threshold = 1900724310
Set join_collapse_limit = 177235542
Set maintenance_work_mem = 1893545695
Set max_connections = 2879
Set max_wal_senders = 44
Set shared_buffers = 3737568
Set temp_buffers = 172125454
Set temp_file_limit = 1082288005
Set vacuum_cost_delay = 7
Set vacuum_cost_limit = 8532
Set vacuum_cost_page_dirty = 9824
Set vacuum_cost_page_hit = 5570
Set vacuum_cost_page_miss = 8752
Set wal_buffers = 4368
Set wal_writer_delay = 7964
Set work_mem = 1295626727
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763726423.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-01-26.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-01-26.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-01-26.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-01-26.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-01-26.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-01-26.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-01-26.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-01-26.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-01-26.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-01-26.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-01-26.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-01-26.results.UpdatePage.csv
Parsed throughput from summary.json: 2865.040987149198
BenchBase wikipedia throughput: 2865.040987149198
Configuration: {'autovacuum_analyze_scale_factor': 34.5752265304327, 'autovacuum_analyze_threshold': 221734212, 'autovacuum_max_workers': 137, 'autovacuum_naptime': 2014535, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 2440, 'autovacuum_vacuum_scale_factor': 63.13391551375389, 'autovacuum_vacuum_threshold': 549732732, 'backend_flush_after': 35, 'bgwriter_delay': 1280, 'bgwriter_flush_after': 213, 'bgwriter_lru_maxpages': 698, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.20311132818460464, 'checkpoint_flush_after': 233, 'checkpoint_timeout': 154, 'commit_delay': 85778, 'commit_siblings': 626, 'cursor_tuple_fraction': 0.5486789308488369, 'deadlock_timeout': 288268658, 'default_statistics_target': 2087, 'effective_cache_size': 1026516310, 'effective_io_concurrency': 173, 'from_collapse_limit': 1255906656, 'geqo_effort': 4, 'geqo_generations': 983228638, 'geqo_pool_size': 563748478, 'geqo_seed': 0.5149009339511395, 'geqo_threshold': 1900724310, 'join_collapse_limit': 177235542, 'maintenance_work_mem': 1893545695, 'max_connections': 2879, 'max_wal_senders': 44, 'shared_buffers': 3737568, 'temp_buffers': 172125454, 'temp_file_limit': 1082288005, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 8532, 'vacuum_cost_page_dirty': 9824, 'vacuum_cost_page_hit': 5570, 'vacuum_cost_page_miss': 8752, 'wal_buffers': 4368, 'wal_writer_delay': 7964, 'work_mem': 1295626727}, QPS: -2865.040987149198
Performance (QPS): -2865.040987149198
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 390597560
Set effective_io_concurrency = 661
Set from_collapse_limit = 1540209128
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7525
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-03-00.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-03-00.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763726517.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-03-00.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-03-00.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-03-00.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-03-00.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-03-00.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-03-00.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-03-00.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-03-00.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-03-00.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-03-00.samples.csv
Parsed throughput from summary.json: 2905.208259893783
BenchBase wikipedia throughput: 2905.208259893783
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -2905.208259893783
Performance (QPS): -2905.208259893783
Evaluating configuration: {'autovacuum_analyze_scale_factor': 88.27907536178827, 'autovacuum_analyze_threshold': 453239044, 'autovacuum_max_workers': 37, 'autovacuum_naptime': 989066, 'autovacuum_vacuum_cost_delay': 26, 'autovacuum_vacuum_cost_limit': 6159, 'autovacuum_vacuum_scale_factor': 61.57751129940152, 'autovacuum_vacuum_threshold': 1014836070, 'backend_flush_after': 11, 'bgwriter_delay': 2818, 'bgwriter_flush_after': 228, 'bgwriter_lru_maxpages': 238, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.9778543328866363, 'checkpoint_flush_after': 84, 'checkpoint_timeout': 2747, 'commit_delay': 47402, 'commit_siblings': 12, 'cursor_tuple_fraction': 0.6822191923856735, 'deadlock_timeout': 882694628, 'default_statistics_target': 4955, 'effective_cache_size': 1625176190, 'effective_io_concurrency': 7, 'from_collapse_limit': 976928286, 'geqo_effort': 7, 'geqo_generations': 613192932, 'geqo_pool_size': 809467708, 'geqo_seed': 0.8060534400865436, 'geqo_threshold': 1525110806, 'join_collapse_limit': 1560638050, 'maintenance_work_mem': 1816522981, 'max_connections': 2122, 'max_wal_senders': 0, 'shared_buffers': 3306648, 'temp_buffers': 443279943, 'temp_file_limit': 1662544963, 'vacuum_cost_delay': 92, 'vacuum_cost_limit': 2333, 'vacuum_cost_page_dirty': 8419, 'vacuum_cost_page_hit': 1581, 'vacuum_cost_page_miss': 441, 'wal_buffers': 64631, 'wal_writer_delay': 6526, 'work_mem': 567208785}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 88.27907536178827
Set autovacuum_analyze_threshold = 453239044
Set autovacuum_max_workers = 37
Set autovacuum_naptime = 989066
Set autovacuum_vacuum_cost_delay = 26
Set autovacuum_vacuum_cost_limit = 6159
Set autovacuum_vacuum_scale_factor = 61.57751129940152
Set autovacuum_vacuum_threshold = 1014836070
Set backend_flush_after = 11
Set bgwriter_delay = 2818
Set bgwriter_flush_after = 228
Set bgwriter_lru_maxpages = 238
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.9778543328866363
Set checkpoint_flush_after = 84
Set checkpoint_timeout = 2747
Set commit_delay = 47402
Set commit_siblings = 12
Set cursor_tuple_fraction = 0.6822191923856735
Set deadlock_timeout = 882694628
Set default_statistics_target = 4955
Set effective_cache_size = 1625176190
Set effective_io_concurrency = 7
Set from_collapse_limit = 976928286
Set geqo_effort = 7
Set geqo_generations = 613192932
Set geqo_pool_size = 809467708
Set geqo_seed = 0.8060534400865436
Set geqo_threshold = 1525110806
Set join_collapse_limit = 1560638050
Set maintenance_work_mem = 1816522981
Set max_connections = 2122
Set max_wal_senders = 0
Set shared_buffers = 3306648
Set temp_buffers = 443279943
Set temp_file_limit = 1662544963
Set vacuum_cost_delay = 92
Set vacuum_cost_limit = 2333
Set vacuum_cost_page_dirty = 8419
Set vacuum_cost_page_hit = 1581
Set vacuum_cost_page_miss = 441
Set wal_buffers = 64631
Set wal_writer_delay = 6526
Set work_mem = 567208785
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-04-34.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-04-34.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-04-34.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763726611.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-04-34.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-04-34.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-04-34.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-04-34.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-04-34.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-04-34.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-04-34.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-04-34.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-04-34.config.xml
Parsed throughput from summary.json: 2879.4522551134187
BenchBase wikipedia throughput: 2879.4522551134187
Configuration: {'autovacuum_analyze_scale_factor': 88.27907536178827, 'autovacuum_analyze_threshold': 453239044, 'autovacuum_max_workers': 37, 'autovacuum_naptime': 989066, 'autovacuum_vacuum_cost_delay': 26, 'autovacuum_vacuum_cost_limit': 6159, 'autovacuum_vacuum_scale_factor': 61.57751129940152, 'autovacuum_vacuum_threshold': 1014836070, 'backend_flush_after': 11, 'bgwriter_delay': 2818, 'bgwriter_flush_after': 228, 'bgwriter_lru_maxpages': 238, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.9778543328866363, 'checkpoint_flush_after': 84, 'checkpoint_timeout': 2747, 'commit_delay': 47402, 'commit_siblings': 12, 'cursor_tuple_fraction': 0.6822191923856735, 'deadlock_timeout': 882694628, 'default_statistics_target': 4955, 'effective_cache_size': 1625176190, 'effective_io_concurrency': 7, 'from_collapse_limit': 976928286, 'geqo_effort': 7, 'geqo_generations': 613192932, 'geqo_pool_size': 809467708, 'geqo_seed': 0.8060534400865436, 'geqo_threshold': 1525110806, 'join_collapse_limit': 1560638050, 'maintenance_work_mem': 1816522981, 'max_connections': 2122, 'max_wal_senders': 0, 'shared_buffers': 3306648, 'temp_buffers': 443279943, 'temp_file_limit': 1662544963, 'vacuum_cost_delay': 92, 'vacuum_cost_limit': 2333, 'vacuum_cost_page_dirty': 8419, 'vacuum_cost_page_hit': 1581, 'vacuum_cost_page_miss': 441, 'wal_buffers': 64631, 'wal_writer_delay': 6526, 'work_mem': 567208785}, QPS: -2879.4522551134187
Performance (QPS): -2879.4522551134187
Evaluating configuration: {'autovacuum_analyze_scale_factor': 70.77226033434272, 'autovacuum_analyze_threshold': 1904170681, 'autovacuum_max_workers': 108, 'autovacuum_naptime': 1221705, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 8141, 'autovacuum_vacuum_scale_factor': 28.612651396542788, 'autovacuum_vacuum_threshold': 102328012, 'backend_flush_after': 94, 'bgwriter_delay': 267, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 322, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.09085974749177694, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 1419, 'commit_delay': 20638, 'commit_siblings': 770, 'cursor_tuple_fraction': 0.9767390536144376, 'deadlock_timeout': 1932723212, 'default_statistics_target': 9521, 'effective_cache_size': 1434860552, 'effective_io_concurrency': 906, 'from_collapse_limit': 1968870928, 'geqo_effort': 1, 'geqo_generations': 231071498, 'geqo_pool_size': 1316630549, 'geqo_seed': 0.63118826597929, 'geqo_threshold': 849285897, 'join_collapse_limit': 1836214754, 'maintenance_work_mem': 282009459, 'max_connections': 1014, 'max_wal_senders': 34, 'shared_buffers': 2237227, 'temp_buffers': 38918670, 'temp_file_limit': 1610445281, 'vacuum_cost_delay': 24, 'vacuum_cost_limit': 7060, 'vacuum_cost_page_dirty': 3132, 'vacuum_cost_page_hit': 9474, 'vacuum_cost_page_miss': 6620, 'wal_buffers': 21500, 'wal_writer_delay': 1203, 'work_mem': 1920264890}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 70.77226033434272
Set autovacuum_analyze_threshold = 1904170681
Set autovacuum_max_workers = 108
Set autovacuum_naptime = 1221705
Set autovacuum_vacuum_cost_delay = 22
Set autovacuum_vacuum_cost_limit = 8141
Set autovacuum_vacuum_scale_factor = 28.612651396542788
Set autovacuum_vacuum_threshold = 102328012
Set backend_flush_after = 94
Set bgwriter_delay = 267
Set bgwriter_flush_after = 134
Set bgwriter_lru_maxpages = 322
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.09085974749177694
Set checkpoint_flush_after = 33
Set checkpoint_timeout = 1419
Set commit_delay = 20638
Set commit_siblings = 770
Set cursor_tuple_fraction = 0.9767390536144376
Set deadlock_timeout = 1932723212
Set default_statistics_target = 9521
Set effective_cache_size = 1434860552
Set effective_io_concurrency = 906
Set from_collapse_limit = 1968870928
Set geqo_effort = 1
Set geqo_generations = 231071498
Set geqo_pool_size = 1316630549
Set geqo_seed = 0.63118826597929
Set geqo_threshold = 849285897
Set join_collapse_limit = 1836214754
Set maintenance_work_mem = 282009459
Set max_connections = 1014
Set max_wal_senders = 34
Set shared_buffers = 2237227
Set temp_buffers = 38918670
Set temp_file_limit = 1610445281
Set vacuum_cost_delay = 24
Set vacuum_cost_limit = 7060
Set vacuum_cost_page_dirty = 3132
Set vacuum_cost_page_hit = 9474
Set vacuum_cost_page_miss = 6620
Set wal_buffers = 21500
Set wal_writer_delay = 1203
Set work_mem = 1920264890
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-06-08.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-06-08.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-06-08.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-06-08.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-06-08.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-06-08.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-06-08.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-06-08.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763726705.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-06-08.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-06-08.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-06-08.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-06-08.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 2877.919478971703
BenchBase wikipedia throughput: 2877.919478971703
Configuration: {'autovacuum_analyze_scale_factor': 70.77226033434272, 'autovacuum_analyze_threshold': 1904170681, 'autovacuum_max_workers': 108, 'autovacuum_naptime': 1221705, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 8141, 'autovacuum_vacuum_scale_factor': 28.612651396542788, 'autovacuum_vacuum_threshold': 102328012, 'backend_flush_after': 94, 'bgwriter_delay': 267, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 322, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.09085974749177694, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 1419, 'commit_delay': 20638, 'commit_siblings': 770, 'cursor_tuple_fraction': 0.9767390536144376, 'deadlock_timeout': 1932723212, 'default_statistics_target': 9521, 'effective_cache_size': 1434860552, 'effective_io_concurrency': 906, 'from_collapse_limit': 1968870928, 'geqo_effort': 1, 'geqo_generations': 231071498, 'geqo_pool_size': 1316630549, 'geqo_seed': 0.63118826597929, 'geqo_threshold': 849285897, 'join_collapse_limit': 1836214754, 'maintenance_work_mem': 282009459, 'max_connections': 1014, 'max_wal_senders': 34, 'shared_buffers': 2237227, 'temp_buffers': 38918670, 'temp_file_limit': 1610445281, 'vacuum_cost_delay': 24, 'vacuum_cost_limit': 7060, 'vacuum_cost_page_dirty': 3132, 'vacuum_cost_page_hit': 9474, 'vacuum_cost_page_miss': 6620, 'wal_buffers': 21500, 'wal_writer_delay': 1203, 'work_mem': 1920264890}, QPS: -2877.919478971703
Performance (QPS): -2877.919478971703
Evaluating configuration: {'autovacuum_analyze_scale_factor': 20.874277222901583, 'autovacuum_analyze_threshold': 537865588, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 276571, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 1078, 'autovacuum_vacuum_scale_factor': 89.433688018471, 'autovacuum_vacuum_threshold': 1586824545, 'backend_flush_after': 171, 'bgwriter_delay': 7422, 'bgwriter_flush_after': 117, 'bgwriter_lru_maxpages': 963, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.746817515231669, 'checkpoint_flush_after': 180, 'checkpoint_timeout': 1963, 'commit_delay': 73722, 'commit_siblings': 263, 'cursor_tuple_fraction': 0.35876862797886133, 'deadlock_timeout': 194186966, 'default_statistics_target': 326, 'effective_cache_size': 571477966, 'effective_io_concurrency': 309, 'from_collapse_limit': 346919398, 'geqo_effort': 10, 'geqo_generations': 2019492221, 'geqo_pool_size': 294783416, 'geqo_seed': 0.3471249183639884, 'geqo_threshold': 1824673664, 'join_collapse_limit': 286547482, 'maintenance_work_mem': 1079942001, 'max_connections': 2266, 'max_wal_senders': 17, 'shared_buffers': 1073819, 'temp_buffers': 1009859263, 'temp_file_limit': 183804999, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 4539, 'vacuum_cost_page_dirty': 6049, 'vacuum_cost_page_hit': 4259, 'vacuum_cost_page_miss': 3850, 'wal_buffers': 108401, 'wal_writer_delay': 9889, 'work_mem': 157856679}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 20.874277222901583
Set autovacuum_analyze_threshold = 537865588
Set autovacuum_max_workers = 56
Set autovacuum_naptime = 276571
Set autovacuum_vacuum_cost_delay = 62
Set autovacuum_vacuum_cost_limit = 1078
Set autovacuum_vacuum_scale_factor = 89.433688018471
Set autovacuum_vacuum_threshold = 1586824545
Set backend_flush_after = 171
Set bgwriter_delay = 7422
Set bgwriter_flush_after = 117
Set bgwriter_lru_maxpages = 963
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.746817515231669
Set checkpoint_flush_after = 180
Set checkpoint_timeout = 1963
Set commit_delay = 73722
Set commit_siblings = 263
Set cursor_tuple_fraction = 0.35876862797886133
Set deadlock_timeout = 194186966
Set default_statistics_target = 326
Set effective_cache_size = 571477966
Set effective_io_concurrency = 309
Set from_collapse_limit = 346919398
Set geqo_effort = 10
Set geqo_generations = 2019492221
Set geqo_pool_size = 294783416
Set geqo_seed = 0.3471249183639884
Set geqo_threshold = 1824673664
Set join_collapse_limit = 286547482
Set maintenance_work_mem = 1079942001
Set max_connections = 2266
Set max_wal_senders = 17
Set shared_buffers = 1073819
Set temp_buffers = 1009859263
Set temp_file_limit = 183804999
Set vacuum_cost_delay = 73
Set vacuum_cost_limit = 4539
Set vacuum_cost_page_dirty = 6049
Set vacuum_cost_page_hit = 4259
Set vacuum_cost_page_miss = 3850
Set wal_buffers = 108401
Set wal_writer_delay = 9889
Set work_mem = 157856679
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-07-42.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-07-42.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-07-42.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-07-42.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-07-42.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-07-42.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-07-42.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-07-42.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-07-42.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763726799.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-07-42.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-07-42.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-07-42.params.json
Parsed throughput from summary.json: 2896.774563148695
BenchBase wikipedia throughput: 2896.774563148695
Configuration: {'autovacuum_analyze_scale_factor': 20.874277222901583, 'autovacuum_analyze_threshold': 537865588, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 276571, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 1078, 'autovacuum_vacuum_scale_factor': 89.433688018471, 'autovacuum_vacuum_threshold': 1586824545, 'backend_flush_after': 171, 'bgwriter_delay': 7422, 'bgwriter_flush_after': 117, 'bgwriter_lru_maxpages': 963, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.746817515231669, 'checkpoint_flush_after': 180, 'checkpoint_timeout': 1963, 'commit_delay': 73722, 'commit_siblings': 263, 'cursor_tuple_fraction': 0.35876862797886133, 'deadlock_timeout': 194186966, 'default_statistics_target': 326, 'effective_cache_size': 571477966, 'effective_io_concurrency': 309, 'from_collapse_limit': 346919398, 'geqo_effort': 10, 'geqo_generations': 2019492221, 'geqo_pool_size': 294783416, 'geqo_seed': 0.3471249183639884, 'geqo_threshold': 1824673664, 'join_collapse_limit': 286547482, 'maintenance_work_mem': 1079942001, 'max_connections': 2266, 'max_wal_senders': 17, 'shared_buffers': 1073819, 'temp_buffers': 1009859263, 'temp_file_limit': 183804999, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 4539, 'vacuum_cost_page_dirty': 6049, 'vacuum_cost_page_hit': 4259, 'vacuum_cost_page_miss': 3850, 'wal_buffers': 108401, 'wal_writer_delay': 9889, 'work_mem': 157856679}, QPS: -2896.774563148695
Performance (QPS): -2896.774563148695
Evaluating configuration: {'autovacuum_analyze_scale_factor': 14.541357941925526, 'autovacuum_analyze_threshold': 1398783817, 'autovacuum_max_workers': 116, 'autovacuum_naptime': 927250, 'autovacuum_vacuum_cost_delay': 7, 'autovacuum_vacuum_cost_limit': 1749, 'autovacuum_vacuum_scale_factor': 12.682785466313362, 'autovacuum_vacuum_threshold': 1755855637, 'backend_flush_after': 229, 'bgwriter_delay': 2456, 'bgwriter_flush_after': 96, 'bgwriter_lru_maxpages': 799, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.02632452081888914, 'checkpoint_flush_after': 99, 'checkpoint_timeout': 817, 'commit_delay': 25515, 'commit_siblings': 744, 'cursor_tuple_fraction': 0.0653075072914362, 'deadlock_timeout': 1640755072, 'default_statistics_target': 6143, 'effective_cache_size': 1771098618, 'effective_io_concurrency': 982, 'from_collapse_limit': 1403551182, 'geqo_effort': 8, 'geqo_generations': 456658054, 'geqo_pool_size': 214606922, 'geqo_seed': 0.8228023396804929, 'geqo_threshold': 1374850376, 'join_collapse_limit': 1692635718, 'maintenance_work_mem': 814318961, 'max_connections': 2789, 'max_wal_senders': 20, 'shared_buffers': 436723, 'temp_buffers': 678941471, 'temp_file_limit': 1443169087, 'vacuum_cost_delay': 95, 'vacuum_cost_limit': 7601, 'vacuum_cost_page_dirty': 1736, 'vacuum_cost_page_hit': 8548, 'vacuum_cost_page_miss': 6008, 'wal_buffers': 39645, 'wal_writer_delay': 8737, 'work_mem': 78461459}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 14.541357941925526
Set autovacuum_analyze_threshold = 1398783817
Set autovacuum_max_workers = 116
Set autovacuum_naptime = 927250
Set autovacuum_vacuum_cost_delay = 7
Set autovacuum_vacuum_cost_limit = 1749
Set autovacuum_vacuum_scale_factor = 12.682785466313362
Set autovacuum_vacuum_threshold = 1755855637
Set backend_flush_after = 229
Set bgwriter_delay = 2456
Set bgwriter_flush_after = 96
Set bgwriter_lru_maxpages = 799
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.02632452081888914
Set checkpoint_flush_after = 99
Set checkpoint_timeout = 817
Set commit_delay = 25515
Set commit_siblings = 744
Set cursor_tuple_fraction = 0.0653075072914362
Set deadlock_timeout = 1640755072
Set default_statistics_target = 6143
Set effective_cache_size = 1771098618
Set effective_io_concurrency = 982
Set from_collapse_limit = 1403551182
Set geqo_effort = 8
Set geqo_generations = 456658054
Set geqo_pool_size = 214606922
Set geqo_seed = 0.8228023396804929
Set geqo_threshold = 1374850376
Set join_collapse_limit = 1692635718
Set maintenance_work_mem = 814318961
Set max_connections = 2789
Set max_wal_senders = 20
Set shared_buffers = 436723
Set temp_buffers = 678941471
Set temp_file_limit = 1443169087
Set vacuum_cost_delay = 95
Set vacuum_cost_limit = 7601
Set vacuum_cost_page_dirty = 1736
Set vacuum_cost_page_hit = 8548
Set vacuum_cost_page_miss = 6008
Set wal_buffers = 39645
Set wal_writer_delay = 8737
Set work_mem = 78461459
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-09-16.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-09-16.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-09-16.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-09-16.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-09-16.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-09-16.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-09-16.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-09-16.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-09-16.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-09-16.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-09-16.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763726893.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-09-16.metrics.json
Error parsing summary.json: [Errno 2] No such file or directory: '/home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json'
BenchBase wikipedia throughput: 0.0
Evaluating configuration: {'autovacuum_analyze_scale_factor': 1.0740564218353676, 'autovacuum_analyze_threshold': 261895959, 'autovacuum_max_workers': 133, 'autovacuum_naptime': 2021865, 'autovacuum_vacuum_cost_delay': 47, 'autovacuum_vacuum_cost_limit': 7774, 'autovacuum_vacuum_scale_factor': 17.770363226994867, 'autovacuum_vacuum_threshold': 1208573951, 'backend_flush_after': 167, 'bgwriter_delay': 6130, 'bgwriter_flush_after': 209, 'bgwriter_lru_maxpages': 892, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.587605621393071, 'checkpoint_flush_after': 249, 'checkpoint_timeout': 1182, 'commit_delay': 80935, 'commit_siblings': 410, 'cursor_tuple_fraction': 0.6231362773353313, 'deadlock_timeout': 296352941, 'default_statistics_target': 7375, 'effective_cache_size': 871363823, 'effective_io_concurrency': 590, 'from_collapse_limit': 1249068143, 'geqo_effort': 4, 'geqo_generations': 1972850639, 'geqo_pool_size': 1882222598, 'geqo_seed': 0.3171331265739723, 'geqo_threshold': 1296294523, 'join_collapse_limit': 115141233, 'maintenance_work_mem': 717469508, 'max_connections': 2979, 'max_wal_senders': 13, 'shared_buffers': 307968, 'temp_buffers': 30326826, 'temp_file_limit': 242194301, 'vacuum_cost_delay': 38, 'vacuum_cost_limit': 1326, 'vacuum_cost_page_dirty': 2033, 'vacuum_cost_page_hit': 1860, 'vacuum_cost_page_miss': 8289, 'wal_buffers': 128063, 'wal_writer_delay': 7653, 'work_mem': 744130548}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 1.0740564218353676
Set autovacuum_analyze_threshold = 261895959
Set autovacuum_max_workers = 133
Set autovacuum_naptime = 2021865
Set autovacuum_vacuum_cost_delay = 47
Set autovacuum_vacuum_cost_limit = 7774
Set autovacuum_vacuum_scale_factor = 17.770363226994867
Set autovacuum_vacuum_threshold = 1208573951
Set backend_flush_after = 167
Set bgwriter_delay = 6130
Set bgwriter_flush_after = 209
Set bgwriter_lru_maxpages = 892
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.587605621393071
Set checkpoint_flush_after = 249
Set checkpoint_timeout = 1182
Set commit_delay = 80935
Set commit_siblings = 410
Set cursor_tuple_fraction = 0.6231362773353313
Set deadlock_timeout = 296352941
Set default_statistics_target = 7375
Set effective_cache_size = 871363823
Set effective_io_concurrency = 590
Set from_collapse_limit = 1249068143
Set geqo_effort = 4
Set geqo_generations = 1972850639
Set geqo_pool_size = 1882222598
Set geqo_seed = 0.3171331265739723
Set geqo_threshold = 1296294523
Set join_collapse_limit = 115141233
Set maintenance_work_mem = 717469508
Set max_connections = 2979
Set max_wal_senders = 13
Set shared_buffers = 307968
Set temp_buffers = 30326826
Set temp_file_limit = 242194301
Set vacuum_cost_delay = 38
Set vacuum_cost_limit = 1326
Set vacuum_cost_page_dirty = 2033
Set vacuum_cost_page_hit = 1860
Set vacuum_cost_page_miss = 8289
Set wal_buffers = 128063
Set wal_writer_delay = 7653
Set work_mem = 744130548
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-10-56.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-10-56.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-10-56.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-10-56.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-10-56.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-10-56.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-10-56.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-10-56.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-10-56.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-10-56.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763726992.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-10-56.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-10-56.raw.csv
Parsed throughput from summary.json: 2974.7014263391875
BenchBase wikipedia throughput: 2974.7014263391875
Configuration: {'autovacuum_analyze_scale_factor': 1.0740564218353676, 'autovacuum_analyze_threshold': 261895959, 'autovacuum_max_workers': 133, 'autovacuum_naptime': 2021865, 'autovacuum_vacuum_cost_delay': 47, 'autovacuum_vacuum_cost_limit': 7774, 'autovacuum_vacuum_scale_factor': 17.770363226994867, 'autovacuum_vacuum_threshold': 1208573951, 'backend_flush_after': 167, 'bgwriter_delay': 6130, 'bgwriter_flush_after': 209, 'bgwriter_lru_maxpages': 892, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.587605621393071, 'checkpoint_flush_after': 249, 'checkpoint_timeout': 1182, 'commit_delay': 80935, 'commit_siblings': 410, 'cursor_tuple_fraction': 0.6231362773353313, 'deadlock_timeout': 296352941, 'default_statistics_target': 7375, 'effective_cache_size': 871363823, 'effective_io_concurrency': 590, 'from_collapse_limit': 1249068143, 'geqo_effort': 4, 'geqo_generations': 1972850639, 'geqo_pool_size': 1882222598, 'geqo_seed': 0.3171331265739723, 'geqo_threshold': 1296294523, 'join_collapse_limit': 115141233, 'maintenance_work_mem': 717469508, 'max_connections': 2979, 'max_wal_senders': 13, 'shared_buffers': 307968, 'temp_buffers': 30326826, 'temp_file_limit': 242194301, 'vacuum_cost_delay': 38, 'vacuum_cost_limit': 1326, 'vacuum_cost_page_dirty': 2033, 'vacuum_cost_page_hit': 1860, 'vacuum_cost_page_miss': 8289, 'wal_buffers': 128063, 'wal_writer_delay': 7653, 'work_mem': 744130548}, QPS: -2974.7014263391875
Performance (QPS): -2974.7014263391875
Evaluating configuration: {'autovacuum_analyze_scale_factor': 25.803196218561318, 'autovacuum_analyze_threshold': 334379757, 'autovacuum_max_workers': 139, 'autovacuum_naptime': 1825619, 'autovacuum_vacuum_cost_delay': 61, 'autovacuum_vacuum_cost_limit': 8753, 'autovacuum_vacuum_scale_factor': 29.858285707230714, 'autovacuum_vacuum_threshold': 574944101, 'backend_flush_after': 14, 'bgwriter_delay': 7824, 'bgwriter_flush_after': 144, 'bgwriter_lru_maxpages': 16, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.0014461691555975875, 'checkpoint_flush_after': 116, 'checkpoint_timeout': 1174, 'commit_delay': 68628, 'commit_siblings': 774, 'cursor_tuple_fraction': 0.7660129123818645, 'deadlock_timeout': 188885610, 'default_statistics_target': 551, 'effective_cache_size': 56914648, 'effective_io_concurrency': 195, 'from_collapse_limit': 1409901362, 'geqo_effort': 10, 'geqo_generations': 200373439, 'geqo_pool_size': 219973076, 'geqo_seed': 0.060404178159166655, 'geqo_threshold': 1965292483, 'join_collapse_limit': 856754802, 'maintenance_work_mem': 1137513311, 'max_connections': 1170, 'max_wal_senders': 13, 'shared_buffers': 2549380, 'temp_buffers': 1050220410, 'temp_file_limit': 1853649311, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 5205, 'vacuum_cost_page_dirty': 2155, 'vacuum_cost_page_hit': 646, 'vacuum_cost_page_miss': 8497, 'wal_buffers': 96657, 'wal_writer_delay': 6722, 'work_mem': 1493941684}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 25.803196218561318
Set autovacuum_analyze_threshold = 334379757
Set autovacuum_max_workers = 139
Set autovacuum_naptime = 1825619
Set autovacuum_vacuum_cost_delay = 61
Set autovacuum_vacuum_cost_limit = 8753
Set autovacuum_vacuum_scale_factor = 29.858285707230714
Set autovacuum_vacuum_threshold = 574944101
Set backend_flush_after = 14
Set bgwriter_delay = 7824
Set bgwriter_flush_after = 144
Set bgwriter_lru_maxpages = 16
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.0014461691555975875
Set checkpoint_flush_after = 116
Set checkpoint_timeout = 1174
Set commit_delay = 68628
Set commit_siblings = 774
Set cursor_tuple_fraction = 0.7660129123818645
Set deadlock_timeout = 188885610
Set default_statistics_target = 551
Set effective_cache_size = 56914648
Set effective_io_concurrency = 195
Set from_collapse_limit = 1409901362
Set geqo_effort = 10
Set geqo_generations = 200373439
Set geqo_pool_size = 219973076
Set geqo_seed = 0.060404178159166655
Set geqo_threshold = 1965292483
Set join_collapse_limit = 856754802
Set maintenance_work_mem = 1137513311
Set max_connections = 1170
Set max_wal_senders = 13
Set shared_buffers = 2549380
Set temp_buffers = 1050220410
Set temp_file_limit = 1853649311
Set vacuum_cost_delay = 64
Set vacuum_cost_limit = 5205
Set vacuum_cost_page_dirty = 2155
Set vacuum_cost_page_hit = 646
Set vacuum_cost_page_miss = 8497
Set wal_buffers = 96657
Set wal_writer_delay = 6722
Set work_mem = 1493941684
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-12-30.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-12-30.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-12-30.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-12-30.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-12-30.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-12-30.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-12-30.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763727087.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-12-30.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-12-30.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-12-30.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-12-30.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-12-30.raw.csv
Parsed throughput from summary.json: 2811.31722118179
BenchBase wikipedia throughput: 2811.31722118179
Configuration: {'autovacuum_analyze_scale_factor': 25.803196218561318, 'autovacuum_analyze_threshold': 334379757, 'autovacuum_max_workers': 139, 'autovacuum_naptime': 1825619, 'autovacuum_vacuum_cost_delay': 61, 'autovacuum_vacuum_cost_limit': 8753, 'autovacuum_vacuum_scale_factor': 29.858285707230714, 'autovacuum_vacuum_threshold': 574944101, 'backend_flush_after': 14, 'bgwriter_delay': 7824, 'bgwriter_flush_after': 144, 'bgwriter_lru_maxpages': 16, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.0014461691555975875, 'checkpoint_flush_after': 116, 'checkpoint_timeout': 1174, 'commit_delay': 68628, 'commit_siblings': 774, 'cursor_tuple_fraction': 0.7660129123818645, 'deadlock_timeout': 188885610, 'default_statistics_target': 551, 'effective_cache_size': 56914648, 'effective_io_concurrency': 195, 'from_collapse_limit': 1409901362, 'geqo_effort': 10, 'geqo_generations': 200373439, 'geqo_pool_size': 219973076, 'geqo_seed': 0.060404178159166655, 'geqo_threshold': 1965292483, 'join_collapse_limit': 856754802, 'maintenance_work_mem': 1137513311, 'max_connections': 1170, 'max_wal_senders': 13, 'shared_buffers': 2549380, 'temp_buffers': 1050220410, 'temp_file_limit': 1853649311, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 5205, 'vacuum_cost_page_dirty': 2155, 'vacuum_cost_page_hit': 646, 'vacuum_cost_page_miss': 8497, 'wal_buffers': 96657, 'wal_writer_delay': 6722, 'work_mem': 1493941684}, QPS: -2811.31722118179
Performance (QPS): -2811.31722118179
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1856065791, 'backend_flush_after': 39, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 200, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1344746112, 'default_statistics_target': 3556, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 543, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1176616063, 'geqo_seed': 0.3414045649280905, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1594, 'max_wal_senders': 18, 'shared_buffers': 192683, 'temp_buffers': 136611095, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4407, 'vacuum_cost_page_hit': 8902, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1298967
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1856065791
Set backend_flush_after = 39
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 200
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1344746112
Set default_statistics_target = 3556
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 543
Set from_collapse_limit = 1798991148
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1176616063
Set geqo_seed = 0.3414045649280905
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1594
Set max_wal_senders = 18
Set shared_buffers = 192683
Set temp_buffers = 136611095
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4407
Set vacuum_cost_page_hit = 8902
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-14-09.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-14-09.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-14-09.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-14-09.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-14-09.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-14-09.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-14-09.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763727186.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-14-09.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-14-09.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-14-09.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-14-09.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-14-09.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 2947.448388778229
BenchBase wikipedia throughput: 2947.448388778229
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1856065791, 'backend_flush_after': 39, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 200, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1344746112, 'default_statistics_target': 3556, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 543, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1176616063, 'geqo_seed': 0.3414045649280905, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1594, 'max_wal_senders': 18, 'shared_buffers': 192683, 'temp_buffers': 136611095, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4407, 'vacuum_cost_page_hit': 8902, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -2947.448388778229
Performance (QPS): -2947.448388778229
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 918619200, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1380175, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 7768, 'autovacuum_vacuum_scale_factor': 83.68997972065245, 'autovacuum_vacuum_threshold': 1856065791, 'backend_flush_after': 20, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.051146583435298335, 'deadlock_timeout': 1344746112, 'default_statistics_target': 3556, 'effective_cache_size': 1465006080, 'effective_io_concurrency': 591, 'from_collapse_limit': 1798991148, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1176616063, 'geqo_seed': 0.3414045649280905, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1594, 'max_wal_senders': 18, 'shared_buffers': 192683, 'temp_buffers': 136611095, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 62, 'vacuum_cost_limit': 2539, 'vacuum_cost_page_dirty': 4407, 'vacuum_cost_page_hit': 8902, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 918619200
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1380175
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 7768
Set autovacuum_vacuum_scale_factor = 83.68997972065245
Set autovacuum_vacuum_threshold = 1856065791
Set backend_flush_after = 20
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.051146583435298335
Set deadlock_timeout = 1344746112
Set default_statistics_target = 3556
Set effective_cache_size = 1465006080
Set effective_io_concurrency = 591
Set from_collapse_limit = 1798991148
Set geqo_effort = 4
Set geqo_generations = 159642294
Set geqo_pool_size = 1176616063
Set geqo_seed = 0.3414045649280905
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1594
Set max_wal_senders = 18
Set shared_buffers = 192683
Set temp_buffers = 136611095
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 62
Set vacuum_cost_limit = 2539
Set vacuum_cost_page_dirty = 4407
Set vacuum_cost_page_hit = 8902
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-15-48.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-15-48.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-15-48.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-15-48.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-15-48.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-15-48.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-15-48.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-15-48.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-15-48.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763727284.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-15-48.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-15-48.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-15-48.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 3055.351156940791
BenchBase wikipedia throughput: 3055.351156940791
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 918619200, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1380175, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 7768, 'autovacuum_vacuum_scale_factor': 83.68997972065245, 'autovacuum_vacuum_threshold': 1856065791, 'backend_flush_after': 20, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.051146583435298335, 'deadlock_timeout': 1344746112, 'default_statistics_target': 3556, 'effective_cache_size': 1465006080, 'effective_io_concurrency': 591, 'from_collapse_limit': 1798991148, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1176616063, 'geqo_seed': 0.3414045649280905, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1594, 'max_wal_senders': 18, 'shared_buffers': 192683, 'temp_buffers': 136611095, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 62, 'vacuum_cost_limit': 2539, 'vacuum_cost_page_dirty': 4407, 'vacuum_cost_page_hit': 8902, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3055.351156940791
Performance (QPS): -3055.351156940791
Evaluating configuration: {'autovacuum_analyze_scale_factor': 42.6767980882658, 'autovacuum_analyze_threshold': 590420033, 'autovacuum_max_workers': 35, 'autovacuum_naptime': 1922714, 'autovacuum_vacuum_cost_delay': 79, 'autovacuum_vacuum_cost_limit': 5720, 'autovacuum_vacuum_scale_factor': 17.79829471732308, 'autovacuum_vacuum_threshold': 2036008191, 'backend_flush_after': 221, 'bgwriter_delay': 7243, 'bgwriter_flush_after': 23, 'bgwriter_lru_maxpages': 300, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.043969860114329795, 'checkpoint_flush_after': 98, 'checkpoint_timeout': 495, 'commit_delay': 12933, 'commit_siblings': 984, 'cursor_tuple_fraction': 0.2529817357868177, 'deadlock_timeout': 780990456, 'default_statistics_target': 7223, 'effective_cache_size': 141986028, 'effective_io_concurrency': 533, 'from_collapse_limit': 1913382400, 'geqo_effort': 1, 'geqo_generations': 102180409, 'geqo_pool_size': 1778908243, 'geqo_seed': 0.11555116137190831, 'geqo_threshold': 567788398, 'join_collapse_limit': 1447331218, 'maintenance_work_mem': 513802795, 'max_connections': 2718, 'max_wal_senders': 11, 'shared_buffers': 95958, 'temp_buffers': 65822341, 'temp_file_limit': 10582708, 'vacuum_cost_delay': 2, 'vacuum_cost_limit': 6740, 'vacuum_cost_page_dirty': 1789, 'vacuum_cost_page_hit': 4608, 'vacuum_cost_page_miss': 9957, 'wal_buffers': 39179, 'wal_writer_delay': 7510, 'work_mem': 544654403}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 42.6767980882658
Set autovacuum_analyze_threshold = 590420033
Set autovacuum_max_workers = 35
Set autovacuum_naptime = 1922714
Set autovacuum_vacuum_cost_delay = 79
Set autovacuum_vacuum_cost_limit = 5720
Set autovacuum_vacuum_scale_factor = 17.79829471732308
Set autovacuum_vacuum_threshold = 2036008191
Set backend_flush_after = 221
Set bgwriter_delay = 7243
Set bgwriter_flush_after = 23
Set bgwriter_lru_maxpages = 300
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.043969860114329795
Set checkpoint_flush_after = 98
Set checkpoint_timeout = 495
Set commit_delay = 12933
Set commit_siblings = 984
Set cursor_tuple_fraction = 0.2529817357868177
Set deadlock_timeout = 780990456
Set default_statistics_target = 7223
Set effective_cache_size = 141986028
Set effective_io_concurrency = 533
Set from_collapse_limit = 1913382400
Set geqo_effort = 1
Set geqo_generations = 102180409
Set geqo_pool_size = 1778908243
Set geqo_seed = 0.11555116137190831
Set geqo_threshold = 567788398
Set join_collapse_limit = 1447331218
Set maintenance_work_mem = 513802795
Set max_connections = 2718
Set max_wal_senders = 11
Set shared_buffers = 95958
Set temp_buffers = 65822341
Set temp_file_limit = 10582708
Set vacuum_cost_delay = 2
Set vacuum_cost_limit = 6740
Set vacuum_cost_page_dirty = 1789
Set vacuum_cost_page_hit = 4608
Set vacuum_cost_page_miss = 9957
Set wal_buffers = 39179
Set wal_writer_delay = 7510
Set work_mem = 544654403
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-17-26.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-17-26.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-17-26.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-17-26.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-17-26.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-17-26.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-17-26.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-17-26.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-17-26.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-17-26.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763727383.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-17-26.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-17-26.samples.csv
Parsed throughput from summary.json: 2751.9643906877677
BenchBase wikipedia throughput: 2751.9643906877677
Configuration: {'autovacuum_analyze_scale_factor': 42.6767980882658, 'autovacuum_analyze_threshold': 590420033, 'autovacuum_max_workers': 35, 'autovacuum_naptime': 1922714, 'autovacuum_vacuum_cost_delay': 79, 'autovacuum_vacuum_cost_limit': 5720, 'autovacuum_vacuum_scale_factor': 17.79829471732308, 'autovacuum_vacuum_threshold': 2036008191, 'backend_flush_after': 221, 'bgwriter_delay': 7243, 'bgwriter_flush_after': 23, 'bgwriter_lru_maxpages': 300, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.043969860114329795, 'checkpoint_flush_after': 98, 'checkpoint_timeout': 495, 'commit_delay': 12933, 'commit_siblings': 984, 'cursor_tuple_fraction': 0.2529817357868177, 'deadlock_timeout': 780990456, 'default_statistics_target': 7223, 'effective_cache_size': 141986028, 'effective_io_concurrency': 533, 'from_collapse_limit': 1913382400, 'geqo_effort': 1, 'geqo_generations': 102180409, 'geqo_pool_size': 1778908243, 'geqo_seed': 0.11555116137190831, 'geqo_threshold': 567788398, 'join_collapse_limit': 1447331218, 'maintenance_work_mem': 513802795, 'max_connections': 2718, 'max_wal_senders': 11, 'shared_buffers': 95958, 'temp_buffers': 65822341, 'temp_file_limit': 10582708, 'vacuum_cost_delay': 2, 'vacuum_cost_limit': 6740, 'vacuum_cost_page_dirty': 1789, 'vacuum_cost_page_hit': 4608, 'vacuum_cost_page_miss': 9957, 'wal_buffers': 39179, 'wal_writer_delay': 7510, 'work_mem': 544654403}, QPS: -2751.9643906877677
Performance (QPS): -2751.9643906877677
Evaluating configuration: {'autovacuum_analyze_scale_factor': 24.19016758564313, 'autovacuum_analyze_threshold': 152985720, 'autovacuum_max_workers': 29, 'autovacuum_naptime': 1118837, 'autovacuum_vacuum_cost_delay': 30, 'autovacuum_vacuum_cost_limit': 2103, 'autovacuum_vacuum_scale_factor': 84.4165706461052, 'autovacuum_vacuum_threshold': 1956682025, 'backend_flush_after': 246, 'bgwriter_delay': 733, 'bgwriter_flush_after': 3, 'bgwriter_lru_maxpages': 726, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.737645295938822, 'checkpoint_flush_after': 256, 'checkpoint_timeout': 2395, 'commit_delay': 69331, 'commit_siblings': 319, 'cursor_tuple_fraction': 0.669198133319574, 'deadlock_timeout': 1325441536, 'default_statistics_target': 8259, 'effective_cache_size': 1442544000, 'effective_io_concurrency': 453, 'from_collapse_limit': 1530865536, 'geqo_effort': 2, 'geqo_generations': 188093438, 'geqo_pool_size': 1327478081, 'geqo_seed': 0.9992719701047139, 'geqo_threshold': 1968981436, 'join_collapse_limit': 1424571146, 'maintenance_work_mem': 1489780793, 'max_connections': 1599, 'max_wal_senders': 13, 'shared_buffers': 3612811, 'temp_buffers': 332337097, 'temp_file_limit': 374502938, 'vacuum_cost_delay': 29, 'vacuum_cost_limit': 5681, 'vacuum_cost_page_dirty': 5464, 'vacuum_cost_page_hit': 7241, 'vacuum_cost_page_miss': 44, 'wal_buffers': 82937, 'wal_writer_delay': 7819, 'work_mem': 1193154460}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 24.19016758564313
Set autovacuum_analyze_threshold = 152985720
Set autovacuum_max_workers = 29
Set autovacuum_naptime = 1118837
Set autovacuum_vacuum_cost_delay = 30
Set autovacuum_vacuum_cost_limit = 2103
Set autovacuum_vacuum_scale_factor = 84.4165706461052
Set autovacuum_vacuum_threshold = 1956682025
Set backend_flush_after = 246
Set bgwriter_delay = 733
Set bgwriter_flush_after = 3
Set bgwriter_lru_maxpages = 726
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.737645295938822
Set checkpoint_flush_after = 256
Set checkpoint_timeout = 2395
Set commit_delay = 69331
Set commit_siblings = 319
Set cursor_tuple_fraction = 0.669198133319574
Set deadlock_timeout = 1325441536
Set default_statistics_target = 8259
Set effective_cache_size = 1442544000
Set effective_io_concurrency = 453
Set from_collapse_limit = 1530865536
Set geqo_effort = 2
Set geqo_generations = 188093438
Set geqo_pool_size = 1327478081
Set geqo_seed = 0.9992719701047139
Set geqo_threshold = 1968981436
Set join_collapse_limit = 1424571146
Set maintenance_work_mem = 1489780793
Set max_connections = 1599
Set max_wal_senders = 13
Set shared_buffers = 3612811
Set temp_buffers = 332337097
Set temp_file_limit = 374502938
Set vacuum_cost_delay = 29
Set vacuum_cost_limit = 5681
Set vacuum_cost_page_dirty = 5464
Set vacuum_cost_page_hit = 7241
Set vacuum_cost_page_miss = 44
Set wal_buffers = 82937
Set wal_writer_delay = 7819
Set work_mem = 1193154460
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-19-04.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-19-04.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-19-04.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-19-04.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-19-04.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-19-04.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-19-04.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-19-04.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-19-04.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763727481.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-19-04.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-19-04.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-19-04.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Parsed throughput from summary.json: 3047.7744834455457
BenchBase wikipedia throughput: 3047.7744834455457
Configuration: {'autovacuum_analyze_scale_factor': 24.19016758564313, 'autovacuum_analyze_threshold': 152985720, 'autovacuum_max_workers': 29, 'autovacuum_naptime': 1118837, 'autovacuum_vacuum_cost_delay': 30, 'autovacuum_vacuum_cost_limit': 2103, 'autovacuum_vacuum_scale_factor': 84.4165706461052, 'autovacuum_vacuum_threshold': 1956682025, 'backend_flush_after': 246, 'bgwriter_delay': 733, 'bgwriter_flush_after': 3, 'bgwriter_lru_maxpages': 726, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.737645295938822, 'checkpoint_flush_after': 256, 'checkpoint_timeout': 2395, 'commit_delay': 69331, 'commit_siblings': 319, 'cursor_tuple_fraction': 0.669198133319574, 'deadlock_timeout': 1325441536, 'default_statistics_target': 8259, 'effective_cache_size': 1442544000, 'effective_io_concurrency': 453, 'from_collapse_limit': 1530865536, 'geqo_effort': 2, 'geqo_generations': 188093438, 'geqo_pool_size': 1327478081, 'geqo_seed': 0.9992719701047139, 'geqo_threshold': 1968981436, 'join_collapse_limit': 1424571146, 'maintenance_work_mem': 1489780793, 'max_connections': 1599, 'max_wal_senders': 13, 'shared_buffers': 3612811, 'temp_buffers': 332337097, 'temp_file_limit': 374502938, 'vacuum_cost_delay': 29, 'vacuum_cost_limit': 5681, 'vacuum_cost_page_dirty': 5464, 'vacuum_cost_page_hit': 7241, 'vacuum_cost_page_miss': 44, 'wal_buffers': 82937, 'wal_writer_delay': 7819, 'work_mem': 1193154460}, QPS: -3047.7744834455457
Performance (QPS): -3047.7744834455457
Evaluating configuration: {'autovacuum_analyze_scale_factor': 55.28605367375259, 'autovacuum_analyze_threshold': 1105276247, 'autovacuum_max_workers': 166, 'autovacuum_naptime': 626909, 'autovacuum_vacuum_cost_delay': 71, 'autovacuum_vacuum_cost_limit': 894, 'autovacuum_vacuum_scale_factor': 7.659811824306972, 'autovacuum_vacuum_threshold': 128116899, 'backend_flush_after': 256, 'bgwriter_delay': 5951, 'bgwriter_flush_after': 99, 'bgwriter_lru_maxpages': 679, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.9812914783922874, 'checkpoint_flush_after': 184, 'checkpoint_timeout': 2023, 'commit_delay': 65032, 'commit_siblings': 125, 'cursor_tuple_fraction': 0.0037606017329835373, 'deadlock_timeout': 1548019278, 'default_statistics_target': 5644, 'effective_cache_size': 145587956, 'effective_io_concurrency': 770, 'from_collapse_limit': 1279575706, 'geqo_effort': 6, 'geqo_generations': 43320296, 'geqo_pool_size': 476910488, 'geqo_seed': 0.9354087296707957, 'geqo_threshold': 1639096320, 'join_collapse_limit': 18914844, 'maintenance_work_mem': 72281663, 'max_connections': 2342, 'max_wal_senders': 28, 'shared_buffers': 3287058, 'temp_buffers': 86547259, 'temp_file_limit': 1863009377, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 4358, 'vacuum_cost_page_dirty': 8023, 'vacuum_cost_page_hit': 5876, 'vacuum_cost_page_miss': 86, 'wal_buffers': 31499, 'wal_writer_delay': 1053, 'work_mem': 734935018}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 55.28605367375259
Set autovacuum_analyze_threshold = 1105276247
Set autovacuum_max_workers = 166
Set autovacuum_naptime = 626909
Set autovacuum_vacuum_cost_delay = 71
Set autovacuum_vacuum_cost_limit = 894
Set autovacuum_vacuum_scale_factor = 7.659811824306972
Set autovacuum_vacuum_threshold = 128116899
Set backend_flush_after = 256
Set bgwriter_delay = 5951
Set bgwriter_flush_after = 99
Set bgwriter_lru_maxpages = 679
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.9812914783922874
Set checkpoint_flush_after = 184
Set checkpoint_timeout = 2023
Set commit_delay = 65032
Set commit_siblings = 125
Set cursor_tuple_fraction = 0.0037606017329835373
Set deadlock_timeout = 1548019278
Set default_statistics_target = 5644
Set effective_cache_size = 145587956
Set effective_io_concurrency = 770
Set from_collapse_limit = 1279575706
Set geqo_effort = 6
Set geqo_generations = 43320296
Set geqo_pool_size = 476910488
Set geqo_seed = 0.9354087296707957
Set geqo_threshold = 1639096320
Set join_collapse_limit = 18914844
Set maintenance_work_mem = 72281663
Set max_connections = 2342
Set max_wal_senders = 28
Set shared_buffers = 3287058
Set temp_buffers = 86547259
Set temp_file_limit = 1863009377
Set vacuum_cost_delay = 99
Set vacuum_cost_limit = 4358
Set vacuum_cost_page_dirty = 8023
Set vacuum_cost_page_hit = 5876
Set vacuum_cost_page_miss = 86
Set wal_buffers = 31499
Set wal_writer_delay = 1053
Set work_mem = 734935018
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-20-44.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-20-44.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-20-44.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-20-44.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-20-44.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-20-44.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763727580.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-20-44.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-20-44.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-20-44.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-20-44.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-20-44.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-20-44.results.csv
Parsed throughput from summary.json: 2900.361709844967
BenchBase wikipedia throughput: 2900.361709844967
Configuration: {'autovacuum_analyze_scale_factor': 55.28605367375259, 'autovacuum_analyze_threshold': 1105276247, 'autovacuum_max_workers': 166, 'autovacuum_naptime': 626909, 'autovacuum_vacuum_cost_delay': 71, 'autovacuum_vacuum_cost_limit': 894, 'autovacuum_vacuum_scale_factor': 7.659811824306972, 'autovacuum_vacuum_threshold': 128116899, 'backend_flush_after': 256, 'bgwriter_delay': 5951, 'bgwriter_flush_after': 99, 'bgwriter_lru_maxpages': 679, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.9812914783922874, 'checkpoint_flush_after': 184, 'checkpoint_timeout': 2023, 'commit_delay': 65032, 'commit_siblings': 125, 'cursor_tuple_fraction': 0.0037606017329835373, 'deadlock_timeout': 1548019278, 'default_statistics_target': 5644, 'effective_cache_size': 145587956, 'effective_io_concurrency': 770, 'from_collapse_limit': 1279575706, 'geqo_effort': 6, 'geqo_generations': 43320296, 'geqo_pool_size': 476910488, 'geqo_seed': 0.9354087296707957, 'geqo_threshold': 1639096320, 'join_collapse_limit': 18914844, 'maintenance_work_mem': 72281663, 'max_connections': 2342, 'max_wal_senders': 28, 'shared_buffers': 3287058, 'temp_buffers': 86547259, 'temp_file_limit': 1863009377, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 4358, 'vacuum_cost_page_dirty': 8023, 'vacuum_cost_page_hit': 5876, 'vacuum_cost_page_miss': 86, 'wal_buffers': 31499, 'wal_writer_delay': 1053, 'work_mem': 734935018}, QPS: -2900.361709844967
Performance (QPS): -2900.361709844967
Evaluating configuration: {'autovacuum_analyze_scale_factor': 2.861976784450293, 'autovacuum_analyze_threshold': 1326920763, 'autovacuum_max_workers': 86, 'autovacuum_naptime': 1825753, 'autovacuum_vacuum_cost_delay': 17, 'autovacuum_vacuum_cost_limit': 6011, 'autovacuum_vacuum_scale_factor': 61.78634352297403, 'autovacuum_vacuum_threshold': 1458613164, 'backend_flush_after': 22, 'bgwriter_delay': 5162, 'bgwriter_flush_after': 90, 'bgwriter_lru_maxpages': 642, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.21541861869557405, 'checkpoint_flush_after': 251, 'checkpoint_timeout': 2602, 'commit_delay': 9694, 'commit_siblings': 137, 'cursor_tuple_fraction': 0.4662256044212887, 'deadlock_timeout': 1150094592, 'default_statistics_target': 7829, 'effective_cache_size': 318589959, 'effective_io_concurrency': 436, 'from_collapse_limit': 597962830, 'geqo_effort': 3, 'geqo_generations': 1654428415, 'geqo_pool_size': 1253689288, 'geqo_seed': 0.19244572728639897, 'geqo_threshold': 1455474691, 'join_collapse_limit': 28786378, 'maintenance_work_mem': 518288840, 'max_connections': 2896, 'max_wal_senders': 35, 'shared_buffers': 1298930, 'temp_buffers': 319856276, 'temp_file_limit': 718087999, 'vacuum_cost_delay': 2, 'vacuum_cost_limit': 6977, 'vacuum_cost_page_dirty': 7672, 'vacuum_cost_page_hit': 7, 'vacuum_cost_page_miss': 7652, 'wal_buffers': 38394, 'wal_writer_delay': 5945, 'work_mem': 103425168}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 2.861976784450293
Set autovacuum_analyze_threshold = 1326920763
Set autovacuum_max_workers = 86
Set autovacuum_naptime = 1825753
Set autovacuum_vacuum_cost_delay = 17
Set autovacuum_vacuum_cost_limit = 6011
Set autovacuum_vacuum_scale_factor = 61.78634352297403
Set autovacuum_vacuum_threshold = 1458613164
Set backend_flush_after = 22
Set bgwriter_delay = 5162
Set bgwriter_flush_after = 90
Set bgwriter_lru_maxpages = 642
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.21541861869557405
Set checkpoint_flush_after = 251
Set checkpoint_timeout = 2602
Set commit_delay = 9694
Set commit_siblings = 137
Set cursor_tuple_fraction = 0.4662256044212887
Set deadlock_timeout = 1150094592
Set default_statistics_target = 7829
Set effective_cache_size = 318589959
Set effective_io_concurrency = 436
Set from_collapse_limit = 597962830
Set geqo_effort = 3
Set geqo_generations = 1654428415
Set geqo_pool_size = 1253689288
Set geqo_seed = 0.19244572728639897
Set geqo_threshold = 1455474691
Set join_collapse_limit = 28786378
Set maintenance_work_mem = 518288840
Set max_connections = 2896
Set max_wal_senders = 35
Set shared_buffers = 1298930
Set temp_buffers = 319856276
Set temp_file_limit = 718087999
Set vacuum_cost_delay = 2
Set vacuum_cost_limit = 6977
Set vacuum_cost_page_dirty = 7672
Set vacuum_cost_page_hit = 7
Set vacuum_cost_page_miss = 7652
Set wal_buffers = 38394
Set wal_writer_delay = 5945
Set work_mem = 103425168
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763727680.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-22-23.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-22-23.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-22-23.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-22-23.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-22-23.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-22-23.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-22-23.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-22-23.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-22-23.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-22-23.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-22-23.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-22-23.config.xml
Parsed throughput from summary.json: 2943.114036283931
BenchBase wikipedia throughput: 2943.114036283931
Configuration: {'autovacuum_analyze_scale_factor': 2.861976784450293, 'autovacuum_analyze_threshold': 1326920763, 'autovacuum_max_workers': 86, 'autovacuum_naptime': 1825753, 'autovacuum_vacuum_cost_delay': 17, 'autovacuum_vacuum_cost_limit': 6011, 'autovacuum_vacuum_scale_factor': 61.78634352297403, 'autovacuum_vacuum_threshold': 1458613164, 'backend_flush_after': 22, 'bgwriter_delay': 5162, 'bgwriter_flush_after': 90, 'bgwriter_lru_maxpages': 642, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.21541861869557405, 'checkpoint_flush_after': 251, 'checkpoint_timeout': 2602, 'commit_delay': 9694, 'commit_siblings': 137, 'cursor_tuple_fraction': 0.4662256044212887, 'deadlock_timeout': 1150094592, 'default_statistics_target': 7829, 'effective_cache_size': 318589959, 'effective_io_concurrency': 436, 'from_collapse_limit': 597962830, 'geqo_effort': 3, 'geqo_generations': 1654428415, 'geqo_pool_size': 1253689288, 'geqo_seed': 0.19244572728639897, 'geqo_threshold': 1455474691, 'join_collapse_limit': 28786378, 'maintenance_work_mem': 518288840, 'max_connections': 2896, 'max_wal_senders': 35, 'shared_buffers': 1298930, 'temp_buffers': 319856276, 'temp_file_limit': 718087999, 'vacuum_cost_delay': 2, 'vacuum_cost_limit': 6977, 'vacuum_cost_page_dirty': 7672, 'vacuum_cost_page_hit': 7, 'vacuum_cost_page_miss': 7652, 'wal_buffers': 38394, 'wal_writer_delay': 5945, 'work_mem': 103425168}, QPS: -2943.114036283931
Performance (QPS): -2943.114036283931
Evaluating configuration: {'autovacuum_analyze_scale_factor': 44.37847049562791, 'autovacuum_analyze_threshold': 431379620, 'autovacuum_max_workers': 152, 'autovacuum_naptime': 155184, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 4278, 'autovacuum_vacuum_scale_factor': 97.94517735864625, 'autovacuum_vacuum_threshold': 30378842, 'backend_flush_after': 5, 'bgwriter_delay': 2969, 'bgwriter_flush_after': 75, 'bgwriter_lru_maxpages': 71, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.7156442504041761, 'checkpoint_flush_after': 212, 'checkpoint_timeout': 891, 'commit_delay': 64447, 'commit_siblings': 801, 'cursor_tuple_fraction': 0.10032509282993318, 'deadlock_timeout': 132573841, 'default_statistics_target': 8657, 'effective_cache_size': 779186925, 'effective_io_concurrency': 380, 'from_collapse_limit': 284771093, 'geqo_effort': 6, 'geqo_generations': 117293768, 'geqo_pool_size': 1202311888, 'geqo_seed': 0.05875562894355853, 'geqo_threshold': 84849615, 'join_collapse_limit': 395799367, 'maintenance_work_mem': 791333019, 'max_connections': 290, 'max_wal_senders': 29, 'shared_buffers': 3398857, 'temp_buffers': 830022093, 'temp_file_limit': 530470559, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 2373, 'vacuum_cost_page_dirty': 1930, 'vacuum_cost_page_hit': 3411, 'vacuum_cost_page_miss': 3863, 'wal_buffers': 64270, 'wal_writer_delay': 387, 'work_mem': 50180341}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 44.37847049562791
Set autovacuum_analyze_threshold = 431379620
Set autovacuum_max_workers = 152
Set autovacuum_naptime = 155184
Set autovacuum_vacuum_cost_delay = 29
Set autovacuum_vacuum_cost_limit = 4278
Set autovacuum_vacuum_scale_factor = 97.94517735864625
Set autovacuum_vacuum_threshold = 30378842
Set backend_flush_after = 5
Set bgwriter_delay = 2969
Set bgwriter_flush_after = 75
Set bgwriter_lru_maxpages = 71
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.7156442504041761
Set checkpoint_flush_after = 212
Set checkpoint_timeout = 891
Set commit_delay = 64447
Set commit_siblings = 801
Set cursor_tuple_fraction = 0.10032509282993318
Set deadlock_timeout = 132573841
Set default_statistics_target = 8657
Set effective_cache_size = 779186925
Set effective_io_concurrency = 380
Set from_collapse_limit = 284771093
Set geqo_effort = 6
Set geqo_generations = 117293768
Set geqo_pool_size = 1202311888
Set geqo_seed = 0.05875562894355853
Set geqo_threshold = 84849615
Set join_collapse_limit = 395799367
Set maintenance_work_mem = 791333019
Set max_connections = 290
Set max_wal_senders = 29
Set shared_buffers = 3398857
Set temp_buffers = 830022093
Set temp_file_limit = 530470559
Set vacuum_cost_delay = 42
Set vacuum_cost_limit = 2373
Set vacuum_cost_page_dirty = 1930
Set vacuum_cost_page_hit = 3411
Set vacuum_cost_page_miss = 3863
Set wal_buffers = 64270
Set wal_writer_delay = 387
Set work_mem = 50180341
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-24-02.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-24-02.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-24-02.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-24-02.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763727778.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-24-02.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-24-02.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-24-02.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-24-02.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-24-02.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-24-02.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-24-02.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-24-02.params.json
Parsed throughput from summary.json: 2906.0987496784546
BenchBase wikipedia throughput: 2906.0987496784546
Configuration: {'autovacuum_analyze_scale_factor': 44.37847049562791, 'autovacuum_analyze_threshold': 431379620, 'autovacuum_max_workers': 152, 'autovacuum_naptime': 155184, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 4278, 'autovacuum_vacuum_scale_factor': 97.94517735864625, 'autovacuum_vacuum_threshold': 30378842, 'backend_flush_after': 5, 'bgwriter_delay': 2969, 'bgwriter_flush_after': 75, 'bgwriter_lru_maxpages': 71, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.7156442504041761, 'checkpoint_flush_after': 212, 'checkpoint_timeout': 891, 'commit_delay': 64447, 'commit_siblings': 801, 'cursor_tuple_fraction': 0.10032509282993318, 'deadlock_timeout': 132573841, 'default_statistics_target': 8657, 'effective_cache_size': 779186925, 'effective_io_concurrency': 380, 'from_collapse_limit': 284771093, 'geqo_effort': 6, 'geqo_generations': 117293768, 'geqo_pool_size': 1202311888, 'geqo_seed': 0.05875562894355853, 'geqo_threshold': 84849615, 'join_collapse_limit': 395799367, 'maintenance_work_mem': 791333019, 'max_connections': 290, 'max_wal_senders': 29, 'shared_buffers': 3398857, 'temp_buffers': 830022093, 'temp_file_limit': 530470559, 'vacuum_cost_delay': 42, 'vacuum_cost_limit': 2373, 'vacuum_cost_page_dirty': 1930, 'vacuum_cost_page_hit': 3411, 'vacuum_cost_page_miss': 3863, 'wal_buffers': 64270, 'wal_writer_delay': 387, 'work_mem': 50180341}, QPS: -2906.0987496784546
Performance (QPS): -2906.0987496784546
Evaluating configuration: {'autovacuum_analyze_scale_factor': 35.28817380895279, 'autovacuum_analyze_threshold': 453641984, 'autovacuum_max_workers': 104, 'autovacuum_naptime': 532597, 'autovacuum_vacuum_cost_delay': 92, 'autovacuum_vacuum_cost_limit': 7289, 'autovacuum_vacuum_scale_factor': 94.2225916218754, 'autovacuum_vacuum_threshold': 1977812543, 'backend_flush_after': 96, 'bgwriter_delay': 405, 'bgwriter_flush_after': 145, 'bgwriter_lru_maxpages': 884, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.24265272174338526, 'checkpoint_flush_after': 191, 'checkpoint_timeout': 3421, 'commit_delay': 1564, 'commit_siblings': 941, 'cursor_tuple_fraction': 0.14015014932467718, 'deadlock_timeout': 93358833, 'default_statistics_target': 8822, 'effective_cache_size': 1945385216, 'effective_io_concurrency': 471, 'from_collapse_limit': 2000852442, 'geqo_effort': 10, 'geqo_generations': 1557813947, 'geqo_pool_size': 1730743848, 'geqo_seed': 0.7054643905878211, 'geqo_threshold': 1702494130, 'join_collapse_limit': 648066180, 'maintenance_work_mem': 1821022619, 'max_connections': 2582, 'max_wal_senders': 25, 'shared_buffers': 2585153, 'temp_buffers': 1022619584, 'temp_file_limit': 147796223, 'vacuum_cost_delay': 94, 'vacuum_cost_limit': 1824, 'vacuum_cost_page_dirty': 4735, 'vacuum_cost_page_hit': 4326, 'vacuum_cost_page_miss': 20, 'wal_buffers': 91875, 'wal_writer_delay': 1880, 'work_mem': 492588541}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 35.28817380895279
Set autovacuum_analyze_threshold = 453641984
Set autovacuum_max_workers = 104
Set autovacuum_naptime = 532597
Set autovacuum_vacuum_cost_delay = 92
Set autovacuum_vacuum_cost_limit = 7289
Set autovacuum_vacuum_scale_factor = 94.2225916218754
Set autovacuum_vacuum_threshold = 1977812543
Set backend_flush_after = 96
Set bgwriter_delay = 405
Set bgwriter_flush_after = 145
Set bgwriter_lru_maxpages = 884
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.24265272174338526
Set checkpoint_flush_after = 191
Set checkpoint_timeout = 3421
Set commit_delay = 1564
Set commit_siblings = 941
Set cursor_tuple_fraction = 0.14015014932467718
Set deadlock_timeout = 93358833
Set default_statistics_target = 8822
Set effective_cache_size = 1945385216
Set effective_io_concurrency = 471
Set from_collapse_limit = 2000852442
Set geqo_effort = 10
Set geqo_generations = 1557813947
Set geqo_pool_size = 1730743848
Set geqo_seed = 0.7054643905878211
Set geqo_threshold = 1702494130
Set join_collapse_limit = 648066180
Set maintenance_work_mem = 1821022619
Set max_connections = 2582
Set max_wal_senders = 25
Set shared_buffers = 2585153
Set temp_buffers = 1022619584
Set temp_file_limit = 147796223
Set vacuum_cost_delay = 94
Set vacuum_cost_limit = 1824
Set vacuum_cost_page_dirty = 4735
Set vacuum_cost_page_hit = 4326
Set vacuum_cost_page_miss = 20
Set wal_buffers = 91875
Set wal_writer_delay = 1880
Set work_mem = 492588541
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763727878.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-25-42.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-25-42.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-25-42.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-25-42.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-25-42.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-25-42.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-25-42.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-25-42.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-25-42.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-25-42.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-25-42.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-25-42.results.csv
Parsed throughput from summary.json: 2871.108312567125
BenchBase wikipedia throughput: 2871.108312567125
Configuration: {'autovacuum_analyze_scale_factor': 35.28817380895279, 'autovacuum_analyze_threshold': 453641984, 'autovacuum_max_workers': 104, 'autovacuum_naptime': 532597, 'autovacuum_vacuum_cost_delay': 92, 'autovacuum_vacuum_cost_limit': 7289, 'autovacuum_vacuum_scale_factor': 94.2225916218754, 'autovacuum_vacuum_threshold': 1977812543, 'backend_flush_after': 96, 'bgwriter_delay': 405, 'bgwriter_flush_after': 145, 'bgwriter_lru_maxpages': 884, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.24265272174338526, 'checkpoint_flush_after': 191, 'checkpoint_timeout': 3421, 'commit_delay': 1564, 'commit_siblings': 941, 'cursor_tuple_fraction': 0.14015014932467718, 'deadlock_timeout': 93358833, 'default_statistics_target': 8822, 'effective_cache_size': 1945385216, 'effective_io_concurrency': 471, 'from_collapse_limit': 2000852442, 'geqo_effort': 10, 'geqo_generations': 1557813947, 'geqo_pool_size': 1730743848, 'geqo_seed': 0.7054643905878211, 'geqo_threshold': 1702494130, 'join_collapse_limit': 648066180, 'maintenance_work_mem': 1821022619, 'max_connections': 2582, 'max_wal_senders': 25, 'shared_buffers': 2585153, 'temp_buffers': 1022619584, 'temp_file_limit': 147796223, 'vacuum_cost_delay': 94, 'vacuum_cost_limit': 1824, 'vacuum_cost_page_dirty': 4735, 'vacuum_cost_page_hit': 4326, 'vacuum_cost_page_miss': 20, 'wal_buffers': 91875, 'wal_writer_delay': 1880, 'work_mem': 492588541}, QPS: -2871.108312567125
Performance (QPS): -2871.108312567125
Evaluating configuration: {'autovacuum_analyze_scale_factor': 91.51534516644018, 'autovacuum_analyze_threshold': 956915264, 'autovacuum_max_workers': 61, 'autovacuum_naptime': 2019569, 'autovacuum_vacuum_cost_delay': 39, 'autovacuum_vacuum_cost_limit': 9273, 'autovacuum_vacuum_scale_factor': 9.788684942187986, 'autovacuum_vacuum_threshold': 1982630527, 'backend_flush_after': 66, 'bgwriter_delay': 5787, 'bgwriter_flush_after': 42, 'bgwriter_lru_maxpages': 201, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.16131698758082846, 'checkpoint_flush_after': 169, 'checkpoint_timeout': 2593, 'commit_delay': 32825, 'commit_siblings': 784, 'cursor_tuple_fraction': 0.11992557046841346, 'deadlock_timeout': 205649057, 'default_statistics_target': 8589, 'effective_cache_size': 1544491836, 'effective_io_concurrency': 491, 'from_collapse_limit': 853457792, 'geqo_effort': 6, 'geqo_generations': 958844544, 'geqo_pool_size': 1355344127, 'geqo_seed': 0.19967966736850062, 'geqo_threshold': 1034883009, 'join_collapse_limit': 956159368, 'maintenance_work_mem': 109801601, 'max_connections': 975, 'max_wal_senders': 18, 'shared_buffers': 2141916, 'temp_buffers': 939645900, 'temp_file_limit': 244967184, 'vacuum_cost_delay': 54, 'vacuum_cost_limit': 9620, 'vacuum_cost_page_dirty': 445, 'vacuum_cost_page_hit': 8802, 'vacuum_cost_page_miss': 6448, 'wal_buffers': 10182, 'wal_writer_delay': 8098, 'work_mem': 8247460}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 91.51534516644018
Set autovacuum_analyze_threshold = 956915264
Set autovacuum_max_workers = 61
Set autovacuum_naptime = 2019569
Set autovacuum_vacuum_cost_delay = 39
Set autovacuum_vacuum_cost_limit = 9273
Set autovacuum_vacuum_scale_factor = 9.788684942187986
Set autovacuum_vacuum_threshold = 1982630527
Set backend_flush_after = 66
Set bgwriter_delay = 5787
Set bgwriter_flush_after = 42
Set bgwriter_lru_maxpages = 201
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.16131698758082846
Set checkpoint_flush_after = 169
Set checkpoint_timeout = 2593
Set commit_delay = 32825
Set commit_siblings = 784
Set cursor_tuple_fraction = 0.11992557046841346
Set deadlock_timeout = 205649057
Set default_statistics_target = 8589
Set effective_cache_size = 1544491836
Set effective_io_concurrency = 491
Set from_collapse_limit = 853457792
Set geqo_effort = 6
Set geqo_generations = 958844544
Set geqo_pool_size = 1355344127
Set geqo_seed = 0.19967966736850062
Set geqo_threshold = 1034883009
Set join_collapse_limit = 956159368
Set maintenance_work_mem = 109801601
Set max_connections = 975
Set max_wal_senders = 18
Set shared_buffers = 2141916
Set temp_buffers = 939645900
Set temp_file_limit = 244967184
Set vacuum_cost_delay = 54
Set vacuum_cost_limit = 9620
Set vacuum_cost_page_dirty = 445
Set vacuum_cost_page_hit = 8802
Set vacuum_cost_page_miss = 6448
Set wal_buffers = 10182
Set wal_writer_delay = 8098
Set work_mem = 8247460
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-27-21.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-27-21.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-27-21.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-27-21.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-27-21.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-27-21.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-27-21.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-27-21.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-27-21.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-27-21.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-27-21.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-27-21.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763727977.log
Parsed throughput from summary.json: 2981.24310973441
BenchBase wikipedia throughput: 2981.24310973441
Configuration: {'autovacuum_analyze_scale_factor': 91.51534516644018, 'autovacuum_analyze_threshold': 956915264, 'autovacuum_max_workers': 61, 'autovacuum_naptime': 2019569, 'autovacuum_vacuum_cost_delay': 39, 'autovacuum_vacuum_cost_limit': 9273, 'autovacuum_vacuum_scale_factor': 9.788684942187986, 'autovacuum_vacuum_threshold': 1982630527, 'backend_flush_after': 66, 'bgwriter_delay': 5787, 'bgwriter_flush_after': 42, 'bgwriter_lru_maxpages': 201, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.16131698758082846, 'checkpoint_flush_after': 169, 'checkpoint_timeout': 2593, 'commit_delay': 32825, 'commit_siblings': 784, 'cursor_tuple_fraction': 0.11992557046841346, 'deadlock_timeout': 205649057, 'default_statistics_target': 8589, 'effective_cache_size': 1544491836, 'effective_io_concurrency': 491, 'from_collapse_limit': 853457792, 'geqo_effort': 6, 'geqo_generations': 958844544, 'geqo_pool_size': 1355344127, 'geqo_seed': 0.19967966736850062, 'geqo_threshold': 1034883009, 'join_collapse_limit': 956159368, 'maintenance_work_mem': 109801601, 'max_connections': 975, 'max_wal_senders': 18, 'shared_buffers': 2141916, 'temp_buffers': 939645900, 'temp_file_limit': 244967184, 'vacuum_cost_delay': 54, 'vacuum_cost_limit': 9620, 'vacuum_cost_page_dirty': 445, 'vacuum_cost_page_hit': 8802, 'vacuum_cost_page_miss': 6448, 'wal_buffers': 10182, 'wal_writer_delay': 8098, 'work_mem': 8247460}, QPS: -2981.24310973441
Performance (QPS): -2981.24310973441
Evaluating configuration: {'autovacuum_analyze_scale_factor': 37.26052271149862, 'autovacuum_analyze_threshold': 1986851297, 'autovacuum_max_workers': 146, 'autovacuum_naptime': 1203198, 'autovacuum_vacuum_cost_delay': 37, 'autovacuum_vacuum_cost_limit': 7108, 'autovacuum_vacuum_scale_factor': 60.64883980087732, 'autovacuum_vacuum_threshold': 945042785, 'backend_flush_after': 65, 'bgwriter_delay': 8200, 'bgwriter_flush_after': 225, 'bgwriter_lru_maxpages': 988, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.8779518936277836, 'checkpoint_flush_after': 137, 'checkpoint_timeout': 2035, 'commit_delay': 58823, 'commit_siblings': 829, 'cursor_tuple_fraction': 0.5179452161820712, 'deadlock_timeout': 2147279733, 'default_statistics_target': 742, 'effective_cache_size': 1888645091, 'effective_io_concurrency': 791, 'from_collapse_limit': 257198432, 'geqo_effort': 4, 'geqo_generations': 790603829, 'geqo_pool_size': 1894006904, 'geqo_seed': 0.7770713702842272, 'geqo_threshold': 794963305, 'join_collapse_limit': 722811299, 'maintenance_work_mem': 399793994, 'max_connections': 900, 'max_wal_senders': 15, 'shared_buffers': 1231285, 'temp_buffers': 326779030, 'temp_file_limit': 1216970898, 'vacuum_cost_delay': 97, 'vacuum_cost_limit': 9051, 'vacuum_cost_page_dirty': 4086, 'vacuum_cost_page_hit': 5142, 'vacuum_cost_page_miss': 9569, 'wal_buffers': 55249, 'wal_writer_delay': 7539, 'work_mem': 461787799}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 37.26052271149862
Set autovacuum_analyze_threshold = 1986851297
Set autovacuum_max_workers = 146
Set autovacuum_naptime = 1203198
Set autovacuum_vacuum_cost_delay = 37
Set autovacuum_vacuum_cost_limit = 7108
Set autovacuum_vacuum_scale_factor = 60.64883980087732
Set autovacuum_vacuum_threshold = 945042785
Set backend_flush_after = 65
Set bgwriter_delay = 8200
Set bgwriter_flush_after = 225
Set bgwriter_lru_maxpages = 988
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.8779518936277836
Set checkpoint_flush_after = 137
Set checkpoint_timeout = 2035
Set commit_delay = 58823
Set commit_siblings = 829
Set cursor_tuple_fraction = 0.5179452161820712
Set deadlock_timeout = 2147279733
Set default_statistics_target = 742
Set effective_cache_size = 1888645091
Set effective_io_concurrency = 791
Set from_collapse_limit = 257198432
Set geqo_effort = 4
Set geqo_generations = 790603829
Set geqo_pool_size = 1894006904
Set geqo_seed = 0.7770713702842272
Set geqo_threshold = 794963305
Set join_collapse_limit = 722811299
Set maintenance_work_mem = 399793994
Set max_connections = 900
Set max_wal_senders = 15
Set shared_buffers = 1231285
Set temp_buffers = 326779030
Set temp_file_limit = 1216970898
Set vacuum_cost_delay = 97
Set vacuum_cost_limit = 9051
Set vacuum_cost_page_dirty = 4086
Set vacuum_cost_page_hit = 5142
Set vacuum_cost_page_miss = 9569
Set wal_buffers = 55249
Set wal_writer_delay = 7539
Set work_mem = 461787799
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-28-54.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-28-54.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-28-54.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-28-54.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-28-54.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763728071.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-28-54.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-28-54.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-28-54.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-28-54.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-28-54.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-28-54.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-28-54.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 2835.4273122322984
BenchBase wikipedia throughput: 2835.4273122322984
Configuration: {'autovacuum_analyze_scale_factor': 37.26052271149862, 'autovacuum_analyze_threshold': 1986851297, 'autovacuum_max_workers': 146, 'autovacuum_naptime': 1203198, 'autovacuum_vacuum_cost_delay': 37, 'autovacuum_vacuum_cost_limit': 7108, 'autovacuum_vacuum_scale_factor': 60.64883980087732, 'autovacuum_vacuum_threshold': 945042785, 'backend_flush_after': 65, 'bgwriter_delay': 8200, 'bgwriter_flush_after': 225, 'bgwriter_lru_maxpages': 988, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.8779518936277836, 'checkpoint_flush_after': 137, 'checkpoint_timeout': 2035, 'commit_delay': 58823, 'commit_siblings': 829, 'cursor_tuple_fraction': 0.5179452161820712, 'deadlock_timeout': 2147279733, 'default_statistics_target': 742, 'effective_cache_size': 1888645091, 'effective_io_concurrency': 791, 'from_collapse_limit': 257198432, 'geqo_effort': 4, 'geqo_generations': 790603829, 'geqo_pool_size': 1894006904, 'geqo_seed': 0.7770713702842272, 'geqo_threshold': 794963305, 'join_collapse_limit': 722811299, 'maintenance_work_mem': 399793994, 'max_connections': 900, 'max_wal_senders': 15, 'shared_buffers': 1231285, 'temp_buffers': 326779030, 'temp_file_limit': 1216970898, 'vacuum_cost_delay': 97, 'vacuum_cost_limit': 9051, 'vacuum_cost_page_dirty': 4086, 'vacuum_cost_page_hit': 5142, 'vacuum_cost_page_miss': 9569, 'wal_buffers': 55249, 'wal_writer_delay': 7539, 'work_mem': 461787799}, QPS: -2835.4273122322984
Performance (QPS): -2835.4273122322984
Evaluating configuration: {'autovacuum_analyze_scale_factor': 27.30533241208003, 'autovacuum_analyze_threshold': 1974740017, 'autovacuum_max_workers': 24, 'autovacuum_naptime': 1347458, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 3390, 'autovacuum_vacuum_scale_factor': 88.08768005027815, 'autovacuum_vacuum_threshold': 150564501, 'backend_flush_after': 183, 'bgwriter_delay': 9164, 'bgwriter_flush_after': 56, 'bgwriter_lru_maxpages': 79, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.38701050110135937, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1796, 'commit_delay': 69606, 'commit_siblings': 930, 'cursor_tuple_fraction': 0.5871000223335845, 'deadlock_timeout': 1854262400, 'default_statistics_target': 8112, 'effective_cache_size': 1926575638, 'effective_io_concurrency': 727, 'from_collapse_limit': 455606925, 'geqo_effort': 5, 'geqo_generations': 1241321971, 'geqo_pool_size': 1044079342, 'geqo_seed': 0.17163584566375145, 'geqo_threshold': 662818657, 'join_collapse_limit': 1237160576, 'maintenance_work_mem': 330058118, 'max_connections': 1818, 'max_wal_senders': 40, 'shared_buffers': 2025089, 'temp_buffers': 1051445317, 'temp_file_limit': 1216034815, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4416, 'vacuum_cost_page_dirty': 4672, 'vacuum_cost_page_hit': 7912, 'vacuum_cost_page_miss': 7658, 'wal_buffers': 32784, 'wal_writer_delay': 4267, 'work_mem': 1579022864}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 27.30533241208003
Set autovacuum_analyze_threshold = 1974740017
Set autovacuum_max_workers = 24
Set autovacuum_naptime = 1347458
Set autovacuum_vacuum_cost_delay = -1
Set autovacuum_vacuum_cost_limit = 3390
Set autovacuum_vacuum_scale_factor = 88.08768005027815
Set autovacuum_vacuum_threshold = 150564501
Set backend_flush_after = 183
Set bgwriter_delay = 9164
Set bgwriter_flush_after = 56
Set bgwriter_lru_maxpages = 79
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.38701050110135937
Set checkpoint_flush_after = 253
Set checkpoint_timeout = 1796
Set commit_delay = 69606
Set commit_siblings = 930
Set cursor_tuple_fraction = 0.5871000223335845
Set deadlock_timeout = 1854262400
Set default_statistics_target = 8112
Set effective_cache_size = 1926575638
Set effective_io_concurrency = 727
Set from_collapse_limit = 455606925
Set geqo_effort = 5
Set geqo_generations = 1241321971
Set geqo_pool_size = 1044079342
Set geqo_seed = 0.17163584566375145
Set geqo_threshold = 662818657
Set join_collapse_limit = 1237160576
Set maintenance_work_mem = 330058118
Set max_connections = 1818
Set max_wal_senders = 40
Set shared_buffers = 2025089
Set temp_buffers = 1051445317
Set temp_file_limit = 1216034815
Set vacuum_cost_delay = 1
Set vacuum_cost_limit = 4416
Set vacuum_cost_page_dirty = 4672
Set vacuum_cost_page_hit = 7912
Set vacuum_cost_page_miss = 7658
Set wal_buffers = 32784
Set wal_writer_delay = 4267
Set work_mem = 1579022864
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-30-33.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-30-33.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763728169.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-30-33.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-30-33.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-30-33.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-30-33.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-30-33.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-30-33.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-30-33.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-30-33.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-30-33.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-30-33.results.RemoveWatchList.csv
Parsed throughput from summary.json: 2981.1659130481717
BenchBase wikipedia throughput: 2981.1659130481717
Configuration: {'autovacuum_analyze_scale_factor': 27.30533241208003, 'autovacuum_analyze_threshold': 1974740017, 'autovacuum_max_workers': 24, 'autovacuum_naptime': 1347458, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 3390, 'autovacuum_vacuum_scale_factor': 88.08768005027815, 'autovacuum_vacuum_threshold': 150564501, 'backend_flush_after': 183, 'bgwriter_delay': 9164, 'bgwriter_flush_after': 56, 'bgwriter_lru_maxpages': 79, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.38701050110135937, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1796, 'commit_delay': 69606, 'commit_siblings': 930, 'cursor_tuple_fraction': 0.5871000223335845, 'deadlock_timeout': 1854262400, 'default_statistics_target': 8112, 'effective_cache_size': 1926575638, 'effective_io_concurrency': 727, 'from_collapse_limit': 455606925, 'geqo_effort': 5, 'geqo_generations': 1241321971, 'geqo_pool_size': 1044079342, 'geqo_seed': 0.17163584566375145, 'geqo_threshold': 662818657, 'join_collapse_limit': 1237160576, 'maintenance_work_mem': 330058118, 'max_connections': 1818, 'max_wal_senders': 40, 'shared_buffers': 2025089, 'temp_buffers': 1051445317, 'temp_file_limit': 1216034815, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4416, 'vacuum_cost_page_dirty': 4672, 'vacuum_cost_page_hit': 7912, 'vacuum_cost_page_miss': 7658, 'wal_buffers': 32784, 'wal_writer_delay': 4267, 'work_mem': 1579022864}, QPS: -2981.1659130481717
Performance (QPS): -2981.1659130481717
Evaluating configuration: {'autovacuum_analyze_scale_factor': 97.09938274673458, 'autovacuum_analyze_threshold': 938770385, 'autovacuum_max_workers': 41, 'autovacuum_naptime': 1677152, 'autovacuum_vacuum_cost_delay': 16, 'autovacuum_vacuum_cost_limit': 7471, 'autovacuum_vacuum_scale_factor': 13.988880958374683, 'autovacuum_vacuum_threshold': 1207693245, 'backend_flush_after': 8, 'bgwriter_delay': 1074, 'bgwriter_flush_after': 185, 'bgwriter_lru_maxpages': 50, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.13919293518382364, 'checkpoint_flush_after': 255, 'checkpoint_timeout': 3421, 'commit_delay': 52925, 'commit_siblings': 204, 'cursor_tuple_fraction': 0.523918131862857, 'deadlock_timeout': 1583383808, 'default_statistics_target': 3206, 'effective_cache_size': 1341292848, 'effective_io_concurrency': 202, 'from_collapse_limit': 1061911638, 'geqo_effort': 1, 'geqo_generations': 1515014399, 'geqo_pool_size': 947532965, 'geqo_seed': 0.8888762762578852, 'geqo_threshold': 719303670, 'join_collapse_limit': 832794990, 'maintenance_work_mem': 590097830, 'max_connections': 750, 'max_wal_senders': 29, 'shared_buffers': 1544161, 'temp_buffers': 445101943, 'temp_file_limit': 927986418, 'vacuum_cost_delay': 65, 'vacuum_cost_limit': 6416, 'vacuum_cost_page_dirty': 8991, 'vacuum_cost_page_hit': 5793, 'vacuum_cost_page_miss': 216, 'wal_buffers': 17080, 'wal_writer_delay': 4472, 'work_mem': 422324444}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 97.09938274673458
Set autovacuum_analyze_threshold = 938770385
Set autovacuum_max_workers = 41
Set autovacuum_naptime = 1677152
Set autovacuum_vacuum_cost_delay = 16
Set autovacuum_vacuum_cost_limit = 7471
Set autovacuum_vacuum_scale_factor = 13.988880958374683
Set autovacuum_vacuum_threshold = 1207693245
Set backend_flush_after = 8
Set bgwriter_delay = 1074
Set bgwriter_flush_after = 185
Set bgwriter_lru_maxpages = 50
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.13919293518382364
Set checkpoint_flush_after = 255
Set checkpoint_timeout = 3421
Set commit_delay = 52925
Set commit_siblings = 204
Set cursor_tuple_fraction = 0.523918131862857
Set deadlock_timeout = 1583383808
Set default_statistics_target = 3206
Set effective_cache_size = 1341292848
Set effective_io_concurrency = 202
Set from_collapse_limit = 1061911638
Set geqo_effort = 1
Set geqo_generations = 1515014399
Set geqo_pool_size = 947532965
Set geqo_seed = 0.8888762762578852
Set geqo_threshold = 719303670
Set join_collapse_limit = 832794990
Set maintenance_work_mem = 590097830
Set max_connections = 750
Set max_wal_senders = 29
Set shared_buffers = 1544161
Set temp_buffers = 445101943
Set temp_file_limit = 927986418
Set vacuum_cost_delay = 65
Set vacuum_cost_limit = 6416
Set vacuum_cost_page_dirty = 8991
Set vacuum_cost_page_hit = 5793
Set vacuum_cost_page_miss = 216
Set wal_buffers = 17080
Set wal_writer_delay = 4472
Set work_mem = 422324444
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-32-12.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-32-12.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-32-12.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-32-12.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-32-12.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-32-12.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-32-12.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-32-12.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763728269.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-32-12.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-32-12.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-32-12.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-32-12.metrics.json
Parsed throughput from summary.json: 2992.538498438871
BenchBase wikipedia throughput: 2992.538498438871
Configuration: {'autovacuum_analyze_scale_factor': 97.09938274673458, 'autovacuum_analyze_threshold': 938770385, 'autovacuum_max_workers': 41, 'autovacuum_naptime': 1677152, 'autovacuum_vacuum_cost_delay': 16, 'autovacuum_vacuum_cost_limit': 7471, 'autovacuum_vacuum_scale_factor': 13.988880958374683, 'autovacuum_vacuum_threshold': 1207693245, 'backend_flush_after': 8, 'bgwriter_delay': 1074, 'bgwriter_flush_after': 185, 'bgwriter_lru_maxpages': 50, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.13919293518382364, 'checkpoint_flush_after': 255, 'checkpoint_timeout': 3421, 'commit_delay': 52925, 'commit_siblings': 204, 'cursor_tuple_fraction': 0.523918131862857, 'deadlock_timeout': 1583383808, 'default_statistics_target': 3206, 'effective_cache_size': 1341292848, 'effective_io_concurrency': 202, 'from_collapse_limit': 1061911638, 'geqo_effort': 1, 'geqo_generations': 1515014399, 'geqo_pool_size': 947532965, 'geqo_seed': 0.8888762762578852, 'geqo_threshold': 719303670, 'join_collapse_limit': 832794990, 'maintenance_work_mem': 590097830, 'max_connections': 750, 'max_wal_senders': 29, 'shared_buffers': 1544161, 'temp_buffers': 445101943, 'temp_file_limit': 927986418, 'vacuum_cost_delay': 65, 'vacuum_cost_limit': 6416, 'vacuum_cost_page_dirty': 8991, 'vacuum_cost_page_hit': 5793, 'vacuum_cost_page_miss': 216, 'wal_buffers': 17080, 'wal_writer_delay': 4472, 'work_mem': 422324444}, QPS: -2992.538498438871
Performance (QPS): -2992.538498438871
Evaluating configuration: {'autovacuum_analyze_scale_factor': 94.19407987716673, 'autovacuum_analyze_threshold': 2111499432, 'autovacuum_max_workers': 54, 'autovacuum_naptime': 464447, 'autovacuum_vacuum_cost_delay': 39, 'autovacuum_vacuum_cost_limit': 2319, 'autovacuum_vacuum_scale_factor': 0.8120494054080107, 'autovacuum_vacuum_threshold': 501890891, 'backend_flush_after': 66, 'bgwriter_delay': 6165, 'bgwriter_flush_after': 213, 'bgwriter_lru_maxpages': 985, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.6210785140596399, 'checkpoint_flush_after': 11, 'checkpoint_timeout': 3386, 'commit_delay': 75463, 'commit_siblings': 183, 'cursor_tuple_fraction': 0.5533501914403487, 'deadlock_timeout': 113200814, 'default_statistics_target': 3967, 'effective_cache_size': 1291587940, 'effective_io_concurrency': 942, 'from_collapse_limit': 2115091200, 'geqo_effort': 6, 'geqo_generations': 1308271871, 'geqo_pool_size': 441667669, 'geqo_seed': 0.5741571243919609, 'geqo_threshold': 1728468438, 'join_collapse_limit': 1739243937, 'maintenance_work_mem': 1626968568, 'max_connections': 1146, 'max_wal_senders': 11, 'shared_buffers': 1799108, 'temp_buffers': 29758981, 'temp_file_limit': 2037288105, 'vacuum_cost_delay': 27, 'vacuum_cost_limit': 7869, 'vacuum_cost_page_dirty': 6028, 'vacuum_cost_page_hit': 5945, 'vacuum_cost_page_miss': 227, 'wal_buffers': 43411, 'wal_writer_delay': 9245, 'work_mem': 459859730}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 94.19407987716673
Set autovacuum_analyze_threshold = 2111499432
Set autovacuum_max_workers = 54
Set autovacuum_naptime = 464447
Set autovacuum_vacuum_cost_delay = 39
Set autovacuum_vacuum_cost_limit = 2319
Set autovacuum_vacuum_scale_factor = 0.8120494054080107
Set autovacuum_vacuum_threshold = 501890891
Set backend_flush_after = 66
Set bgwriter_delay = 6165
Set bgwriter_flush_after = 213
Set bgwriter_lru_maxpages = 985
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.6210785140596399
Set checkpoint_flush_after = 11
Set checkpoint_timeout = 3386
Set commit_delay = 75463
Set commit_siblings = 183
Set cursor_tuple_fraction = 0.5533501914403487
Set deadlock_timeout = 113200814
Set default_statistics_target = 3967
Set effective_cache_size = 1291587940
Set effective_io_concurrency = 942
Set from_collapse_limit = 2115091200
Set geqo_effort = 6
Set geqo_generations = 1308271871
Set geqo_pool_size = 441667669
Set geqo_seed = 0.5741571243919609
Set geqo_threshold = 1728468438
Set join_collapse_limit = 1739243937
Set maintenance_work_mem = 1626968568
Set max_connections = 1146
Set max_wal_senders = 11
Set shared_buffers = 1799108
Set temp_buffers = 29758981
Set temp_file_limit = 2037288105
Set vacuum_cost_delay = 27
Set vacuum_cost_limit = 7869
Set vacuum_cost_page_dirty = 6028
Set vacuum_cost_page_hit = 5945
Set vacuum_cost_page_miss = 227
Set wal_buffers = 43411
Set wal_writer_delay = 9245
Set work_mem = 459859730
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-33-50.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-33-50.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-33-50.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-33-50.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-33-50.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-33-50.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-33-50.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-33-50.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-33-50.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-33-50.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763728367.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-33-50.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-33-50.metrics.json
Parsed throughput from summary.json: 2871.2336207450103
BenchBase wikipedia throughput: 2871.2336207450103
Configuration: {'autovacuum_analyze_scale_factor': 94.19407987716673, 'autovacuum_analyze_threshold': 2111499432, 'autovacuum_max_workers': 54, 'autovacuum_naptime': 464447, 'autovacuum_vacuum_cost_delay': 39, 'autovacuum_vacuum_cost_limit': 2319, 'autovacuum_vacuum_scale_factor': 0.8120494054080107, 'autovacuum_vacuum_threshold': 501890891, 'backend_flush_after': 66, 'bgwriter_delay': 6165, 'bgwriter_flush_after': 213, 'bgwriter_lru_maxpages': 985, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.6210785140596399, 'checkpoint_flush_after': 11, 'checkpoint_timeout': 3386, 'commit_delay': 75463, 'commit_siblings': 183, 'cursor_tuple_fraction': 0.5533501914403487, 'deadlock_timeout': 113200814, 'default_statistics_target': 3967, 'effective_cache_size': 1291587940, 'effective_io_concurrency': 942, 'from_collapse_limit': 2115091200, 'geqo_effort': 6, 'geqo_generations': 1308271871, 'geqo_pool_size': 441667669, 'geqo_seed': 0.5741571243919609, 'geqo_threshold': 1728468438, 'join_collapse_limit': 1739243937, 'maintenance_work_mem': 1626968568, 'max_connections': 1146, 'max_wal_senders': 11, 'shared_buffers': 1799108, 'temp_buffers': 29758981, 'temp_file_limit': 2037288105, 'vacuum_cost_delay': 27, 'vacuum_cost_limit': 7869, 'vacuum_cost_page_dirty': 6028, 'vacuum_cost_page_hit': 5945, 'vacuum_cost_page_miss': 227, 'wal_buffers': 43411, 'wal_writer_delay': 9245, 'work_mem': 459859730}, QPS: -2871.2336207450103
Performance (QPS): -2871.2336207450103
Evaluating configuration: {'autovacuum_analyze_scale_factor': 54.9417290443561, 'autovacuum_analyze_threshold': 362983589, 'autovacuum_max_workers': 114, 'autovacuum_naptime': 1452799, 'autovacuum_vacuum_cost_delay': 71, 'autovacuum_vacuum_cost_limit': 452, 'autovacuum_vacuum_scale_factor': 80.94150640917505, 'autovacuum_vacuum_threshold': 1992809599, 'backend_flush_after': 34, 'bgwriter_delay': 5604, 'bgwriter_flush_after': 238, 'bgwriter_lru_maxpages': 887, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.20945693854342637, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 234, 'commit_delay': 83860, 'commit_siblings': 227, 'cursor_tuple_fraction': 0.9069585174832414, 'deadlock_timeout': 2134253646, 'default_statistics_target': 7481, 'effective_cache_size': 1791232640, 'effective_io_concurrency': 947, 'from_collapse_limit': 175697784, 'geqo_effort': 6, 'geqo_generations': 276357754, 'geqo_pool_size': 910397171, 'geqo_seed': 0.8206898170572932, 'geqo_threshold': 1616682127, 'join_collapse_limit': 880320448, 'maintenance_work_mem': 385320884, 'max_connections': 982, 'max_wal_senders': 36, 'shared_buffers': 2763486, 'temp_buffers': 789548836, 'temp_file_limit': 120737071, 'vacuum_cost_delay': 81, 'vacuum_cost_limit': 1238, 'vacuum_cost_page_dirty': 4710, 'vacuum_cost_page_hit': 211, 'vacuum_cost_page_miss': 2965, 'wal_buffers': 34343, 'wal_writer_delay': 4172, 'work_mem': 1443514470}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 54.9417290443561
Set autovacuum_analyze_threshold = 362983589
Set autovacuum_max_workers = 114
Set autovacuum_naptime = 1452799
Set autovacuum_vacuum_cost_delay = 71
Set autovacuum_vacuum_cost_limit = 452
Set autovacuum_vacuum_scale_factor = 80.94150640917505
Set autovacuum_vacuum_threshold = 1992809599
Set backend_flush_after = 34
Set bgwriter_delay = 5604
Set bgwriter_flush_after = 238
Set bgwriter_lru_maxpages = 887
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.20945693854342637
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 234
Set commit_delay = 83860
Set commit_siblings = 227
Set cursor_tuple_fraction = 0.9069585174832414
Set deadlock_timeout = 2134253646
Set default_statistics_target = 7481
Set effective_cache_size = 1791232640
Set effective_io_concurrency = 947
Set from_collapse_limit = 175697784
Set geqo_effort = 6
Set geqo_generations = 276357754
Set geqo_pool_size = 910397171
Set geqo_seed = 0.8206898170572932
Set geqo_threshold = 1616682127
Set join_collapse_limit = 880320448
Set maintenance_work_mem = 385320884
Set max_connections = 982
Set max_wal_senders = 36
Set shared_buffers = 2763486
Set temp_buffers = 789548836
Set temp_file_limit = 120737071
Set vacuum_cost_delay = 81
Set vacuum_cost_limit = 1238
Set vacuum_cost_page_dirty = 4710
Set vacuum_cost_page_hit = 211
Set vacuum_cost_page_miss = 2965
Set wal_buffers = 34343
Set wal_writer_delay = 4172
Set work_mem = 1443514470
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-35-29.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-35-29.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-35-29.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-35-29.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763728465.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-35-29.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-35-29.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-35-29.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-35-29.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-35-29.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-35-29.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-35-29.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-35-29.metrics.json
Parsed throughput from summary.json: 2939.386032748662
BenchBase wikipedia throughput: 2939.386032748662
Configuration: {'autovacuum_analyze_scale_factor': 54.9417290443561, 'autovacuum_analyze_threshold': 362983589, 'autovacuum_max_workers': 114, 'autovacuum_naptime': 1452799, 'autovacuum_vacuum_cost_delay': 71, 'autovacuum_vacuum_cost_limit': 452, 'autovacuum_vacuum_scale_factor': 80.94150640917505, 'autovacuum_vacuum_threshold': 1992809599, 'backend_flush_after': 34, 'bgwriter_delay': 5604, 'bgwriter_flush_after': 238, 'bgwriter_lru_maxpages': 887, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.20945693854342637, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 234, 'commit_delay': 83860, 'commit_siblings': 227, 'cursor_tuple_fraction': 0.9069585174832414, 'deadlock_timeout': 2134253646, 'default_statistics_target': 7481, 'effective_cache_size': 1791232640, 'effective_io_concurrency': 947, 'from_collapse_limit': 175697784, 'geqo_effort': 6, 'geqo_generations': 276357754, 'geqo_pool_size': 910397171, 'geqo_seed': 0.8206898170572932, 'geqo_threshold': 1616682127, 'join_collapse_limit': 880320448, 'maintenance_work_mem': 385320884, 'max_connections': 982, 'max_wal_senders': 36, 'shared_buffers': 2763486, 'temp_buffers': 789548836, 'temp_file_limit': 120737071, 'vacuum_cost_delay': 81, 'vacuum_cost_limit': 1238, 'vacuum_cost_page_dirty': 4710, 'vacuum_cost_page_hit': 211, 'vacuum_cost_page_miss': 2965, 'wal_buffers': 34343, 'wal_writer_delay': 4172, 'work_mem': 1443514470}, QPS: -2939.386032748662
Performance (QPS): -2939.386032748662
Evaluating configuration: {'autovacuum_analyze_scale_factor': 53.50185252411881, 'autovacuum_analyze_threshold': 149502320, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 8472, 'autovacuum_vacuum_scale_factor': 25.249027648748555, 'autovacuum_vacuum_threshold': 1916102783, 'backend_flush_after': 121, 'bgwriter_delay': 1476, 'bgwriter_flush_after': 189, 'bgwriter_lru_maxpages': 375, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1463, 'commit_delay': 67320, 'commit_siblings': 101, 'cursor_tuple_fraction': 0.716747454240509, 'deadlock_timeout': 1189961935, 'default_statistics_target': 9270, 'effective_cache_size': 1708186880, 'effective_io_concurrency': 938, 'from_collapse_limit': 1632797165, 'geqo_effort': 5, 'geqo_generations': 26439731, 'geqo_pool_size': 426323744, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 77984198, 'join_collapse_limit': 1186223683, 'maintenance_work_mem': 1515041965, 'max_connections': 1274, 'max_wal_senders': 40, 'shared_buffers': 1589942, 'temp_buffers': 113067345, 'temp_file_limit': 785662288, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 5673, 'vacuum_cost_page_dirty': 4558, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 582, 'wal_buffers': 124192, 'wal_writer_delay': 6540, 'work_mem': 339088906}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 53.50185252411881
Set autovacuum_analyze_threshold = 149502320
Set autovacuum_max_workers = 120
Set autovacuum_naptime = 1638901
Set autovacuum_vacuum_cost_delay = 68
Set autovacuum_vacuum_cost_limit = 8472
Set autovacuum_vacuum_scale_factor = 25.249027648748555
Set autovacuum_vacuum_threshold = 1916102783
Set backend_flush_after = 121
Set bgwriter_delay = 1476
Set bgwriter_flush_after = 189
Set bgwriter_lru_maxpages = 375
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.37640343574207813
Set checkpoint_flush_after = 253
Set checkpoint_timeout = 1463
Set commit_delay = 67320
Set commit_siblings = 101
Set cursor_tuple_fraction = 0.716747454240509
Set deadlock_timeout = 1189961935
Set default_statistics_target = 9270
Set effective_cache_size = 1708186880
Set effective_io_concurrency = 938
Set from_collapse_limit = 1632797165
Set geqo_effort = 5
Set geqo_generations = 26439731
Set geqo_pool_size = 426323744
Set geqo_seed = 0.3350911243891298
Set geqo_threshold = 77984198
Set join_collapse_limit = 1186223683
Set maintenance_work_mem = 1515041965
Set max_connections = 1274
Set max_wal_senders = 40
Set shared_buffers = 1589942
Set temp_buffers = 113067345
Set temp_file_limit = 785662288
Set vacuum_cost_delay = 21
Set vacuum_cost_limit = 5673
Set vacuum_cost_page_dirty = 4558
Set vacuum_cost_page_hit = 4726
Set vacuum_cost_page_miss = 582
Set wal_buffers = 124192
Set wal_writer_delay = 6540
Set work_mem = 339088906
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-37-08.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-37-08.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-37-08.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-37-08.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-37-08.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-37-08.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763728565.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-37-08.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-37-08.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-37-08.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-37-08.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-37-08.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-37-08.params.json
Parsed throughput from summary.json: 3025.032562942802
BenchBase wikipedia throughput: 3025.032562942802
Configuration: {'autovacuum_analyze_scale_factor': 53.50185252411881, 'autovacuum_analyze_threshold': 149502320, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 8472, 'autovacuum_vacuum_scale_factor': 25.249027648748555, 'autovacuum_vacuum_threshold': 1916102783, 'backend_flush_after': 121, 'bgwriter_delay': 1476, 'bgwriter_flush_after': 189, 'bgwriter_lru_maxpages': 375, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1463, 'commit_delay': 67320, 'commit_siblings': 101, 'cursor_tuple_fraction': 0.716747454240509, 'deadlock_timeout': 1189961935, 'default_statistics_target': 9270, 'effective_cache_size': 1708186880, 'effective_io_concurrency': 938, 'from_collapse_limit': 1632797165, 'geqo_effort': 5, 'geqo_generations': 26439731, 'geqo_pool_size': 426323744, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 77984198, 'join_collapse_limit': 1186223683, 'maintenance_work_mem': 1515041965, 'max_connections': 1274, 'max_wal_senders': 40, 'shared_buffers': 1589942, 'temp_buffers': 113067345, 'temp_file_limit': 785662288, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 5673, 'vacuum_cost_page_dirty': 4558, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 582, 'wal_buffers': 124192, 'wal_writer_delay': 6540, 'work_mem': 339088906}, QPS: -3025.032562942802
Performance (QPS): -3025.032562942802
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 918619200, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1380175, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 7967, 'autovacuum_vacuum_scale_factor': 83.68997972065245, 'autovacuum_vacuum_threshold': 2040154111, 'backend_flush_after': 40, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.3856414832202381, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 2284, 'commit_delay': 25582, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.051146583435298335, 'deadlock_timeout': 1344746112, 'default_statistics_target': 3556, 'effective_cache_size': 1465006080, 'effective_io_concurrency': 591, 'from_collapse_limit': 1873072512, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1399648767, 'geqo_seed': 0.4194725809268675, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1594, 'max_wal_senders': 29, 'shared_buffers': 192683, 'temp_buffers': 48804055, 'temp_file_limit': 247308751, 'vacuum_cost_delay': 62, 'vacuum_cost_limit': 2539, 'vacuum_cost_page_dirty': 4211, 'vacuum_cost_page_hit': 7458, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1631945359}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 918619200
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1380175
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 7967
Set autovacuum_vacuum_scale_factor = 83.68997972065245
Set autovacuum_vacuum_threshold = 2040154111
Set backend_flush_after = 40
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.3856414832202381
Set checkpoint_flush_after = 253
Set checkpoint_timeout = 2284
Set commit_delay = 25582
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.051146583435298335
Set deadlock_timeout = 1344746112
Set default_statistics_target = 3556
Set effective_cache_size = 1465006080
Set effective_io_concurrency = 591
Set from_collapse_limit = 1873072512
Set geqo_effort = 4
Set geqo_generations = 159642294
Set geqo_pool_size = 1399648767
Set geqo_seed = 0.4194725809268675
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1594
Set max_wal_senders = 29
Set shared_buffers = 192683
Set temp_buffers = 48804055
Set temp_file_limit = 247308751
Set vacuum_cost_delay = 62
Set vacuum_cost_limit = 2539
Set vacuum_cost_page_dirty = 4211
Set vacuum_cost_page_hit = 7458
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1631945359
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-38-47.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-38-47.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-38-47.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-38-47.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-38-47.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-38-47.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-38-47.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763728664.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-38-47.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-38-47.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-38-47.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-38-47.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-38-47.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 3021.6209322485224
BenchBase wikipedia throughput: 3021.6209322485224
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 918619200, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1380175, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 7967, 'autovacuum_vacuum_scale_factor': 83.68997972065245, 'autovacuum_vacuum_threshold': 2040154111, 'backend_flush_after': 40, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.3856414832202381, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 2284, 'commit_delay': 25582, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.051146583435298335, 'deadlock_timeout': 1344746112, 'default_statistics_target': 3556, 'effective_cache_size': 1465006080, 'effective_io_concurrency': 591, 'from_collapse_limit': 1873072512, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1399648767, 'geqo_seed': 0.4194725809268675, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1594, 'max_wal_senders': 29, 'shared_buffers': 192683, 'temp_buffers': 48804055, 'temp_file_limit': 247308751, 'vacuum_cost_delay': 62, 'vacuum_cost_limit': 2539, 'vacuum_cost_page_dirty': 4211, 'vacuum_cost_page_hit': 7458, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1631945359}, QPS: -3021.6209322485224
Performance (QPS): -3021.6209322485224
Evaluating configuration: {'autovacuum_analyze_scale_factor': 53.50185252411881, 'autovacuum_analyze_threshold': 149502320, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 72, 'autovacuum_vacuum_cost_limit': 8431, 'autovacuum_vacuum_scale_factor': 25.397434185339062, 'autovacuum_vacuum_threshold': 1858250239, 'backend_flush_after': 121, 'bgwriter_delay': 1476, 'bgwriter_flush_after': 189, 'bgwriter_lru_maxpages': 375, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.26407401819300197, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1463, 'commit_delay': 67320, 'commit_siblings': 101, 'cursor_tuple_fraction': 0.8147708641910951, 'deadlock_timeout': 1368070528, 'default_statistics_target': 9270, 'effective_cache_size': 1410837760, 'effective_io_concurrency': 938, 'from_collapse_limit': 1632797165, 'geqo_effort': 2, 'geqo_generations': 26439731, 'geqo_pool_size': 426323744, 'geqo_seed': 0.4067644257446647, 'geqo_threshold': 77984198, 'join_collapse_limit': 1186223683, 'maintenance_work_mem': 1515041965, 'max_connections': 1274, 'max_wal_senders': 40, 'shared_buffers': 1488279, 'temp_buffers': 113067345, 'temp_file_limit': 785662288, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 5673, 'vacuum_cost_page_dirty': 4689, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 308, 'wal_buffers': 124192, 'wal_writer_delay': 6540, 'work_mem': 339088906}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 53.50185252411881
Set autovacuum_analyze_threshold = 149502320
Set autovacuum_max_workers = 120
Set autovacuum_naptime = 1638901
Set autovacuum_vacuum_cost_delay = 72
Set autovacuum_vacuum_cost_limit = 8431
Set autovacuum_vacuum_scale_factor = 25.397434185339062
Set autovacuum_vacuum_threshold = 1858250239
Set backend_flush_after = 121
Set bgwriter_delay = 1476
Set bgwriter_flush_after = 189
Set bgwriter_lru_maxpages = 375
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.26407401819300197
Set checkpoint_flush_after = 253
Set checkpoint_timeout = 1463
Set commit_delay = 67320
Set commit_siblings = 101
Set cursor_tuple_fraction = 0.8147708641910951
Set deadlock_timeout = 1368070528
Set default_statistics_target = 9270
Set effective_cache_size = 1410837760
Set effective_io_concurrency = 938
Set from_collapse_limit = 1632797165
Set geqo_effort = 2
Set geqo_generations = 26439731
Set geqo_pool_size = 426323744
Set geqo_seed = 0.4067644257446647
Set geqo_threshold = 77984198
Set join_collapse_limit = 1186223683
Set maintenance_work_mem = 1515041965
Set max_connections = 1274
Set max_wal_senders = 40
Set shared_buffers = 1488279
Set temp_buffers = 113067345
Set temp_file_limit = 785662288
Set vacuum_cost_delay = 21
Set vacuum_cost_limit = 5673
Set vacuum_cost_page_dirty = 4689
Set vacuum_cost_page_hit = 4726
Set vacuum_cost_page_miss = 308
Set wal_buffers = 124192
Set wal_writer_delay = 6540
Set work_mem = 339088906
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-40-26.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-40-26.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-40-26.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-40-26.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-40-26.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-40-26.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763728763.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-40-26.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-40-26.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-40-26.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-40-26.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-40-26.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-40-26.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 2916.088749201088
BenchBase wikipedia throughput: 2916.088749201088
Configuration: {'autovacuum_analyze_scale_factor': 53.50185252411881, 'autovacuum_analyze_threshold': 149502320, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 72, 'autovacuum_vacuum_cost_limit': 8431, 'autovacuum_vacuum_scale_factor': 25.397434185339062, 'autovacuum_vacuum_threshold': 1858250239, 'backend_flush_after': 121, 'bgwriter_delay': 1476, 'bgwriter_flush_after': 189, 'bgwriter_lru_maxpages': 375, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.26407401819300197, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1463, 'commit_delay': 67320, 'commit_siblings': 101, 'cursor_tuple_fraction': 0.8147708641910951, 'deadlock_timeout': 1368070528, 'default_statistics_target': 9270, 'effective_cache_size': 1410837760, 'effective_io_concurrency': 938, 'from_collapse_limit': 1632797165, 'geqo_effort': 2, 'geqo_generations': 26439731, 'geqo_pool_size': 426323744, 'geqo_seed': 0.4067644257446647, 'geqo_threshold': 77984198, 'join_collapse_limit': 1186223683, 'maintenance_work_mem': 1515041965, 'max_connections': 1274, 'max_wal_senders': 40, 'shared_buffers': 1488279, 'temp_buffers': 113067345, 'temp_file_limit': 785662288, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 5673, 'vacuum_cost_page_dirty': 4689, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 308, 'wal_buffers': 124192, 'wal_writer_delay': 6540, 'work_mem': 339088906}, QPS: -2916.088749201088
Performance (QPS): -2916.088749201088
Evaluating configuration: {'autovacuum_analyze_scale_factor': 53.50185252411881, 'autovacuum_analyze_threshold': 144768672, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 7659, 'autovacuum_vacuum_scale_factor': 25.249027648748555, 'autovacuum_vacuum_threshold': 1916102783, 'backend_flush_after': 121, 'bgwriter_delay': 660, 'bgwriter_flush_after': 189, 'bgwriter_lru_maxpages': 375, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1463, 'commit_delay': 75672, 'commit_siblings': 101, 'cursor_tuple_fraction': 0.6890294859081239, 'deadlock_timeout': 1372354048, 'default_statistics_target': 7970, 'effective_cache_size': 1707371520, 'effective_io_concurrency': 941, 'from_collapse_limit': 1777175680, 'geqo_effort': 5, 'geqo_generations': 26439731, 'geqo_pool_size': 426323744, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 77984198, 'join_collapse_limit': 1186223683, 'maintenance_work_mem': 1515041965, 'max_connections': 1274, 'max_wal_senders': 41, 'shared_buffers': 1730860, 'temp_buffers': 48091579, 'temp_file_limit': 785662288, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 5673, 'vacuum_cost_page_dirty': 4558, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 582, 'wal_buffers': 124192, 'wal_writer_delay': 7172, 'work_mem': 347095925}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 53.50185252411881
Set autovacuum_analyze_threshold = 144768672
Set autovacuum_max_workers = 120
Set autovacuum_naptime = 1638901
Set autovacuum_vacuum_cost_delay = 68
Set autovacuum_vacuum_cost_limit = 7659
Set autovacuum_vacuum_scale_factor = 25.249027648748555
Set autovacuum_vacuum_threshold = 1916102783
Set backend_flush_after = 121
Set bgwriter_delay = 660
Set bgwriter_flush_after = 189
Set bgwriter_lru_maxpages = 375
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.37640343574207813
Set checkpoint_flush_after = 253
Set checkpoint_timeout = 1463
Set commit_delay = 75672
Set commit_siblings = 101
Set cursor_tuple_fraction = 0.6890294859081239
Set deadlock_timeout = 1372354048
Set default_statistics_target = 7970
Set effective_cache_size = 1707371520
Set effective_io_concurrency = 941
Set from_collapse_limit = 1777175680
Set geqo_effort = 5
Set geqo_generations = 26439731
Set geqo_pool_size = 426323744
Set geqo_seed = 0.3350911243891298
Set geqo_threshold = 77984198
Set join_collapse_limit = 1186223683
Set maintenance_work_mem = 1515041965
Set max_connections = 1274
Set max_wal_senders = 41
Set shared_buffers = 1730860
Set temp_buffers = 48091579
Set temp_file_limit = 785662288
Set vacuum_cost_delay = 21
Set vacuum_cost_limit = 5673
Set vacuum_cost_page_dirty = 4558
Set vacuum_cost_page_hit = 4726
Set vacuum_cost_page_miss = 582
Set wal_buffers = 124192
Set wal_writer_delay = 7172
Set work_mem = 347095925
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-42-06.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-42-06.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-42-06.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-42-06.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-42-06.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-42-06.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-42-06.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-42-06.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-42-06.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763728862.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-42-06.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-42-06.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-42-06.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Parsed throughput from summary.json: 2934.571930966231
BenchBase wikipedia throughput: 2934.571930966231
Configuration: {'autovacuum_analyze_scale_factor': 53.50185252411881, 'autovacuum_analyze_threshold': 144768672, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 7659, 'autovacuum_vacuum_scale_factor': 25.249027648748555, 'autovacuum_vacuum_threshold': 1916102783, 'backend_flush_after': 121, 'bgwriter_delay': 660, 'bgwriter_flush_after': 189, 'bgwriter_lru_maxpages': 375, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1463, 'commit_delay': 75672, 'commit_siblings': 101, 'cursor_tuple_fraction': 0.6890294859081239, 'deadlock_timeout': 1372354048, 'default_statistics_target': 7970, 'effective_cache_size': 1707371520, 'effective_io_concurrency': 941, 'from_collapse_limit': 1777175680, 'geqo_effort': 5, 'geqo_generations': 26439731, 'geqo_pool_size': 426323744, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 77984198, 'join_collapse_limit': 1186223683, 'maintenance_work_mem': 1515041965, 'max_connections': 1274, 'max_wal_senders': 41, 'shared_buffers': 1730860, 'temp_buffers': 48091579, 'temp_file_limit': 785662288, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 5673, 'vacuum_cost_page_dirty': 4558, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 582, 'wal_buffers': 124192, 'wal_writer_delay': 7172, 'work_mem': 347095925}, QPS: -2934.571930966231
Performance (QPS): -2934.571930966231
Evaluating configuration: {'autovacuum_analyze_scale_factor': 18.357721771399422, 'autovacuum_analyze_threshold': 1845090047, 'autovacuum_max_workers': 26, 'autovacuum_naptime': 2071224, 'autovacuum_vacuum_cost_delay': 79, 'autovacuum_vacuum_cost_limit': 225, 'autovacuum_vacuum_scale_factor': 12.779466285913207, 'autovacuum_vacuum_threshold': 969489257, 'backend_flush_after': 24, 'bgwriter_delay': 1536, 'bgwriter_flush_after': 86, 'bgwriter_lru_maxpages': 353, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.020550125846047984, 'checkpoint_flush_after': 190, 'checkpoint_timeout': 2244, 'commit_delay': 1604, 'commit_siblings': 357, 'cursor_tuple_fraction': 0.04962900630506522, 'deadlock_timeout': 285251021, 'default_statistics_target': 8531, 'effective_cache_size': 1421707136, 'effective_io_concurrency': 876, 'from_collapse_limit': 2010048561, 'geqo_effort': 4, 'geqo_generations': 1581103106, 'geqo_pool_size': 384821866, 'geqo_seed': 0.6869768954952634, 'geqo_threshold': 1385746573, 'join_collapse_limit': 1282824960, 'maintenance_work_mem': 2126568086, 'max_connections': 2228, 'max_wal_senders': 8, 'shared_buffers': 240771, 'temp_buffers': 93259317, 'temp_file_limit': 110070695, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 4382, 'vacuum_cost_page_dirty': 5766, 'vacuum_cost_page_hit': 5404, 'vacuum_cost_page_miss': 4947, 'wal_buffers': 720, 'wal_writer_delay': 8739, 'work_mem': 1153686045}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 18.357721771399422
Set autovacuum_analyze_threshold = 1845090047
Set autovacuum_max_workers = 26
Set autovacuum_naptime = 2071224
Set autovacuum_vacuum_cost_delay = 79
Set autovacuum_vacuum_cost_limit = 225
Set autovacuum_vacuum_scale_factor = 12.779466285913207
Set autovacuum_vacuum_threshold = 969489257
Set backend_flush_after = 24
Set bgwriter_delay = 1536
Set bgwriter_flush_after = 86
Set bgwriter_lru_maxpages = 353
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.020550125846047984
Set checkpoint_flush_after = 190
Set checkpoint_timeout = 2244
Set commit_delay = 1604
Set commit_siblings = 357
Set cursor_tuple_fraction = 0.04962900630506522
Set deadlock_timeout = 285251021
Set default_statistics_target = 8531
Set effective_cache_size = 1421707136
Set effective_io_concurrency = 876
Set from_collapse_limit = 2010048561
Set geqo_effort = 4
Set geqo_generations = 1581103106
Set geqo_pool_size = 384821866
Set geqo_seed = 0.6869768954952634
Set geqo_threshold = 1385746573
Set join_collapse_limit = 1282824960
Set maintenance_work_mem = 2126568086
Set max_connections = 2228
Set max_wal_senders = 8
Set shared_buffers = 240771
Set temp_buffers = 93259317
Set temp_file_limit = 110070695
Set vacuum_cost_delay = 64
Set vacuum_cost_limit = 4382
Set vacuum_cost_page_dirty = 5766
Set vacuum_cost_page_hit = 5404
Set vacuum_cost_page_miss = 4947
Set wal_buffers = 720
Set wal_writer_delay = 8739
Set work_mem = 1153686045
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-43-45.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-43-45.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-43-45.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-43-45.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-43-45.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-43-45.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-43-45.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-43-45.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-43-45.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-43-45.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763728961.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-43-45.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-43-45.results.RemoveWatchList.csv
Parsed throughput from summary.json: 2752.097276137559
BenchBase wikipedia throughput: 2752.097276137559
Configuration: {'autovacuum_analyze_scale_factor': 18.357721771399422, 'autovacuum_analyze_threshold': 1845090047, 'autovacuum_max_workers': 26, 'autovacuum_naptime': 2071224, 'autovacuum_vacuum_cost_delay': 79, 'autovacuum_vacuum_cost_limit': 225, 'autovacuum_vacuum_scale_factor': 12.779466285913207, 'autovacuum_vacuum_threshold': 969489257, 'backend_flush_after': 24, 'bgwriter_delay': 1536, 'bgwriter_flush_after': 86, 'bgwriter_lru_maxpages': 353, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.020550125846047984, 'checkpoint_flush_after': 190, 'checkpoint_timeout': 2244, 'commit_delay': 1604, 'commit_siblings': 357, 'cursor_tuple_fraction': 0.04962900630506522, 'deadlock_timeout': 285251021, 'default_statistics_target': 8531, 'effective_cache_size': 1421707136, 'effective_io_concurrency': 876, 'from_collapse_limit': 2010048561, 'geqo_effort': 4, 'geqo_generations': 1581103106, 'geqo_pool_size': 384821866, 'geqo_seed': 0.6869768954952634, 'geqo_threshold': 1385746573, 'join_collapse_limit': 1282824960, 'maintenance_work_mem': 2126568086, 'max_connections': 2228, 'max_wal_senders': 8, 'shared_buffers': 240771, 'temp_buffers': 93259317, 'temp_file_limit': 110070695, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 4382, 'vacuum_cost_page_dirty': 5766, 'vacuum_cost_page_hit': 5404, 'vacuum_cost_page_miss': 4947, 'wal_buffers': 720, 'wal_writer_delay': 8739, 'work_mem': 1153686045}, QPS: -2752.097276137559
Performance (QPS): -2752.097276137559
Evaluating configuration: {'autovacuum_analyze_scale_factor': 49.08974598656707, 'autovacuum_analyze_threshold': 1752302719, 'autovacuum_max_workers': 160, 'autovacuum_naptime': 496932, 'autovacuum_vacuum_cost_delay': 37, 'autovacuum_vacuum_cost_limit': 3125, 'autovacuum_vacuum_scale_factor': 2.2775105449530653, 'autovacuum_vacuum_threshold': 1702390282, 'backend_flush_after': 99, 'bgwriter_delay': 8770, 'bgwriter_flush_after': 39, 'bgwriter_lru_maxpages': 761, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.07409106802499021, 'checkpoint_flush_after': 239, 'checkpoint_timeout': 1081, 'commit_delay': 28515, 'commit_siblings': 978, 'cursor_tuple_fraction': 0.815756439942503, 'deadlock_timeout': 1617242741, 'default_statistics_target': 1743, 'effective_cache_size': 1856899121, 'effective_io_concurrency': 685, 'from_collapse_limit': 2032635370, 'geqo_effort': 8, 'geqo_generations': 2112779295, 'geqo_pool_size': 420356413, 'geqo_seed': 0.13697234799690505, 'geqo_threshold': 1412740906, 'join_collapse_limit': 1195422601, 'maintenance_work_mem': 69660672, 'max_connections': 1929, 'max_wal_senders': 37, 'shared_buffers': 3251847, 'temp_buffers': 384181376, 'temp_file_limit': 2016383826, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 6325, 'vacuum_cost_page_dirty': 8971, 'vacuum_cost_page_hit': 8860, 'vacuum_cost_page_miss': 2677, 'wal_buffers': 77952, 'wal_writer_delay': 3992, 'work_mem': 1657955342}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 49.08974598656707
Set autovacuum_analyze_threshold = 1752302719
Set autovacuum_max_workers = 160
Set autovacuum_naptime = 496932
Set autovacuum_vacuum_cost_delay = 37
Set autovacuum_vacuum_cost_limit = 3125
Set autovacuum_vacuum_scale_factor = 2.2775105449530653
Set autovacuum_vacuum_threshold = 1702390282
Set backend_flush_after = 99
Set bgwriter_delay = 8770
Set bgwriter_flush_after = 39
Set bgwriter_lru_maxpages = 761
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.07409106802499021
Set checkpoint_flush_after = 239
Set checkpoint_timeout = 1081
Set commit_delay = 28515
Set commit_siblings = 978
Set cursor_tuple_fraction = 0.815756439942503
Set deadlock_timeout = 1617242741
Set default_statistics_target = 1743
Set effective_cache_size = 1856899121
Set effective_io_concurrency = 685
Set from_collapse_limit = 2032635370
Set geqo_effort = 8
Set geqo_generations = 2112779295
Set geqo_pool_size = 420356413
Set geqo_seed = 0.13697234799690505
Set geqo_threshold = 1412740906
Set join_collapse_limit = 1195422601
Set maintenance_work_mem = 69660672
Set max_connections = 1929
Set max_wal_senders = 37
Set shared_buffers = 3251847
Set temp_buffers = 384181376
Set temp_file_limit = 2016383826
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 6325
Set vacuum_cost_page_dirty = 8971
Set vacuum_cost_page_hit = 8860
Set vacuum_cost_page_miss = 2677
Set wal_buffers = 77952
Set wal_writer_delay = 3992
Set work_mem = 1657955342
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763729061.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-45-23.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-45-23.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-45-23.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-45-23.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-45-23.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-45-23.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-45-23.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-45-23.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-45-23.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-45-23.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-45-23.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-45-23.params.json
Parsed throughput from summary.json: 2775.8637931387325
BenchBase wikipedia throughput: 2775.8637931387325
Configuration: {'autovacuum_analyze_scale_factor': 49.08974598656707, 'autovacuum_analyze_threshold': 1752302719, 'autovacuum_max_workers': 160, 'autovacuum_naptime': 496932, 'autovacuum_vacuum_cost_delay': 37, 'autovacuum_vacuum_cost_limit': 3125, 'autovacuum_vacuum_scale_factor': 2.2775105449530653, 'autovacuum_vacuum_threshold': 1702390282, 'backend_flush_after': 99, 'bgwriter_delay': 8770, 'bgwriter_flush_after': 39, 'bgwriter_lru_maxpages': 761, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.07409106802499021, 'checkpoint_flush_after': 239, 'checkpoint_timeout': 1081, 'commit_delay': 28515, 'commit_siblings': 978, 'cursor_tuple_fraction': 0.815756439942503, 'deadlock_timeout': 1617242741, 'default_statistics_target': 1743, 'effective_cache_size': 1856899121, 'effective_io_concurrency': 685, 'from_collapse_limit': 2032635370, 'geqo_effort': 8, 'geqo_generations': 2112779295, 'geqo_pool_size': 420356413, 'geqo_seed': 0.13697234799690505, 'geqo_threshold': 1412740906, 'join_collapse_limit': 1195422601, 'maintenance_work_mem': 69660672, 'max_connections': 1929, 'max_wal_senders': 37, 'shared_buffers': 3251847, 'temp_buffers': 384181376, 'temp_file_limit': 2016383826, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 6325, 'vacuum_cost_page_dirty': 8971, 'vacuum_cost_page_hit': 8860, 'vacuum_cost_page_miss': 2677, 'wal_buffers': 77952, 'wal_writer_delay': 3992, 'work_mem': 1657955342}, QPS: -2775.8637931387325
Performance (QPS): -2775.8637931387325
Evaluating configuration: {'autovacuum_analyze_scale_factor': 66.68599603537542, 'autovacuum_analyze_threshold': 1184618781, 'autovacuum_max_workers': 118, 'autovacuum_naptime': 1434890, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3748, 'autovacuum_vacuum_scale_factor': 90.28166359272515, 'autovacuum_vacuum_threshold': 1769717897, 'backend_flush_after': 219, 'bgwriter_delay': 1463, 'bgwriter_flush_after': 185, 'bgwriter_lru_maxpages': 217, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.6066469161162696, 'checkpoint_flush_after': 158, 'checkpoint_timeout': 1181, 'commit_delay': 56782, 'commit_siblings': 543, 'cursor_tuple_fraction': 0.39490883806859767, 'deadlock_timeout': 1951004515, 'default_statistics_target': 5307, 'effective_cache_size': 982601524, 'effective_io_concurrency': 224, 'from_collapse_limit': 142798417, 'geqo_effort': 4, 'geqo_generations': 657237348, 'geqo_pool_size': 118181430, 'geqo_seed': 0.3782689395783053, 'geqo_threshold': 1344636163, 'join_collapse_limit': 1938640827, 'maintenance_work_mem': 641122369, 'max_connections': 1529, 'max_wal_senders': 32, 'shared_buffers': 1904186, 'temp_buffers': 262904503, 'temp_file_limit': 274703006, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 3616, 'vacuum_cost_page_dirty': 8757, 'vacuum_cost_page_hit': 8016, 'vacuum_cost_page_miss': 9841, 'wal_buffers': 107241, 'wal_writer_delay': 9010, 'work_mem': 981901456}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 66.68599603537542
Set autovacuum_analyze_threshold = 1184618781
Set autovacuum_max_workers = 118
Set autovacuum_naptime = 1434890
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3748
Set autovacuum_vacuum_scale_factor = 90.28166359272515
Set autovacuum_vacuum_threshold = 1769717897
Set backend_flush_after = 219
Set bgwriter_delay = 1463
Set bgwriter_flush_after = 185
Set bgwriter_lru_maxpages = 217
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.6066469161162696
Set checkpoint_flush_after = 158
Set checkpoint_timeout = 1181
Set commit_delay = 56782
Set commit_siblings = 543
Set cursor_tuple_fraction = 0.39490883806859767
Set deadlock_timeout = 1951004515
Set default_statistics_target = 5307
Set effective_cache_size = 982601524
Set effective_io_concurrency = 224
Set from_collapse_limit = 142798417
Set geqo_effort = 4
Set geqo_generations = 657237348
Set geqo_pool_size = 118181430
Set geqo_seed = 0.3782689395783053
Set geqo_threshold = 1344636163
Set join_collapse_limit = 1938640827
Set maintenance_work_mem = 641122369
Set max_connections = 1529
Set max_wal_senders = 32
Set shared_buffers = 1904186
Set temp_buffers = 262904503
Set temp_file_limit = 274703006
Set vacuum_cost_delay = 48
Set vacuum_cost_limit = 3616
Set vacuum_cost_page_dirty = 8757
Set vacuum_cost_page_hit = 8016
Set vacuum_cost_page_miss = 9841
Set wal_buffers = 107241
Set wal_writer_delay = 9010
Set work_mem = 981901456
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-46-57.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-46-57.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-46-57.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-46-57.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-46-57.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-46-57.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-46-57.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-46-57.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-46-57.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-46-57.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-46-57.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-46-57.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763729154.log
Parsed throughput from summary.json: 3000.3318059070243
BenchBase wikipedia throughput: 3000.3318059070243
Configuration: {'autovacuum_analyze_scale_factor': 66.68599603537542, 'autovacuum_analyze_threshold': 1184618781, 'autovacuum_max_workers': 118, 'autovacuum_naptime': 1434890, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3748, 'autovacuum_vacuum_scale_factor': 90.28166359272515, 'autovacuum_vacuum_threshold': 1769717897, 'backend_flush_after': 219, 'bgwriter_delay': 1463, 'bgwriter_flush_after': 185, 'bgwriter_lru_maxpages': 217, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.6066469161162696, 'checkpoint_flush_after': 158, 'checkpoint_timeout': 1181, 'commit_delay': 56782, 'commit_siblings': 543, 'cursor_tuple_fraction': 0.39490883806859767, 'deadlock_timeout': 1951004515, 'default_statistics_target': 5307, 'effective_cache_size': 982601524, 'effective_io_concurrency': 224, 'from_collapse_limit': 142798417, 'geqo_effort': 4, 'geqo_generations': 657237348, 'geqo_pool_size': 118181430, 'geqo_seed': 0.3782689395783053, 'geqo_threshold': 1344636163, 'join_collapse_limit': 1938640827, 'maintenance_work_mem': 641122369, 'max_connections': 1529, 'max_wal_senders': 32, 'shared_buffers': 1904186, 'temp_buffers': 262904503, 'temp_file_limit': 274703006, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 3616, 'vacuum_cost_page_dirty': 8757, 'vacuum_cost_page_hit': 8016, 'vacuum_cost_page_miss': 9841, 'wal_buffers': 107241, 'wal_writer_delay': 9010, 'work_mem': 981901456}, QPS: -3000.3318059070243
Performance (QPS): -3000.3318059070243
Evaluating configuration: {'autovacuum_analyze_scale_factor': 52.57018666501389, 'autovacuum_analyze_threshold': 1487178136, 'autovacuum_max_workers': 4, 'autovacuum_naptime': 2110278, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 4638, 'autovacuum_vacuum_scale_factor': 7.810235723330205, 'autovacuum_vacuum_threshold': 2019788578, 'backend_flush_after': 49, 'bgwriter_delay': 2172, 'bgwriter_flush_after': 51, 'bgwriter_lru_maxpages': 172, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.38504875304076513, 'checkpoint_flush_after': 255, 'checkpoint_timeout': 2545, 'commit_delay': 80137, 'commit_siblings': 333, 'cursor_tuple_fraction': 0.5009702945758974, 'deadlock_timeout': 905765845, 'default_statistics_target': 1974, 'effective_cache_size': 405820879, 'effective_io_concurrency': 37, 'from_collapse_limit': 1123764781, 'geqo_effort': 8, 'geqo_generations': 1204007812, 'geqo_pool_size': 1663796447, 'geqo_seed': 0.5238071620016046, 'geqo_threshold': 32675208, 'join_collapse_limit': 1802897233, 'maintenance_work_mem': 1519369379, 'max_connections': 1655, 'max_wal_senders': 43, 'shared_buffers': 2964074, 'temp_buffers': 788729338, 'temp_file_limit': 1893730853, 'vacuum_cost_delay': 22, 'vacuum_cost_limit': 4628, 'vacuum_cost_page_dirty': 2791, 'vacuum_cost_page_hit': 9473, 'vacuum_cost_page_miss': 330, 'wal_buffers': 93785, 'wal_writer_delay': 6775, 'work_mem': 889767768}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 52.57018666501389
Set autovacuum_analyze_threshold = 1487178136
Set autovacuum_max_workers = 4
Set autovacuum_naptime = 2110278
Set autovacuum_vacuum_cost_delay = 22
Set autovacuum_vacuum_cost_limit = 4638
Set autovacuum_vacuum_scale_factor = 7.810235723330205
Set autovacuum_vacuum_threshold = 2019788578
Set backend_flush_after = 49
Set bgwriter_delay = 2172
Set bgwriter_flush_after = 51
Set bgwriter_lru_maxpages = 172
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.38504875304076513
Set checkpoint_flush_after = 255
Set checkpoint_timeout = 2545
Set commit_delay = 80137
Set commit_siblings = 333
Set cursor_tuple_fraction = 0.5009702945758974
Set deadlock_timeout = 905765845
Set default_statistics_target = 1974
Set effective_cache_size = 405820879
Set effective_io_concurrency = 37
Set from_collapse_limit = 1123764781
Set geqo_effort = 8
Set geqo_generations = 1204007812
Set geqo_pool_size = 1663796447
Set geqo_seed = 0.5238071620016046
Set geqo_threshold = 32675208
Set join_collapse_limit = 1802897233
Set maintenance_work_mem = 1519369379
Set max_connections = 1655
Set max_wal_senders = 43
Set shared_buffers = 2964074
Set temp_buffers = 788729338
Set temp_file_limit = 1893730853
Set vacuum_cost_delay = 22
Set vacuum_cost_limit = 4628
Set vacuum_cost_page_dirty = 2791
Set vacuum_cost_page_hit = 9473
Set vacuum_cost_page_miss = 330
Set wal_buffers = 93785
Set wal_writer_delay = 6775
Set work_mem = 889767768
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-48-32.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-48-32.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-48-32.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-48-32.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-48-32.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-48-32.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763729249.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-48-32.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-48-32.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-48-32.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-48-32.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-48-32.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-48-32.results.UpdatePage.csv
Parsed throughput from summary.json: 2832.755063826109
BenchBase wikipedia throughput: 2832.755063826109
Configuration: {'autovacuum_analyze_scale_factor': 52.57018666501389, 'autovacuum_analyze_threshold': 1487178136, 'autovacuum_max_workers': 4, 'autovacuum_naptime': 2110278, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 4638, 'autovacuum_vacuum_scale_factor': 7.810235723330205, 'autovacuum_vacuum_threshold': 2019788578, 'backend_flush_after': 49, 'bgwriter_delay': 2172, 'bgwriter_flush_after': 51, 'bgwriter_lru_maxpages': 172, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.38504875304076513, 'checkpoint_flush_after': 255, 'checkpoint_timeout': 2545, 'commit_delay': 80137, 'commit_siblings': 333, 'cursor_tuple_fraction': 0.5009702945758974, 'deadlock_timeout': 905765845, 'default_statistics_target': 1974, 'effective_cache_size': 405820879, 'effective_io_concurrency': 37, 'from_collapse_limit': 1123764781, 'geqo_effort': 8, 'geqo_generations': 1204007812, 'geqo_pool_size': 1663796447, 'geqo_seed': 0.5238071620016046, 'geqo_threshold': 32675208, 'join_collapse_limit': 1802897233, 'maintenance_work_mem': 1519369379, 'max_connections': 1655, 'max_wal_senders': 43, 'shared_buffers': 2964074, 'temp_buffers': 788729338, 'temp_file_limit': 1893730853, 'vacuum_cost_delay': 22, 'vacuum_cost_limit': 4628, 'vacuum_cost_page_dirty': 2791, 'vacuum_cost_page_hit': 9473, 'vacuum_cost_page_miss': 330, 'wal_buffers': 93785, 'wal_writer_delay': 6775, 'work_mem': 889767768}, QPS: -2832.755063826109
Performance (QPS): -2832.755063826109
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.0317015611564, 'autovacuum_analyze_threshold': 949903918, 'autovacuum_max_workers': 53, 'autovacuum_naptime': 1828246, 'autovacuum_vacuum_cost_delay': 69, 'autovacuum_vacuum_cost_limit': 6635, 'autovacuum_vacuum_scale_factor': 86.48601635344988, 'autovacuum_vacuum_threshold': 1539966175, 'backend_flush_after': 96, 'bgwriter_delay': 9318, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 250, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.5532048515756245, 'checkpoint_flush_after': 193, 'checkpoint_timeout': 574, 'commit_delay': 15351, 'commit_siblings': 778, 'cursor_tuple_fraction': 0.17030039259477403, 'deadlock_timeout': 1385799846, 'default_statistics_target': 1677, 'effective_cache_size': 1272710238, 'effective_io_concurrency': 715, 'from_collapse_limit': 2025327638, 'geqo_effort': 10, 'geqo_generations': 1825258607, 'geqo_pool_size': 1484998754, 'geqo_seed': 0.4358704999712748, 'geqo_threshold': 392888719, 'join_collapse_limit': 2047196220, 'maintenance_work_mem': 1082209630, 'max_connections': 210, 'max_wal_senders': 39, 'shared_buffers': 3541399, 'temp_buffers': 478350434, 'temp_file_limit': 1701296108, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 2296, 'vacuum_cost_page_dirty': 6342, 'vacuum_cost_page_hit': 2433, 'vacuum_cost_page_miss': 4505, 'wal_buffers': 35582, 'wal_writer_delay': 7328, 'work_mem': 393609653}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.0317015611564
Set autovacuum_analyze_threshold = 949903918
Set autovacuum_max_workers = 53
Set autovacuum_naptime = 1828246
Set autovacuum_vacuum_cost_delay = 69
Set autovacuum_vacuum_cost_limit = 6635
Set autovacuum_vacuum_scale_factor = 86.48601635344988
Set autovacuum_vacuum_threshold = 1539966175
Set backend_flush_after = 96
Set bgwriter_delay = 9318
Set bgwriter_flush_after = 26
Set bgwriter_lru_maxpages = 250
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.5532048515756245
Set checkpoint_flush_after = 193
Set checkpoint_timeout = 574
Set commit_delay = 15351
Set commit_siblings = 778
Set cursor_tuple_fraction = 0.17030039259477403
Set deadlock_timeout = 1385799846
Set default_statistics_target = 1677
Set effective_cache_size = 1272710238
Set effective_io_concurrency = 715
Set from_collapse_limit = 2025327638
Set geqo_effort = 10
Set geqo_generations = 1825258607
Set geqo_pool_size = 1484998754
Set geqo_seed = 0.4358704999712748
Set geqo_threshold = 392888719
Set join_collapse_limit = 2047196220
Set maintenance_work_mem = 1082209630
Set max_connections = 210
Set max_wal_senders = 39
Set shared_buffers = 3541399
Set temp_buffers = 478350434
Set temp_file_limit = 1701296108
Set vacuum_cost_delay = 60
Set vacuum_cost_limit = 2296
Set vacuum_cost_page_dirty = 6342
Set vacuum_cost_page_hit = 2433
Set vacuum_cost_page_miss = 4505
Set wal_buffers = 35582
Set wal_writer_delay = 7328
Set work_mem = 393609653
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-50-06.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-50-06.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-50-06.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-50-06.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-50-06.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-50-06.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-50-06.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-50-06.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-50-06.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-50-06.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-50-06.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-50-06.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763729343.log
Parsed throughput from summary.json: 2992.81050598663
BenchBase wikipedia throughput: 2992.81050598663
Configuration: {'autovacuum_analyze_scale_factor': 82.0317015611564, 'autovacuum_analyze_threshold': 949903918, 'autovacuum_max_workers': 53, 'autovacuum_naptime': 1828246, 'autovacuum_vacuum_cost_delay': 69, 'autovacuum_vacuum_cost_limit': 6635, 'autovacuum_vacuum_scale_factor': 86.48601635344988, 'autovacuum_vacuum_threshold': 1539966175, 'backend_flush_after': 96, 'bgwriter_delay': 9318, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 250, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.5532048515756245, 'checkpoint_flush_after': 193, 'checkpoint_timeout': 574, 'commit_delay': 15351, 'commit_siblings': 778, 'cursor_tuple_fraction': 0.17030039259477403, 'deadlock_timeout': 1385799846, 'default_statistics_target': 1677, 'effective_cache_size': 1272710238, 'effective_io_concurrency': 715, 'from_collapse_limit': 2025327638, 'geqo_effort': 10, 'geqo_generations': 1825258607, 'geqo_pool_size': 1484998754, 'geqo_seed': 0.4358704999712748, 'geqo_threshold': 392888719, 'join_collapse_limit': 2047196220, 'maintenance_work_mem': 1082209630, 'max_connections': 210, 'max_wal_senders': 39, 'shared_buffers': 3541399, 'temp_buffers': 478350434, 'temp_file_limit': 1701296108, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 2296, 'vacuum_cost_page_dirty': 6342, 'vacuum_cost_page_hit': 2433, 'vacuum_cost_page_miss': 4505, 'wal_buffers': 35582, 'wal_writer_delay': 7328, 'work_mem': 393609653}, QPS: -2992.81050598663
Performance (QPS): -2992.81050598663
Evaluating configuration: {'autovacuum_analyze_scale_factor': 99.38486852044772, 'autovacuum_analyze_threshold': 601168843, 'autovacuum_max_workers': 124, 'autovacuum_naptime': 204120, 'autovacuum_vacuum_cost_delay': 99, 'autovacuum_vacuum_cost_limit': 8120, 'autovacuum_vacuum_scale_factor': 90.5996227937082, 'autovacuum_vacuum_threshold': 1107537151, 'backend_flush_after': 160, 'bgwriter_delay': 7801, 'bgwriter_flush_after': 200, 'bgwriter_lru_maxpages': 534, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.5387435847038097, 'checkpoint_flush_after': 42, 'checkpoint_timeout': 3417, 'commit_delay': 15436, 'commit_siblings': 972, 'cursor_tuple_fraction': 0.593367144072287, 'deadlock_timeout': 1506502187, 'default_statistics_target': 7898, 'effective_cache_size': 983699200, 'effective_io_concurrency': 210, 'from_collapse_limit': 552889315, 'geqo_effort': 4, 'geqo_generations': 931777513, 'geqo_pool_size': 1800299513, 'geqo_seed': 0.11582659802207973, 'geqo_threshold': 336454113, 'join_collapse_limit': 45112944, 'maintenance_work_mem': 1078624881, 'max_connections': 2560, 'max_wal_senders': 19, 'shared_buffers': 3877987, 'temp_buffers': 237367648, 'temp_file_limit': 1106704059, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 272, 'vacuum_cost_page_dirty': 6587, 'vacuum_cost_page_hit': 7283, 'vacuum_cost_page_miss': 9489, 'wal_buffers': 4513, 'wal_writer_delay': 8760, 'work_mem': 17232156}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 99.38486852044772
Set autovacuum_analyze_threshold = 601168843
Set autovacuum_max_workers = 124
Set autovacuum_naptime = 204120
Set autovacuum_vacuum_cost_delay = 99
Set autovacuum_vacuum_cost_limit = 8120
Set autovacuum_vacuum_scale_factor = 90.5996227937082
Set autovacuum_vacuum_threshold = 1107537151
Set backend_flush_after = 160
Set bgwriter_delay = 7801
Set bgwriter_flush_after = 200
Set bgwriter_lru_maxpages = 534
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.5387435847038097
Set checkpoint_flush_after = 42
Set checkpoint_timeout = 3417
Set commit_delay = 15436
Set commit_siblings = 972
Set cursor_tuple_fraction = 0.593367144072287
Set deadlock_timeout = 1506502187
Set default_statistics_target = 7898
Set effective_cache_size = 983699200
Set effective_io_concurrency = 210
Set from_collapse_limit = 552889315
Set geqo_effort = 4
Set geqo_generations = 931777513
Set geqo_pool_size = 1800299513
Set geqo_seed = 0.11582659802207973
Set geqo_threshold = 336454113
Set join_collapse_limit = 45112944
Set maintenance_work_mem = 1078624881
Set max_connections = 2560
Set max_wal_senders = 19
Set shared_buffers = 3877987
Set temp_buffers = 237367648
Set temp_file_limit = 1106704059
Set vacuum_cost_delay = 59
Set vacuum_cost_limit = 272
Set vacuum_cost_page_dirty = 6587
Set vacuum_cost_page_hit = 7283
Set vacuum_cost_page_miss = 9489
Set wal_buffers = 4513
Set wal_writer_delay = 8760
Set work_mem = 17232156
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-51-45.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-51-45.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763729442.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-51-45.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-51-45.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-51-45.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-51-45.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-51-45.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-51-45.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-51-45.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-51-45.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-51-45.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-51-45.raw.csv
Parsed throughput from summary.json: 2862.4128591458248
BenchBase wikipedia throughput: 2862.4128591458248
Configuration: {'autovacuum_analyze_scale_factor': 99.38486852044772, 'autovacuum_analyze_threshold': 601168843, 'autovacuum_max_workers': 124, 'autovacuum_naptime': 204120, 'autovacuum_vacuum_cost_delay': 99, 'autovacuum_vacuum_cost_limit': 8120, 'autovacuum_vacuum_scale_factor': 90.5996227937082, 'autovacuum_vacuum_threshold': 1107537151, 'backend_flush_after': 160, 'bgwriter_delay': 7801, 'bgwriter_flush_after': 200, 'bgwriter_lru_maxpages': 534, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.5387435847038097, 'checkpoint_flush_after': 42, 'checkpoint_timeout': 3417, 'commit_delay': 15436, 'commit_siblings': 972, 'cursor_tuple_fraction': 0.593367144072287, 'deadlock_timeout': 1506502187, 'default_statistics_target': 7898, 'effective_cache_size': 983699200, 'effective_io_concurrency': 210, 'from_collapse_limit': 552889315, 'geqo_effort': 4, 'geqo_generations': 931777513, 'geqo_pool_size': 1800299513, 'geqo_seed': 0.11582659802207973, 'geqo_threshold': 336454113, 'join_collapse_limit': 45112944, 'maintenance_work_mem': 1078624881, 'max_connections': 2560, 'max_wal_senders': 19, 'shared_buffers': 3877987, 'temp_buffers': 237367648, 'temp_file_limit': 1106704059, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 272, 'vacuum_cost_page_dirty': 6587, 'vacuum_cost_page_hit': 7283, 'vacuum_cost_page_miss': 9489, 'wal_buffers': 4513, 'wal_writer_delay': 8760, 'work_mem': 17232156}, QPS: -2862.4128591458248
Performance (QPS): -2862.4128591458248
Evaluating configuration: {'autovacuum_analyze_scale_factor': 4.034890451156315, 'autovacuum_analyze_threshold': 400408840, 'autovacuum_max_workers': 28, 'autovacuum_naptime': 1914922, 'autovacuum_vacuum_cost_delay': 79, 'autovacuum_vacuum_cost_limit': 7281, 'autovacuum_vacuum_scale_factor': 72.84772618051359, 'autovacuum_vacuum_threshold': 1972533173, 'backend_flush_after': 119, 'bgwriter_delay': 6878, 'bgwriter_flush_after': 122, 'bgwriter_lru_maxpages': 871, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.6564859186723512, 'checkpoint_flush_after': 126, 'checkpoint_timeout': 1747, 'commit_delay': 13898, 'commit_siblings': 451, 'cursor_tuple_fraction': 0.03283095528777569, 'deadlock_timeout': 1325150361, 'default_statistics_target': 8893, 'effective_cache_size': 1352121405, 'effective_io_concurrency': 952, 'from_collapse_limit': 583486684, 'geqo_effort': 4, 'geqo_generations': 1774338542, 'geqo_pool_size': 1465187227, 'geqo_seed': 0.09862385326773415, 'geqo_threshold': 417299128, 'join_collapse_limit': 929933616, 'maintenance_work_mem': 176199565, 'max_connections': 1447, 'max_wal_senders': 5, 'shared_buffers': 2099926, 'temp_buffers': 410391830, 'temp_file_limit': 633496821, 'vacuum_cost_delay': 53, 'vacuum_cost_limit': 5628, 'vacuum_cost_page_dirty': 4627, 'vacuum_cost_page_hit': 2037, 'vacuum_cost_page_miss': 7551, 'wal_buffers': 5367, 'wal_writer_delay': 9914, 'work_mem': 251391800}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 4.034890451156315
Set autovacuum_analyze_threshold = 400408840
Set autovacuum_max_workers = 28
Set autovacuum_naptime = 1914922
Set autovacuum_vacuum_cost_delay = 79
Set autovacuum_vacuum_cost_limit = 7281
Set autovacuum_vacuum_scale_factor = 72.84772618051359
Set autovacuum_vacuum_threshold = 1972533173
Set backend_flush_after = 119
Set bgwriter_delay = 6878
Set bgwriter_flush_after = 122
Set bgwriter_lru_maxpages = 871
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.6564859186723512
Set checkpoint_flush_after = 126
Set checkpoint_timeout = 1747
Set commit_delay = 13898
Set commit_siblings = 451
Set cursor_tuple_fraction = 0.03283095528777569
Set deadlock_timeout = 1325150361
Set default_statistics_target = 8893
Set effective_cache_size = 1352121405
Set effective_io_concurrency = 952
Set from_collapse_limit = 583486684
Set geqo_effort = 4
Set geqo_generations = 1774338542
Set geqo_pool_size = 1465187227
Set geqo_seed = 0.09862385326773415
Set geqo_threshold = 417299128
Set join_collapse_limit = 929933616
Set maintenance_work_mem = 176199565
Set max_connections = 1447
Set max_wal_senders = 5
Set shared_buffers = 2099926
Set temp_buffers = 410391830
Set temp_file_limit = 633496821
Set vacuum_cost_delay = 53
Set vacuum_cost_limit = 5628
Set vacuum_cost_page_dirty = 4627
Set vacuum_cost_page_hit = 2037
Set vacuum_cost_page_miss = 7551
Set wal_buffers = 5367
Set wal_writer_delay = 9914
Set work_mem = 251391800
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763729541.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-53-25.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-53-25.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-53-25.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-53-25.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-53-25.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-53-25.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-53-25.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-53-25.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-53-25.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-53-25.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-53-25.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-53-25.results.csv
Parsed throughput from summary.json: 2866.9076011491165
BenchBase wikipedia throughput: 2866.9076011491165
Configuration: {'autovacuum_analyze_scale_factor': 4.034890451156315, 'autovacuum_analyze_threshold': 400408840, 'autovacuum_max_workers': 28, 'autovacuum_naptime': 1914922, 'autovacuum_vacuum_cost_delay': 79, 'autovacuum_vacuum_cost_limit': 7281, 'autovacuum_vacuum_scale_factor': 72.84772618051359, 'autovacuum_vacuum_threshold': 1972533173, 'backend_flush_after': 119, 'bgwriter_delay': 6878, 'bgwriter_flush_after': 122, 'bgwriter_lru_maxpages': 871, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.6564859186723512, 'checkpoint_flush_after': 126, 'checkpoint_timeout': 1747, 'commit_delay': 13898, 'commit_siblings': 451, 'cursor_tuple_fraction': 0.03283095528777569, 'deadlock_timeout': 1325150361, 'default_statistics_target': 8893, 'effective_cache_size': 1352121405, 'effective_io_concurrency': 952, 'from_collapse_limit': 583486684, 'geqo_effort': 4, 'geqo_generations': 1774338542, 'geqo_pool_size': 1465187227, 'geqo_seed': 0.09862385326773415, 'geqo_threshold': 417299128, 'join_collapse_limit': 929933616, 'maintenance_work_mem': 176199565, 'max_connections': 1447, 'max_wal_senders': 5, 'shared_buffers': 2099926, 'temp_buffers': 410391830, 'temp_file_limit': 633496821, 'vacuum_cost_delay': 53, 'vacuum_cost_limit': 5628, 'vacuum_cost_page_dirty': 4627, 'vacuum_cost_page_hit': 2037, 'vacuum_cost_page_miss': 7551, 'wal_buffers': 5367, 'wal_writer_delay': 9914, 'work_mem': 251391800}, QPS: -2866.9076011491165
Performance (QPS): -2866.9076011491165
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.924628319660556, 'autovacuum_analyze_threshold': 403696928, 'autovacuum_max_workers': 57, 'autovacuum_naptime': 1081767, 'autovacuum_vacuum_cost_delay': 90, 'autovacuum_vacuum_cost_limit': 3360, 'autovacuum_vacuum_scale_factor': 15.73298305196137, 'autovacuum_vacuum_threshold': 1082487865, 'backend_flush_after': 111, 'bgwriter_delay': 2222, 'bgwriter_flush_after': 205, 'bgwriter_lru_maxpages': 720, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.380563865041319, 'checkpoint_flush_after': 252, 'checkpoint_timeout': 939, 'commit_delay': 37462, 'commit_siblings': 891, 'cursor_tuple_fraction': 0.944082211123282, 'deadlock_timeout': 1487077044, 'default_statistics_target': 9474, 'effective_cache_size': 752022428, 'effective_io_concurrency': 642, 'from_collapse_limit': 1722855168, 'geqo_effort': 2, 'geqo_generations': 1180355495, 'geqo_pool_size': 141873504, 'geqo_seed': 0.9124913708422334, 'geqo_threshold': 1759181686, 'join_collapse_limit': 76442528, 'maintenance_work_mem': 1305616766, 'max_connections': 2794, 'max_wal_senders': 47, 'shared_buffers': 3093098, 'temp_buffers': 322938072, 'temp_file_limit': 18228536, 'vacuum_cost_delay': 31, 'vacuum_cost_limit': 3331, 'vacuum_cost_page_dirty': 9001, 'vacuum_cost_page_hit': 6182, 'vacuum_cost_page_miss': 248, 'wal_buffers': 45136, 'wal_writer_delay': 5756, 'work_mem': 1676800142}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.924628319660556
Set autovacuum_analyze_threshold = 403696928
Set autovacuum_max_workers = 57
Set autovacuum_naptime = 1081767
Set autovacuum_vacuum_cost_delay = 90
Set autovacuum_vacuum_cost_limit = 3360
Set autovacuum_vacuum_scale_factor = 15.73298305196137
Set autovacuum_vacuum_threshold = 1082487865
Set backend_flush_after = 111
Set bgwriter_delay = 2222
Set bgwriter_flush_after = 205
Set bgwriter_lru_maxpages = 720
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.380563865041319
Set checkpoint_flush_after = 252
Set checkpoint_timeout = 939
Set commit_delay = 37462
Set commit_siblings = 891
Set cursor_tuple_fraction = 0.944082211123282
Set deadlock_timeout = 1487077044
Set default_statistics_target = 9474
Set effective_cache_size = 752022428
Set effective_io_concurrency = 642
Set from_collapse_limit = 1722855168
Set geqo_effort = 2
Set geqo_generations = 1180355495
Set geqo_pool_size = 141873504
Set geqo_seed = 0.9124913708422334
Set geqo_threshold = 1759181686
Set join_collapse_limit = 76442528
Set maintenance_work_mem = 1305616766
Set max_connections = 2794
Set max_wal_senders = 47
Set shared_buffers = 3093098
Set temp_buffers = 322938072
Set temp_file_limit = 18228536
Set vacuum_cost_delay = 31
Set vacuum_cost_limit = 3331
Set vacuum_cost_page_dirty = 9001
Set vacuum_cost_page_hit = 6182
Set vacuum_cost_page_miss = 248
Set wal_buffers = 45136
Set wal_writer_delay = 5756
Set work_mem = 1676800142
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763729641.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-55-05.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-55-05.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-55-05.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-55-05.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-55-05.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-55-05.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-55-05.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-55-05.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-55-05.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-55-05.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-55-05.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-55-05.results.RemoveWatchList.csv
Parsed throughput from summary.json: 2869.442958065773
BenchBase wikipedia throughput: 2869.442958065773
Configuration: {'autovacuum_analyze_scale_factor': 32.924628319660556, 'autovacuum_analyze_threshold': 403696928, 'autovacuum_max_workers': 57, 'autovacuum_naptime': 1081767, 'autovacuum_vacuum_cost_delay': 90, 'autovacuum_vacuum_cost_limit': 3360, 'autovacuum_vacuum_scale_factor': 15.73298305196137, 'autovacuum_vacuum_threshold': 1082487865, 'backend_flush_after': 111, 'bgwriter_delay': 2222, 'bgwriter_flush_after': 205, 'bgwriter_lru_maxpages': 720, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.380563865041319, 'checkpoint_flush_after': 252, 'checkpoint_timeout': 939, 'commit_delay': 37462, 'commit_siblings': 891, 'cursor_tuple_fraction': 0.944082211123282, 'deadlock_timeout': 1487077044, 'default_statistics_target': 9474, 'effective_cache_size': 752022428, 'effective_io_concurrency': 642, 'from_collapse_limit': 1722855168, 'geqo_effort': 2, 'geqo_generations': 1180355495, 'geqo_pool_size': 141873504, 'geqo_seed': 0.9124913708422334, 'geqo_threshold': 1759181686, 'join_collapse_limit': 76442528, 'maintenance_work_mem': 1305616766, 'max_connections': 2794, 'max_wal_senders': 47, 'shared_buffers': 3093098, 'temp_buffers': 322938072, 'temp_file_limit': 18228536, 'vacuum_cost_delay': 31, 'vacuum_cost_limit': 3331, 'vacuum_cost_page_dirty': 9001, 'vacuum_cost_page_hit': 6182, 'vacuum_cost_page_miss': 248, 'wal_buffers': 45136, 'wal_writer_delay': 5756, 'work_mem': 1676800142}, QPS: -2869.442958065773
Performance (QPS): -2869.442958065773
Evaluating configuration: {'autovacuum_analyze_scale_factor': 0.09966295418396554, 'autovacuum_analyze_threshold': 1660123015, 'autovacuum_max_workers': 150, 'autovacuum_naptime': 2025615, 'autovacuum_vacuum_cost_delay': 16, 'autovacuum_vacuum_cost_limit': 5037, 'autovacuum_vacuum_scale_factor': 58.19894811012459, 'autovacuum_vacuum_threshold': 913301520, 'backend_flush_after': 227, 'bgwriter_delay': 6525, 'bgwriter_flush_after': 226, 'bgwriter_lru_maxpages': 302, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.14527991111402383, 'checkpoint_flush_after': 203, 'checkpoint_timeout': 647, 'commit_delay': 72986, 'commit_siblings': 667, 'cursor_tuple_fraction': 0.4633329373906514, 'deadlock_timeout': 783758336, 'default_statistics_target': 8770, 'effective_cache_size': 1856874666, 'effective_io_concurrency': 961, 'from_collapse_limit': 7174582, 'geqo_effort': 10, 'geqo_generations': 760093340, 'geqo_pool_size': 2123449336, 'geqo_seed': 0.03395407269892958, 'geqo_threshold': 1066510701, 'join_collapse_limit': 1381501952, 'maintenance_work_mem': 422545261, 'max_connections': 191, 'max_wal_senders': 40, 'shared_buffers': 214793, 'temp_buffers': 845136706, 'temp_file_limit': 1338456522, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 764, 'vacuum_cost_page_dirty': 5655, 'vacuum_cost_page_hit': 151, 'vacuum_cost_page_miss': 8903, 'wal_buffers': 75582, 'wal_writer_delay': 9940, 'work_mem': 1260003354}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 0.09966295418396554
Set autovacuum_analyze_threshold = 1660123015
Set autovacuum_max_workers = 150
Set autovacuum_naptime = 2025615
Set autovacuum_vacuum_cost_delay = 16
Set autovacuum_vacuum_cost_limit = 5037
Set autovacuum_vacuum_scale_factor = 58.19894811012459
Set autovacuum_vacuum_threshold = 913301520
Set backend_flush_after = 227
Set bgwriter_delay = 6525
Set bgwriter_flush_after = 226
Set bgwriter_lru_maxpages = 302
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.14527991111402383
Set checkpoint_flush_after = 203
Set checkpoint_timeout = 647
Set commit_delay = 72986
Set commit_siblings = 667
Set cursor_tuple_fraction = 0.4633329373906514
Set deadlock_timeout = 783758336
Set default_statistics_target = 8770
Set effective_cache_size = 1856874666
Set effective_io_concurrency = 961
Set from_collapse_limit = 7174582
Set geqo_effort = 10
Set geqo_generations = 760093340
Set geqo_pool_size = 2123449336
Set geqo_seed = 0.03395407269892958
Set geqo_threshold = 1066510701
Set join_collapse_limit = 1381501952
Set maintenance_work_mem = 422545261
Set max_connections = 191
Set max_wal_senders = 40
Set shared_buffers = 214793
Set temp_buffers = 845136706
Set temp_file_limit = 1338456522
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 764
Set vacuum_cost_page_dirty = 5655
Set vacuum_cost_page_hit = 151
Set vacuum_cost_page_miss = 8903
Set wal_buffers = 75582
Set wal_writer_delay = 9940
Set work_mem = 1260003354
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763729741.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-56-44.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-56-44.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-56-44.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-56-44.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-56-44.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-56-44.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-56-44.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-56-44.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-56-44.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-56-44.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-56-44.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-56-44.samples.csv
Parsed throughput from summary.json: 3005.0468924768334
BenchBase wikipedia throughput: 3005.0468924768334
Configuration: {'autovacuum_analyze_scale_factor': 0.09966295418396554, 'autovacuum_analyze_threshold': 1660123015, 'autovacuum_max_workers': 150, 'autovacuum_naptime': 2025615, 'autovacuum_vacuum_cost_delay': 16, 'autovacuum_vacuum_cost_limit': 5037, 'autovacuum_vacuum_scale_factor': 58.19894811012459, 'autovacuum_vacuum_threshold': 913301520, 'backend_flush_after': 227, 'bgwriter_delay': 6525, 'bgwriter_flush_after': 226, 'bgwriter_lru_maxpages': 302, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.14527991111402383, 'checkpoint_flush_after': 203, 'checkpoint_timeout': 647, 'commit_delay': 72986, 'commit_siblings': 667, 'cursor_tuple_fraction': 0.4633329373906514, 'deadlock_timeout': 783758336, 'default_statistics_target': 8770, 'effective_cache_size': 1856874666, 'effective_io_concurrency': 961, 'from_collapse_limit': 7174582, 'geqo_effort': 10, 'geqo_generations': 760093340, 'geqo_pool_size': 2123449336, 'geqo_seed': 0.03395407269892958, 'geqo_threshold': 1066510701, 'join_collapse_limit': 1381501952, 'maintenance_work_mem': 422545261, 'max_connections': 191, 'max_wal_senders': 40, 'shared_buffers': 214793, 'temp_buffers': 845136706, 'temp_file_limit': 1338456522, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 764, 'vacuum_cost_page_dirty': 5655, 'vacuum_cost_page_hit': 151, 'vacuum_cost_page_miss': 8903, 'wal_buffers': 75582, 'wal_writer_delay': 9940, 'work_mem': 1260003354}, QPS: -3005.0468924768334
Performance (QPS): -3005.0468924768334
Evaluating configuration: {'autovacuum_analyze_scale_factor': 41.6818416496199, 'autovacuum_analyze_threshold': 152525200, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 7696, 'autovacuum_vacuum_scale_factor': 25.249027648748555, 'autovacuum_vacuum_threshold': 1916102783, 'backend_flush_after': 121, 'bgwriter_delay': 1476, 'bgwriter_flush_after': 201, 'bgwriter_lru_maxpages': 509, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1158, 'commit_delay': 74475, 'commit_siblings': 109, 'cursor_tuple_fraction': 0.5409189415129384, 'deadlock_timeout': 1403641216, 'default_statistics_target': 9270, 'effective_cache_size': 1708186880, 'effective_io_concurrency': 958, 'from_collapse_limit': 1632797165, 'geqo_effort': 5, 'geqo_generations': 257482512, 'geqo_pool_size': 426323744, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 229149761, 'join_collapse_limit': 1186223683, 'maintenance_work_mem': 1515041965, 'max_connections': 1274, 'max_wal_senders': 40, 'shared_buffers': 1457487, 'temp_buffers': 113067345, 'temp_file_limit': 785662288, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 4424, 'vacuum_cost_page_dirty': 4558, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 582, 'wal_buffers': 124192, 'wal_writer_delay': 6540, 'work_mem': 423852723}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 41.6818416496199
Set autovacuum_analyze_threshold = 152525200
Set autovacuum_max_workers = 120
Set autovacuum_naptime = 1638901
Set autovacuum_vacuum_cost_delay = 68
Set autovacuum_vacuum_cost_limit = 7696
Set autovacuum_vacuum_scale_factor = 25.249027648748555
Set autovacuum_vacuum_threshold = 1916102783
Set backend_flush_after = 121
Set bgwriter_delay = 1476
Set bgwriter_flush_after = 201
Set bgwriter_lru_maxpages = 509
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.37640343574207813
Set checkpoint_flush_after = 253
Set checkpoint_timeout = 1158
Set commit_delay = 74475
Set commit_siblings = 109
Set cursor_tuple_fraction = 0.5409189415129384
Set deadlock_timeout = 1403641216
Set default_statistics_target = 9270
Set effective_cache_size = 1708186880
Set effective_io_concurrency = 958
Set from_collapse_limit = 1632797165
Set geqo_effort = 5
Set geqo_generations = 257482512
Set geqo_pool_size = 426323744
Set geqo_seed = 0.3350911243891298
Set geqo_threshold = 229149761
Set join_collapse_limit = 1186223683
Set maintenance_work_mem = 1515041965
Set max_connections = 1274
Set max_wal_senders = 40
Set shared_buffers = 1457487
Set temp_buffers = 113067345
Set temp_file_limit = 785662288
Set vacuum_cost_delay = 32
Set vacuum_cost_limit = 4424
Set vacuum_cost_page_dirty = 4558
Set vacuum_cost_page_hit = 4726
Set vacuum_cost_page_miss = 582
Set wal_buffers = 124192
Set wal_writer_delay = 6540
Set work_mem = 423852723
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-58-24.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-58-24.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-58-24.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-58-24.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-58-24.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-58-24.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-58-24.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-58-24.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-58-24.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_12-58-24.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-58-24.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763729840.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_12-58-24.results.UpdatePage.csv
Parsed throughput from summary.json: 3015.9742955308916
BenchBase wikipedia throughput: 3015.9742955308916
Configuration: {'autovacuum_analyze_scale_factor': 41.6818416496199, 'autovacuum_analyze_threshold': 152525200, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 7696, 'autovacuum_vacuum_scale_factor': 25.249027648748555, 'autovacuum_vacuum_threshold': 1916102783, 'backend_flush_after': 121, 'bgwriter_delay': 1476, 'bgwriter_flush_after': 201, 'bgwriter_lru_maxpages': 509, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1158, 'commit_delay': 74475, 'commit_siblings': 109, 'cursor_tuple_fraction': 0.5409189415129384, 'deadlock_timeout': 1403641216, 'default_statistics_target': 9270, 'effective_cache_size': 1708186880, 'effective_io_concurrency': 958, 'from_collapse_limit': 1632797165, 'geqo_effort': 5, 'geqo_generations': 257482512, 'geqo_pool_size': 426323744, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 229149761, 'join_collapse_limit': 1186223683, 'maintenance_work_mem': 1515041965, 'max_connections': 1274, 'max_wal_senders': 40, 'shared_buffers': 1457487, 'temp_buffers': 113067345, 'temp_file_limit': 785662288, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 4424, 'vacuum_cost_page_dirty': 4558, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 582, 'wal_buffers': 124192, 'wal_writer_delay': 6540, 'work_mem': 423852723}, QPS: -3015.9742955308916
Performance (QPS): -3015.9742955308916
Evaluating configuration: {'autovacuum_analyze_scale_factor': 5.2013903908972985, 'autovacuum_analyze_threshold': 823514484, 'autovacuum_max_workers': 147, 'autovacuum_naptime': 1960633, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 2503, 'autovacuum_vacuum_scale_factor': 40.845043204409635, 'autovacuum_vacuum_threshold': 1898153727, 'backend_flush_after': 136, 'bgwriter_delay': 7448, 'bgwriter_flush_after': 211, 'bgwriter_lru_maxpages': 631, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.9088062657159752, 'checkpoint_flush_after': 59, 'checkpoint_timeout': 1442, 'commit_delay': 85061, 'commit_siblings': 646, 'cursor_tuple_fraction': 0.05577521311722093, 'deadlock_timeout': 788814464, 'default_statistics_target': 3215, 'effective_cache_size': 1327738350, 'effective_io_concurrency': 459, 'from_collapse_limit': 143226857, 'geqo_effort': 5, 'geqo_generations': 246699488, 'geqo_pool_size': 343663726, 'geqo_seed': 0.6356168976315477, 'geqo_threshold': 1187537024, 'join_collapse_limit': 1561676984, 'maintenance_work_mem': 646124235, 'max_connections': 2782, 'max_wal_senders': 31, 'shared_buffers': 1599832, 'temp_buffers': 33981630, 'temp_file_limit': 148188015, 'vacuum_cost_delay': 31, 'vacuum_cost_limit': 5667, 'vacuum_cost_page_dirty': 7791, 'vacuum_cost_page_hit': 9346, 'vacuum_cost_page_miss': 6301, 'wal_buffers': 49736, 'wal_writer_delay': 2400, 'work_mem': 1739447419}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 5.2013903908972985
Set autovacuum_analyze_threshold = 823514484
Set autovacuum_max_workers = 147
Set autovacuum_naptime = 1960633
Set autovacuum_vacuum_cost_delay = 86
Set autovacuum_vacuum_cost_limit = 2503
Set autovacuum_vacuum_scale_factor = 40.845043204409635
Set autovacuum_vacuum_threshold = 1898153727
Set backend_flush_after = 136
Set bgwriter_delay = 7448
Set bgwriter_flush_after = 211
Set bgwriter_lru_maxpages = 631
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.9088062657159752
Set checkpoint_flush_after = 59
Set checkpoint_timeout = 1442
Set commit_delay = 85061
Set commit_siblings = 646
Set cursor_tuple_fraction = 0.05577521311722093
Set deadlock_timeout = 788814464
Set default_statistics_target = 3215
Set effective_cache_size = 1327738350
Set effective_io_concurrency = 459
Set from_collapse_limit = 143226857
Set geqo_effort = 5
Set geqo_generations = 246699488
Set geqo_pool_size = 343663726
Set geqo_seed = 0.6356168976315477
Set geqo_threshold = 1187537024
Set join_collapse_limit = 1561676984
Set maintenance_work_mem = 646124235
Set max_connections = 2782
Set max_wal_senders = 31
Set shared_buffers = 1599832
Set temp_buffers = 33981630
Set temp_file_limit = 148188015
Set vacuum_cost_delay = 31
Set vacuum_cost_limit = 5667
Set vacuum_cost_page_dirty = 7791
Set vacuum_cost_page_hit = 9346
Set vacuum_cost_page_miss = 6301
Set wal_buffers = 49736
Set wal_writer_delay = 2400
Set work_mem = 1739447419
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-00-03.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-00-03.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763729940.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-00-03.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-00-03.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-00-03.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-00-03.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-00-03.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-00-03.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-00-03.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-00-03.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-00-03.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-00-03.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 2924.439986513992
BenchBase wikipedia throughput: 2924.439986513992
Configuration: {'autovacuum_analyze_scale_factor': 5.2013903908972985, 'autovacuum_analyze_threshold': 823514484, 'autovacuum_max_workers': 147, 'autovacuum_naptime': 1960633, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 2503, 'autovacuum_vacuum_scale_factor': 40.845043204409635, 'autovacuum_vacuum_threshold': 1898153727, 'backend_flush_after': 136, 'bgwriter_delay': 7448, 'bgwriter_flush_after': 211, 'bgwriter_lru_maxpages': 631, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.9088062657159752, 'checkpoint_flush_after': 59, 'checkpoint_timeout': 1442, 'commit_delay': 85061, 'commit_siblings': 646, 'cursor_tuple_fraction': 0.05577521311722093, 'deadlock_timeout': 788814464, 'default_statistics_target': 3215, 'effective_cache_size': 1327738350, 'effective_io_concurrency': 459, 'from_collapse_limit': 143226857, 'geqo_effort': 5, 'geqo_generations': 246699488, 'geqo_pool_size': 343663726, 'geqo_seed': 0.6356168976315477, 'geqo_threshold': 1187537024, 'join_collapse_limit': 1561676984, 'maintenance_work_mem': 646124235, 'max_connections': 2782, 'max_wal_senders': 31, 'shared_buffers': 1599832, 'temp_buffers': 33981630, 'temp_file_limit': 148188015, 'vacuum_cost_delay': 31, 'vacuum_cost_limit': 5667, 'vacuum_cost_page_dirty': 7791, 'vacuum_cost_page_hit': 9346, 'vacuum_cost_page_miss': 6301, 'wal_buffers': 49736, 'wal_writer_delay': 2400, 'work_mem': 1739447419}, QPS: -2924.439986513992
Performance (QPS): -2924.439986513992
Evaluating configuration: {'autovacuum_analyze_scale_factor': 85.43096728401156, 'autovacuum_analyze_threshold': 611633131, 'autovacuum_max_workers': 10, 'autovacuum_naptime': 1221806, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 7308, 'autovacuum_vacuum_scale_factor': 43.63872943956568, 'autovacuum_vacuum_threshold': 1846338651, 'backend_flush_after': 23, 'bgwriter_delay': 9564, 'bgwriter_flush_after': 239, 'bgwriter_lru_maxpages': 457, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.9752465784887229, 'checkpoint_flush_after': 67, 'checkpoint_timeout': 247, 'commit_delay': 80796, 'commit_siblings': 51, 'cursor_tuple_fraction': 0.05667768522319694, 'deadlock_timeout': 1491586417, 'default_statistics_target': 860, 'effective_cache_size': 1640972288, 'effective_io_concurrency': 952, 'from_collapse_limit': 1866162432, 'geqo_effort': 1, 'geqo_generations': 776715712, 'geqo_pool_size': 1340665807, 'geqo_seed': 0.08318979719028889, 'geqo_threshold': 1252327840, 'join_collapse_limit': 209599438, 'maintenance_work_mem': 742220894, 'max_connections': 829, 'max_wal_senders': 22, 'shared_buffers': 4149033, 'temp_buffers': 773017554, 'temp_file_limit': 1847278523, 'vacuum_cost_delay': 66, 'vacuum_cost_limit': 1434, 'vacuum_cost_page_dirty': 3938, 'vacuum_cost_page_hit': 8598, 'vacuum_cost_page_miss': 87, 'wal_buffers': 120005, 'wal_writer_delay': 137, 'work_mem': 832014426}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 85.43096728401156
Set autovacuum_analyze_threshold = 611633131
Set autovacuum_max_workers = 10
Set autovacuum_naptime = 1221806
Set autovacuum_vacuum_cost_delay = 10
Set autovacuum_vacuum_cost_limit = 7308
Set autovacuum_vacuum_scale_factor = 43.63872943956568
Set autovacuum_vacuum_threshold = 1846338651
Set backend_flush_after = 23
Set bgwriter_delay = 9564
Set bgwriter_flush_after = 239
Set bgwriter_lru_maxpages = 457
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.9752465784887229
Set checkpoint_flush_after = 67
Set checkpoint_timeout = 247
Set commit_delay = 80796
Set commit_siblings = 51
Set cursor_tuple_fraction = 0.05667768522319694
Set deadlock_timeout = 1491586417
Set default_statistics_target = 860
Set effective_cache_size = 1640972288
Set effective_io_concurrency = 952
Set from_collapse_limit = 1866162432
Set geqo_effort = 1
Set geqo_generations = 776715712
Set geqo_pool_size = 1340665807
Set geqo_seed = 0.08318979719028889
Set geqo_threshold = 1252327840
Set join_collapse_limit = 209599438
Set maintenance_work_mem = 742220894
Set max_connections = 829
Set max_wal_senders = 22
Set shared_buffers = 4149033
Set temp_buffers = 773017554
Set temp_file_limit = 1847278523
Set vacuum_cost_delay = 66
Set vacuum_cost_limit = 1434
Set vacuum_cost_page_dirty = 3938
Set vacuum_cost_page_hit = 8598
Set vacuum_cost_page_miss = 87
Set wal_buffers = 120005
Set wal_writer_delay = 137
Set work_mem = 832014426
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
Start failed, removing auto.conf and retrying...
Removed postgresql.auto.conf file (if it existed).
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-01-44.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-01-44.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-01-44.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-01-44.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763730040.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-01-44.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-01-44.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-01-44.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-01-44.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-01-44.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-01-44.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-01-44.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-01-44.results.RemoveWatchList.csv
Parsed throughput from summary.json: 2695.065750710305
BenchBase wikipedia throughput: 2695.065750710305
Configuration: {'autovacuum_analyze_scale_factor': 85.43096728401156, 'autovacuum_analyze_threshold': 611633131, 'autovacuum_max_workers': 10, 'autovacuum_naptime': 1221806, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 7308, 'autovacuum_vacuum_scale_factor': 43.63872943956568, 'autovacuum_vacuum_threshold': 1846338651, 'backend_flush_after': 23, 'bgwriter_delay': 9564, 'bgwriter_flush_after': 239, 'bgwriter_lru_maxpages': 457, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.9752465784887229, 'checkpoint_flush_after': 67, 'checkpoint_timeout': 247, 'commit_delay': 80796, 'commit_siblings': 51, 'cursor_tuple_fraction': 0.05667768522319694, 'deadlock_timeout': 1491586417, 'default_statistics_target': 860, 'effective_cache_size': 1640972288, 'effective_io_concurrency': 952, 'from_collapse_limit': 1866162432, 'geqo_effort': 1, 'geqo_generations': 776715712, 'geqo_pool_size': 1340665807, 'geqo_seed': 0.08318979719028889, 'geqo_threshold': 1252327840, 'join_collapse_limit': 209599438, 'maintenance_work_mem': 742220894, 'max_connections': 829, 'max_wal_senders': 22, 'shared_buffers': 4149033, 'temp_buffers': 773017554, 'temp_file_limit': 1847278523, 'vacuum_cost_delay': 66, 'vacuum_cost_limit': 1434, 'vacuum_cost_page_dirty': 3938, 'vacuum_cost_page_hit': 8598, 'vacuum_cost_page_miss': 87, 'wal_buffers': 120005, 'wal_writer_delay': 137, 'work_mem': 832014426}, QPS: -2695.065750710305
Performance (QPS): -2695.065750710305
Evaluating configuration: {'autovacuum_analyze_scale_factor': 17.629904351870174, 'autovacuum_analyze_threshold': 2097014151, 'autovacuum_max_workers': 34, 'autovacuum_naptime': 558208, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 8160, 'autovacuum_vacuum_scale_factor': 88.74674569236144, 'autovacuum_vacuum_threshold': 147804831, 'backend_flush_after': 133, 'bgwriter_delay': 922, 'bgwriter_flush_after': 222, 'bgwriter_lru_maxpages': 555, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.8070635631063235, 'checkpoint_flush_after': 172, 'checkpoint_timeout': 1673, 'commit_delay': 35039, 'commit_siblings': 725, 'cursor_tuple_fraction': 0.9207416173497294, 'deadlock_timeout': 1881472646, 'default_statistics_target': 4013, 'effective_cache_size': 2142816498, 'effective_io_concurrency': 916, 'from_collapse_limit': 846798686, 'geqo_effort': 3, 'geqo_generations': 1230167078, 'geqo_pool_size': 1627742851, 'geqo_seed': 0.12890922446039188, 'geqo_threshold': 1218445113, 'join_collapse_limit': 498559172, 'maintenance_work_mem': 1838587290, 'max_connections': 1246, 'max_wal_senders': 50, 'shared_buffers': 1023437, 'temp_buffers': 263470949, 'temp_file_limit': 946952766, 'vacuum_cost_delay': 13, 'vacuum_cost_limit': 4640, 'vacuum_cost_page_dirty': 4006, 'vacuum_cost_page_hit': 9270, 'vacuum_cost_page_miss': 3549, 'wal_buffers': 63613, 'wal_writer_delay': 1563, 'work_mem': 906330040}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
 t
(2 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 17.629904351870174
Set autovacuum_analyze_threshold = 2097014151
Set autovacuum_max_workers = 34
Set autovacuum_naptime = 558208
Set autovacuum_vacuum_cost_delay = 96
Set autovacuum_vacuum_cost_limit = 8160
Set autovacuum_vacuum_scale_factor = 88.74674569236144
Set autovacuum_vacuum_threshold = 147804831
Set backend_flush_after = 133
Set bgwriter_delay = 922
Set bgwriter_flush_after = 222
Set bgwriter_lru_maxpages = 555
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.8070635631063235
Set checkpoint_flush_after = 172
Set checkpoint_timeout = 1673
Set commit_delay = 35039
Set commit_siblings = 725
Set cursor_tuple_fraction = 0.9207416173497294
Set deadlock_timeout = 1881472646
Set default_statistics_target = 4013
Set effective_cache_size = 2142816498
Set effective_io_concurrency = 916
Set from_collapse_limit = 846798686
Set geqo_effort = 3
Set geqo_generations = 1230167078
Set geqo_pool_size = 1627742851
Set geqo_seed = 0.12890922446039188
Set geqo_threshold = 1218445113
Set join_collapse_limit = 498559172
Set maintenance_work_mem = 1838587290
Set max_connections = 1246
Set max_wal_senders = 50
Set shared_buffers = 1023437
Set temp_buffers = 263470949
Set temp_file_limit = 946952766
Set vacuum_cost_delay = 13
Set vacuum_cost_limit = 4640
Set vacuum_cost_page_dirty = 4006
Set vacuum_cost_page_hit = 9270
Set vacuum_cost_page_miss = 3549
Set wal_buffers = 63613
Set wal_writer_delay = 1563
Set work_mem = 906330040
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-03-16.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-03-16.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-03-16.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-03-16.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763730133.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-03-16.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-03-16.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-03-16.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-03-16.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-03-16.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-03-16.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-03-16.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-03-16.metrics.json
Parsed throughput from summary.json: 3031.507988102262
BenchBase wikipedia throughput: 3031.507988102262
Configuration: {'autovacuum_analyze_scale_factor': 17.629904351870174, 'autovacuum_analyze_threshold': 2097014151, 'autovacuum_max_workers': 34, 'autovacuum_naptime': 558208, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 8160, 'autovacuum_vacuum_scale_factor': 88.74674569236144, 'autovacuum_vacuum_threshold': 147804831, 'backend_flush_after': 133, 'bgwriter_delay': 922, 'bgwriter_flush_after': 222, 'bgwriter_lru_maxpages': 555, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.8070635631063235, 'checkpoint_flush_after': 172, 'checkpoint_timeout': 1673, 'commit_delay': 35039, 'commit_siblings': 725, 'cursor_tuple_fraction': 0.9207416173497294, 'deadlock_timeout': 1881472646, 'default_statistics_target': 4013, 'effective_cache_size': 2142816498, 'effective_io_concurrency': 916, 'from_collapse_limit': 846798686, 'geqo_effort': 3, 'geqo_generations': 1230167078, 'geqo_pool_size': 1627742851, 'geqo_seed': 0.12890922446039188, 'geqo_threshold': 1218445113, 'join_collapse_limit': 498559172, 'maintenance_work_mem': 1838587290, 'max_connections': 1246, 'max_wal_senders': 50, 'shared_buffers': 1023437, 'temp_buffers': 263470949, 'temp_file_limit': 946952766, 'vacuum_cost_delay': 13, 'vacuum_cost_limit': 4640, 'vacuum_cost_page_dirty': 4006, 'vacuum_cost_page_hit': 9270, 'vacuum_cost_page_miss': 3549, 'wal_buffers': 63613, 'wal_writer_delay': 1563, 'work_mem': 906330040}, QPS: -3031.507988102262
Performance (QPS): -3031.507988102262
Evaluating configuration: {'autovacuum_analyze_scale_factor': 34.5550109322711, 'autovacuum_analyze_threshold': 201235186, 'autovacuum_max_workers': 126, 'autovacuum_naptime': 1386107, 'autovacuum_vacuum_cost_delay': 94, 'autovacuum_vacuum_cost_limit': 8103, 'autovacuum_vacuum_scale_factor': 7.0830159521066305, 'autovacuum_vacuum_threshold': 1105821220, 'backend_flush_after': 75, 'bgwriter_delay': 3933, 'bgwriter_flush_after': 177, 'bgwriter_lru_maxpages': 979, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.18865530205848136, 'checkpoint_flush_after': 65, 'checkpoint_timeout': 2876, 'commit_delay': 88260, 'commit_siblings': 326, 'cursor_tuple_fraction': 0.04720100404421623, 'deadlock_timeout': 1016876498, 'default_statistics_target': 2961, 'effective_cache_size': 1943153885, 'effective_io_concurrency': 670, 'from_collapse_limit': 207271761, 'geqo_effort': 8, 'geqo_generations': 308129456, 'geqo_pool_size': 538677979, 'geqo_seed': 0.9680453945059765, 'geqo_threshold': 890674756, 'join_collapse_limit': 443703495, 'maintenance_work_mem': 631202463, 'max_connections': 1748, 'max_wal_senders': 19, 'shared_buffers': 694683, 'temp_buffers': 870636492, 'temp_file_limit': 339800484, 'vacuum_cost_delay': 4, 'vacuum_cost_limit': 6923, 'vacuum_cost_page_dirty': 3597, 'vacuum_cost_page_hit': 5876, 'vacuum_cost_page_miss': 328, 'wal_buffers': 97120, 'wal_writer_delay': 5212, 'work_mem': 1574372243}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 34.5550109322711
Set autovacuum_analyze_threshold = 201235186
Set autovacuum_max_workers = 126
Set autovacuum_naptime = 1386107
Set autovacuum_vacuum_cost_delay = 94
Set autovacuum_vacuum_cost_limit = 8103
Set autovacuum_vacuum_scale_factor = 7.0830159521066305
Set autovacuum_vacuum_threshold = 1105821220
Set backend_flush_after = 75
Set bgwriter_delay = 3933
Set bgwriter_flush_after = 177
Set bgwriter_lru_maxpages = 979
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.18865530205848136
Set checkpoint_flush_after = 65
Set checkpoint_timeout = 2876
Set commit_delay = 88260
Set commit_siblings = 326
Set cursor_tuple_fraction = 0.04720100404421623
Set deadlock_timeout = 1016876498
Set default_statistics_target = 2961
Set effective_cache_size = 1943153885
Set effective_io_concurrency = 670
Set from_collapse_limit = 207271761
Set geqo_effort = 8
Set geqo_generations = 308129456
Set geqo_pool_size = 538677979
Set geqo_seed = 0.9680453945059765
Set geqo_threshold = 890674756
Set join_collapse_limit = 443703495
Set maintenance_work_mem = 631202463
Set max_connections = 1748
Set max_wal_senders = 19
Set shared_buffers = 694683
Set temp_buffers = 870636492
Set temp_file_limit = 339800484
Set vacuum_cost_delay = 4
Set vacuum_cost_limit = 6923
Set vacuum_cost_page_dirty = 3597
Set vacuum_cost_page_hit = 5876
Set vacuum_cost_page_miss = 328
Set wal_buffers = 97120
Set wal_writer_delay = 5212
Set work_mem = 1574372243
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-04-50.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-04-50.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-04-50.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-04-50.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-04-50.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-04-50.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-04-50.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763730227.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-04-50.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-04-50.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-04-50.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-04-50.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-04-50.params.json
Parsed throughput from summary.json: 2942.8413431183117
BenchBase wikipedia throughput: 2942.8413431183117
Configuration: {'autovacuum_analyze_scale_factor': 34.5550109322711, 'autovacuum_analyze_threshold': 201235186, 'autovacuum_max_workers': 126, 'autovacuum_naptime': 1386107, 'autovacuum_vacuum_cost_delay': 94, 'autovacuum_vacuum_cost_limit': 8103, 'autovacuum_vacuum_scale_factor': 7.0830159521066305, 'autovacuum_vacuum_threshold': 1105821220, 'backend_flush_after': 75, 'bgwriter_delay': 3933, 'bgwriter_flush_after': 177, 'bgwriter_lru_maxpages': 979, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.18865530205848136, 'checkpoint_flush_after': 65, 'checkpoint_timeout': 2876, 'commit_delay': 88260, 'commit_siblings': 326, 'cursor_tuple_fraction': 0.04720100404421623, 'deadlock_timeout': 1016876498, 'default_statistics_target': 2961, 'effective_cache_size': 1943153885, 'effective_io_concurrency': 670, 'from_collapse_limit': 207271761, 'geqo_effort': 8, 'geqo_generations': 308129456, 'geqo_pool_size': 538677979, 'geqo_seed': 0.9680453945059765, 'geqo_threshold': 890674756, 'join_collapse_limit': 443703495, 'maintenance_work_mem': 631202463, 'max_connections': 1748, 'max_wal_senders': 19, 'shared_buffers': 694683, 'temp_buffers': 870636492, 'temp_file_limit': 339800484, 'vacuum_cost_delay': 4, 'vacuum_cost_limit': 6923, 'vacuum_cost_page_dirty': 3597, 'vacuum_cost_page_hit': 5876, 'vacuum_cost_page_miss': 328, 'wal_buffers': 97120, 'wal_writer_delay': 5212, 'work_mem': 1574372243}, QPS: -2942.8413431183117
Performance (QPS): -2942.8413431183117
Evaluating configuration: {'autovacuum_analyze_scale_factor': 53.50185252411881, 'autovacuum_analyze_threshold': 149502320, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 7538, 'autovacuum_vacuum_scale_factor': 25.249027648748555, 'autovacuum_vacuum_threshold': 1916102783, 'backend_flush_after': 121, 'bgwriter_delay': 1476, 'bgwriter_flush_after': 206, 'bgwriter_lru_maxpages': 375, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 243, 'checkpoint_timeout': 1365, 'commit_delay': 67320, 'commit_siblings': 101, 'cursor_tuple_fraction': 0.716747454240509, 'deadlock_timeout': 1388845952, 'default_statistics_target': 8954, 'effective_cache_size': 1706661760, 'effective_io_concurrency': 966, 'from_collapse_limit': 1632797165, 'geqo_effort': 5, 'geqo_generations': 24906374, 'geqo_pool_size': 426323744, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 77984198, 'join_collapse_limit': 1161176192, 'maintenance_work_mem': 1515041965, 'max_connections': 1274, 'max_wal_senders': 40, 'shared_buffers': 1504183, 'temp_buffers': 100657234, 'temp_file_limit': 786144767, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 5954, 'vacuum_cost_page_dirty': 4558, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 582, 'wal_buffers': 119804, 'wal_writer_delay': 6540, 'work_mem': 629708845}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 53.50185252411881
Set autovacuum_analyze_threshold = 149502320
Set autovacuum_max_workers = 120
Set autovacuum_naptime = 1638901
Set autovacuum_vacuum_cost_delay = 68
Set autovacuum_vacuum_cost_limit = 7538
Set autovacuum_vacuum_scale_factor = 25.249027648748555
Set autovacuum_vacuum_threshold = 1916102783
Set backend_flush_after = 121
Set bgwriter_delay = 1476
Set bgwriter_flush_after = 206
Set bgwriter_lru_maxpages = 375
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.37640343574207813
Set checkpoint_flush_after = 243
Set checkpoint_timeout = 1365
Set commit_delay = 67320
Set commit_siblings = 101
Set cursor_tuple_fraction = 0.716747454240509
Set deadlock_timeout = 1388845952
Set default_statistics_target = 8954
Set effective_cache_size = 1706661760
Set effective_io_concurrency = 966
Set from_collapse_limit = 1632797165
Set geqo_effort = 5
Set geqo_generations = 24906374
Set geqo_pool_size = 426323744
Set geqo_seed = 0.3350911243891298
Set geqo_threshold = 77984198
Set join_collapse_limit = 1161176192
Set maintenance_work_mem = 1515041965
Set max_connections = 1274
Set max_wal_senders = 40
Set shared_buffers = 1504183
Set temp_buffers = 100657234
Set temp_file_limit = 786144767
Set vacuum_cost_delay = 21
Set vacuum_cost_limit = 5954
Set vacuum_cost_page_dirty = 4558
Set vacuum_cost_page_hit = 4726
Set vacuum_cost_page_miss = 582
Set wal_buffers = 119804
Set wal_writer_delay = 6540
Set work_mem = 629708845
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-06-30.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-06-30.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-06-30.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-06-30.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-06-30.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-06-30.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-06-30.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-06-30.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-06-30.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-06-30.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-06-30.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763730327.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-06-30.results.UpdatePage.csv
Parsed throughput from summary.json: 2903.2765840298243
BenchBase wikipedia throughput: 2903.2765840298243
Configuration: {'autovacuum_analyze_scale_factor': 53.50185252411881, 'autovacuum_analyze_threshold': 149502320, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 7538, 'autovacuum_vacuum_scale_factor': 25.249027648748555, 'autovacuum_vacuum_threshold': 1916102783, 'backend_flush_after': 121, 'bgwriter_delay': 1476, 'bgwriter_flush_after': 206, 'bgwriter_lru_maxpages': 375, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 243, 'checkpoint_timeout': 1365, 'commit_delay': 67320, 'commit_siblings': 101, 'cursor_tuple_fraction': 0.716747454240509, 'deadlock_timeout': 1388845952, 'default_statistics_target': 8954, 'effective_cache_size': 1706661760, 'effective_io_concurrency': 966, 'from_collapse_limit': 1632797165, 'geqo_effort': 5, 'geqo_generations': 24906374, 'geqo_pool_size': 426323744, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 77984198, 'join_collapse_limit': 1161176192, 'maintenance_work_mem': 1515041965, 'max_connections': 1274, 'max_wal_senders': 40, 'shared_buffers': 1504183, 'temp_buffers': 100657234, 'temp_file_limit': 786144767, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 5954, 'vacuum_cost_page_dirty': 4558, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 582, 'wal_buffers': 119804, 'wal_writer_delay': 6540, 'work_mem': 629708845}, QPS: -2903.2765840298243
Performance (QPS): -2903.2765840298243
Evaluating configuration: {'autovacuum_analyze_scale_factor': 4.904483187695234, 'autovacuum_analyze_threshold': 1203492041, 'autovacuum_max_workers': 79, 'autovacuum_naptime': 1151270, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 6626, 'autovacuum_vacuum_scale_factor': 53.527449413286924, 'autovacuum_vacuum_threshold': 1215798592, 'backend_flush_after': 86, 'bgwriter_delay': 157, 'bgwriter_flush_after': 119, 'bgwriter_lru_maxpages': 685, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.016463782089113255, 'checkpoint_flush_after': 256, 'checkpoint_timeout': 2663, 'commit_delay': 64617, 'commit_siblings': 406, 'cursor_tuple_fraction': 0.36474605556963735, 'deadlock_timeout': 1008479872, 'default_statistics_target': 3162, 'effective_cache_size': 1197072499, 'effective_io_concurrency': 351, 'from_collapse_limit': 279542656, 'geqo_effort': 2, 'geqo_generations': 433708522, 'geqo_pool_size': 683342057, 'geqo_seed': 0.3160362318680324, 'geqo_threshold': 1379214801, 'join_collapse_limit': 2021290063, 'maintenance_work_mem': 1607610625, 'max_connections': 2380, 'max_wal_senders': 29, 'shared_buffers': 192140, 'temp_buffers': 816232278, 'temp_file_limit': 716989503, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 1785, 'vacuum_cost_page_dirty': 511, 'vacuum_cost_page_hit': 7666, 'vacuum_cost_page_miss': 2263, 'wal_buffers': 115749, 'wal_writer_delay': 861, 'work_mem': 2059813352}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 4.904483187695234
Set autovacuum_analyze_threshold = 1203492041
Set autovacuum_max_workers = 79
Set autovacuum_naptime = 1151270
Set autovacuum_vacuum_cost_delay = 22
Set autovacuum_vacuum_cost_limit = 6626
Set autovacuum_vacuum_scale_factor = 53.527449413286924
Set autovacuum_vacuum_threshold = 1215798592
Set backend_flush_after = 86
Set bgwriter_delay = 157
Set bgwriter_flush_after = 119
Set bgwriter_lru_maxpages = 685
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.016463782089113255
Set checkpoint_flush_after = 256
Set checkpoint_timeout = 2663
Set commit_delay = 64617
Set commit_siblings = 406
Set cursor_tuple_fraction = 0.36474605556963735
Set deadlock_timeout = 1008479872
Set default_statistics_target = 3162
Set effective_cache_size = 1197072499
Set effective_io_concurrency = 351
Set from_collapse_limit = 279542656
Set geqo_effort = 2
Set geqo_generations = 433708522
Set geqo_pool_size = 683342057
Set geqo_seed = 0.3160362318680324
Set geqo_threshold = 1379214801
Set join_collapse_limit = 2021290063
Set maintenance_work_mem = 1607610625
Set max_connections = 2380
Set max_wal_senders = 29
Set shared_buffers = 192140
Set temp_buffers = 816232278
Set temp_file_limit = 716989503
Set vacuum_cost_delay = 51
Set vacuum_cost_limit = 1785
Set vacuum_cost_page_dirty = 511
Set vacuum_cost_page_hit = 7666
Set vacuum_cost_page_miss = 2263
Set wal_buffers = 115749
Set wal_writer_delay = 861
Set work_mem = 2059813352
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-08-10.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-08-10.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763730427.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-08-10.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-08-10.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-08-10.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-08-10.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-08-10.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-08-10.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-08-10.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-08-10.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-08-10.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-08-10.results.UpdatePage.csv
Parsed throughput from summary.json: 2810.5363837706986
BenchBase wikipedia throughput: 2810.5363837706986
Configuration: {'autovacuum_analyze_scale_factor': 4.904483187695234, 'autovacuum_analyze_threshold': 1203492041, 'autovacuum_max_workers': 79, 'autovacuum_naptime': 1151270, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 6626, 'autovacuum_vacuum_scale_factor': 53.527449413286924, 'autovacuum_vacuum_threshold': 1215798592, 'backend_flush_after': 86, 'bgwriter_delay': 157, 'bgwriter_flush_after': 119, 'bgwriter_lru_maxpages': 685, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.016463782089113255, 'checkpoint_flush_after': 256, 'checkpoint_timeout': 2663, 'commit_delay': 64617, 'commit_siblings': 406, 'cursor_tuple_fraction': 0.36474605556963735, 'deadlock_timeout': 1008479872, 'default_statistics_target': 3162, 'effective_cache_size': 1197072499, 'effective_io_concurrency': 351, 'from_collapse_limit': 279542656, 'geqo_effort': 2, 'geqo_generations': 433708522, 'geqo_pool_size': 683342057, 'geqo_seed': 0.3160362318680324, 'geqo_threshold': 1379214801, 'join_collapse_limit': 2021290063, 'maintenance_work_mem': 1607610625, 'max_connections': 2380, 'max_wal_senders': 29, 'shared_buffers': 192140, 'temp_buffers': 816232278, 'temp_file_limit': 716989503, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 1785, 'vacuum_cost_page_dirty': 511, 'vacuum_cost_page_hit': 7666, 'vacuum_cost_page_miss': 2263, 'wal_buffers': 115749, 'wal_writer_delay': 861, 'work_mem': 2059813352}, QPS: -2810.5363837706986
Performance (QPS): -2810.5363837706986
Evaluating configuration: {'autovacuum_analyze_scale_factor': 10.00663492792685, 'autovacuum_analyze_threshold': 154656232, 'autovacuum_max_workers': 105, 'autovacuum_naptime': 1978958, 'autovacuum_vacuum_cost_delay': 28, 'autovacuum_vacuum_cost_limit': 9276, 'autovacuum_vacuum_scale_factor': 88.92583277609856, 'autovacuum_vacuum_threshold': 2101336223, 'backend_flush_after': 33, 'bgwriter_delay': 8416, 'bgwriter_flush_after': 244, 'bgwriter_lru_maxpages': 378, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.5692583116276969, 'checkpoint_flush_after': 29, 'checkpoint_timeout': 1347, 'commit_delay': 84488, 'commit_siblings': 612, 'cursor_tuple_fraction': 0.28407193121414476, 'deadlock_timeout': 658883913, 'default_statistics_target': 6091, 'effective_cache_size': 1373368536, 'effective_io_concurrency': 441, 'from_collapse_limit': 1227688558, 'geqo_effort': 7, 'geqo_generations': 184831670, 'geqo_pool_size': 1808534727, 'geqo_seed': 0.3155316400468907, 'geqo_threshold': 1773317399, 'join_collapse_limit': 282175676, 'maintenance_work_mem': 947855957, 'max_connections': 2008, 'max_wal_senders': 6, 'shared_buffers': 1799064, 'temp_buffers': 862710857, 'temp_file_limit': 511269085, 'vacuum_cost_delay': 86, 'vacuum_cost_limit': 5516, 'vacuum_cost_page_dirty': 4371, 'vacuum_cost_page_hit': 7219, 'vacuum_cost_page_miss': 9543, 'wal_buffers': 58659, 'wal_writer_delay': 3441, 'work_mem': 1091347644}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 10.00663492792685
Set autovacuum_analyze_threshold = 154656232
Set autovacuum_max_workers = 105
Set autovacuum_naptime = 1978958
Set autovacuum_vacuum_cost_delay = 28
Set autovacuum_vacuum_cost_limit = 9276
Set autovacuum_vacuum_scale_factor = 88.92583277609856
Set autovacuum_vacuum_threshold = 2101336223
Set backend_flush_after = 33
Set bgwriter_delay = 8416
Set bgwriter_flush_after = 244
Set bgwriter_lru_maxpages = 378
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.5692583116276969
Set checkpoint_flush_after = 29
Set checkpoint_timeout = 1347
Set commit_delay = 84488
Set commit_siblings = 612
Set cursor_tuple_fraction = 0.28407193121414476
Set deadlock_timeout = 658883913
Set default_statistics_target = 6091
Set effective_cache_size = 1373368536
Set effective_io_concurrency = 441
Set from_collapse_limit = 1227688558
Set geqo_effort = 7
Set geqo_generations = 184831670
Set geqo_pool_size = 1808534727
Set geqo_seed = 0.3155316400468907
Set geqo_threshold = 1773317399
Set join_collapse_limit = 282175676
Set maintenance_work_mem = 947855957
Set max_connections = 2008
Set max_wal_senders = 6
Set shared_buffers = 1799064
Set temp_buffers = 862710857
Set temp_file_limit = 511269085
Set vacuum_cost_delay = 86
Set vacuum_cost_limit = 5516
Set vacuum_cost_page_dirty = 4371
Set vacuum_cost_page_hit = 7219
Set vacuum_cost_page_miss = 9543
Set wal_buffers = 58659
Set wal_writer_delay = 3441
Set work_mem = 1091347644
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-09-44.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-09-44.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-09-44.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-09-44.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-09-44.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-09-44.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-09-44.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-09-44.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-09-44.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763730521.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-09-44.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-09-44.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-09-44.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 2925.2280796319396
BenchBase wikipedia throughput: 2925.2280796319396
Configuration: {'autovacuum_analyze_scale_factor': 10.00663492792685, 'autovacuum_analyze_threshold': 154656232, 'autovacuum_max_workers': 105, 'autovacuum_naptime': 1978958, 'autovacuum_vacuum_cost_delay': 28, 'autovacuum_vacuum_cost_limit': 9276, 'autovacuum_vacuum_scale_factor': 88.92583277609856, 'autovacuum_vacuum_threshold': 2101336223, 'backend_flush_after': 33, 'bgwriter_delay': 8416, 'bgwriter_flush_after': 244, 'bgwriter_lru_maxpages': 378, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.5692583116276969, 'checkpoint_flush_after': 29, 'checkpoint_timeout': 1347, 'commit_delay': 84488, 'commit_siblings': 612, 'cursor_tuple_fraction': 0.28407193121414476, 'deadlock_timeout': 658883913, 'default_statistics_target': 6091, 'effective_cache_size': 1373368536, 'effective_io_concurrency': 441, 'from_collapse_limit': 1227688558, 'geqo_effort': 7, 'geqo_generations': 184831670, 'geqo_pool_size': 1808534727, 'geqo_seed': 0.3155316400468907, 'geqo_threshold': 1773317399, 'join_collapse_limit': 282175676, 'maintenance_work_mem': 947855957, 'max_connections': 2008, 'max_wal_senders': 6, 'shared_buffers': 1799064, 'temp_buffers': 862710857, 'temp_file_limit': 511269085, 'vacuum_cost_delay': 86, 'vacuum_cost_limit': 5516, 'vacuum_cost_page_dirty': 4371, 'vacuum_cost_page_hit': 7219, 'vacuum_cost_page_miss': 9543, 'wal_buffers': 58659, 'wal_writer_delay': 3441, 'work_mem': 1091347644}, QPS: -2925.2280796319396
Performance (QPS): -2925.2280796319396
Evaluating configuration: {'autovacuum_analyze_scale_factor': 17.629904351870174, 'autovacuum_analyze_threshold': 2097014151, 'autovacuum_max_workers': 34, 'autovacuum_naptime': 718045, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 8160, 'autovacuum_vacuum_scale_factor': 88.74674569236144, 'autovacuum_vacuum_threshold': 147804831, 'backend_flush_after': 134, 'bgwriter_delay': 922, 'bgwriter_flush_after': 222, 'bgwriter_lru_maxpages': 555, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.8070635631063235, 'checkpoint_flush_after': 172, 'checkpoint_timeout': 1673, 'commit_delay': 35039, 'commit_siblings': 507, 'cursor_tuple_fraction': 0.9207416173497294, 'deadlock_timeout': 1881472646, 'default_statistics_target': 4078, 'effective_cache_size': 2109981056, 'effective_io_concurrency': 954, 'from_collapse_limit': 1190816896, 'geqo_effort': 7, 'geqo_generations': 1230167078, 'geqo_pool_size': 1627742851, 'geqo_seed': 0.12890922446039188, 'geqo_threshold': 1218445113, 'join_collapse_limit': 498559172, 'maintenance_work_mem': 1838587290, 'max_connections': 1246, 'max_wal_senders': 50, 'shared_buffers': 1023437, 'temp_buffers': 52663115, 'temp_file_limit': 946952766, 'vacuum_cost_delay': 13, 'vacuum_cost_limit': 3355, 'vacuum_cost_page_dirty': 4588, 'vacuum_cost_page_hit': 9270, 'vacuum_cost_page_miss': 4555, 'wal_buffers': 63613, 'wal_writer_delay': 1563, 'work_mem': 1183048604}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 17.629904351870174
Set autovacuum_analyze_threshold = 2097014151
Set autovacuum_max_workers = 34
Set autovacuum_naptime = 718045
Set autovacuum_vacuum_cost_delay = 96
Set autovacuum_vacuum_cost_limit = 8160
Set autovacuum_vacuum_scale_factor = 88.74674569236144
Set autovacuum_vacuum_threshold = 147804831
Set backend_flush_after = 134
Set bgwriter_delay = 922
Set bgwriter_flush_after = 222
Set bgwriter_lru_maxpages = 555
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.8070635631063235
Set checkpoint_flush_after = 172
Set checkpoint_timeout = 1673
Set commit_delay = 35039
Set commit_siblings = 507
Set cursor_tuple_fraction = 0.9207416173497294
Set deadlock_timeout = 1881472646
Set default_statistics_target = 4078
Set effective_cache_size = 2109981056
Set effective_io_concurrency = 954
Set from_collapse_limit = 1190816896
Set geqo_effort = 7
Set geqo_generations = 1230167078
Set geqo_pool_size = 1627742851
Set geqo_seed = 0.12890922446039188
Set geqo_threshold = 1218445113
Set join_collapse_limit = 498559172
Set maintenance_work_mem = 1838587290
Set max_connections = 1246
Set max_wal_senders = 50
Set shared_buffers = 1023437
Set temp_buffers = 52663115
Set temp_file_limit = 946952766
Set vacuum_cost_delay = 13
Set vacuum_cost_limit = 3355
Set vacuum_cost_page_dirty = 4588
Set vacuum_cost_page_hit = 9270
Set vacuum_cost_page_miss = 4555
Set wal_buffers = 63613
Set wal_writer_delay = 1563
Set work_mem = 1183048604
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-11-24.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-11-24.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-11-24.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-11-24.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-11-24.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-11-24.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-11-24.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-11-24.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763730621.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-11-24.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-11-24.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-11-24.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-11-24.results.csv
Parsed throughput from summary.json: 2974.3541615308504
BenchBase wikipedia throughput: 2974.3541615308504
Configuration: {'autovacuum_analyze_scale_factor': 17.629904351870174, 'autovacuum_analyze_threshold': 2097014151, 'autovacuum_max_workers': 34, 'autovacuum_naptime': 718045, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 8160, 'autovacuum_vacuum_scale_factor': 88.74674569236144, 'autovacuum_vacuum_threshold': 147804831, 'backend_flush_after': 134, 'bgwriter_delay': 922, 'bgwriter_flush_after': 222, 'bgwriter_lru_maxpages': 555, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.8070635631063235, 'checkpoint_flush_after': 172, 'checkpoint_timeout': 1673, 'commit_delay': 35039, 'commit_siblings': 507, 'cursor_tuple_fraction': 0.9207416173497294, 'deadlock_timeout': 1881472646, 'default_statistics_target': 4078, 'effective_cache_size': 2109981056, 'effective_io_concurrency': 954, 'from_collapse_limit': 1190816896, 'geqo_effort': 7, 'geqo_generations': 1230167078, 'geqo_pool_size': 1627742851, 'geqo_seed': 0.12890922446039188, 'geqo_threshold': 1218445113, 'join_collapse_limit': 498559172, 'maintenance_work_mem': 1838587290, 'max_connections': 1246, 'max_wal_senders': 50, 'shared_buffers': 1023437, 'temp_buffers': 52663115, 'temp_file_limit': 946952766, 'vacuum_cost_delay': 13, 'vacuum_cost_limit': 3355, 'vacuum_cost_page_dirty': 4588, 'vacuum_cost_page_hit': 9270, 'vacuum_cost_page_miss': 4555, 'wal_buffers': 63613, 'wal_writer_delay': 1563, 'work_mem': 1183048604}, QPS: -2974.3541615308504
Performance (QPS): -2974.3541615308504
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.39792366687899, 'autovacuum_analyze_threshold': 175612032, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1309735, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 7847, 'autovacuum_vacuum_scale_factor': 25.249027648748555, 'autovacuum_vacuum_threshold': 1916102783, 'backend_flush_after': 121, 'bgwriter_delay': 660, 'bgwriter_flush_after': 176, 'bgwriter_lru_maxpages': 375, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1463, 'commit_delay': 74711, 'commit_siblings': 101, 'cursor_tuple_fraction': 0.6890294859081239, 'deadlock_timeout': 1372354048, 'default_statistics_target': 7970, 'effective_cache_size': 1707371520, 'effective_io_concurrency': 967, 'from_collapse_limit': 1777175680, 'geqo_effort': 5, 'geqo_generations': 26439731, 'geqo_pool_size': 158728192, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 302167713, 'join_collapse_limit': 1186223683, 'maintenance_work_mem': 1410166495, 'max_connections': 1344, 'max_wal_senders': 39, 'shared_buffers': 1348019, 'temp_buffers': 48091579, 'temp_file_limit': 785662288, 'vacuum_cost_delay': 27, 'vacuum_cost_limit': 5879, 'vacuum_cost_page_dirty': 3635, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 452, 'wal_buffers': 124192, 'wal_writer_delay': 6237, 'work_mem': 364881333}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.39792366687899
Set autovacuum_analyze_threshold = 175612032
Set autovacuum_max_workers = 120
Set autovacuum_naptime = 1309735
Set autovacuum_vacuum_cost_delay = 68
Set autovacuum_vacuum_cost_limit = 7847
Set autovacuum_vacuum_scale_factor = 25.249027648748555
Set autovacuum_vacuum_threshold = 1916102783
Set backend_flush_after = 121
Set bgwriter_delay = 660
Set bgwriter_flush_after = 176
Set bgwriter_lru_maxpages = 375
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.37640343574207813
Set checkpoint_flush_after = 253
Set checkpoint_timeout = 1463
Set commit_delay = 74711
Set commit_siblings = 101
Set cursor_tuple_fraction = 0.6890294859081239
Set deadlock_timeout = 1372354048
Set default_statistics_target = 7970
Set effective_cache_size = 1707371520
Set effective_io_concurrency = 967
Set from_collapse_limit = 1777175680
Set geqo_effort = 5
Set geqo_generations = 26439731
Set geqo_pool_size = 158728192
Set geqo_seed = 0.3350911243891298
Set geqo_threshold = 302167713
Set join_collapse_limit = 1186223683
Set maintenance_work_mem = 1410166495
Set max_connections = 1344
Set max_wal_senders = 39
Set shared_buffers = 1348019
Set temp_buffers = 48091579
Set temp_file_limit = 785662288
Set vacuum_cost_delay = 27
Set vacuum_cost_limit = 5879
Set vacuum_cost_page_dirty = 3635
Set vacuum_cost_page_hit = 4726
Set vacuum_cost_page_miss = 452
Set wal_buffers = 124192
Set wal_writer_delay = 6237
Set work_mem = 364881333
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-13-04.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-13-04.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-13-04.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-13-04.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-13-04.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-13-04.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-13-04.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-13-04.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763730720.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-13-04.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-13-04.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-13-04.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-13-04.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 2954.0980114607573
BenchBase wikipedia throughput: 2954.0980114607573
Configuration: {'autovacuum_analyze_scale_factor': 32.39792366687899, 'autovacuum_analyze_threshold': 175612032, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1309735, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 7847, 'autovacuum_vacuum_scale_factor': 25.249027648748555, 'autovacuum_vacuum_threshold': 1916102783, 'backend_flush_after': 121, 'bgwriter_delay': 660, 'bgwriter_flush_after': 176, 'bgwriter_lru_maxpages': 375, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1463, 'commit_delay': 74711, 'commit_siblings': 101, 'cursor_tuple_fraction': 0.6890294859081239, 'deadlock_timeout': 1372354048, 'default_statistics_target': 7970, 'effective_cache_size': 1707371520, 'effective_io_concurrency': 967, 'from_collapse_limit': 1777175680, 'geqo_effort': 5, 'geqo_generations': 26439731, 'geqo_pool_size': 158728192, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 302167713, 'join_collapse_limit': 1186223683, 'maintenance_work_mem': 1410166495, 'max_connections': 1344, 'max_wal_senders': 39, 'shared_buffers': 1348019, 'temp_buffers': 48091579, 'temp_file_limit': 785662288, 'vacuum_cost_delay': 27, 'vacuum_cost_limit': 5879, 'vacuum_cost_page_dirty': 3635, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 452, 'wal_buffers': 124192, 'wal_writer_delay': 6237, 'work_mem': 364881333}, QPS: -2954.0980114607573
Performance (QPS): -2954.0980114607573
Evaluating configuration: {'autovacuum_analyze_scale_factor': 80.29765601629867, 'autovacuum_analyze_threshold': 981446511, 'autovacuum_max_workers': 4, 'autovacuum_naptime': 1262518, 'autovacuum_vacuum_cost_delay': 70, 'autovacuum_vacuum_cost_limit': 4225, 'autovacuum_vacuum_scale_factor': 84.40022175107423, 'autovacuum_vacuum_threshold': 1271614126, 'backend_flush_after': 0, 'bgwriter_delay': 3914, 'bgwriter_flush_after': 41, 'bgwriter_lru_maxpages': 520, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.37501079208491683, 'checkpoint_flush_after': 203, 'checkpoint_timeout': 577, 'commit_delay': 35488, 'commit_siblings': 763, 'cursor_tuple_fraction': 0.18631516111857738, 'deadlock_timeout': 1909242271, 'default_statistics_target': 1665, 'effective_cache_size': 1759806862, 'effective_io_concurrency': 963, 'from_collapse_limit': 237984331, 'geqo_effort': 3, 'geqo_generations': 1893290006, 'geqo_pool_size': 1210446335, 'geqo_seed': 0.5732118279612043, 'geqo_threshold': 1421842797, 'join_collapse_limit': 1984427264, 'maintenance_work_mem': 1582806925, 'max_connections': 975, 'max_wal_senders': 12, 'shared_buffers': 1618522, 'temp_buffers': 615670506, 'temp_file_limit': 458410719, 'vacuum_cost_delay': 8, 'vacuum_cost_limit': 9944, 'vacuum_cost_page_dirty': 4657, 'vacuum_cost_page_hit': 5141, 'vacuum_cost_page_miss': 5424, 'wal_buffers': 28034, 'wal_writer_delay': 6624, 'work_mem': 1900049153}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 80.29765601629867
Set autovacuum_analyze_threshold = 981446511
Set autovacuum_max_workers = 4
Set autovacuum_naptime = 1262518
Set autovacuum_vacuum_cost_delay = 70
Set autovacuum_vacuum_cost_limit = 4225
Set autovacuum_vacuum_scale_factor = 84.40022175107423
Set autovacuum_vacuum_threshold = 1271614126
Set backend_flush_after = 0
Set bgwriter_delay = 3914
Set bgwriter_flush_after = 41
Set bgwriter_lru_maxpages = 520
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.37501079208491683
Set checkpoint_flush_after = 203
Set checkpoint_timeout = 577
Set commit_delay = 35488
Set commit_siblings = 763
Set cursor_tuple_fraction = 0.18631516111857738
Set deadlock_timeout = 1909242271
Set default_statistics_target = 1665
Set effective_cache_size = 1759806862
Set effective_io_concurrency = 963
Set from_collapse_limit = 237984331
Set geqo_effort = 3
Set geqo_generations = 1893290006
Set geqo_pool_size = 1210446335
Set geqo_seed = 0.5732118279612043
Set geqo_threshold = 1421842797
Set join_collapse_limit = 1984427264
Set maintenance_work_mem = 1582806925
Set max_connections = 975
Set max_wal_senders = 12
Set shared_buffers = 1618522
Set temp_buffers = 615670506
Set temp_file_limit = 458410719
Set vacuum_cost_delay = 8
Set vacuum_cost_limit = 9944
Set vacuum_cost_page_dirty = 4657
Set vacuum_cost_page_hit = 5141
Set vacuum_cost_page_miss = 5424
Set wal_buffers = 28034
Set wal_writer_delay = 6624
Set work_mem = 1900049153
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-14-43.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-14-43.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-14-43.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-14-43.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-14-43.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-14-43.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-14-43.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763730819.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-14-43.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-14-43.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-14-43.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-14-43.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-14-43.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 2976.650494381427
BenchBase wikipedia throughput: 2976.650494381427
Configuration: {'autovacuum_analyze_scale_factor': 80.29765601629867, 'autovacuum_analyze_threshold': 981446511, 'autovacuum_max_workers': 4, 'autovacuum_naptime': 1262518, 'autovacuum_vacuum_cost_delay': 70, 'autovacuum_vacuum_cost_limit': 4225, 'autovacuum_vacuum_scale_factor': 84.40022175107423, 'autovacuum_vacuum_threshold': 1271614126, 'backend_flush_after': 0, 'bgwriter_delay': 3914, 'bgwriter_flush_after': 41, 'bgwriter_lru_maxpages': 520, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.37501079208491683, 'checkpoint_flush_after': 203, 'checkpoint_timeout': 577, 'commit_delay': 35488, 'commit_siblings': 763, 'cursor_tuple_fraction': 0.18631516111857738, 'deadlock_timeout': 1909242271, 'default_statistics_target': 1665, 'effective_cache_size': 1759806862, 'effective_io_concurrency': 963, 'from_collapse_limit': 237984331, 'geqo_effort': 3, 'geqo_generations': 1893290006, 'geqo_pool_size': 1210446335, 'geqo_seed': 0.5732118279612043, 'geqo_threshold': 1421842797, 'join_collapse_limit': 1984427264, 'maintenance_work_mem': 1582806925, 'max_connections': 975, 'max_wal_senders': 12, 'shared_buffers': 1618522, 'temp_buffers': 615670506, 'temp_file_limit': 458410719, 'vacuum_cost_delay': 8, 'vacuum_cost_limit': 9944, 'vacuum_cost_page_dirty': 4657, 'vacuum_cost_page_hit': 5141, 'vacuum_cost_page_miss': 5424, 'wal_buffers': 28034, 'wal_writer_delay': 6624, 'work_mem': 1900049153}, QPS: -2976.650494381427
Performance (QPS): -2976.650494381427
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.040112027748709, 'autovacuum_analyze_threshold': 1834609663, 'autovacuum_max_workers': 24, 'autovacuum_naptime': 1409824, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 3390, 'autovacuum_vacuum_scale_factor': 81.51804392162032, 'autovacuum_vacuum_threshold': 96950056, 'backend_flush_after': 183, 'bgwriter_delay': 9164, 'bgwriter_flush_after': 56, 'bgwriter_lru_maxpages': 102, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.38701050110135937, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1796, 'commit_delay': 69606, 'commit_siblings': 972, 'cursor_tuple_fraction': 0.5871000223335845, 'deadlock_timeout': 1854262400, 'default_statistics_target': 8112, 'effective_cache_size': 1926575638, 'effective_io_concurrency': 727, 'from_collapse_limit': 414950080, 'geqo_effort': 5, 'geqo_generations': 1241321971, 'geqo_pool_size': 1044079342, 'geqo_seed': 0.17163584566375145, 'geqo_threshold': 662818657, 'join_collapse_limit': 1237160576, 'maintenance_work_mem': 330058118, 'max_connections': 1625, 'max_wal_senders': 34, 'shared_buffers': 2025089, 'temp_buffers': 1057784641, 'temp_file_limit': 1216034815, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4416, 'vacuum_cost_page_dirty': 5885, 'vacuum_cost_page_hit': 9161, 'vacuum_cost_page_miss': 7658, 'wal_buffers': 32784, 'wal_writer_delay': 4267, 'work_mem': 1579022864}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.040112027748709
Set autovacuum_analyze_threshold = 1834609663
Set autovacuum_max_workers = 24
Set autovacuum_naptime = 1409824
Set autovacuum_vacuum_cost_delay = -1
Set autovacuum_vacuum_cost_limit = 3390
Set autovacuum_vacuum_scale_factor = 81.51804392162032
Set autovacuum_vacuum_threshold = 96950056
Set backend_flush_after = 183
Set bgwriter_delay = 9164
Set bgwriter_flush_after = 56
Set bgwriter_lru_maxpages = 102
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.38701050110135937
Set checkpoint_flush_after = 253
Set checkpoint_timeout = 1796
Set commit_delay = 69606
Set commit_siblings = 972
Set cursor_tuple_fraction = 0.5871000223335845
Set deadlock_timeout = 1854262400
Set default_statistics_target = 8112
Set effective_cache_size = 1926575638
Set effective_io_concurrency = 727
Set from_collapse_limit = 414950080
Set geqo_effort = 5
Set geqo_generations = 1241321971
Set geqo_pool_size = 1044079342
Set geqo_seed = 0.17163584566375145
Set geqo_threshold = 662818657
Set join_collapse_limit = 1237160576
Set maintenance_work_mem = 330058118
Set max_connections = 1625
Set max_wal_senders = 34
Set shared_buffers = 2025089
Set temp_buffers = 1057784641
Set temp_file_limit = 1216034815
Set vacuum_cost_delay = 1
Set vacuum_cost_limit = 4416
Set vacuum_cost_page_dirty = 5885
Set vacuum_cost_page_hit = 9161
Set vacuum_cost_page_miss = 7658
Set wal_buffers = 32784
Set wal_writer_delay = 4267
Set work_mem = 1579022864
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-16-22.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763730919.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-16-22.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-16-22.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-16-22.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-16-22.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-16-22.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-16-22.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-16-22.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-16-22.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-16-22.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-16-22.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-16-22.raw.csv
Parsed throughput from summary.json: 2912.983259274506
BenchBase wikipedia throughput: 2912.983259274506
Configuration: {'autovacuum_analyze_scale_factor': 9.040112027748709, 'autovacuum_analyze_threshold': 1834609663, 'autovacuum_max_workers': 24, 'autovacuum_naptime': 1409824, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 3390, 'autovacuum_vacuum_scale_factor': 81.51804392162032, 'autovacuum_vacuum_threshold': 96950056, 'backend_flush_after': 183, 'bgwriter_delay': 9164, 'bgwriter_flush_after': 56, 'bgwriter_lru_maxpages': 102, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.38701050110135937, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1796, 'commit_delay': 69606, 'commit_siblings': 972, 'cursor_tuple_fraction': 0.5871000223335845, 'deadlock_timeout': 1854262400, 'default_statistics_target': 8112, 'effective_cache_size': 1926575638, 'effective_io_concurrency': 727, 'from_collapse_limit': 414950080, 'geqo_effort': 5, 'geqo_generations': 1241321971, 'geqo_pool_size': 1044079342, 'geqo_seed': 0.17163584566375145, 'geqo_threshold': 662818657, 'join_collapse_limit': 1237160576, 'maintenance_work_mem': 330058118, 'max_connections': 1625, 'max_wal_senders': 34, 'shared_buffers': 2025089, 'temp_buffers': 1057784641, 'temp_file_limit': 1216034815, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4416, 'vacuum_cost_page_dirty': 5885, 'vacuum_cost_page_hit': 9161, 'vacuum_cost_page_miss': 7658, 'wal_buffers': 32784, 'wal_writer_delay': 4267, 'work_mem': 1579022864}, QPS: -2912.983259274506
Performance (QPS): -2912.983259274506
Evaluating configuration: {'autovacuum_analyze_scale_factor': 53.14641217923627, 'autovacuum_analyze_threshold': 486520521, 'autovacuum_max_workers': 77, 'autovacuum_naptime': 1925303, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 6176, 'autovacuum_vacuum_scale_factor': 39.88425160539786, 'autovacuum_vacuum_threshold': 224681923, 'backend_flush_after': 10, 'bgwriter_delay': 4063, 'bgwriter_flush_after': 79, 'bgwriter_lru_maxpages': 786, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.5362004393936322, 'checkpoint_flush_after': 48, 'checkpoint_timeout': 2307, 'commit_delay': 68730, 'commit_siblings': 927, 'cursor_tuple_fraction': 0.9699261422725881, 'deadlock_timeout': 756375937, 'default_statistics_target': 182, 'effective_cache_size': 128449299, 'effective_io_concurrency': 58, 'from_collapse_limit': 927018246, 'geqo_effort': 6, 'geqo_generations': 1879753128, 'geqo_pool_size': 463273753, 'geqo_seed': 0.43974639039562935, 'geqo_threshold': 102560502, 'join_collapse_limit': 1433345404, 'maintenance_work_mem': 1220867862, 'max_connections': 1889, 'max_wal_senders': 3, 'shared_buffers': 3938418, 'temp_buffers': 53254597, 'temp_file_limit': 1454423884, 'vacuum_cost_delay': 55, 'vacuum_cost_limit': 6460, 'vacuum_cost_page_dirty': 775, 'vacuum_cost_page_hit': 1201, 'vacuum_cost_page_miss': 6142, 'wal_buffers': 85590, 'wal_writer_delay': 9021, 'work_mem': 374076239}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 53.14641217923627
Set autovacuum_analyze_threshold = 486520521
Set autovacuum_max_workers = 77
Set autovacuum_naptime = 1925303
Set autovacuum_vacuum_cost_delay = 77
Set autovacuum_vacuum_cost_limit = 6176
Set autovacuum_vacuum_scale_factor = 39.88425160539786
Set autovacuum_vacuum_threshold = 224681923
Set backend_flush_after = 10
Set bgwriter_delay = 4063
Set bgwriter_flush_after = 79
Set bgwriter_lru_maxpages = 786
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.5362004393936322
Set checkpoint_flush_after = 48
Set checkpoint_timeout = 2307
Set commit_delay = 68730
Set commit_siblings = 927
Set cursor_tuple_fraction = 0.9699261422725881
Set deadlock_timeout = 756375937
Set default_statistics_target = 182
Set effective_cache_size = 128449299
Set effective_io_concurrency = 58
Set from_collapse_limit = 927018246
Set geqo_effort = 6
Set geqo_generations = 1879753128
Set geqo_pool_size = 463273753
Set geqo_seed = 0.43974639039562935
Set geqo_threshold = 102560502
Set join_collapse_limit = 1433345404
Set maintenance_work_mem = 1220867862
Set max_connections = 1889
Set max_wal_senders = 3
Set shared_buffers = 3938418
Set temp_buffers = 53254597
Set temp_file_limit = 1454423884
Set vacuum_cost_delay = 55
Set vacuum_cost_limit = 6460
Set vacuum_cost_page_dirty = 775
Set vacuum_cost_page_hit = 1201
Set vacuum_cost_page_miss = 6142
Set wal_buffers = 85590
Set wal_writer_delay = 9021
Set work_mem = 374076239
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
Start failed, removing auto.conf and retrying...
Removed postgresql.auto.conf file (if it existed).
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-17-57.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-17-57.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-17-57.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-17-57.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-17-57.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-17-57.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-17-57.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-17-57.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763731014.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-17-57.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-17-57.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-17-57.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-17-57.results.RemoveWatchList.csv
Parsed throughput from summary.json: 2697.503327322452
BenchBase wikipedia throughput: 2697.503327322452
Configuration: {'autovacuum_analyze_scale_factor': 53.14641217923627, 'autovacuum_analyze_threshold': 486520521, 'autovacuum_max_workers': 77, 'autovacuum_naptime': 1925303, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 6176, 'autovacuum_vacuum_scale_factor': 39.88425160539786, 'autovacuum_vacuum_threshold': 224681923, 'backend_flush_after': 10, 'bgwriter_delay': 4063, 'bgwriter_flush_after': 79, 'bgwriter_lru_maxpages': 786, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.5362004393936322, 'checkpoint_flush_after': 48, 'checkpoint_timeout': 2307, 'commit_delay': 68730, 'commit_siblings': 927, 'cursor_tuple_fraction': 0.9699261422725881, 'deadlock_timeout': 756375937, 'default_statistics_target': 182, 'effective_cache_size': 128449299, 'effective_io_concurrency': 58, 'from_collapse_limit': 927018246, 'geqo_effort': 6, 'geqo_generations': 1879753128, 'geqo_pool_size': 463273753, 'geqo_seed': 0.43974639039562935, 'geqo_threshold': 102560502, 'join_collapse_limit': 1433345404, 'maintenance_work_mem': 1220867862, 'max_connections': 1889, 'max_wal_senders': 3, 'shared_buffers': 3938418, 'temp_buffers': 53254597, 'temp_file_limit': 1454423884, 'vacuum_cost_delay': 55, 'vacuum_cost_limit': 6460, 'vacuum_cost_page_dirty': 775, 'vacuum_cost_page_hit': 1201, 'vacuum_cost_page_miss': 6142, 'wal_buffers': 85590, 'wal_writer_delay': 9021, 'work_mem': 374076239}, QPS: -2697.503327322452
Performance (QPS): -2697.503327322452
Evaluating configuration: {'autovacuum_analyze_scale_factor': 27.55645103941191, 'autovacuum_analyze_threshold': 1382280376, 'autovacuum_max_workers': 59, 'autovacuum_naptime': 1425880, 'autovacuum_vacuum_cost_delay': 13, 'autovacuum_vacuum_cost_limit': 9905, 'autovacuum_vacuum_scale_factor': 95.37518888175302, 'autovacuum_vacuum_threshold': 1309438851, 'backend_flush_after': 1, 'bgwriter_delay': 2272, 'bgwriter_flush_after': 175, 'bgwriter_lru_maxpages': 215, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.001877377776933975, 'checkpoint_flush_after': 25, 'checkpoint_timeout': 3383, 'commit_delay': 77902, 'commit_siblings': 912, 'cursor_tuple_fraction': 0.05012232050151211, 'deadlock_timeout': 1999205951, 'default_statistics_target': 6181, 'effective_cache_size': 1790253489, 'effective_io_concurrency': 144, 'from_collapse_limit': 617989952, 'geqo_effort': 5, 'geqo_generations': 1029229595, 'geqo_pool_size': 1103218280, 'geqo_seed': 0.5203232972092022, 'geqo_threshold': 1305402736, 'join_collapse_limit': 48724887, 'maintenance_work_mem': 506796974, 'max_connections': 326, 'max_wal_senders': 34, 'shared_buffers': 3520429, 'temp_buffers': 468993503, 'temp_file_limit': 1048094207, 'vacuum_cost_delay': 37, 'vacuum_cost_limit': 4907, 'vacuum_cost_page_dirty': 8798, 'vacuum_cost_page_hit': 9859, 'vacuum_cost_page_miss': 6883, 'wal_buffers': 96606, 'wal_writer_delay': 3354, 'work_mem': 1865486956}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
(1 row)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 27.55645103941191
Set autovacuum_analyze_threshold = 1382280376
Set autovacuum_max_workers = 59
Set autovacuum_naptime = 1425880
Set autovacuum_vacuum_cost_delay = 13
Set autovacuum_vacuum_cost_limit = 9905
Set autovacuum_vacuum_scale_factor = 95.37518888175302
Set autovacuum_vacuum_threshold = 1309438851
Set backend_flush_after = 1
Set bgwriter_delay = 2272
Set bgwriter_flush_after = 175
Set bgwriter_lru_maxpages = 215
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.001877377776933975
Set checkpoint_flush_after = 25
Set checkpoint_timeout = 3383
Set commit_delay = 77902
Set commit_siblings = 912
Set cursor_tuple_fraction = 0.05012232050151211
Set deadlock_timeout = 1999205951
Set default_statistics_target = 6181
Set effective_cache_size = 1790253489
Set effective_io_concurrency = 144
Set from_collapse_limit = 617989952
Set geqo_effort = 5
Set geqo_generations = 1029229595
Set geqo_pool_size = 1103218280
Set geqo_seed = 0.5203232972092022
Set geqo_threshold = 1305402736
Set join_collapse_limit = 48724887
Set maintenance_work_mem = 506796974
Set max_connections = 326
Set max_wal_senders = 34
Set shared_buffers = 3520429
Set temp_buffers = 468993503
Set temp_file_limit = 1048094207
Set vacuum_cost_delay = 37
Set vacuum_cost_limit = 4907
Set vacuum_cost_page_dirty = 8798
Set vacuum_cost_page_hit = 9859
Set vacuum_cost_page_miss = 6883
Set wal_buffers = 96606
Set wal_writer_delay = 3354
Set work_mem = 1865486956
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-19-36.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-19-36.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-19-36.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-19-36.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-19-36.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-19-36.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-19-36.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-19-36.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-19-36.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-19-36.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763731113.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-19-36.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-19-36.results.RemoveWatchList.csv
Parsed throughput from summary.json: 2693.3451708798984
BenchBase wikipedia throughput: 2693.3451708798984
Configuration: {'autovacuum_analyze_scale_factor': 27.55645103941191, 'autovacuum_analyze_threshold': 1382280376, 'autovacuum_max_workers': 59, 'autovacuum_naptime': 1425880, 'autovacuum_vacuum_cost_delay': 13, 'autovacuum_vacuum_cost_limit': 9905, 'autovacuum_vacuum_scale_factor': 95.37518888175302, 'autovacuum_vacuum_threshold': 1309438851, 'backend_flush_after': 1, 'bgwriter_delay': 2272, 'bgwriter_flush_after': 175, 'bgwriter_lru_maxpages': 215, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.001877377776933975, 'checkpoint_flush_after': 25, 'checkpoint_timeout': 3383, 'commit_delay': 77902, 'commit_siblings': 912, 'cursor_tuple_fraction': 0.05012232050151211, 'deadlock_timeout': 1999205951, 'default_statistics_target': 6181, 'effective_cache_size': 1790253489, 'effective_io_concurrency': 144, 'from_collapse_limit': 617989952, 'geqo_effort': 5, 'geqo_generations': 1029229595, 'geqo_pool_size': 1103218280, 'geqo_seed': 0.5203232972092022, 'geqo_threshold': 1305402736, 'join_collapse_limit': 48724887, 'maintenance_work_mem': 506796974, 'max_connections': 326, 'max_wal_senders': 34, 'shared_buffers': 3520429, 'temp_buffers': 468993503, 'temp_file_limit': 1048094207, 'vacuum_cost_delay': 37, 'vacuum_cost_limit': 4907, 'vacuum_cost_page_dirty': 8798, 'vacuum_cost_page_hit': 9859, 'vacuum_cost_page_miss': 6883, 'wal_buffers': 96606, 'wal_writer_delay': 3354, 'work_mem': 1865486956}, QPS: -2693.3451708798984
Performance (QPS): -2693.3451708798984
Evaluating configuration: {'autovacuum_analyze_scale_factor': 73.25028692301537, 'autovacuum_analyze_threshold': 653562192, 'autovacuum_max_workers': 180, 'autovacuum_naptime': 391308, 'autovacuum_vacuum_cost_delay': 37, 'autovacuum_vacuum_cost_limit': 7900, 'autovacuum_vacuum_scale_factor': 8.626472611170133, 'autovacuum_vacuum_threshold': 690327903, 'backend_flush_after': 242, 'bgwriter_delay': 185, 'bgwriter_flush_after': 226, 'bgwriter_lru_maxpages': 154, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.5043157321348208, 'checkpoint_flush_after': 191, 'checkpoint_timeout': 3336, 'commit_delay': 69950, 'commit_siblings': 962, 'cursor_tuple_fraction': 0.9528937980045757, 'deadlock_timeout': 1466086262, 'default_statistics_target': 8166, 'effective_cache_size': 805697172, 'effective_io_concurrency': 909, 'from_collapse_limit': 86880539, 'geqo_effort': 5, 'geqo_generations': 820731126, 'geqo_pool_size': 764221878, 'geqo_seed': 0.4875299914838692, 'geqo_threshold': 1171937721, 'join_collapse_limit': 1024375706, 'maintenance_work_mem': 1292489547, 'max_connections': 2288, 'max_wal_senders': 26, 'shared_buffers': 1690322, 'temp_buffers': 1028938996, 'temp_file_limit': 1954228383, 'vacuum_cost_delay': 65, 'vacuum_cost_limit': 701, 'vacuum_cost_page_dirty': 4565, 'vacuum_cost_page_hit': 1795, 'vacuum_cost_page_miss': 6987, 'wal_buffers': 14371, 'wal_writer_delay': 2440, 'work_mem': 1175037368}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 73.25028692301537
Set autovacuum_analyze_threshold = 653562192
Set autovacuum_max_workers = 180
Set autovacuum_naptime = 391308
Set autovacuum_vacuum_cost_delay = 37
Set autovacuum_vacuum_cost_limit = 7900
Set autovacuum_vacuum_scale_factor = 8.626472611170133
Set autovacuum_vacuum_threshold = 690327903
Set backend_flush_after = 242
Set bgwriter_delay = 185
Set bgwriter_flush_after = 226
Set bgwriter_lru_maxpages = 154
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.5043157321348208
Set checkpoint_flush_after = 191
Set checkpoint_timeout = 3336
Set commit_delay = 69950
Set commit_siblings = 962
Set cursor_tuple_fraction = 0.9528937980045757
Set deadlock_timeout = 1466086262
Set default_statistics_target = 8166
Set effective_cache_size = 805697172
Set effective_io_concurrency = 909
Set from_collapse_limit = 86880539
Set geqo_effort = 5
Set geqo_generations = 820731126
Set geqo_pool_size = 764221878
Set geqo_seed = 0.4875299914838692
Set geqo_threshold = 1171937721
Set join_collapse_limit = 1024375706
Set maintenance_work_mem = 1292489547
Set max_connections = 2288
Set max_wal_senders = 26
Set shared_buffers = 1690322
Set temp_buffers = 1028938996
Set temp_file_limit = 1954228383
Set vacuum_cost_delay = 65
Set vacuum_cost_limit = 701
Set vacuum_cost_page_dirty = 4565
Set vacuum_cost_page_hit = 1795
Set vacuum_cost_page_miss = 6987
Set wal_buffers = 14371
Set wal_writer_delay = 2440
Set work_mem = 1175037368
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-21-09.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-21-09.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-21-09.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-21-09.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-21-09.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-21-09.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-21-09.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-21-09.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-21-09.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763731207.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-21-09.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-21-09.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-21-09.results.RemoveWatchList.csv
Parsed throughput from summary.json: 2966.869612303094
BenchBase wikipedia throughput: 2966.869612303094
Configuration: {'autovacuum_analyze_scale_factor': 73.25028692301537, 'autovacuum_analyze_threshold': 653562192, 'autovacuum_max_workers': 180, 'autovacuum_naptime': 391308, 'autovacuum_vacuum_cost_delay': 37, 'autovacuum_vacuum_cost_limit': 7900, 'autovacuum_vacuum_scale_factor': 8.626472611170133, 'autovacuum_vacuum_threshold': 690327903, 'backend_flush_after': 242, 'bgwriter_delay': 185, 'bgwriter_flush_after': 226, 'bgwriter_lru_maxpages': 154, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.5043157321348208, 'checkpoint_flush_after': 191, 'checkpoint_timeout': 3336, 'commit_delay': 69950, 'commit_siblings': 962, 'cursor_tuple_fraction': 0.9528937980045757, 'deadlock_timeout': 1466086262, 'default_statistics_target': 8166, 'effective_cache_size': 805697172, 'effective_io_concurrency': 909, 'from_collapse_limit': 86880539, 'geqo_effort': 5, 'geqo_generations': 820731126, 'geqo_pool_size': 764221878, 'geqo_seed': 0.4875299914838692, 'geqo_threshold': 1171937721, 'join_collapse_limit': 1024375706, 'maintenance_work_mem': 1292489547, 'max_connections': 2288, 'max_wal_senders': 26, 'shared_buffers': 1690322, 'temp_buffers': 1028938996, 'temp_file_limit': 1954228383, 'vacuum_cost_delay': 65, 'vacuum_cost_limit': 701, 'vacuum_cost_page_dirty': 4565, 'vacuum_cost_page_hit': 1795, 'vacuum_cost_page_miss': 6987, 'wal_buffers': 14371, 'wal_writer_delay': 2440, 'work_mem': 1175037368}, QPS: -2966.869612303094
Performance (QPS): -2966.869612303094
Evaluating configuration: {'autovacuum_analyze_scale_factor': 19.150969954759933, 'autovacuum_analyze_threshold': 1845090047, 'autovacuum_max_workers': 26, 'autovacuum_naptime': 2071224, 'autovacuum_vacuum_cost_delay': 79, 'autovacuum_vacuum_cost_limit': 225, 'autovacuum_vacuum_scale_factor': 15.157051019872242, 'autovacuum_vacuum_threshold': 969489257, 'backend_flush_after': 25, 'bgwriter_delay': 1536, 'bgwriter_flush_after': 86, 'bgwriter_lru_maxpages': 353, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.20630660455136585, 'checkpoint_flush_after': 190, 'checkpoint_timeout': 2244, 'commit_delay': 13281, 'commit_siblings': 382, 'cursor_tuple_fraction': 0.04962900630506522, 'deadlock_timeout': 158020784, 'default_statistics_target': 7762, 'effective_cache_size': 1421707136, 'effective_io_concurrency': 968, 'from_collapse_limit': 2023499520, 'geqo_effort': 3, 'geqo_generations': 1581103106, 'geqo_pool_size': 567816960, 'geqo_seed': 0.7773670113401115, 'geqo_threshold': 1179822464, 'join_collapse_limit': 1381239296, 'maintenance_work_mem': 2126568086, 'max_connections': 2228, 'max_wal_senders': 15, 'shared_buffers': 240771, 'temp_buffers': 93259317, 'temp_file_limit': 256361903, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 3962, 'vacuum_cost_page_dirty': 5766, 'vacuum_cost_page_hit': 5222, 'vacuum_cost_page_miss': 4947, 'wal_buffers': 720, 'wal_writer_delay': 9590, 'work_mem': 1153686045}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 19.150969954759933
Set autovacuum_analyze_threshold = 1845090047
Set autovacuum_max_workers = 26
Set autovacuum_naptime = 2071224
Set autovacuum_vacuum_cost_delay = 79
Set autovacuum_vacuum_cost_limit = 225
Set autovacuum_vacuum_scale_factor = 15.157051019872242
Set autovacuum_vacuum_threshold = 969489257
Set backend_flush_after = 25
Set bgwriter_delay = 1536
Set bgwriter_flush_after = 86
Set bgwriter_lru_maxpages = 353
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.20630660455136585
Set checkpoint_flush_after = 190
Set checkpoint_timeout = 2244
Set commit_delay = 13281
Set commit_siblings = 382
Set cursor_tuple_fraction = 0.04962900630506522
Set deadlock_timeout = 158020784
Set default_statistics_target = 7762
Set effective_cache_size = 1421707136
Set effective_io_concurrency = 968
Set from_collapse_limit = 2023499520
Set geqo_effort = 3
Set geqo_generations = 1581103106
Set geqo_pool_size = 567816960
Set geqo_seed = 0.7773670113401115
Set geqo_threshold = 1179822464
Set join_collapse_limit = 1381239296
Set maintenance_work_mem = 2126568086
Set max_connections = 2228
Set max_wal_senders = 15
Set shared_buffers = 240771
Set temp_buffers = 93259317
Set temp_file_limit = 256361903
Set vacuum_cost_delay = 64
Set vacuum_cost_limit = 3962
Set vacuum_cost_page_dirty = 5766
Set vacuum_cost_page_hit = 5222
Set vacuum_cost_page_miss = 4947
Set wal_buffers = 720
Set wal_writer_delay = 9590
Set work_mem = 1153686045
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-22-48.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-22-48.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-22-48.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-22-48.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-22-48.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-22-48.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-22-48.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-22-48.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-22-48.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763731305.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-22-48.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-22-48.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-22-48.results.UpdatePage.csv
Parsed throughput from summary.json: 2943.451031521857
BenchBase wikipedia throughput: 2943.451031521857
Configuration: {'autovacuum_analyze_scale_factor': 19.150969954759933, 'autovacuum_analyze_threshold': 1845090047, 'autovacuum_max_workers': 26, 'autovacuum_naptime': 2071224, 'autovacuum_vacuum_cost_delay': 79, 'autovacuum_vacuum_cost_limit': 225, 'autovacuum_vacuum_scale_factor': 15.157051019872242, 'autovacuum_vacuum_threshold': 969489257, 'backend_flush_after': 25, 'bgwriter_delay': 1536, 'bgwriter_flush_after': 86, 'bgwriter_lru_maxpages': 353, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.20630660455136585, 'checkpoint_flush_after': 190, 'checkpoint_timeout': 2244, 'commit_delay': 13281, 'commit_siblings': 382, 'cursor_tuple_fraction': 0.04962900630506522, 'deadlock_timeout': 158020784, 'default_statistics_target': 7762, 'effective_cache_size': 1421707136, 'effective_io_concurrency': 968, 'from_collapse_limit': 2023499520, 'geqo_effort': 3, 'geqo_generations': 1581103106, 'geqo_pool_size': 567816960, 'geqo_seed': 0.7773670113401115, 'geqo_threshold': 1179822464, 'join_collapse_limit': 1381239296, 'maintenance_work_mem': 2126568086, 'max_connections': 2228, 'max_wal_senders': 15, 'shared_buffers': 240771, 'temp_buffers': 93259317, 'temp_file_limit': 256361903, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 3962, 'vacuum_cost_page_dirty': 5766, 'vacuum_cost_page_hit': 5222, 'vacuum_cost_page_miss': 4947, 'wal_buffers': 720, 'wal_writer_delay': 9590, 'work_mem': 1153686045}, QPS: -2943.451031521857
Performance (QPS): -2943.451031521857
Evaluating configuration: {'autovacuum_analyze_scale_factor': 78.44772113490018, 'autovacuum_analyze_threshold': 672024639, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 1484690, 'autovacuum_vacuum_cost_delay': 74, 'autovacuum_vacuum_cost_limit': 8907, 'autovacuum_vacuum_scale_factor': 97.04932463112092, 'autovacuum_vacuum_threshold': 972181315, 'backend_flush_after': 29, 'bgwriter_delay': 4005, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 291, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.4054637343890279, 'checkpoint_flush_after': 55, 'checkpoint_timeout': 1039, 'commit_delay': 65436, 'commit_siblings': 288, 'cursor_tuple_fraction': 0.4546412703674504, 'deadlock_timeout': 307951944, 'default_statistics_target': 2511, 'effective_cache_size': 1523238493, 'effective_io_concurrency': 968, 'from_collapse_limit': 445539584, 'geqo_effort': 2, 'geqo_generations': 55607756, 'geqo_pool_size': 183574400, 'geqo_seed': 0.5602889578791304, 'geqo_threshold': 981976245, 'join_collapse_limit': 1618464768, 'maintenance_work_mem': 1106840838, 'max_connections': 1149, 'max_wal_senders': 37, 'shared_buffers': 134656, 'temp_buffers': 131906943, 'temp_file_limit': 981645695, 'vacuum_cost_delay': 11, 'vacuum_cost_limit': 4535, 'vacuum_cost_page_dirty': 6263, 'vacuum_cost_page_hit': 7049, 'vacuum_cost_page_miss': 2832, 'wal_buffers': 110566, 'wal_writer_delay': 9602, 'work_mem': 1501823451}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 78.44772113490018
Set autovacuum_analyze_threshold = 672024639
Set autovacuum_max_workers = 83
Set autovacuum_naptime = 1484690
Set autovacuum_vacuum_cost_delay = 74
Set autovacuum_vacuum_cost_limit = 8907
Set autovacuum_vacuum_scale_factor = 97.04932463112092
Set autovacuum_vacuum_threshold = 972181315
Set backend_flush_after = 29
Set bgwriter_delay = 4005
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 291
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.4054637343890279
Set checkpoint_flush_after = 55
Set checkpoint_timeout = 1039
Set commit_delay = 65436
Set commit_siblings = 288
Set cursor_tuple_fraction = 0.4546412703674504
Set deadlock_timeout = 307951944
Set default_statistics_target = 2511
Set effective_cache_size = 1523238493
Set effective_io_concurrency = 968
Set from_collapse_limit = 445539584
Set geqo_effort = 2
Set geqo_generations = 55607756
Set geqo_pool_size = 183574400
Set geqo_seed = 0.5602889578791304
Set geqo_threshold = 981976245
Set join_collapse_limit = 1618464768
Set maintenance_work_mem = 1106840838
Set max_connections = 1149
Set max_wal_senders = 37
Set shared_buffers = 134656
Set temp_buffers = 131906943
Set temp_file_limit = 981645695
Set vacuum_cost_delay = 11
Set vacuum_cost_limit = 4535
Set vacuum_cost_page_dirty = 6263
Set vacuum_cost_page_hit = 7049
Set vacuum_cost_page_miss = 2832
Set wal_buffers = 110566
Set wal_writer_delay = 9602
Set work_mem = 1501823451
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-24-28.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-24-28.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-24-28.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-24-28.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-24-28.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-24-28.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-24-28.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-24-28.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-24-28.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-24-28.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-24-28.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763731404.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-24-28.results.RemoveWatchList.csv
Parsed throughput from summary.json: 2917.881395798341
BenchBase wikipedia throughput: 2917.881395798341
Configuration: {'autovacuum_analyze_scale_factor': 78.44772113490018, 'autovacuum_analyze_threshold': 672024639, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 1484690, 'autovacuum_vacuum_cost_delay': 74, 'autovacuum_vacuum_cost_limit': 8907, 'autovacuum_vacuum_scale_factor': 97.04932463112092, 'autovacuum_vacuum_threshold': 972181315, 'backend_flush_after': 29, 'bgwriter_delay': 4005, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 291, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.4054637343890279, 'checkpoint_flush_after': 55, 'checkpoint_timeout': 1039, 'commit_delay': 65436, 'commit_siblings': 288, 'cursor_tuple_fraction': 0.4546412703674504, 'deadlock_timeout': 307951944, 'default_statistics_target': 2511, 'effective_cache_size': 1523238493, 'effective_io_concurrency': 968, 'from_collapse_limit': 445539584, 'geqo_effort': 2, 'geqo_generations': 55607756, 'geqo_pool_size': 183574400, 'geqo_seed': 0.5602889578791304, 'geqo_threshold': 981976245, 'join_collapse_limit': 1618464768, 'maintenance_work_mem': 1106840838, 'max_connections': 1149, 'max_wal_senders': 37, 'shared_buffers': 134656, 'temp_buffers': 131906943, 'temp_file_limit': 981645695, 'vacuum_cost_delay': 11, 'vacuum_cost_limit': 4535, 'vacuum_cost_page_dirty': 6263, 'vacuum_cost_page_hit': 7049, 'vacuum_cost_page_miss': 2832, 'wal_buffers': 110566, 'wal_writer_delay': 9602, 'work_mem': 1501823451}, QPS: -2917.881395798341
Performance (QPS): -2917.881395798341
Evaluating configuration: {'autovacuum_analyze_scale_factor': 33.11550857688575, 'autovacuum_analyze_threshold': 586573402, 'autovacuum_max_workers': 171, 'autovacuum_naptime': 949578, 'autovacuum_vacuum_cost_delay': 42, 'autovacuum_vacuum_cost_limit': 1865, 'autovacuum_vacuum_scale_factor': 9.51161509856523, 'autovacuum_vacuum_threshold': 148678633, 'backend_flush_after': 117, 'bgwriter_delay': 8527, 'bgwriter_flush_after': 21, 'bgwriter_lru_maxpages': 609, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.3310328970634746, 'checkpoint_flush_after': 182, 'checkpoint_timeout': 1911, 'commit_delay': 89525, 'commit_siblings': 76, 'cursor_tuple_fraction': 0.2164556827143721, 'deadlock_timeout': 950703344, 'default_statistics_target': 3392, 'effective_cache_size': 903216399, 'effective_io_concurrency': 6, 'from_collapse_limit': 178151833, 'geqo_effort': 4, 'geqo_generations': 610463495, 'geqo_pool_size': 2118596338, 'geqo_seed': 0.07275220009314587, 'geqo_threshold': 1781798477, 'join_collapse_limit': 1785937159, 'maintenance_work_mem': 1059939188, 'max_connections': 1225, 'max_wal_senders': 30, 'shared_buffers': 3026564, 'temp_buffers': 571648316, 'temp_file_limit': 468160181, 'vacuum_cost_delay': 19, 'vacuum_cost_limit': 3417, 'vacuum_cost_page_dirty': 7094, 'vacuum_cost_page_hit': 2910, 'vacuum_cost_page_miss': 2777, 'wal_buffers': 89675, 'wal_writer_delay': 8652, 'work_mem': 1583309328}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 33.11550857688575
Set autovacuum_analyze_threshold = 586573402
Set autovacuum_max_workers = 171
Set autovacuum_naptime = 949578
Set autovacuum_vacuum_cost_delay = 42
Set autovacuum_vacuum_cost_limit = 1865
Set autovacuum_vacuum_scale_factor = 9.51161509856523
Set autovacuum_vacuum_threshold = 148678633
Set backend_flush_after = 117
Set bgwriter_delay = 8527
Set bgwriter_flush_after = 21
Set bgwriter_lru_maxpages = 609
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.3310328970634746
Set checkpoint_flush_after = 182
Set checkpoint_timeout = 1911
Set commit_delay = 89525
Set commit_siblings = 76
Set cursor_tuple_fraction = 0.2164556827143721
Set deadlock_timeout = 950703344
Set default_statistics_target = 3392
Set effective_cache_size = 903216399
Set effective_io_concurrency = 6
Set from_collapse_limit = 178151833
Set geqo_effort = 4
Set geqo_generations = 610463495
Set geqo_pool_size = 2118596338
Set geqo_seed = 0.07275220009314587
Set geqo_threshold = 1781798477
Set join_collapse_limit = 1785937159
Set maintenance_work_mem = 1059939188
Set max_connections = 1225
Set max_wal_senders = 30
Set shared_buffers = 3026564
Set temp_buffers = 571648316
Set temp_file_limit = 468160181
Set vacuum_cost_delay = 19
Set vacuum_cost_limit = 3417
Set vacuum_cost_page_dirty = 7094
Set vacuum_cost_page_hit = 2910
Set vacuum_cost_page_miss = 2777
Set wal_buffers = 89675
Set wal_writer_delay = 8652
Set work_mem = 1583309328
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-26-02.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-26-02.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-26-02.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-26-02.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-26-02.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-26-02.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-26-02.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-26-02.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-26-02.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-26-02.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-26-02.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763731499.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-26-02.config.xml
Parsed throughput from summary.json: 2948.5697805841955
BenchBase wikipedia throughput: 2948.5697805841955
Configuration: {'autovacuum_analyze_scale_factor': 33.11550857688575, 'autovacuum_analyze_threshold': 586573402, 'autovacuum_max_workers': 171, 'autovacuum_naptime': 949578, 'autovacuum_vacuum_cost_delay': 42, 'autovacuum_vacuum_cost_limit': 1865, 'autovacuum_vacuum_scale_factor': 9.51161509856523, 'autovacuum_vacuum_threshold': 148678633, 'backend_flush_after': 117, 'bgwriter_delay': 8527, 'bgwriter_flush_after': 21, 'bgwriter_lru_maxpages': 609, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.3310328970634746, 'checkpoint_flush_after': 182, 'checkpoint_timeout': 1911, 'commit_delay': 89525, 'commit_siblings': 76, 'cursor_tuple_fraction': 0.2164556827143721, 'deadlock_timeout': 950703344, 'default_statistics_target': 3392, 'effective_cache_size': 903216399, 'effective_io_concurrency': 6, 'from_collapse_limit': 178151833, 'geqo_effort': 4, 'geqo_generations': 610463495, 'geqo_pool_size': 2118596338, 'geqo_seed': 0.07275220009314587, 'geqo_threshold': 1781798477, 'join_collapse_limit': 1785937159, 'maintenance_work_mem': 1059939188, 'max_connections': 1225, 'max_wal_senders': 30, 'shared_buffers': 3026564, 'temp_buffers': 571648316, 'temp_file_limit': 468160181, 'vacuum_cost_delay': 19, 'vacuum_cost_limit': 3417, 'vacuum_cost_page_dirty': 7094, 'vacuum_cost_page_hit': 2910, 'vacuum_cost_page_miss': 2777, 'wal_buffers': 89675, 'wal_writer_delay': 8652, 'work_mem': 1583309328}, QPS: -2948.5697805841955
Performance (QPS): -2948.5697805841955
Evaluating configuration: {'autovacuum_analyze_scale_factor': 65.62177698282649, 'autovacuum_analyze_threshold': 369824413, 'autovacuum_max_workers': 140, 'autovacuum_naptime': 1510625, 'autovacuum_vacuum_cost_delay': 63, 'autovacuum_vacuum_cost_limit': 6390, 'autovacuum_vacuum_scale_factor': 80.27962384284426, 'autovacuum_vacuum_threshold': 749204653, 'backend_flush_after': 111, 'bgwriter_delay': 5492, 'bgwriter_flush_after': 95, 'bgwriter_lru_maxpages': 326, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.8538491775109598, 'checkpoint_flush_after': 106, 'checkpoint_timeout': 2654, 'commit_delay': 27533, 'commit_siblings': 387, 'cursor_tuple_fraction': 0.42618750768924074, 'deadlock_timeout': 161331248, 'default_statistics_target': 7025, 'effective_cache_size': 1248524958, 'effective_io_concurrency': 850, 'from_collapse_limit': 21626786, 'geqo_effort': 6, 'geqo_generations': 592158692, 'geqo_pool_size': 160090127, 'geqo_seed': 0.6648195636237195, 'geqo_threshold': 214194918, 'join_collapse_limit': 1666654316, 'maintenance_work_mem': 1380194620, 'max_connections': 2203, 'max_wal_senders': 27, 'shared_buffers': 3046622, 'temp_buffers': 58193292, 'temp_file_limit': 1095482326, 'vacuum_cost_delay': 6, 'vacuum_cost_limit': 8066, 'vacuum_cost_page_dirty': 2146, 'vacuum_cost_page_hit': 4006, 'vacuum_cost_page_miss': 2361, 'wal_buffers': 95174, 'wal_writer_delay': 2916, 'work_mem': 988270808}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 65.62177698282649
Set autovacuum_analyze_threshold = 369824413
Set autovacuum_max_workers = 140
Set autovacuum_naptime = 1510625
Set autovacuum_vacuum_cost_delay = 63
Set autovacuum_vacuum_cost_limit = 6390
Set autovacuum_vacuum_scale_factor = 80.27962384284426
Set autovacuum_vacuum_threshold = 749204653
Set backend_flush_after = 111
Set bgwriter_delay = 5492
Set bgwriter_flush_after = 95
Set bgwriter_lru_maxpages = 326
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.8538491775109598
Set checkpoint_flush_after = 106
Set checkpoint_timeout = 2654
Set commit_delay = 27533
Set commit_siblings = 387
Set cursor_tuple_fraction = 0.42618750768924074
Set deadlock_timeout = 161331248
Set default_statistics_target = 7025
Set effective_cache_size = 1248524958
Set effective_io_concurrency = 850
Set from_collapse_limit = 21626786
Set geqo_effort = 6
Set geqo_generations = 592158692
Set geqo_pool_size = 160090127
Set geqo_seed = 0.6648195636237195
Set geqo_threshold = 214194918
Set join_collapse_limit = 1666654316
Set maintenance_work_mem = 1380194620
Set max_connections = 2203
Set max_wal_senders = 27
Set shared_buffers = 3046622
Set temp_buffers = 58193292
Set temp_file_limit = 1095482326
Set vacuum_cost_delay = 6
Set vacuum_cost_limit = 8066
Set vacuum_cost_page_dirty = 2146
Set vacuum_cost_page_hit = 4006
Set vacuum_cost_page_miss = 2361
Set wal_buffers = 95174
Set wal_writer_delay = 2916
Set work_mem = 988270808
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-27-37.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-27-37.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-27-37.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-27-37.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-27-37.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-27-37.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-27-37.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-27-37.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-27-37.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763731593.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-27-37.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-27-37.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-27-37.raw.csv
Parsed throughput from summary.json: 2813.389760398113
BenchBase wikipedia throughput: 2813.389760398113
Configuration: {'autovacuum_analyze_scale_factor': 65.62177698282649, 'autovacuum_analyze_threshold': 369824413, 'autovacuum_max_workers': 140, 'autovacuum_naptime': 1510625, 'autovacuum_vacuum_cost_delay': 63, 'autovacuum_vacuum_cost_limit': 6390, 'autovacuum_vacuum_scale_factor': 80.27962384284426, 'autovacuum_vacuum_threshold': 749204653, 'backend_flush_after': 111, 'bgwriter_delay': 5492, 'bgwriter_flush_after': 95, 'bgwriter_lru_maxpages': 326, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.8538491775109598, 'checkpoint_flush_after': 106, 'checkpoint_timeout': 2654, 'commit_delay': 27533, 'commit_siblings': 387, 'cursor_tuple_fraction': 0.42618750768924074, 'deadlock_timeout': 161331248, 'default_statistics_target': 7025, 'effective_cache_size': 1248524958, 'effective_io_concurrency': 850, 'from_collapse_limit': 21626786, 'geqo_effort': 6, 'geqo_generations': 592158692, 'geqo_pool_size': 160090127, 'geqo_seed': 0.6648195636237195, 'geqo_threshold': 214194918, 'join_collapse_limit': 1666654316, 'maintenance_work_mem': 1380194620, 'max_connections': 2203, 'max_wal_senders': 27, 'shared_buffers': 3046622, 'temp_buffers': 58193292, 'temp_file_limit': 1095482326, 'vacuum_cost_delay': 6, 'vacuum_cost_limit': 8066, 'vacuum_cost_page_dirty': 2146, 'vacuum_cost_page_hit': 4006, 'vacuum_cost_page_miss': 2361, 'wal_buffers': 95174, 'wal_writer_delay': 2916, 'work_mem': 988270808}, QPS: -2813.389760398113
Performance (QPS): -2813.389760398113
Evaluating configuration: {'autovacuum_analyze_scale_factor': 69.3136242385175, 'autovacuum_analyze_threshold': 150689152, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 69, 'autovacuum_vacuum_cost_limit': 9125, 'autovacuum_vacuum_scale_factor': 28.64810159211746, 'autovacuum_vacuum_threshold': 1980742143, 'backend_flush_after': 121, 'bgwriter_delay': 1476, 'bgwriter_flush_after': 190, 'bgwriter_lru_maxpages': 493, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 255, 'checkpoint_timeout': 1158, 'commit_delay': 73877, 'commit_siblings': 109, 'cursor_tuple_fraction': 0.5409189415129384, 'deadlock_timeout': 1403641216, 'default_statistics_target': 9159, 'effective_cache_size': 1708186880, 'effective_io_concurrency': 972, 'from_collapse_limit': 1632797165, 'geqo_effort': 1, 'geqo_generations': 140268816, 'geqo_pool_size': 426323744, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 320889473, 'join_collapse_limit': 1215193728, 'maintenance_work_mem': 1515041965, 'max_connections': 1354, 'max_wal_senders': 36, 'shared_buffers': 1457487, 'temp_buffers': 70966661, 'temp_file_limit': 926772479, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 4056, 'vacuum_cost_page_dirty': 4558, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 504, 'wal_buffers': 124192, 'wal_writer_delay': 6540, 'work_mem': 293834647}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 69.3136242385175
Set autovacuum_analyze_threshold = 150689152
Set autovacuum_max_workers = 120
Set autovacuum_naptime = 1638901
Set autovacuum_vacuum_cost_delay = 69
Set autovacuum_vacuum_cost_limit = 9125
Set autovacuum_vacuum_scale_factor = 28.64810159211746
Set autovacuum_vacuum_threshold = 1980742143
Set backend_flush_after = 121
Set bgwriter_delay = 1476
Set bgwriter_flush_after = 190
Set bgwriter_lru_maxpages = 493
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.37640343574207813
Set checkpoint_flush_after = 255
Set checkpoint_timeout = 1158
Set commit_delay = 73877
Set commit_siblings = 109
Set cursor_tuple_fraction = 0.5409189415129384
Set deadlock_timeout = 1403641216
Set default_statistics_target = 9159
Set effective_cache_size = 1708186880
Set effective_io_concurrency = 972
Set from_collapse_limit = 1632797165
Set geqo_effort = 1
Set geqo_generations = 140268816
Set geqo_pool_size = 426323744
Set geqo_seed = 0.3350911243891298
Set geqo_threshold = 320889473
Set join_collapse_limit = 1215193728
Set maintenance_work_mem = 1515041965
Set max_connections = 1354
Set max_wal_senders = 36
Set shared_buffers = 1457487
Set temp_buffers = 70966661
Set temp_file_limit = 926772479
Set vacuum_cost_delay = 32
Set vacuum_cost_limit = 4056
Set vacuum_cost_page_dirty = 4558
Set vacuum_cost_page_hit = 4726
Set vacuum_cost_page_miss = 504
Set wal_buffers = 124192
Set wal_writer_delay = 6540
Set work_mem = 293834647
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-29-18.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-29-18.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-29-18.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-29-18.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-29-18.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-29-18.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763731694.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-29-18.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-29-18.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-29-18.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-29-18.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-29-18.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-29-18.results.UpdatePage.csv
Parsed throughput from summary.json: 2901.504327541508
BenchBase wikipedia throughput: 2901.504327541508
Configuration: {'autovacuum_analyze_scale_factor': 69.3136242385175, 'autovacuum_analyze_threshold': 150689152, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 69, 'autovacuum_vacuum_cost_limit': 9125, 'autovacuum_vacuum_scale_factor': 28.64810159211746, 'autovacuum_vacuum_threshold': 1980742143, 'backend_flush_after': 121, 'bgwriter_delay': 1476, 'bgwriter_flush_after': 190, 'bgwriter_lru_maxpages': 493, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 255, 'checkpoint_timeout': 1158, 'commit_delay': 73877, 'commit_siblings': 109, 'cursor_tuple_fraction': 0.5409189415129384, 'deadlock_timeout': 1403641216, 'default_statistics_target': 9159, 'effective_cache_size': 1708186880, 'effective_io_concurrency': 972, 'from_collapse_limit': 1632797165, 'geqo_effort': 1, 'geqo_generations': 140268816, 'geqo_pool_size': 426323744, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 320889473, 'join_collapse_limit': 1215193728, 'maintenance_work_mem': 1515041965, 'max_connections': 1354, 'max_wal_senders': 36, 'shared_buffers': 1457487, 'temp_buffers': 70966661, 'temp_file_limit': 926772479, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 4056, 'vacuum_cost_page_dirty': 4558, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 504, 'wal_buffers': 124192, 'wal_writer_delay': 6540, 'work_mem': 293834647}, QPS: -2901.504327541508
Performance (QPS): -2901.504327541508
Evaluating configuration: {'autovacuum_analyze_scale_factor': 27.104429494868228, 'autovacuum_analyze_threshold': 1701617535, 'autovacuum_max_workers': 26, 'autovacuum_naptime': 2084188, 'autovacuum_vacuum_cost_delay': 71, 'autovacuum_vacuum_cost_limit': 225, 'autovacuum_vacuum_scale_factor': 13.362576284079108, 'autovacuum_vacuum_threshold': 969489257, 'backend_flush_after': 19, 'bgwriter_delay': 1536, 'bgwriter_flush_after': 86, 'bgwriter_lru_maxpages': 353, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.20630660455136585, 'checkpoint_flush_after': 190, 'checkpoint_timeout': 2244, 'commit_delay': 13281, 'commit_siblings': 382, 'cursor_tuple_fraction': 0.1410844797844767, 'deadlock_timeout': 158020784, 'default_statistics_target': 9497, 'effective_cache_size': 1421707136, 'effective_io_concurrency': 975, 'from_collapse_limit': 1738933760, 'geqo_effort': 1, 'geqo_generations': 1581103106, 'geqo_pool_size': 567816960, 'geqo_seed': 0.7773670113401115, 'geqo_threshold': 1291991936, 'join_collapse_limit': 1381239296, 'maintenance_work_mem': 2126568086, 'max_connections': 1686, 'max_wal_senders': 15, 'shared_buffers': 240771, 'temp_buffers': 93259317, 'temp_file_limit': 75678919, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 2853, 'vacuum_cost_page_dirty': 7057, 'vacuum_cost_page_hit': 5222, 'vacuum_cost_page_miss': 4947, 'wal_buffers': 720, 'wal_writer_delay': 9590, 'work_mem': 1153686045}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 27.104429494868228
Set autovacuum_analyze_threshold = 1701617535
Set autovacuum_max_workers = 26
Set autovacuum_naptime = 2084188
Set autovacuum_vacuum_cost_delay = 71
Set autovacuum_vacuum_cost_limit = 225
Set autovacuum_vacuum_scale_factor = 13.362576284079108
Set autovacuum_vacuum_threshold = 969489257
Set backend_flush_after = 19
Set bgwriter_delay = 1536
Set bgwriter_flush_after = 86
Set bgwriter_lru_maxpages = 353
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.20630660455136585
Set checkpoint_flush_after = 190
Set checkpoint_timeout = 2244
Set commit_delay = 13281
Set commit_siblings = 382
Set cursor_tuple_fraction = 0.1410844797844767
Set deadlock_timeout = 158020784
Set default_statistics_target = 9497
Set effective_cache_size = 1421707136
Set effective_io_concurrency = 975
Set from_collapse_limit = 1738933760
Set geqo_effort = 1
Set geqo_generations = 1581103106
Set geqo_pool_size = 567816960
Set geqo_seed = 0.7773670113401115
Set geqo_threshold = 1291991936
Set join_collapse_limit = 1381239296
Set maintenance_work_mem = 2126568086
Set max_connections = 1686
Set max_wal_senders = 15
Set shared_buffers = 240771
Set temp_buffers = 93259317
Set temp_file_limit = 75678919
Set vacuum_cost_delay = 64
Set vacuum_cost_limit = 2853
Set vacuum_cost_page_dirty = 7057
Set vacuum_cost_page_hit = 5222
Set vacuum_cost_page_miss = 4947
Set wal_buffers = 720
Set wal_writer_delay = 9590
Set work_mem = 1153686045
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-30-57.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-30-57.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-30-57.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-30-57.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-30-57.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-30-57.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-30-57.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-30-57.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-30-57.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-30-57.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-30-57.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763731793.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-30-57.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 2994.282645178322
BenchBase wikipedia throughput: 2994.282645178322
Configuration: {'autovacuum_analyze_scale_factor': 27.104429494868228, 'autovacuum_analyze_threshold': 1701617535, 'autovacuum_max_workers': 26, 'autovacuum_naptime': 2084188, 'autovacuum_vacuum_cost_delay': 71, 'autovacuum_vacuum_cost_limit': 225, 'autovacuum_vacuum_scale_factor': 13.362576284079108, 'autovacuum_vacuum_threshold': 969489257, 'backend_flush_after': 19, 'bgwriter_delay': 1536, 'bgwriter_flush_after': 86, 'bgwriter_lru_maxpages': 353, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.20630660455136585, 'checkpoint_flush_after': 190, 'checkpoint_timeout': 2244, 'commit_delay': 13281, 'commit_siblings': 382, 'cursor_tuple_fraction': 0.1410844797844767, 'deadlock_timeout': 158020784, 'default_statistics_target': 9497, 'effective_cache_size': 1421707136, 'effective_io_concurrency': 975, 'from_collapse_limit': 1738933760, 'geqo_effort': 1, 'geqo_generations': 1581103106, 'geqo_pool_size': 567816960, 'geqo_seed': 0.7773670113401115, 'geqo_threshold': 1291991936, 'join_collapse_limit': 1381239296, 'maintenance_work_mem': 2126568086, 'max_connections': 1686, 'max_wal_senders': 15, 'shared_buffers': 240771, 'temp_buffers': 93259317, 'temp_file_limit': 75678919, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 2853, 'vacuum_cost_page_dirty': 7057, 'vacuum_cost_page_hit': 5222, 'vacuum_cost_page_miss': 4947, 'wal_buffers': 720, 'wal_writer_delay': 9590, 'work_mem': 1153686045}, QPS: -2994.282645178322
Performance (QPS): -2994.282645178322
Evaluating configuration: {'autovacuum_analyze_scale_factor': 68.16619218154527, 'autovacuum_analyze_threshold': 1754208857, 'autovacuum_max_workers': 39, 'autovacuum_naptime': 916773, 'autovacuum_vacuum_cost_delay': 12, 'autovacuum_vacuum_cost_limit': 9997, 'autovacuum_vacuum_scale_factor': 88.4695683314905, 'autovacuum_vacuum_threshold': 1770961784, 'backend_flush_after': 126, 'bgwriter_delay': 321, 'bgwriter_flush_after': 196, 'bgwriter_lru_maxpages': 619, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.2914048716449791, 'checkpoint_flush_after': 51, 'checkpoint_timeout': 1580, 'commit_delay': 78605, 'commit_siblings': 990, 'cursor_tuple_fraction': 0.5129929030552349, 'deadlock_timeout': 2052421285, 'default_statistics_target': 5535, 'effective_cache_size': 358988716, 'effective_io_concurrency': 99, 'from_collapse_limit': 1439279123, 'geqo_effort': 6, 'geqo_generations': 1831880526, 'geqo_pool_size': 1903934695, 'geqo_seed': 0.2558756978199409, 'geqo_threshold': 2078211662, 'join_collapse_limit': 1489603180, 'maintenance_work_mem': 398992129, 'max_connections': 2656, 'max_wal_senders': 47, 'shared_buffers': 604801, 'temp_buffers': 74975993, 'temp_file_limit': 1479381653, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 3687, 'vacuum_cost_page_dirty': 2971, 'vacuum_cost_page_hit': 7118, 'vacuum_cost_page_miss': 5802, 'wal_buffers': 55552, 'wal_writer_delay': 3653, 'work_mem': 698678533}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 68.16619218154527
Set autovacuum_analyze_threshold = 1754208857
Set autovacuum_max_workers = 39
Set autovacuum_naptime = 916773
Set autovacuum_vacuum_cost_delay = 12
Set autovacuum_vacuum_cost_limit = 9997
Set autovacuum_vacuum_scale_factor = 88.4695683314905
Set autovacuum_vacuum_threshold = 1770961784
Set backend_flush_after = 126
Set bgwriter_delay = 321
Set bgwriter_flush_after = 196
Set bgwriter_lru_maxpages = 619
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.2914048716449791
Set checkpoint_flush_after = 51
Set checkpoint_timeout = 1580
Set commit_delay = 78605
Set commit_siblings = 990
Set cursor_tuple_fraction = 0.5129929030552349
Set deadlock_timeout = 2052421285
Set default_statistics_target = 5535
Set effective_cache_size = 358988716
Set effective_io_concurrency = 99
Set from_collapse_limit = 1439279123
Set geqo_effort = 6
Set geqo_generations = 1831880526
Set geqo_pool_size = 1903934695
Set geqo_seed = 0.2558756978199409
Set geqo_threshold = 2078211662
Set join_collapse_limit = 1489603180
Set maintenance_work_mem = 398992129
Set max_connections = 2656
Set max_wal_senders = 47
Set shared_buffers = 604801
Set temp_buffers = 74975993
Set temp_file_limit = 1479381653
Set vacuum_cost_delay = 99
Set vacuum_cost_limit = 3687
Set vacuum_cost_page_dirty = 2971
Set vacuum_cost_page_hit = 7118
Set vacuum_cost_page_miss = 5802
Set wal_buffers = 55552
Set wal_writer_delay = 3653
Set work_mem = 698678533
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-32-31.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-32-31.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-32-31.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-32-31.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763731887.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-32-31.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-32-31.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-32-31.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-32-31.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-32-31.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-32-31.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-32-31.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-32-31.samples.csv
Parsed throughput from summary.json: 2891.6882637314284
BenchBase wikipedia throughput: 2891.6882637314284
Configuration: {'autovacuum_analyze_scale_factor': 68.16619218154527, 'autovacuum_analyze_threshold': 1754208857, 'autovacuum_max_workers': 39, 'autovacuum_naptime': 916773, 'autovacuum_vacuum_cost_delay': 12, 'autovacuum_vacuum_cost_limit': 9997, 'autovacuum_vacuum_scale_factor': 88.4695683314905, 'autovacuum_vacuum_threshold': 1770961784, 'backend_flush_after': 126, 'bgwriter_delay': 321, 'bgwriter_flush_after': 196, 'bgwriter_lru_maxpages': 619, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.2914048716449791, 'checkpoint_flush_after': 51, 'checkpoint_timeout': 1580, 'commit_delay': 78605, 'commit_siblings': 990, 'cursor_tuple_fraction': 0.5129929030552349, 'deadlock_timeout': 2052421285, 'default_statistics_target': 5535, 'effective_cache_size': 358988716, 'effective_io_concurrency': 99, 'from_collapse_limit': 1439279123, 'geqo_effort': 6, 'geqo_generations': 1831880526, 'geqo_pool_size': 1903934695, 'geqo_seed': 0.2558756978199409, 'geqo_threshold': 2078211662, 'join_collapse_limit': 1489603180, 'maintenance_work_mem': 398992129, 'max_connections': 2656, 'max_wal_senders': 47, 'shared_buffers': 604801, 'temp_buffers': 74975993, 'temp_file_limit': 1479381653, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 3687, 'vacuum_cost_page_dirty': 2971, 'vacuum_cost_page_hit': 7118, 'vacuum_cost_page_miss': 5802, 'wal_buffers': 55552, 'wal_writer_delay': 3653, 'work_mem': 698678533}, QPS: -2891.6882637314284
Performance (QPS): -2891.6882637314284
Evaluating configuration: {'autovacuum_analyze_scale_factor': 86.40118067500846, 'autovacuum_analyze_threshold': 699325760, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 1484690, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8907, 'autovacuum_vacuum_scale_factor': 99.65316993975279, 'autovacuum_vacuum_threshold': 747896896, 'backend_flush_after': 24, 'bgwriter_delay': 4005, 'bgwriter_flush_after': 24, 'bgwriter_lru_maxpages': 291, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.4054637343890279, 'checkpoint_flush_after': 55, 'checkpoint_timeout': 1039, 'commit_delay': 65436, 'commit_siblings': 334, 'cursor_tuple_fraction': 0.41583527965992684, 'deadlock_timeout': 307951944, 'default_statistics_target': 2511, 'effective_cache_size': 1323308544, 'effective_io_concurrency': 968, 'from_collapse_limit': 445539584, 'geqo_effort': 7, 'geqo_generations': 51679060, 'geqo_pool_size': 183574400, 'geqo_seed': 0.5602889578791304, 'geqo_threshold': 981976245, 'join_collapse_limit': 1618464768, 'maintenance_work_mem': 1106840838, 'max_connections': 1111, 'max_wal_senders': 37, 'shared_buffers': 134656, 'temp_buffers': 111369905, 'temp_file_limit': 1191759103, 'vacuum_cost_delay': 11, 'vacuum_cost_limit': 3550, 'vacuum_cost_page_dirty': 6263, 'vacuum_cost_page_hit': 8084, 'vacuum_cost_page_miss': 4783, 'wal_buffers': 110566, 'wal_writer_delay': 9602, 'work_mem': 1501823451}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 86.40118067500846
Set autovacuum_analyze_threshold = 699325760
Set autovacuum_max_workers = 83
Set autovacuum_naptime = 1484690
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8907
Set autovacuum_vacuum_scale_factor = 99.65316993975279
Set autovacuum_vacuum_threshold = 747896896
Set backend_flush_after = 24
Set bgwriter_delay = 4005
Set bgwriter_flush_after = 24
Set bgwriter_lru_maxpages = 291
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.4054637343890279
Set checkpoint_flush_after = 55
Set checkpoint_timeout = 1039
Set commit_delay = 65436
Set commit_siblings = 334
Set cursor_tuple_fraction = 0.41583527965992684
Set deadlock_timeout = 307951944
Set default_statistics_target = 2511
Set effective_cache_size = 1323308544
Set effective_io_concurrency = 968
Set from_collapse_limit = 445539584
Set geqo_effort = 7
Set geqo_generations = 51679060
Set geqo_pool_size = 183574400
Set geqo_seed = 0.5602889578791304
Set geqo_threshold = 981976245
Set join_collapse_limit = 1618464768
Set maintenance_work_mem = 1106840838
Set max_connections = 1111
Set max_wal_senders = 37
Set shared_buffers = 134656
Set temp_buffers = 111369905
Set temp_file_limit = 1191759103
Set vacuum_cost_delay = 11
Set vacuum_cost_limit = 3550
Set vacuum_cost_page_dirty = 6263
Set vacuum_cost_page_hit = 8084
Set vacuum_cost_page_miss = 4783
Set wal_buffers = 110566
Set wal_writer_delay = 9602
Set work_mem = 1501823451
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-34-11.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-34-11.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-34-11.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-34-11.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-34-11.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-34-11.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-34-11.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-34-11.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-34-11.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763731987.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-34-11.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-34-11.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-34-11.metrics.json
Parsed throughput from summary.json: 2843.2156517639137
BenchBase wikipedia throughput: 2843.2156517639137
Configuration: {'autovacuum_analyze_scale_factor': 86.40118067500846, 'autovacuum_analyze_threshold': 699325760, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 1484690, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8907, 'autovacuum_vacuum_scale_factor': 99.65316993975279, 'autovacuum_vacuum_threshold': 747896896, 'backend_flush_after': 24, 'bgwriter_delay': 4005, 'bgwriter_flush_after': 24, 'bgwriter_lru_maxpages': 291, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.4054637343890279, 'checkpoint_flush_after': 55, 'checkpoint_timeout': 1039, 'commit_delay': 65436, 'commit_siblings': 334, 'cursor_tuple_fraction': 0.41583527965992684, 'deadlock_timeout': 307951944, 'default_statistics_target': 2511, 'effective_cache_size': 1323308544, 'effective_io_concurrency': 968, 'from_collapse_limit': 445539584, 'geqo_effort': 7, 'geqo_generations': 51679060, 'geqo_pool_size': 183574400, 'geqo_seed': 0.5602889578791304, 'geqo_threshold': 981976245, 'join_collapse_limit': 1618464768, 'maintenance_work_mem': 1106840838, 'max_connections': 1111, 'max_wal_senders': 37, 'shared_buffers': 134656, 'temp_buffers': 111369905, 'temp_file_limit': 1191759103, 'vacuum_cost_delay': 11, 'vacuum_cost_limit': 3550, 'vacuum_cost_page_dirty': 6263, 'vacuum_cost_page_hit': 8084, 'vacuum_cost_page_miss': 4783, 'wal_buffers': 110566, 'wal_writer_delay': 9602, 'work_mem': 1501823451}, QPS: -2843.2156517639137
Performance (QPS): -2843.2156517639137
Evaluating configuration: {'autovacuum_analyze_scale_factor': 17.629904351870174, 'autovacuum_analyze_threshold': 2074690815, 'autovacuum_max_workers': 24, 'autovacuum_naptime': 718045, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 8160, 'autovacuum_vacuum_scale_factor': 86.03896746917638, 'autovacuum_vacuum_threshold': 225306256, 'backend_flush_after': 129, 'bgwriter_delay': 922, 'bgwriter_flush_after': 222, 'bgwriter_lru_maxpages': 555, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.8070635631063235, 'checkpoint_flush_after': 172, 'checkpoint_timeout': 1882, 'commit_delay': 35039, 'commit_siblings': 507, 'cursor_tuple_fraction': 0.9207416173497294, 'deadlock_timeout': 1881472646, 'default_statistics_target': 3566, 'effective_cache_size': 2146831360, 'effective_io_concurrency': 976, 'from_collapse_limit': 1190816896, 'geqo_effort': 6, 'geqo_generations': 1230167078, 'geqo_pool_size': 1627742851, 'geqo_seed': 0.12890922446039188, 'geqo_threshold': 1218445113, 'join_collapse_limit': 19901994, 'maintenance_work_mem': 1661206887, 'max_connections': 1597, 'max_wal_senders': 50, 'shared_buffers': 1023437, 'temp_buffers': 151349525, 'temp_file_limit': 684991615, 'vacuum_cost_delay': 13, 'vacuum_cost_limit': 3355, 'vacuum_cost_page_dirty': 4588, 'vacuum_cost_page_hit': 9270, 'vacuum_cost_page_miss': 3101, 'wal_buffers': 49964, 'wal_writer_delay': 1563, 'work_mem': 1183048604}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 17.629904351870174
Set autovacuum_analyze_threshold = 2074690815
Set autovacuum_max_workers = 24
Set autovacuum_naptime = 718045
Set autovacuum_vacuum_cost_delay = 96
Set autovacuum_vacuum_cost_limit = 8160
Set autovacuum_vacuum_scale_factor = 86.03896746917638
Set autovacuum_vacuum_threshold = 225306256
Set backend_flush_after = 129
Set bgwriter_delay = 922
Set bgwriter_flush_after = 222
Set bgwriter_lru_maxpages = 555
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.8070635631063235
Set checkpoint_flush_after = 172
Set checkpoint_timeout = 1882
Set commit_delay = 35039
Set commit_siblings = 507
Set cursor_tuple_fraction = 0.9207416173497294
Set deadlock_timeout = 1881472646
Set default_statistics_target = 3566
Set effective_cache_size = 2146831360
Set effective_io_concurrency = 976
Set from_collapse_limit = 1190816896
Set geqo_effort = 6
Set geqo_generations = 1230167078
Set geqo_pool_size = 1627742851
Set geqo_seed = 0.12890922446039188
Set geqo_threshold = 1218445113
Set join_collapse_limit = 19901994
Set maintenance_work_mem = 1661206887
Set max_connections = 1597
Set max_wal_senders = 50
Set shared_buffers = 1023437
Set temp_buffers = 151349525
Set temp_file_limit = 684991615
Set vacuum_cost_delay = 13
Set vacuum_cost_limit = 3355
Set vacuum_cost_page_dirty = 4588
Set vacuum_cost_page_hit = 9270
Set vacuum_cost_page_miss = 3101
Set wal_buffers = 49964
Set wal_writer_delay = 1563
Set work_mem = 1183048604
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-35-49.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-35-49.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-35-49.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-35-49.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-35-49.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-35-49.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-35-49.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-35-49.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-35-49.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763732086.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-35-49.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-35-49.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-35-49.config.xml
Parsed throughput from summary.json: 2918.919690948126
BenchBase wikipedia throughput: 2918.919690948126
Configuration: {'autovacuum_analyze_scale_factor': 17.629904351870174, 'autovacuum_analyze_threshold': 2074690815, 'autovacuum_max_workers': 24, 'autovacuum_naptime': 718045, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 8160, 'autovacuum_vacuum_scale_factor': 86.03896746917638, 'autovacuum_vacuum_threshold': 225306256, 'backend_flush_after': 129, 'bgwriter_delay': 922, 'bgwriter_flush_after': 222, 'bgwriter_lru_maxpages': 555, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.8070635631063235, 'checkpoint_flush_after': 172, 'checkpoint_timeout': 1882, 'commit_delay': 35039, 'commit_siblings': 507, 'cursor_tuple_fraction': 0.9207416173497294, 'deadlock_timeout': 1881472646, 'default_statistics_target': 3566, 'effective_cache_size': 2146831360, 'effective_io_concurrency': 976, 'from_collapse_limit': 1190816896, 'geqo_effort': 6, 'geqo_generations': 1230167078, 'geqo_pool_size': 1627742851, 'geqo_seed': 0.12890922446039188, 'geqo_threshold': 1218445113, 'join_collapse_limit': 19901994, 'maintenance_work_mem': 1661206887, 'max_connections': 1597, 'max_wal_senders': 50, 'shared_buffers': 1023437, 'temp_buffers': 151349525, 'temp_file_limit': 684991615, 'vacuum_cost_delay': 13, 'vacuum_cost_limit': 3355, 'vacuum_cost_page_dirty': 4588, 'vacuum_cost_page_hit': 9270, 'vacuum_cost_page_miss': 3101, 'wal_buffers': 49964, 'wal_writer_delay': 1563, 'work_mem': 1183048604}, QPS: -2918.919690948126
Performance (QPS): -2918.919690948126
Evaluating configuration: {'autovacuum_analyze_scale_factor': 72.72336826574318, 'autovacuum_analyze_threshold': 2109352889, 'autovacuum_max_workers': 55, 'autovacuum_naptime': 1663093, 'autovacuum_vacuum_cost_delay': 93, 'autovacuum_vacuum_cost_limit': 4553, 'autovacuum_vacuum_scale_factor': 2.862302001372219, 'autovacuum_vacuum_threshold': 1649020082, 'backend_flush_after': 16, 'bgwriter_delay': 3617, 'bgwriter_flush_after': 198, 'bgwriter_lru_maxpages': 939, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.9874736067785186, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1564, 'commit_delay': 52908, 'commit_siblings': 685, 'cursor_tuple_fraction': 0.371634686835946, 'deadlock_timeout': 901474335, 'default_statistics_target': 6661, 'effective_cache_size': 1770440283, 'effective_io_concurrency': 422, 'from_collapse_limit': 1436222727, 'geqo_effort': 7, 'geqo_generations': 1321594123, 'geqo_pool_size': 1429695838, 'geqo_seed': 0.5159949239933193, 'geqo_threshold': 1237040433, 'join_collapse_limit': 1508936517, 'maintenance_work_mem': 1869609724, 'max_connections': 574, 'max_wal_senders': 25, 'shared_buffers': 3702730, 'temp_buffers': 231797852, 'temp_file_limit': 1102587363, 'vacuum_cost_delay': 68, 'vacuum_cost_limit': 6772, 'vacuum_cost_page_dirty': 7200, 'vacuum_cost_page_hit': 605, 'vacuum_cost_page_miss': 8562, 'wal_buffers': 52952, 'wal_writer_delay': 8667, 'work_mem': 141852294}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 72.72336826574318
Set autovacuum_analyze_threshold = 2109352889
Set autovacuum_max_workers = 55
Set autovacuum_naptime = 1663093
Set autovacuum_vacuum_cost_delay = 93
Set autovacuum_vacuum_cost_limit = 4553
Set autovacuum_vacuum_scale_factor = 2.862302001372219
Set autovacuum_vacuum_threshold = 1649020082
Set backend_flush_after = 16
Set bgwriter_delay = 3617
Set bgwriter_flush_after = 198
Set bgwriter_lru_maxpages = 939
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.9874736067785186
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1564
Set commit_delay = 52908
Set commit_siblings = 685
Set cursor_tuple_fraction = 0.371634686835946
Set deadlock_timeout = 901474335
Set default_statistics_target = 6661
Set effective_cache_size = 1770440283
Set effective_io_concurrency = 422
Set from_collapse_limit = 1436222727
Set geqo_effort = 7
Set geqo_generations = 1321594123
Set geqo_pool_size = 1429695838
Set geqo_seed = 0.5159949239933193
Set geqo_threshold = 1237040433
Set join_collapse_limit = 1508936517
Set maintenance_work_mem = 1869609724
Set max_connections = 574
Set max_wal_senders = 25
Set shared_buffers = 3702730
Set temp_buffers = 231797852
Set temp_file_limit = 1102587363
Set vacuum_cost_delay = 68
Set vacuum_cost_limit = 6772
Set vacuum_cost_page_dirty = 7200
Set vacuum_cost_page_hit = 605
Set vacuum_cost_page_miss = 8562
Set wal_buffers = 52952
Set wal_writer_delay = 8667
Set work_mem = 141852294
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-37-24.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-37-24.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763732180.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-37-24.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-37-24.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-37-24.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-37-24.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-37-24.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-37-24.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-37-24.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-37-24.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-37-24.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-37-24.results.UpdatePage.csv
Parsed throughput from summary.json: 2814.1285017251193
BenchBase wikipedia throughput: 2814.1285017251193
Configuration: {'autovacuum_analyze_scale_factor': 72.72336826574318, 'autovacuum_analyze_threshold': 2109352889, 'autovacuum_max_workers': 55, 'autovacuum_naptime': 1663093, 'autovacuum_vacuum_cost_delay': 93, 'autovacuum_vacuum_cost_limit': 4553, 'autovacuum_vacuum_scale_factor': 2.862302001372219, 'autovacuum_vacuum_threshold': 1649020082, 'backend_flush_after': 16, 'bgwriter_delay': 3617, 'bgwriter_flush_after': 198, 'bgwriter_lru_maxpages': 939, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.9874736067785186, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1564, 'commit_delay': 52908, 'commit_siblings': 685, 'cursor_tuple_fraction': 0.371634686835946, 'deadlock_timeout': 901474335, 'default_statistics_target': 6661, 'effective_cache_size': 1770440283, 'effective_io_concurrency': 422, 'from_collapse_limit': 1436222727, 'geqo_effort': 7, 'geqo_generations': 1321594123, 'geqo_pool_size': 1429695838, 'geqo_seed': 0.5159949239933193, 'geqo_threshold': 1237040433, 'join_collapse_limit': 1508936517, 'maintenance_work_mem': 1869609724, 'max_connections': 574, 'max_wal_senders': 25, 'shared_buffers': 3702730, 'temp_buffers': 231797852, 'temp_file_limit': 1102587363, 'vacuum_cost_delay': 68, 'vacuum_cost_limit': 6772, 'vacuum_cost_page_dirty': 7200, 'vacuum_cost_page_hit': 605, 'vacuum_cost_page_miss': 8562, 'wal_buffers': 52952, 'wal_writer_delay': 8667, 'work_mem': 141852294}, QPS: -2814.1285017251193
Performance (QPS): -2814.1285017251193
Evaluating configuration: {'autovacuum_analyze_scale_factor': 20.412176967189172, 'autovacuum_analyze_threshold': 1487717119, 'autovacuum_max_workers': 168, 'autovacuum_naptime': 1650261, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 8922, 'autovacuum_vacuum_scale_factor': 0.5952021363871629, 'autovacuum_vacuum_threshold': 1108448214, 'backend_flush_after': 75, 'bgwriter_delay': 4017, 'bgwriter_flush_after': 10, 'bgwriter_lru_maxpages': 702, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.5350415888518051, 'checkpoint_flush_after': 248, 'checkpoint_timeout': 2377, 'commit_delay': 96456, 'commit_siblings': 103, 'cursor_tuple_fraction': 0.666269224386419, 'deadlock_timeout': 1533226807, 'default_statistics_target': 8032, 'effective_cache_size': 1927695843, 'effective_io_concurrency': 107, 'from_collapse_limit': 621567807, 'geqo_effort': 9, 'geqo_generations': 2141701792, 'geqo_pool_size': 582138617, 'geqo_seed': 0.23863403708668618, 'geqo_threshold': 589104321, 'join_collapse_limit': 1860718040, 'maintenance_work_mem': 1434113620, 'max_connections': 2958, 'max_wal_senders': 24, 'shared_buffers': 254497, 'temp_buffers': 113866676, 'temp_file_limit': 52142167, 'vacuum_cost_delay': 30, 'vacuum_cost_limit': 4067, 'vacuum_cost_page_dirty': 5352, 'vacuum_cost_page_hit': 3336, 'vacuum_cost_page_miss': 3610, 'wal_buffers': 18930, 'wal_writer_delay': 6991, 'work_mem': 1693104013}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 20.412176967189172
Set autovacuum_analyze_threshold = 1487717119
Set autovacuum_max_workers = 168
Set autovacuum_naptime = 1650261
Set autovacuum_vacuum_cost_delay = 34
Set autovacuum_vacuum_cost_limit = 8922
Set autovacuum_vacuum_scale_factor = 0.5952021363871629
Set autovacuum_vacuum_threshold = 1108448214
Set backend_flush_after = 75
Set bgwriter_delay = 4017
Set bgwriter_flush_after = 10
Set bgwriter_lru_maxpages = 702
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.5350415888518051
Set checkpoint_flush_after = 248
Set checkpoint_timeout = 2377
Set commit_delay = 96456
Set commit_siblings = 103
Set cursor_tuple_fraction = 0.666269224386419
Set deadlock_timeout = 1533226807
Set default_statistics_target = 8032
Set effective_cache_size = 1927695843
Set effective_io_concurrency = 107
Set from_collapse_limit = 621567807
Set geqo_effort = 9
Set geqo_generations = 2141701792
Set geqo_pool_size = 582138617
Set geqo_seed = 0.23863403708668618
Set geqo_threshold = 589104321
Set join_collapse_limit = 1860718040
Set maintenance_work_mem = 1434113620
Set max_connections = 2958
Set max_wal_senders = 24
Set shared_buffers = 254497
Set temp_buffers = 113866676
Set temp_file_limit = 52142167
Set vacuum_cost_delay = 30
Set vacuum_cost_limit = 4067
Set vacuum_cost_page_dirty = 5352
Set vacuum_cost_page_hit = 3336
Set vacuum_cost_page_miss = 3610
Set wal_buffers = 18930
Set wal_writer_delay = 6991
Set work_mem = 1693104013
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-39-04.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-39-04.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-39-04.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-39-04.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-39-04.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763732281.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-39-04.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-39-04.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-39-04.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-39-04.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-39-04.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-39-04.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-39-04.params.json
Parsed throughput from summary.json: 2914.2222831809167
BenchBase wikipedia throughput: 2914.2222831809167
Configuration: {'autovacuum_analyze_scale_factor': 20.412176967189172, 'autovacuum_analyze_threshold': 1487717119, 'autovacuum_max_workers': 168, 'autovacuum_naptime': 1650261, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 8922, 'autovacuum_vacuum_scale_factor': 0.5952021363871629, 'autovacuum_vacuum_threshold': 1108448214, 'backend_flush_after': 75, 'bgwriter_delay': 4017, 'bgwriter_flush_after': 10, 'bgwriter_lru_maxpages': 702, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.5350415888518051, 'checkpoint_flush_after': 248, 'checkpoint_timeout': 2377, 'commit_delay': 96456, 'commit_siblings': 103, 'cursor_tuple_fraction': 0.666269224386419, 'deadlock_timeout': 1533226807, 'default_statistics_target': 8032, 'effective_cache_size': 1927695843, 'effective_io_concurrency': 107, 'from_collapse_limit': 621567807, 'geqo_effort': 9, 'geqo_generations': 2141701792, 'geqo_pool_size': 582138617, 'geqo_seed': 0.23863403708668618, 'geqo_threshold': 589104321, 'join_collapse_limit': 1860718040, 'maintenance_work_mem': 1434113620, 'max_connections': 2958, 'max_wal_senders': 24, 'shared_buffers': 254497, 'temp_buffers': 113866676, 'temp_file_limit': 52142167, 'vacuum_cost_delay': 30, 'vacuum_cost_limit': 4067, 'vacuum_cost_page_dirty': 5352, 'vacuum_cost_page_hit': 3336, 'vacuum_cost_page_miss': 3610, 'wal_buffers': 18930, 'wal_writer_delay': 6991, 'work_mem': 1693104013}, QPS: -2914.2222831809167
Performance (QPS): -2914.2222831809167
Evaluating configuration: {'autovacuum_analyze_scale_factor': 0.46776764526542114, 'autovacuum_analyze_threshold': 2074690815, 'autovacuum_max_workers': 20, 'autovacuum_naptime': 718045, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 8160, 'autovacuum_vacuum_scale_factor': 90.05634114776, 'autovacuum_vacuum_threshold': 290698368, 'backend_flush_after': 129, 'bgwriter_delay': 922, 'bgwriter_flush_after': 222, 'bgwriter_lru_maxpages': 555, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.8070635631063235, 'checkpoint_flush_after': 150, 'checkpoint_timeout': 1882, 'commit_delay': 35039, 'commit_siblings': 507, 'cursor_tuple_fraction': 0.9992921708847902, 'deadlock_timeout': 1877088384, 'default_statistics_target': 3566, 'effective_cache_size': 1691187584, 'effective_io_concurrency': 976, 'from_collapse_limit': 1402973056, 'geqo_effort': 1, 'geqo_generations': 1230167078, 'geqo_pool_size': 1186597887, 'geqo_seed': 0.12890922446039188, 'geqo_threshold': 1218445113, 'join_collapse_limit': 19901994, 'maintenance_work_mem': 1929209576, 'max_connections': 1597, 'max_wal_senders': 50, 'shared_buffers': 1490399, 'temp_buffers': 151349525, 'temp_file_limit': 460028223, 'vacuum_cost_delay': 13, 'vacuum_cost_limit': 3927, 'vacuum_cost_page_dirty': 4588, 'vacuum_cost_page_hit': 8974, 'vacuum_cost_page_miss': 3340, 'wal_buffers': 49964, 'wal_writer_delay': 1563, 'work_mem': 1183048604}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 0.46776764526542114
Set autovacuum_analyze_threshold = 2074690815
Set autovacuum_max_workers = 20
Set autovacuum_naptime = 718045
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 8160
Set autovacuum_vacuum_scale_factor = 90.05634114776
Set autovacuum_vacuum_threshold = 290698368
Set backend_flush_after = 129
Set bgwriter_delay = 922
Set bgwriter_flush_after = 222
Set bgwriter_lru_maxpages = 555
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.8070635631063235
Set checkpoint_flush_after = 150
Set checkpoint_timeout = 1882
Set commit_delay = 35039
Set commit_siblings = 507
Set cursor_tuple_fraction = 0.9992921708847902
Set deadlock_timeout = 1877088384
Set default_statistics_target = 3566
Set effective_cache_size = 1691187584
Set effective_io_concurrency = 976
Set from_collapse_limit = 1402973056
Set geqo_effort = 1
Set geqo_generations = 1230167078
Set geqo_pool_size = 1186597887
Set geqo_seed = 0.12890922446039188
Set geqo_threshold = 1218445113
Set join_collapse_limit = 19901994
Set maintenance_work_mem = 1929209576
Set max_connections = 1597
Set max_wal_senders = 50
Set shared_buffers = 1490399
Set temp_buffers = 151349525
Set temp_file_limit = 460028223
Set vacuum_cost_delay = 13
Set vacuum_cost_limit = 3927
Set vacuum_cost_page_dirty = 4588
Set vacuum_cost_page_hit = 8974
Set vacuum_cost_page_miss = 3340
Set wal_buffers = 49964
Set wal_writer_delay = 1563
Set work_mem = 1183048604
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-40-43.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-40-43.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-40-43.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-40-43.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-40-43.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-40-43.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-40-43.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-40-43.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763732380.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-40-43.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-40-43.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-40-43.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-40-43.results.RemoveWatchList.csv
Parsed throughput from summary.json: 2779.847397920636
BenchBase wikipedia throughput: 2779.847397920636
Configuration: {'autovacuum_analyze_scale_factor': 0.46776764526542114, 'autovacuum_analyze_threshold': 2074690815, 'autovacuum_max_workers': 20, 'autovacuum_naptime': 718045, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 8160, 'autovacuum_vacuum_scale_factor': 90.05634114776, 'autovacuum_vacuum_threshold': 290698368, 'backend_flush_after': 129, 'bgwriter_delay': 922, 'bgwriter_flush_after': 222, 'bgwriter_lru_maxpages': 555, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.8070635631063235, 'checkpoint_flush_after': 150, 'checkpoint_timeout': 1882, 'commit_delay': 35039, 'commit_siblings': 507, 'cursor_tuple_fraction': 0.9992921708847902, 'deadlock_timeout': 1877088384, 'default_statistics_target': 3566, 'effective_cache_size': 1691187584, 'effective_io_concurrency': 976, 'from_collapse_limit': 1402973056, 'geqo_effort': 1, 'geqo_generations': 1230167078, 'geqo_pool_size': 1186597887, 'geqo_seed': 0.12890922446039188, 'geqo_threshold': 1218445113, 'join_collapse_limit': 19901994, 'maintenance_work_mem': 1929209576, 'max_connections': 1597, 'max_wal_senders': 50, 'shared_buffers': 1490399, 'temp_buffers': 151349525, 'temp_file_limit': 460028223, 'vacuum_cost_delay': 13, 'vacuum_cost_limit': 3927, 'vacuum_cost_page_dirty': 4588, 'vacuum_cost_page_hit': 8974, 'vacuum_cost_page_miss': 3340, 'wal_buffers': 49964, 'wal_writer_delay': 1563, 'work_mem': 1183048604}, QPS: -2779.847397920636
Performance (QPS): -2779.847397920636
Evaluating configuration: {'autovacuum_analyze_scale_factor': 41.6818416496199, 'autovacuum_analyze_threshold': 43491264, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 8181, 'autovacuum_vacuum_scale_factor': 20.328208428012687, 'autovacuum_vacuum_threshold': 1916102783, 'backend_flush_after': 127, 'bgwriter_delay': 1916, 'bgwriter_flush_after': 201, 'bgwriter_lru_maxpages': 595, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1158, 'commit_delay': 72852, 'commit_siblings': 109, 'cursor_tuple_fraction': 0.5409189415129384, 'deadlock_timeout': 1548889728, 'default_statistics_target': 9270, 'effective_cache_size': 1708186880, 'effective_io_concurrency': 977, 'from_collapse_limit': 1822149120, 'geqo_effort': 5, 'geqo_generations': 166054352, 'geqo_pool_size': 426323744, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 81122425, 'join_collapse_limit': 1186223683, 'maintenance_work_mem': 1522586409, 'max_connections': 1296, 'max_wal_senders': 40, 'shared_buffers': 1457487, 'temp_buffers': 243578893, 'temp_file_limit': 785662288, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 4424, 'vacuum_cost_page_dirty': 4612, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 1265, 'wal_buffers': 124192, 'wal_writer_delay': 7955, 'work_mem': 423852723}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 41.6818416496199
Set autovacuum_analyze_threshold = 43491264
Set autovacuum_max_workers = 120
Set autovacuum_naptime = 1638901
Set autovacuum_vacuum_cost_delay = 68
Set autovacuum_vacuum_cost_limit = 8181
Set autovacuum_vacuum_scale_factor = 20.328208428012687
Set autovacuum_vacuum_threshold = 1916102783
Set backend_flush_after = 127
Set bgwriter_delay = 1916
Set bgwriter_flush_after = 201
Set bgwriter_lru_maxpages = 595
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.37640343574207813
Set checkpoint_flush_after = 253
Set checkpoint_timeout = 1158
Set commit_delay = 72852
Set commit_siblings = 109
Set cursor_tuple_fraction = 0.5409189415129384
Set deadlock_timeout = 1548889728
Set default_statistics_target = 9270
Set effective_cache_size = 1708186880
Set effective_io_concurrency = 977
Set from_collapse_limit = 1822149120
Set geqo_effort = 5
Set geqo_generations = 166054352
Set geqo_pool_size = 426323744
Set geqo_seed = 0.3350911243891298
Set geqo_threshold = 81122425
Set join_collapse_limit = 1186223683
Set maintenance_work_mem = 1522586409
Set max_connections = 1296
Set max_wal_senders = 40
Set shared_buffers = 1457487
Set temp_buffers = 243578893
Set temp_file_limit = 785662288
Set vacuum_cost_delay = 32
Set vacuum_cost_limit = 4424
Set vacuum_cost_page_dirty = 4612
Set vacuum_cost_page_hit = 4726
Set vacuum_cost_page_miss = 1265
Set wal_buffers = 124192
Set wal_writer_delay = 7955
Set work_mem = 423852723
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-42-23.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-42-23.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-42-23.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-42-23.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-42-23.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-42-23.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-42-23.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-42-23.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-42-23.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-42-23.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763732479.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-42-23.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-42-23.params.json
Parsed throughput from summary.json: 2745.4283497810884
BenchBase wikipedia throughput: 2745.4283497810884
Configuration: {'autovacuum_analyze_scale_factor': 41.6818416496199, 'autovacuum_analyze_threshold': 43491264, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1638901, 'autovacuum_vacuum_cost_delay': 68, 'autovacuum_vacuum_cost_limit': 8181, 'autovacuum_vacuum_scale_factor': 20.328208428012687, 'autovacuum_vacuum_threshold': 1916102783, 'backend_flush_after': 127, 'bgwriter_delay': 1916, 'bgwriter_flush_after': 201, 'bgwriter_lru_maxpages': 595, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.37640343574207813, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 1158, 'commit_delay': 72852, 'commit_siblings': 109, 'cursor_tuple_fraction': 0.5409189415129384, 'deadlock_timeout': 1548889728, 'default_statistics_target': 9270, 'effective_cache_size': 1708186880, 'effective_io_concurrency': 977, 'from_collapse_limit': 1822149120, 'geqo_effort': 5, 'geqo_generations': 166054352, 'geqo_pool_size': 426323744, 'geqo_seed': 0.3350911243891298, 'geqo_threshold': 81122425, 'join_collapse_limit': 1186223683, 'maintenance_work_mem': 1522586409, 'max_connections': 1296, 'max_wal_senders': 40, 'shared_buffers': 1457487, 'temp_buffers': 243578893, 'temp_file_limit': 785662288, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 4424, 'vacuum_cost_page_dirty': 4612, 'vacuum_cost_page_hit': 4726, 'vacuum_cost_page_miss': 1265, 'wal_buffers': 124192, 'wal_writer_delay': 7955, 'work_mem': 423852723}, QPS: -2745.4283497810884
Performance (QPS): -2745.4283497810884
Evaluating configuration: {'autovacuum_analyze_scale_factor': 36.405490976754585, 'autovacuum_analyze_threshold': 1353885059, 'autovacuum_max_workers': 86, 'autovacuum_naptime': 665793, 'autovacuum_vacuum_cost_delay': 12, 'autovacuum_vacuum_cost_limit': 6826, 'autovacuum_vacuum_scale_factor': 28.522657154382248, 'autovacuum_vacuum_threshold': 1290640750, 'backend_flush_after': 196, 'bgwriter_delay': 2897, 'bgwriter_flush_after': 207, 'bgwriter_lru_maxpages': 287, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.5469350049700745, 'checkpoint_flush_after': 84, 'checkpoint_timeout': 1011, 'commit_delay': 44105, 'commit_siblings': 119, 'cursor_tuple_fraction': 0.0381128789755556, 'deadlock_timeout': 1697850590, 'default_statistics_target': 4740, 'effective_cache_size': 1502805018, 'effective_io_concurrency': 749, 'from_collapse_limit': 1725586410, 'geqo_effort': 1, 'geqo_generations': 1653390041, 'geqo_pool_size': 742244395, 'geqo_seed': 0.5822402136194341, 'geqo_threshold': 1037980759, 'join_collapse_limit': 1296210952, 'maintenance_work_mem': 1224105971, 'max_connections': 2157, 'max_wal_senders': 15, 'shared_buffers': 1211606, 'temp_buffers': 803199111, 'temp_file_limit': 1139547346, 'vacuum_cost_delay': 50, 'vacuum_cost_limit': 7184, 'vacuum_cost_page_dirty': 2967, 'vacuum_cost_page_hit': 7801, 'vacuum_cost_page_miss': 3985, 'wal_buffers': 55059, 'wal_writer_delay': 6262, 'work_mem': 2045773000}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 36.405490976754585
Set autovacuum_analyze_threshold = 1353885059
Set autovacuum_max_workers = 86
Set autovacuum_naptime = 665793
Set autovacuum_vacuum_cost_delay = 12
Set autovacuum_vacuum_cost_limit = 6826
Set autovacuum_vacuum_scale_factor = 28.522657154382248
Set autovacuum_vacuum_threshold = 1290640750
Set backend_flush_after = 196
Set bgwriter_delay = 2897
Set bgwriter_flush_after = 207
Set bgwriter_lru_maxpages = 287
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.5469350049700745
Set checkpoint_flush_after = 84
Set checkpoint_timeout = 1011
Set commit_delay = 44105
Set commit_siblings = 119
Set cursor_tuple_fraction = 0.0381128789755556
Set deadlock_timeout = 1697850590
Set default_statistics_target = 4740
Set effective_cache_size = 1502805018
Set effective_io_concurrency = 749
Set from_collapse_limit = 1725586410
Set geqo_effort = 1
Set geqo_generations = 1653390041
Set geqo_pool_size = 742244395
Set geqo_seed = 0.5822402136194341
Set geqo_threshold = 1037980759
Set join_collapse_limit = 1296210952
Set maintenance_work_mem = 1224105971
Set max_connections = 2157
Set max_wal_senders = 15
Set shared_buffers = 1211606
Set temp_buffers = 803199111
Set temp_file_limit = 1139547346
Set vacuum_cost_delay = 50
Set vacuum_cost_limit = 7184
Set vacuum_cost_page_dirty = 2967
Set vacuum_cost_page_hit = 7801
Set vacuum_cost_page_miss = 3985
Set wal_buffers = 55059
Set wal_writer_delay = 6262
Set work_mem = 2045773000
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-43-57.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-43-57.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-43-57.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-43-57.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-43-57.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-43-57.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763732573.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-43-57.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-43-57.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-43-57.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-43-57.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-43-57.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-43-57.results.AddWatchList.csv
Parsed throughput from summary.json: 2947.8938655619704
BenchBase wikipedia throughput: 2947.8938655619704
Configuration: {'autovacuum_analyze_scale_factor': 36.405490976754585, 'autovacuum_analyze_threshold': 1353885059, 'autovacuum_max_workers': 86, 'autovacuum_naptime': 665793, 'autovacuum_vacuum_cost_delay': 12, 'autovacuum_vacuum_cost_limit': 6826, 'autovacuum_vacuum_scale_factor': 28.522657154382248, 'autovacuum_vacuum_threshold': 1290640750, 'backend_flush_after': 196, 'bgwriter_delay': 2897, 'bgwriter_flush_after': 207, 'bgwriter_lru_maxpages': 287, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.5469350049700745, 'checkpoint_flush_after': 84, 'checkpoint_timeout': 1011, 'commit_delay': 44105, 'commit_siblings': 119, 'cursor_tuple_fraction': 0.0381128789755556, 'deadlock_timeout': 1697850590, 'default_statistics_target': 4740, 'effective_cache_size': 1502805018, 'effective_io_concurrency': 749, 'from_collapse_limit': 1725586410, 'geqo_effort': 1, 'geqo_generations': 1653390041, 'geqo_pool_size': 742244395, 'geqo_seed': 0.5822402136194341, 'geqo_threshold': 1037980759, 'join_collapse_limit': 1296210952, 'maintenance_work_mem': 1224105971, 'max_connections': 2157, 'max_wal_senders': 15, 'shared_buffers': 1211606, 'temp_buffers': 803199111, 'temp_file_limit': 1139547346, 'vacuum_cost_delay': 50, 'vacuum_cost_limit': 7184, 'vacuum_cost_page_dirty': 2967, 'vacuum_cost_page_hit': 7801, 'vacuum_cost_page_miss': 3985, 'wal_buffers': 55059, 'wal_writer_delay': 6262, 'work_mem': 2045773000}, QPS: -2947.8938655619704
Performance (QPS): -2947.8938655619704
Evaluating configuration: {'autovacuum_analyze_scale_factor': 1.8075795055015769, 'autovacuum_analyze_threshold': 837461187, 'autovacuum_max_workers': 140, 'autovacuum_naptime': 1307263, 'autovacuum_vacuum_cost_delay': 7, 'autovacuum_vacuum_cost_limit': 5089, 'autovacuum_vacuum_scale_factor': 3.4522441077245447, 'autovacuum_vacuum_threshold': 1856779143, 'backend_flush_after': 22, 'bgwriter_delay': 975, 'bgwriter_flush_after': 111, 'bgwriter_lru_maxpages': 119, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.3264437961784621, 'checkpoint_flush_after': 0, 'checkpoint_timeout': 1105, 'commit_delay': 45895, 'commit_siblings': 248, 'cursor_tuple_fraction': 0.7654515382969456, 'deadlock_timeout': 587913021, 'default_statistics_target': 4648, 'effective_cache_size': 2065520235, 'effective_io_concurrency': 980, 'from_collapse_limit': 1928673123, 'geqo_effort': 3, 'geqo_generations': 21946244, 'geqo_pool_size': 1531331839, 'geqo_seed': 0.6284320181488305, 'geqo_threshold': 1712789546, 'join_collapse_limit': 65548048, 'maintenance_work_mem': 1085266838, 'max_connections': 1457, 'max_wal_senders': 38, 'shared_buffers': 3882928, 'temp_buffers': 449281242, 'temp_file_limit': 264221198, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 1315, 'vacuum_cost_page_dirty': 5894, 'vacuum_cost_page_hit': 2045, 'vacuum_cost_page_miss': 7316, 'wal_buffers': 35623, 'wal_writer_delay': 422, 'work_mem': 1279889543}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 1.8075795055015769
Set autovacuum_analyze_threshold = 837461187
Set autovacuum_max_workers = 140
Set autovacuum_naptime = 1307263
Set autovacuum_vacuum_cost_delay = 7
Set autovacuum_vacuum_cost_limit = 5089
Set autovacuum_vacuum_scale_factor = 3.4522441077245447
Set autovacuum_vacuum_threshold = 1856779143
Set backend_flush_after = 22
Set bgwriter_delay = 975
Set bgwriter_flush_after = 111
Set bgwriter_lru_maxpages = 119
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.3264437961784621
Set checkpoint_flush_after = 0
Set checkpoint_timeout = 1105
Set commit_delay = 45895
Set commit_siblings = 248
Set cursor_tuple_fraction = 0.7654515382969456
Set deadlock_timeout = 587913021
Set default_statistics_target = 4648
Set effective_cache_size = 2065520235
Set effective_io_concurrency = 980
Set from_collapse_limit = 1928673123
Set geqo_effort = 3
Set geqo_generations = 21946244
Set geqo_pool_size = 1531331839
Set geqo_seed = 0.6284320181488305
Set geqo_threshold = 1712789546
Set join_collapse_limit = 65548048
Set maintenance_work_mem = 1085266838
Set max_connections = 1457
Set max_wal_senders = 38
Set shared_buffers = 3882928
Set temp_buffers = 449281242
Set temp_file_limit = 264221198
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 1315
Set vacuum_cost_page_dirty = 5894
Set vacuum_cost_page_hit = 2045
Set vacuum_cost_page_miss = 7316
Set wal_buffers = 35623
Set wal_writer_delay = 422
Set work_mem = 1279889543
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-45-36.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-45-36.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-45-36.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-45-36.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-45-36.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-45-36.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763732673.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-45-36.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-45-36.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-45-36.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-45-36.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-45-36.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-45-36.samples.csv
Parsed throughput from summary.json: 2797.885564880963
BenchBase wikipedia throughput: 2797.885564880963
Configuration: {'autovacuum_analyze_scale_factor': 1.8075795055015769, 'autovacuum_analyze_threshold': 837461187, 'autovacuum_max_workers': 140, 'autovacuum_naptime': 1307263, 'autovacuum_vacuum_cost_delay': 7, 'autovacuum_vacuum_cost_limit': 5089, 'autovacuum_vacuum_scale_factor': 3.4522441077245447, 'autovacuum_vacuum_threshold': 1856779143, 'backend_flush_after': 22, 'bgwriter_delay': 975, 'bgwriter_flush_after': 111, 'bgwriter_lru_maxpages': 119, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.3264437961784621, 'checkpoint_flush_after': 0, 'checkpoint_timeout': 1105, 'commit_delay': 45895, 'commit_siblings': 248, 'cursor_tuple_fraction': 0.7654515382969456, 'deadlock_timeout': 587913021, 'default_statistics_target': 4648, 'effective_cache_size': 2065520235, 'effective_io_concurrency': 980, 'from_collapse_limit': 1928673123, 'geqo_effort': 3, 'geqo_generations': 21946244, 'geqo_pool_size': 1531331839, 'geqo_seed': 0.6284320181488305, 'geqo_threshold': 1712789546, 'join_collapse_limit': 65548048, 'maintenance_work_mem': 1085266838, 'max_connections': 1457, 'max_wal_senders': 38, 'shared_buffers': 3882928, 'temp_buffers': 449281242, 'temp_file_limit': 264221198, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 1315, 'vacuum_cost_page_dirty': 5894, 'vacuum_cost_page_hit': 2045, 'vacuum_cost_page_miss': 7316, 'wal_buffers': 35623, 'wal_writer_delay': 422, 'work_mem': 1279889543}, QPS: -2797.885564880963
Performance (QPS): -2797.885564880963
Evaluating configuration: {'autovacuum_analyze_scale_factor': 92.59775063032033, 'autovacuum_analyze_threshold': 988687240, 'autovacuum_max_workers': 133, 'autovacuum_naptime': 1799969, 'autovacuum_vacuum_cost_delay': 31, 'autovacuum_vacuum_cost_limit': 994, 'autovacuum_vacuum_scale_factor': 43.58744559948583, 'autovacuum_vacuum_threshold': 1648354856, 'backend_flush_after': 229, 'bgwriter_delay': 6219, 'bgwriter_flush_after': 236, 'bgwriter_lru_maxpages': 859, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.6667522575124181, 'checkpoint_flush_after': 189, 'checkpoint_timeout': 2464, 'commit_delay': 7666, 'commit_siblings': 709, 'cursor_tuple_fraction': 0.8670593550416994, 'deadlock_timeout': 369543681, 'default_statistics_target': 8208, 'effective_cache_size': 1184013008, 'effective_io_concurrency': 43, 'from_collapse_limit': 619702995, 'geqo_effort': 5, 'geqo_generations': 1177149215, 'geqo_pool_size': 1751177415, 'geqo_seed': 0.7574357499945646, 'geqo_threshold': 1912539839, 'join_collapse_limit': 682261632, 'maintenance_work_mem': 132789156, 'max_connections': 3000, 'max_wal_senders': 45, 'shared_buffers': 4016463, 'temp_buffers': 441293211, 'temp_file_limit': 1488319254, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 5734, 'vacuum_cost_page_dirty': 8005, 'vacuum_cost_page_hit': 8664, 'vacuum_cost_page_miss': 4931, 'wal_buffers': 86138, 'wal_writer_delay': 5745, 'work_mem': 1265303322}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 92.59775063032033
Set autovacuum_analyze_threshold = 988687240
Set autovacuum_max_workers = 133
Set autovacuum_naptime = 1799969
Set autovacuum_vacuum_cost_delay = 31
Set autovacuum_vacuum_cost_limit = 994
Set autovacuum_vacuum_scale_factor = 43.58744559948583
Set autovacuum_vacuum_threshold = 1648354856
Set backend_flush_after = 229
Set bgwriter_delay = 6219
Set bgwriter_flush_after = 236
Set bgwriter_lru_maxpages = 859
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.6667522575124181
Set checkpoint_flush_after = 189
Set checkpoint_timeout = 2464
Set commit_delay = 7666
Set commit_siblings = 709
Set cursor_tuple_fraction = 0.8670593550416994
Set deadlock_timeout = 369543681
Set default_statistics_target = 8208
Set effective_cache_size = 1184013008
Set effective_io_concurrency = 43
Set from_collapse_limit = 619702995
Set geqo_effort = 5
Set geqo_generations = 1177149215
Set geqo_pool_size = 1751177415
Set geqo_seed = 0.7574357499945646
Set geqo_threshold = 1912539839
Set join_collapse_limit = 682261632
Set maintenance_work_mem = 132789156
Set max_connections = 3000
Set max_wal_senders = 45
Set shared_buffers = 4016463
Set temp_buffers = 441293211
Set temp_file_limit = 1488319254
Set vacuum_cost_delay = 32
Set vacuum_cost_limit = 5734
Set vacuum_cost_page_dirty = 8005
Set vacuum_cost_page_hit = 8664
Set vacuum_cost_page_miss = 4931
Set wal_buffers = 86138
Set wal_writer_delay = 5745
Set work_mem = 1265303322
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
Start failed, removing auto.conf and retrying...
Removed postgresql.auto.conf file (if it existed).
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-47-11.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-47-11.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763732768.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-47-11.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-47-11.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-47-11.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-47-11.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-47-11.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-47-11.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-47-11.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-47-11.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-47-11.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-47-11.samples.csv
Parsed throughput from summary.json: 2762.2016865153532
BenchBase wikipedia throughput: 2762.2016865153532
Configuration: {'autovacuum_analyze_scale_factor': 92.59775063032033, 'autovacuum_analyze_threshold': 988687240, 'autovacuum_max_workers': 133, 'autovacuum_naptime': 1799969, 'autovacuum_vacuum_cost_delay': 31, 'autovacuum_vacuum_cost_limit': 994, 'autovacuum_vacuum_scale_factor': 43.58744559948583, 'autovacuum_vacuum_threshold': 1648354856, 'backend_flush_after': 229, 'bgwriter_delay': 6219, 'bgwriter_flush_after': 236, 'bgwriter_lru_maxpages': 859, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.6667522575124181, 'checkpoint_flush_after': 189, 'checkpoint_timeout': 2464, 'commit_delay': 7666, 'commit_siblings': 709, 'cursor_tuple_fraction': 0.8670593550416994, 'deadlock_timeout': 369543681, 'default_statistics_target': 8208, 'effective_cache_size': 1184013008, 'effective_io_concurrency': 43, 'from_collapse_limit': 619702995, 'geqo_effort': 5, 'geqo_generations': 1177149215, 'geqo_pool_size': 1751177415, 'geqo_seed': 0.7574357499945646, 'geqo_threshold': 1912539839, 'join_collapse_limit': 682261632, 'maintenance_work_mem': 132789156, 'max_connections': 3000, 'max_wal_senders': 45, 'shared_buffers': 4016463, 'temp_buffers': 441293211, 'temp_file_limit': 1488319254, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 5734, 'vacuum_cost_page_dirty': 8005, 'vacuum_cost_page_hit': 8664, 'vacuum_cost_page_miss': 4931, 'wal_buffers': 86138, 'wal_writer_delay': 5745, 'work_mem': 1265303322}, QPS: -2762.2016865153532
Performance (QPS): -2762.2016865153532
Evaluating configuration: {'autovacuum_analyze_scale_factor': 6.319828750619704, 'autovacuum_analyze_threshold': 1112921343, 'autovacuum_max_workers': 131, 'autovacuum_naptime': 1333155, 'autovacuum_vacuum_cost_delay': 16, 'autovacuum_vacuum_cost_limit': 8014, 'autovacuum_vacuum_scale_factor': 85.84661386436665, 'autovacuum_vacuum_threshold': 1947623910, 'backend_flush_after': 239, 'bgwriter_delay': 5184, 'bgwriter_flush_after': 133, 'bgwriter_lru_maxpages': 341, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.3040972808622012, 'checkpoint_flush_after': 201, 'checkpoint_timeout': 1517, 'commit_delay': 56947, 'commit_siblings': 599, 'cursor_tuple_fraction': 0.8235885075724646, 'deadlock_timeout': 1898093360, 'default_statistics_target': 3403, 'effective_cache_size': 1511686860, 'effective_io_concurrency': 268, 'from_collapse_limit': 1035630080, 'geqo_effort': 1, 'geqo_generations': 1789363834, 'geqo_pool_size': 1528825983, 'geqo_seed': 0.18181054442971073, 'geqo_threshold': 2050286336, 'join_collapse_limit': 961410822, 'maintenance_work_mem': 572288817, 'max_connections': 930, 'max_wal_senders': 48, 'shared_buffers': 48278, 'temp_buffers': 987513941, 'temp_file_limit': 109715058, 'vacuum_cost_delay': 98, 'vacuum_cost_limit': 6715, 'vacuum_cost_page_dirty': 8426, 'vacuum_cost_page_hit': 6080, 'vacuum_cost_page_miss': 2511, 'wal_buffers': 25731, 'wal_writer_delay': 6344, 'work_mem': 2096637279}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
 t
(2 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 6.319828750619704
Set autovacuum_analyze_threshold = 1112921343
Set autovacuum_max_workers = 131
Set autovacuum_naptime = 1333155
Set autovacuum_vacuum_cost_delay = 16
Set autovacuum_vacuum_cost_limit = 8014
Set autovacuum_vacuum_scale_factor = 85.84661386436665
Set autovacuum_vacuum_threshold = 1947623910
Set backend_flush_after = 239
Set bgwriter_delay = 5184
Set bgwriter_flush_after = 133
Set bgwriter_lru_maxpages = 341
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.3040972808622012
Set checkpoint_flush_after = 201
Set checkpoint_timeout = 1517
Set commit_delay = 56947
Set commit_siblings = 599
Set cursor_tuple_fraction = 0.8235885075724646
Set deadlock_timeout = 1898093360
Set default_statistics_target = 3403
Set effective_cache_size = 1511686860
Set effective_io_concurrency = 268
Set from_collapse_limit = 1035630080
Set geqo_effort = 1
Set geqo_generations = 1789363834
Set geqo_pool_size = 1528825983
Set geqo_seed = 0.18181054442971073
Set geqo_threshold = 2050286336
Set join_collapse_limit = 961410822
Set maintenance_work_mem = 572288817
Set max_connections = 930
Set max_wal_senders = 48
Set shared_buffers = 48278
Set temp_buffers = 987513941
Set temp_file_limit = 109715058
Set vacuum_cost_delay = 98
Set vacuum_cost_limit = 6715
Set vacuum_cost_page_dirty = 8426
Set vacuum_cost_page_hit = 6080
Set vacuum_cost_page_miss = 2511
Set wal_buffers = 25731
Set wal_writer_delay = 6344
Set work_mem = 2096637279
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-48-47.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-48-47.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-48-47.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-48-47.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763732865.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-48-47.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-48-47.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-48-47.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-48-47.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-48-47.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-48-47.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-48-47.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-48-47.results.UpdatePage.csv
Parsed throughput from summary.json: 3000.2097860355466
BenchBase wikipedia throughput: 3000.2097860355466
Configuration: {'autovacuum_analyze_scale_factor': 6.319828750619704, 'autovacuum_analyze_threshold': 1112921343, 'autovacuum_max_workers': 131, 'autovacuum_naptime': 1333155, 'autovacuum_vacuum_cost_delay': 16, 'autovacuum_vacuum_cost_limit': 8014, 'autovacuum_vacuum_scale_factor': 85.84661386436665, 'autovacuum_vacuum_threshold': 1947623910, 'backend_flush_after': 239, 'bgwriter_delay': 5184, 'bgwriter_flush_after': 133, 'bgwriter_lru_maxpages': 341, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.3040972808622012, 'checkpoint_flush_after': 201, 'checkpoint_timeout': 1517, 'commit_delay': 56947, 'commit_siblings': 599, 'cursor_tuple_fraction': 0.8235885075724646, 'deadlock_timeout': 1898093360, 'default_statistics_target': 3403, 'effective_cache_size': 1511686860, 'effective_io_concurrency': 268, 'from_collapse_limit': 1035630080, 'geqo_effort': 1, 'geqo_generations': 1789363834, 'geqo_pool_size': 1528825983, 'geqo_seed': 0.18181054442971073, 'geqo_threshold': 2050286336, 'join_collapse_limit': 961410822, 'maintenance_work_mem': 572288817, 'max_connections': 930, 'max_wal_senders': 48, 'shared_buffers': 48278, 'temp_buffers': 987513941, 'temp_file_limit': 109715058, 'vacuum_cost_delay': 98, 'vacuum_cost_limit': 6715, 'vacuum_cost_page_dirty': 8426, 'vacuum_cost_page_hit': 6080, 'vacuum_cost_page_miss': 2511, 'wal_buffers': 25731, 'wal_writer_delay': 6344, 'work_mem': 2096637279}, QPS: -3000.2097860355466
Performance (QPS): -3000.2097860355466
Evaluating configuration: {'autovacuum_analyze_scale_factor': 64.31262777612274, 'autovacuum_analyze_threshold': 1568687126, 'autovacuum_max_workers': 23, 'autovacuum_naptime': 494925, 'autovacuum_vacuum_cost_delay': 85, 'autovacuum_vacuum_cost_limit': 573, 'autovacuum_vacuum_scale_factor': 28.11799725546088, 'autovacuum_vacuum_threshold': 205337284, 'backend_flush_after': 11, 'bgwriter_delay': 2703, 'bgwriter_flush_after': 6, 'bgwriter_lru_maxpages': 759, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.454230129223561, 'checkpoint_flush_after': 178, 'checkpoint_timeout': 2215, 'commit_delay': 34750, 'commit_siblings': 273, 'cursor_tuple_fraction': 0.33971562644704634, 'deadlock_timeout': 625415544, 'default_statistics_target': 3929, 'effective_cache_size': 1267481620, 'effective_io_concurrency': 52, 'from_collapse_limit': 1850682518, 'geqo_effort': 10, 'geqo_generations': 864757114, 'geqo_pool_size': 907504684, 'geqo_seed': 0.49269979874166503, 'geqo_threshold': 1423676778, 'join_collapse_limit': 1578922412, 'maintenance_work_mem': 1117994230, 'max_connections': 1426, 'max_wal_senders': 35, 'shared_buffers': 812658, 'temp_buffers': 796269715, 'temp_file_limit': 1117606743, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 869, 'vacuum_cost_page_dirty': 7246, 'vacuum_cost_page_hit': 951, 'vacuum_cost_page_miss': 2532, 'wal_buffers': 35892, 'wal_writer_delay': 4602, 'work_mem': 601858669}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 64.31262777612274
Set autovacuum_analyze_threshold = 1568687126
Set autovacuum_max_workers = 23
Set autovacuum_naptime = 494925
Set autovacuum_vacuum_cost_delay = 85
Set autovacuum_vacuum_cost_limit = 573
Set autovacuum_vacuum_scale_factor = 28.11799725546088
Set autovacuum_vacuum_threshold = 205337284
Set backend_flush_after = 11
Set bgwriter_delay = 2703
Set bgwriter_flush_after = 6
Set bgwriter_lru_maxpages = 759
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.454230129223561
Set checkpoint_flush_after = 178
Set checkpoint_timeout = 2215
Set commit_delay = 34750
Set commit_siblings = 273
Set cursor_tuple_fraction = 0.33971562644704634
Set deadlock_timeout = 625415544
Set default_statistics_target = 3929
Set effective_cache_size = 1267481620
Set effective_io_concurrency = 52
Set from_collapse_limit = 1850682518
Set geqo_effort = 10
Set geqo_generations = 864757114
Set geqo_pool_size = 907504684
Set geqo_seed = 0.49269979874166503
Set geqo_threshold = 1423676778
Set join_collapse_limit = 1578922412
Set maintenance_work_mem = 1117994230
Set max_connections = 1426
Set max_wal_senders = 35
Set shared_buffers = 812658
Set temp_buffers = 796269715
Set temp_file_limit = 1117606743
Set vacuum_cost_delay = 88
Set vacuum_cost_limit = 869
Set vacuum_cost_page_dirty = 7246
Set vacuum_cost_page_hit = 951
Set vacuum_cost_page_miss = 2532
Set wal_buffers = 35892
Set wal_writer_delay = 4602
Set work_mem = 601858669
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-50-19.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763732956.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-50-19.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-50-19.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-50-19.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-50-19.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-50-19.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-50-19.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-50-19.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-50-19.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-50-19.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-50-19.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-50-19.results.AddWatchList.csv
Parsed throughput from summary.json: 2872.4775244583493
BenchBase wikipedia throughput: 2872.4775244583493
Configuration: {'autovacuum_analyze_scale_factor': 64.31262777612274, 'autovacuum_analyze_threshold': 1568687126, 'autovacuum_max_workers': 23, 'autovacuum_naptime': 494925, 'autovacuum_vacuum_cost_delay': 85, 'autovacuum_vacuum_cost_limit': 573, 'autovacuum_vacuum_scale_factor': 28.11799725546088, 'autovacuum_vacuum_threshold': 205337284, 'backend_flush_after': 11, 'bgwriter_delay': 2703, 'bgwriter_flush_after': 6, 'bgwriter_lru_maxpages': 759, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.454230129223561, 'checkpoint_flush_after': 178, 'checkpoint_timeout': 2215, 'commit_delay': 34750, 'commit_siblings': 273, 'cursor_tuple_fraction': 0.33971562644704634, 'deadlock_timeout': 625415544, 'default_statistics_target': 3929, 'effective_cache_size': 1267481620, 'effective_io_concurrency': 52, 'from_collapse_limit': 1850682518, 'geqo_effort': 10, 'geqo_generations': 864757114, 'geqo_pool_size': 907504684, 'geqo_seed': 0.49269979874166503, 'geqo_threshold': 1423676778, 'join_collapse_limit': 1578922412, 'maintenance_work_mem': 1117994230, 'max_connections': 1426, 'max_wal_senders': 35, 'shared_buffers': 812658, 'temp_buffers': 796269715, 'temp_file_limit': 1117606743, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 869, 'vacuum_cost_page_dirty': 7246, 'vacuum_cost_page_hit': 951, 'vacuum_cost_page_miss': 2532, 'wal_buffers': 35892, 'wal_writer_delay': 4602, 'work_mem': 601858669}, QPS: -2872.4775244583493
Performance (QPS): -2872.4775244583493
Evaluating configuration: {'autovacuum_analyze_scale_factor': 60.039828295919186, 'autovacuum_analyze_threshold': 856485486, 'autovacuum_max_workers': 45, 'autovacuum_naptime': 739771, 'autovacuum_vacuum_cost_delay': 47, 'autovacuum_vacuum_cost_limit': 5531, 'autovacuum_vacuum_scale_factor': 40.754662391639265, 'autovacuum_vacuum_threshold': 503921440, 'backend_flush_after': 121, 'bgwriter_delay': 9905, 'bgwriter_flush_after': 92, 'bgwriter_lru_maxpages': 533, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.653980981306792, 'checkpoint_flush_after': 63, 'checkpoint_timeout': 1197, 'commit_delay': 27587, 'commit_siblings': 960, 'cursor_tuple_fraction': 0.7190847543101795, 'deadlock_timeout': 1056934726, 'default_statistics_target': 8666, 'effective_cache_size': 153387245, 'effective_io_concurrency': 979, 'from_collapse_limit': 1321452458, 'geqo_effort': 4, 'geqo_generations': 83952518, 'geqo_pool_size': 371710355, 'geqo_seed': 0.9457923703343659, 'geqo_threshold': 1254968576, 'join_collapse_limit': 1031673703, 'maintenance_work_mem': 1511020271, 'max_connections': 1254, 'max_wal_senders': 22, 'shared_buffers': 1327602, 'temp_buffers': 7529062, 'temp_file_limit': 1006247359, 'vacuum_cost_delay': 92, 'vacuum_cost_limit': 2689, 'vacuum_cost_page_dirty': 1574, 'vacuum_cost_page_hit': 8418, 'vacuum_cost_page_miss': 6999, 'wal_buffers': 103783, 'wal_writer_delay': 8204, 'work_mem': 2069671564}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 60.039828295919186
Set autovacuum_analyze_threshold = 856485486
Set autovacuum_max_workers = 45
Set autovacuum_naptime = 739771
Set autovacuum_vacuum_cost_delay = 47
Set autovacuum_vacuum_cost_limit = 5531
Set autovacuum_vacuum_scale_factor = 40.754662391639265
Set autovacuum_vacuum_threshold = 503921440
Set backend_flush_after = 121
Set bgwriter_delay = 9905
Set bgwriter_flush_after = 92
Set bgwriter_lru_maxpages = 533
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.653980981306792
Set checkpoint_flush_after = 63
Set checkpoint_timeout = 1197
Set commit_delay = 27587
Set commit_siblings = 960
Set cursor_tuple_fraction = 0.7190847543101795
Set deadlock_timeout = 1056934726
Set default_statistics_target = 8666
Set effective_cache_size = 153387245
Set effective_io_concurrency = 979
Set from_collapse_limit = 1321452458
Set geqo_effort = 4
Set geqo_generations = 83952518
Set geqo_pool_size = 371710355
Set geqo_seed = 0.9457923703343659
Set geqo_threshold = 1254968576
Set join_collapse_limit = 1031673703
Set maintenance_work_mem = 1511020271
Set max_connections = 1254
Set max_wal_senders = 22
Set shared_buffers = 1327602
Set temp_buffers = 7529062
Set temp_file_limit = 1006247359
Set vacuum_cost_delay = 92
Set vacuum_cost_limit = 2689
Set vacuum_cost_page_dirty = 1574
Set vacuum_cost_page_hit = 8418
Set vacuum_cost_page_miss = 6999
Set wal_buffers = 103783
Set wal_writer_delay = 8204
Set work_mem = 2069671564
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-51-58.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-51-58.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-51-58.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-51-58.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-51-58.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-51-58.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-51-58.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-51-58.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-51-58.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763733054.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-51-58.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-51-58.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-51-58.results.AddWatchList.csv
Parsed throughput from summary.json: 2808.1840719112893
BenchBase wikipedia throughput: 2808.1840719112893
Configuration: {'autovacuum_analyze_scale_factor': 60.039828295919186, 'autovacuum_analyze_threshold': 856485486, 'autovacuum_max_workers': 45, 'autovacuum_naptime': 739771, 'autovacuum_vacuum_cost_delay': 47, 'autovacuum_vacuum_cost_limit': 5531, 'autovacuum_vacuum_scale_factor': 40.754662391639265, 'autovacuum_vacuum_threshold': 503921440, 'backend_flush_after': 121, 'bgwriter_delay': 9905, 'bgwriter_flush_after': 92, 'bgwriter_lru_maxpages': 533, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.653980981306792, 'checkpoint_flush_after': 63, 'checkpoint_timeout': 1197, 'commit_delay': 27587, 'commit_siblings': 960, 'cursor_tuple_fraction': 0.7190847543101795, 'deadlock_timeout': 1056934726, 'default_statistics_target': 8666, 'effective_cache_size': 153387245, 'effective_io_concurrency': 979, 'from_collapse_limit': 1321452458, 'geqo_effort': 4, 'geqo_generations': 83952518, 'geqo_pool_size': 371710355, 'geqo_seed': 0.9457923703343659, 'geqo_threshold': 1254968576, 'join_collapse_limit': 1031673703, 'maintenance_work_mem': 1511020271, 'max_connections': 1254, 'max_wal_senders': 22, 'shared_buffers': 1327602, 'temp_buffers': 7529062, 'temp_file_limit': 1006247359, 'vacuum_cost_delay': 92, 'vacuum_cost_limit': 2689, 'vacuum_cost_page_dirty': 1574, 'vacuum_cost_page_hit': 8418, 'vacuum_cost_page_miss': 6999, 'wal_buffers': 103783, 'wal_writer_delay': 8204, 'work_mem': 2069671564}, QPS: -2808.1840719112893
Performance (QPS): -2808.1840719112893
Evaluating configuration: {'autovacuum_analyze_scale_factor': 14.541357941925526, 'autovacuum_analyze_threshold': 1287730687, 'autovacuum_max_workers': 116, 'autovacuum_naptime': 751812, 'autovacuum_vacuum_cost_delay': 7, 'autovacuum_vacuum_cost_limit': 1802, 'autovacuum_vacuum_scale_factor': 12.682785466313362, 'autovacuum_vacuum_threshold': 1984330239, 'backend_flush_after': 229, 'bgwriter_delay': 2044, 'bgwriter_flush_after': 96, 'bgwriter_lru_maxpages': 799, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.048978530510340346, 'checkpoint_flush_after': 99, 'checkpoint_timeout': 817, 'commit_delay': 25515, 'commit_siblings': 775, 'cursor_tuple_fraction': 0.0653075072914362, 'deadlock_timeout': 1640755072, 'default_statistics_target': 6143, 'effective_cache_size': 1771098618, 'effective_io_concurrency': 981, 'from_collapse_limit': 1593323264, 'geqo_effort': 5, 'geqo_generations': 456658054, 'geqo_pool_size': 214606922, 'geqo_seed': 0.9374234419741283, 'geqo_threshold': 1506095616, 'join_collapse_limit': 1692635718, 'maintenance_work_mem': 814318961, 'max_connections': 2789, 'max_wal_senders': 21, 'shared_buffers': 117354, 'temp_buffers': 678941471, 'temp_file_limit': 1443169087, 'vacuum_cost_delay': 95, 'vacuum_cost_limit': 7601, 'vacuum_cost_page_dirty': 1736, 'vacuum_cost_page_hit': 8548, 'vacuum_cost_page_miss': 5803, 'wal_buffers': 39645, 'wal_writer_delay': 8826, 'work_mem': 3822327}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 14.541357941925526
Set autovacuum_analyze_threshold = 1287730687
Set autovacuum_max_workers = 116
Set autovacuum_naptime = 751812
Set autovacuum_vacuum_cost_delay = 7
Set autovacuum_vacuum_cost_limit = 1802
Set autovacuum_vacuum_scale_factor = 12.682785466313362
Set autovacuum_vacuum_threshold = 1984330239
Set backend_flush_after = 229
Set bgwriter_delay = 2044
Set bgwriter_flush_after = 96
Set bgwriter_lru_maxpages = 799
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.048978530510340346
Set checkpoint_flush_after = 99
Set checkpoint_timeout = 817
Set commit_delay = 25515
Set commit_siblings = 775
Set cursor_tuple_fraction = 0.0653075072914362
Set deadlock_timeout = 1640755072
Set default_statistics_target = 6143
Set effective_cache_size = 1771098618
Set effective_io_concurrency = 981
Set from_collapse_limit = 1593323264
Set geqo_effort = 5
Set geqo_generations = 456658054
Set geqo_pool_size = 214606922
Set geqo_seed = 0.9374234419741283
Set geqo_threshold = 1506095616
Set join_collapse_limit = 1692635718
Set maintenance_work_mem = 814318961
Set max_connections = 2789
Set max_wal_senders = 21
Set shared_buffers = 117354
Set temp_buffers = 678941471
Set temp_file_limit = 1443169087
Set vacuum_cost_delay = 95
Set vacuum_cost_limit = 7601
Set vacuum_cost_page_dirty = 1736
Set vacuum_cost_page_hit = 8548
Set vacuum_cost_page_miss = 5803
Set wal_buffers = 39645
Set wal_writer_delay = 8826
Set work_mem = 3822327
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-53-37.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-53-37.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-53-37.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763733154.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-53-37.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-53-37.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-53-37.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-53-37.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-53-37.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-53-37.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-53-37.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-53-37.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-53-37.metrics.json
Parsed throughput from summary.json: 2788.369019887405
BenchBase wikipedia throughput: 2788.369019887405
Configuration: {'autovacuum_analyze_scale_factor': 14.541357941925526, 'autovacuum_analyze_threshold': 1287730687, 'autovacuum_max_workers': 116, 'autovacuum_naptime': 751812, 'autovacuum_vacuum_cost_delay': 7, 'autovacuum_vacuum_cost_limit': 1802, 'autovacuum_vacuum_scale_factor': 12.682785466313362, 'autovacuum_vacuum_threshold': 1984330239, 'backend_flush_after': 229, 'bgwriter_delay': 2044, 'bgwriter_flush_after': 96, 'bgwriter_lru_maxpages': 799, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.048978530510340346, 'checkpoint_flush_after': 99, 'checkpoint_timeout': 817, 'commit_delay': 25515, 'commit_siblings': 775, 'cursor_tuple_fraction': 0.0653075072914362, 'deadlock_timeout': 1640755072, 'default_statistics_target': 6143, 'effective_cache_size': 1771098618, 'effective_io_concurrency': 981, 'from_collapse_limit': 1593323264, 'geqo_effort': 5, 'geqo_generations': 456658054, 'geqo_pool_size': 214606922, 'geqo_seed': 0.9374234419741283, 'geqo_threshold': 1506095616, 'join_collapse_limit': 1692635718, 'maintenance_work_mem': 814318961, 'max_connections': 2789, 'max_wal_senders': 21, 'shared_buffers': 117354, 'temp_buffers': 678941471, 'temp_file_limit': 1443169087, 'vacuum_cost_delay': 95, 'vacuum_cost_limit': 7601, 'vacuum_cost_page_dirty': 1736, 'vacuum_cost_page_hit': 8548, 'vacuum_cost_page_miss': 5803, 'wal_buffers': 39645, 'wal_writer_delay': 8826, 'work_mem': 3822327}, QPS: -2788.369019887405
Performance (QPS): -2788.369019887405
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 7153, 'autovacuum_vacuum_scale_factor': 84.21871769886044, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 154, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4593, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.23051065621223202, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1539, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 3824, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7025, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1580359312}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1298967
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 7153
Set autovacuum_vacuum_scale_factor = 84.21871769886044
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 154
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4593
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.23051065621223202
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1539
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 70276608
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 73
Set vacuum_cost_limit = 3824
Set vacuum_cost_page_dirty = 4598
Set vacuum_cost_page_hit = 7025
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1580359312
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-55-15.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-55-15.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-55-15.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-55-15.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-55-15.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-55-15.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-55-15.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-55-15.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763733252.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-55-15.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-55-15.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-55-15.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-55-15.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 2959.1507235842973
BenchBase wikipedia throughput: 2959.1507235842973
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 7153, 'autovacuum_vacuum_scale_factor': 84.21871769886044, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 154, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4593, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.23051065621223202, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1539, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 3824, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7025, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1580359312}, QPS: -2959.1507235842973
Performance (QPS): -2959.1507235842973
Evaluating configuration: {'autovacuum_analyze_scale_factor': 3.02706643126138, 'autovacuum_analyze_threshold': 1335489467, 'autovacuum_max_workers': 159, 'autovacuum_naptime': 1715201, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 9806, 'autovacuum_vacuum_scale_factor': 30.180758203220147, 'autovacuum_vacuum_threshold': 1378011747, 'backend_flush_after': 230, 'bgwriter_delay': 753, 'bgwriter_flush_after': 252, 'bgwriter_lru_maxpages': 27, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.022216594856369287, 'checkpoint_flush_after': 49, 'checkpoint_timeout': 1265, 'commit_delay': 66061, 'commit_siblings': 100, 'cursor_tuple_fraction': 0.159630189004576, 'deadlock_timeout': 975397790, 'default_statistics_target': 2761, 'effective_cache_size': 1787071545, 'effective_io_concurrency': 546, 'from_collapse_limit': 1352919808, 'geqo_effort': 9, 'geqo_generations': 1396300239, 'geqo_pool_size': 806204011, 'geqo_seed': 0.2124637128715583, 'geqo_threshold': 283477857, 'join_collapse_limit': 786735913, 'maintenance_work_mem': 1740490287, 'max_connections': 530, 'max_wal_senders': 11, 'shared_buffers': 2180880, 'temp_buffers': 47440831, 'temp_file_limit': 210375936, 'vacuum_cost_delay': 49, 'vacuum_cost_limit': 4914, 'vacuum_cost_page_dirty': 4417, 'vacuum_cost_page_hit': 7113, 'vacuum_cost_page_miss': 5906, 'wal_buffers': 28276, 'wal_writer_delay': 8963, 'work_mem': 2068733819}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 3.02706643126138
Set autovacuum_analyze_threshold = 1335489467
Set autovacuum_max_workers = 159
Set autovacuum_naptime = 1715201
Set autovacuum_vacuum_cost_delay = 62
Set autovacuum_vacuum_cost_limit = 9806
Set autovacuum_vacuum_scale_factor = 30.180758203220147
Set autovacuum_vacuum_threshold = 1378011747
Set backend_flush_after = 230
Set bgwriter_delay = 753
Set bgwriter_flush_after = 252
Set bgwriter_lru_maxpages = 27
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.022216594856369287
Set checkpoint_flush_after = 49
Set checkpoint_timeout = 1265
Set commit_delay = 66061
Set commit_siblings = 100
Set cursor_tuple_fraction = 0.159630189004576
Set deadlock_timeout = 975397790
Set default_statistics_target = 2761
Set effective_cache_size = 1787071545
Set effective_io_concurrency = 546
Set from_collapse_limit = 1352919808
Set geqo_effort = 9
Set geqo_generations = 1396300239
Set geqo_pool_size = 806204011
Set geqo_seed = 0.2124637128715583
Set geqo_threshold = 283477857
Set join_collapse_limit = 786735913
Set maintenance_work_mem = 1740490287
Set max_connections = 530
Set max_wal_senders = 11
Set shared_buffers = 2180880
Set temp_buffers = 47440831
Set temp_file_limit = 210375936
Set vacuum_cost_delay = 49
Set vacuum_cost_limit = 4914
Set vacuum_cost_page_dirty = 4417
Set vacuum_cost_page_hit = 7113
Set vacuum_cost_page_miss = 5906
Set wal_buffers = 28276
Set wal_writer_delay = 8963
Set work_mem = 2068733819
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-56-53.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-56-53.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763733350.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-56-53.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-56-53.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-56-53.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-56-53.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-56-53.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-56-53.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-56-53.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-56-53.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-56-53.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-56-53.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 2845.6209766717475
BenchBase wikipedia throughput: 2845.6209766717475
Configuration: {'autovacuum_analyze_scale_factor': 3.02706643126138, 'autovacuum_analyze_threshold': 1335489467, 'autovacuum_max_workers': 159, 'autovacuum_naptime': 1715201, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 9806, 'autovacuum_vacuum_scale_factor': 30.180758203220147, 'autovacuum_vacuum_threshold': 1378011747, 'backend_flush_after': 230, 'bgwriter_delay': 753, 'bgwriter_flush_after': 252, 'bgwriter_lru_maxpages': 27, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.022216594856369287, 'checkpoint_flush_after': 49, 'checkpoint_timeout': 1265, 'commit_delay': 66061, 'commit_siblings': 100, 'cursor_tuple_fraction': 0.159630189004576, 'deadlock_timeout': 975397790, 'default_statistics_target': 2761, 'effective_cache_size': 1787071545, 'effective_io_concurrency': 546, 'from_collapse_limit': 1352919808, 'geqo_effort': 9, 'geqo_generations': 1396300239, 'geqo_pool_size': 806204011, 'geqo_seed': 0.2124637128715583, 'geqo_threshold': 283477857, 'join_collapse_limit': 786735913, 'maintenance_work_mem': 1740490287, 'max_connections': 530, 'max_wal_senders': 11, 'shared_buffers': 2180880, 'temp_buffers': 47440831, 'temp_file_limit': 210375936, 'vacuum_cost_delay': 49, 'vacuum_cost_limit': 4914, 'vacuum_cost_page_dirty': 4417, 'vacuum_cost_page_hit': 7113, 'vacuum_cost_page_miss': 5906, 'wal_buffers': 28276, 'wal_writer_delay': 8963, 'work_mem': 2068733819}, QPS: -2845.6209766717475
Performance (QPS): -2845.6209766717475
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 918619200, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1380175, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8976, 'autovacuum_vacuum_scale_factor': 83.68997972065245, 'autovacuum_vacuum_threshold': 1860639359, 'backend_flush_after': 0, 'bgwriter_delay': 3476, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3856414832202381, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 2284, 'commit_delay': 25582, 'commit_siblings': 895, 'cursor_tuple_fraction': 0.051146583435298335, 'deadlock_timeout': 1316911744, 'default_statistics_target': 3775, 'effective_cache_size': 1465006080, 'effective_io_concurrency': 462, 'from_collapse_limit': 1450792832, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1208729087, 'geqo_seed': 0.3499678466085294, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1423, 'max_wal_senders': 19, 'shared_buffers': 217619, 'temp_buffers': 42673776, 'temp_file_limit': 118714375, 'vacuum_cost_delay': 62, 'vacuum_cost_limit': 2539, 'vacuum_cost_page_dirty': 4211, 'vacuum_cost_page_hit': 7458, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1631945359}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 918619200
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1380175
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8976
Set autovacuum_vacuum_scale_factor = 83.68997972065245
Set autovacuum_vacuum_threshold = 1860639359
Set backend_flush_after = 0
Set bgwriter_delay = 3476
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3856414832202381
Set checkpoint_flush_after = 253
Set checkpoint_timeout = 2284
Set commit_delay = 25582
Set commit_siblings = 895
Set cursor_tuple_fraction = 0.051146583435298335
Set deadlock_timeout = 1316911744
Set default_statistics_target = 3775
Set effective_cache_size = 1465006080
Set effective_io_concurrency = 462
Set from_collapse_limit = 1450792832
Set geqo_effort = 4
Set geqo_generations = 159642294
Set geqo_pool_size = 1208729087
Set geqo_seed = 0.3499678466085294
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1423
Set max_wal_senders = 19
Set shared_buffers = 217619
Set temp_buffers = 42673776
Set temp_file_limit = 118714375
Set vacuum_cost_delay = 62
Set vacuum_cost_limit = 2539
Set vacuum_cost_page_dirty = 4211
Set vacuum_cost_page_hit = 7458
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1631945359
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-58-31.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-58-31.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_13-58-31.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-58-31.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-58-31.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-58-31.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-58-31.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-58-31.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763733447.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-58-31.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-58-31.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-58-31.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_13-58-31.results.AddWatchList.csv
Parsed throughput from summary.json: 2880.490750058504
BenchBase wikipedia throughput: 2880.490750058504
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 918619200, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1380175, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8976, 'autovacuum_vacuum_scale_factor': 83.68997972065245, 'autovacuum_vacuum_threshold': 1860639359, 'backend_flush_after': 0, 'bgwriter_delay': 3476, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3856414832202381, 'checkpoint_flush_after': 253, 'checkpoint_timeout': 2284, 'commit_delay': 25582, 'commit_siblings': 895, 'cursor_tuple_fraction': 0.051146583435298335, 'deadlock_timeout': 1316911744, 'default_statistics_target': 3775, 'effective_cache_size': 1465006080, 'effective_io_concurrency': 462, 'from_collapse_limit': 1450792832, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1208729087, 'geqo_seed': 0.3499678466085294, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1423, 'max_wal_senders': 19, 'shared_buffers': 217619, 'temp_buffers': 42673776, 'temp_file_limit': 118714375, 'vacuum_cost_delay': 62, 'vacuum_cost_limit': 2539, 'vacuum_cost_page_dirty': 4211, 'vacuum_cost_page_hit': 7458, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1631945359}, QPS: -2880.490750058504
Performance (QPS): -2880.490750058504
Evaluating configuration: {'autovacuum_analyze_scale_factor': 11.119602720021437, 'autovacuum_analyze_threshold': 749727424, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1380175, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8065, 'autovacuum_vacuum_scale_factor': 85.48651679417911, 'autovacuum_vacuum_threshold': 1910039423, 'backend_flush_after': 20, 'bgwriter_delay': 2369, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 246, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.051146583435298335, 'deadlock_timeout': 1344746112, 'default_statistics_target': 3865, 'effective_cache_size': 1465006080, 'effective_io_concurrency': 514, 'from_collapse_limit': 1798991148, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1283873023, 'geqo_seed': 0.1318755521546055, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 1153015386, 'max_connections': 1400, 'max_wal_senders': 18, 'shared_buffers': 205770, 'temp_buffers': 136611095, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 70, 'vacuum_cost_limit': 2377, 'vacuum_cost_page_dirty': 4407, 'vacuum_cost_page_hit': 8782, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1700360077}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 11.119602720021437
Set autovacuum_analyze_threshold = 749727424
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1380175
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8065
Set autovacuum_vacuum_scale_factor = 85.48651679417911
Set autovacuum_vacuum_threshold = 1910039423
Set backend_flush_after = 20
Set bgwriter_delay = 2369
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 246
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.051146583435298335
Set deadlock_timeout = 1344746112
Set default_statistics_target = 3865
Set effective_cache_size = 1465006080
Set effective_io_concurrency = 514
Set from_collapse_limit = 1798991148
Set geqo_effort = 4
Set geqo_generations = 159642294
Set geqo_pool_size = 1283873023
Set geqo_seed = 0.1318755521546055
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 1153015386
Set max_connections = 1400
Set max_wal_senders = 18
Set shared_buffers = 205770
Set temp_buffers = 136611095
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 70
Set vacuum_cost_limit = 2377
Set vacuum_cost_page_dirty = 4407
Set vacuum_cost_page_hit = 8782
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1700360077
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-00-08.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763733545.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-00-08.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-00-08.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-00-08.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-00-08.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-00-08.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-00-08.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-00-08.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_14-00-08.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-00-08.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-00-08.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-00-08.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 2928.6153383851033
BenchBase wikipedia throughput: 2928.6153383851033
Configuration: {'autovacuum_analyze_scale_factor': 11.119602720021437, 'autovacuum_analyze_threshold': 749727424, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1380175, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8065, 'autovacuum_vacuum_scale_factor': 85.48651679417911, 'autovacuum_vacuum_threshold': 1910039423, 'backend_flush_after': 20, 'bgwriter_delay': 2369, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 246, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.051146583435298335, 'deadlock_timeout': 1344746112, 'default_statistics_target': 3865, 'effective_cache_size': 1465006080, 'effective_io_concurrency': 514, 'from_collapse_limit': 1798991148, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1283873023, 'geqo_seed': 0.1318755521546055, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 1153015386, 'max_connections': 1400, 'max_wal_senders': 18, 'shared_buffers': 205770, 'temp_buffers': 136611095, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 70, 'vacuum_cost_limit': 2377, 'vacuum_cost_page_dirty': 4407, 'vacuum_cost_page_hit': 8782, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1700360077}, QPS: -2928.6153383851033
Performance (QPS): -2928.6153383851033
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.39113032410702, 'autovacuum_analyze_threshold': 577730688, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1386483, 'autovacuum_vacuum_cost_delay': 8, 'autovacuum_vacuum_cost_limit': 9033, 'autovacuum_vacuum_scale_factor': 81.90602281126874, 'autovacuum_vacuum_threshold': 834562501, 'backend_flush_after': 205, 'bgwriter_delay': 3431, 'bgwriter_flush_after': 256, 'bgwriter_lru_maxpages': 414, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.9469593846276927, 'checkpoint_flush_after': 167, 'checkpoint_timeout': 2680, 'commit_delay': 15830, 'commit_siblings': 982, 'cursor_tuple_fraction': 0.7121655781221196, 'deadlock_timeout': 140427719, 'default_statistics_target': 4848, 'effective_cache_size': 2136593576, 'effective_io_concurrency': 971, 'from_collapse_limit': 947097247, 'geqo_effort': 2, 'geqo_generations': 2081044103, 'geqo_pool_size': 1356799615, 'geqo_seed': 0.725129388216955, 'geqo_threshold': 305690299, 'join_collapse_limit': 121591430, 'maintenance_work_mem': 930729988, 'max_connections': 2729, 'max_wal_senders': 49, 'shared_buffers': 381833, 'temp_buffers': 605473323, 'temp_file_limit': 611674575, 'vacuum_cost_delay': 30, 'vacuum_cost_limit': 1239, 'vacuum_cost_page_dirty': 5654, 'vacuum_cost_page_hit': 2122, 'vacuum_cost_page_miss': 9, 'wal_buffers': 115049, 'wal_writer_delay': 3751, 'work_mem': 16627402}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.39113032410702
Set autovacuum_analyze_threshold = 577730688
Set autovacuum_max_workers = 120
Set autovacuum_naptime = 1386483
Set autovacuum_vacuum_cost_delay = 8
Set autovacuum_vacuum_cost_limit = 9033
Set autovacuum_vacuum_scale_factor = 81.90602281126874
Set autovacuum_vacuum_threshold = 834562501
Set backend_flush_after = 205
Set bgwriter_delay = 3431
Set bgwriter_flush_after = 256
Set bgwriter_lru_maxpages = 414
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.9469593846276927
Set checkpoint_flush_after = 167
Set checkpoint_timeout = 2680
Set commit_delay = 15830
Set commit_siblings = 982
Set cursor_tuple_fraction = 0.7121655781221196
Set deadlock_timeout = 140427719
Set default_statistics_target = 4848
Set effective_cache_size = 2136593576
Set effective_io_concurrency = 971
Set from_collapse_limit = 947097247
Set geqo_effort = 2
Set geqo_generations = 2081044103
Set geqo_pool_size = 1356799615
Set geqo_seed = 0.725129388216955
Set geqo_threshold = 305690299
Set join_collapse_limit = 121591430
Set maintenance_work_mem = 930729988
Set max_connections = 2729
Set max_wal_senders = 49
Set shared_buffers = 381833
Set temp_buffers = 605473323
Set temp_file_limit = 611674575
Set vacuum_cost_delay = 30
Set vacuum_cost_limit = 1239
Set vacuum_cost_page_dirty = 5654
Set vacuum_cost_page_hit = 2122
Set vacuum_cost_page_miss = 9
Set wal_buffers = 115049
Set wal_writer_delay = 3751
Set work_mem = 16627402
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_14-01-48.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-01-48.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-01-48.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-01-48.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-01-48.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-01-48.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-01-48.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-01-48.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-01-48.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-01-48.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-01-48.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763733645.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-01-48.config.xml
Parsed throughput from summary.json: 2950.8515152949567
BenchBase wikipedia throughput: 2950.8515152949567
Configuration: {'autovacuum_analyze_scale_factor': 82.39113032410702, 'autovacuum_analyze_threshold': 577730688, 'autovacuum_max_workers': 120, 'autovacuum_naptime': 1386483, 'autovacuum_vacuum_cost_delay': 8, 'autovacuum_vacuum_cost_limit': 9033, 'autovacuum_vacuum_scale_factor': 81.90602281126874, 'autovacuum_vacuum_threshold': 834562501, 'backend_flush_after': 205, 'bgwriter_delay': 3431, 'bgwriter_flush_after': 256, 'bgwriter_lru_maxpages': 414, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.9469593846276927, 'checkpoint_flush_after': 167, 'checkpoint_timeout': 2680, 'commit_delay': 15830, 'commit_siblings': 982, 'cursor_tuple_fraction': 0.7121655781221196, 'deadlock_timeout': 140427719, 'default_statistics_target': 4848, 'effective_cache_size': 2136593576, 'effective_io_concurrency': 971, 'from_collapse_limit': 947097247, 'geqo_effort': 2, 'geqo_generations': 2081044103, 'geqo_pool_size': 1356799615, 'geqo_seed': 0.725129388216955, 'geqo_threshold': 305690299, 'join_collapse_limit': 121591430, 'maintenance_work_mem': 930729988, 'max_connections': 2729, 'max_wal_senders': 49, 'shared_buffers': 381833, 'temp_buffers': 605473323, 'temp_file_limit': 611674575, 'vacuum_cost_delay': 30, 'vacuum_cost_limit': 1239, 'vacuum_cost_page_dirty': 5654, 'vacuum_cost_page_hit': 2122, 'vacuum_cost_page_miss': 9, 'wal_buffers': 115049, 'wal_writer_delay': 3751, 'work_mem': 16627402}, QPS: -2950.8515152949567
Performance (QPS): -2950.8515152949567
Evaluating configuration: {'autovacuum_analyze_scale_factor': 85.5014958152567, 'autovacuum_analyze_threshold': 178559808, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 476109, 'autovacuum_vacuum_cost_delay': 76, 'autovacuum_vacuum_cost_limit': 5028, 'autovacuum_vacuum_scale_factor': 31.987513919487416, 'autovacuum_vacuum_threshold': 1679023288, 'backend_flush_after': 177, 'bgwriter_delay': 9897, 'bgwriter_flush_after': 186, 'bgwriter_lru_maxpages': 94, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.7949178746884821, 'checkpoint_flush_after': 155, 'checkpoint_timeout': 3413, 'commit_delay': 66289, 'commit_siblings': 977, 'cursor_tuple_fraction': 0.32253300373681204, 'deadlock_timeout': 297897628, 'default_statistics_target': 9335, 'effective_cache_size': 619604328, 'effective_io_concurrency': 981, 'from_collapse_limit': 775893760, 'geqo_effort': 4, 'geqo_generations': 305767490, 'geqo_pool_size': 1253194245, 'geqo_seed': 0.4199514425260118, 'geqo_threshold': 76023495, 'join_collapse_limit': 1653499655, 'maintenance_work_mem': 1404082018, 'max_connections': 399, 'max_wal_senders': 9, 'shared_buffers': 1087043, 'temp_buffers': 981302476, 'temp_file_limit': 1116964223, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 380, 'vacuum_cost_page_dirty': 3751, 'vacuum_cost_page_hit': 7215, 'vacuum_cost_page_miss': 6515, 'wal_buffers': 59552, 'wal_writer_delay': 9967, 'work_mem': 1058100669}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 85.5014958152567
Set autovacuum_analyze_threshold = 178559808
Set autovacuum_max_workers = 56
Set autovacuum_naptime = 476109
Set autovacuum_vacuum_cost_delay = 76
Set autovacuum_vacuum_cost_limit = 5028
Set autovacuum_vacuum_scale_factor = 31.987513919487416
Set autovacuum_vacuum_threshold = 1679023288
Set backend_flush_after = 177
Set bgwriter_delay = 9897
Set bgwriter_flush_after = 186
Set bgwriter_lru_maxpages = 94
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.7949178746884821
Set checkpoint_flush_after = 155
Set checkpoint_timeout = 3413
Set commit_delay = 66289
Set commit_siblings = 977
Set cursor_tuple_fraction = 0.32253300373681204
Set deadlock_timeout = 297897628
Set default_statistics_target = 9335
Set effective_cache_size = 619604328
Set effective_io_concurrency = 981
Set from_collapse_limit = 775893760
Set geqo_effort = 4
Set geqo_generations = 305767490
Set geqo_pool_size = 1253194245
Set geqo_seed = 0.4199514425260118
Set geqo_threshold = 76023495
Set join_collapse_limit = 1653499655
Set maintenance_work_mem = 1404082018
Set max_connections = 399
Set max_wal_senders = 9
Set shared_buffers = 1087043
Set temp_buffers = 981302476
Set temp_file_limit = 1116964223
Set vacuum_cost_delay = 60
Set vacuum_cost_limit = 380
Set vacuum_cost_page_dirty = 3751
Set vacuum_cost_page_hit = 7215
Set vacuum_cost_page_miss = 6515
Set wal_buffers = 59552
Set wal_writer_delay = 9967
Set work_mem = 1058100669
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-03-26.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763733743.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-03-26.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-03-26.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-03-26.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-03-26.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-03-26.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-03-26.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-03-26.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-03-26.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_14-03-26.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-03-26.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-03-26.config.xml
Parsed throughput from summary.json: 2773.8556147951767
BenchBase wikipedia throughput: 2773.8556147951767
Configuration: {'autovacuum_analyze_scale_factor': 85.5014958152567, 'autovacuum_analyze_threshold': 178559808, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 476109, 'autovacuum_vacuum_cost_delay': 76, 'autovacuum_vacuum_cost_limit': 5028, 'autovacuum_vacuum_scale_factor': 31.987513919487416, 'autovacuum_vacuum_threshold': 1679023288, 'backend_flush_after': 177, 'bgwriter_delay': 9897, 'bgwriter_flush_after': 186, 'bgwriter_lru_maxpages': 94, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.7949178746884821, 'checkpoint_flush_after': 155, 'checkpoint_timeout': 3413, 'commit_delay': 66289, 'commit_siblings': 977, 'cursor_tuple_fraction': 0.32253300373681204, 'deadlock_timeout': 297897628, 'default_statistics_target': 9335, 'effective_cache_size': 619604328, 'effective_io_concurrency': 981, 'from_collapse_limit': 775893760, 'geqo_effort': 4, 'geqo_generations': 305767490, 'geqo_pool_size': 1253194245, 'geqo_seed': 0.4199514425260118, 'geqo_threshold': 76023495, 'join_collapse_limit': 1653499655, 'maintenance_work_mem': 1404082018, 'max_connections': 399, 'max_wal_senders': 9, 'shared_buffers': 1087043, 'temp_buffers': 981302476, 'temp_file_limit': 1116964223, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 380, 'vacuum_cost_page_dirty': 3751, 'vacuum_cost_page_hit': 7215, 'vacuum_cost_page_miss': 6515, 'wal_buffers': 59552, 'wal_writer_delay': 9967, 'work_mem': 1058100669}, QPS: -2773.8556147951767
Performance (QPS): -2773.8556147951767
Evaluating configuration: {'autovacuum_analyze_scale_factor': 57.80551823462909, 'autovacuum_analyze_threshold': 1886402715, 'autovacuum_max_workers': 199, 'autovacuum_naptime': 368984, 'autovacuum_vacuum_cost_delay': 57, 'autovacuum_vacuum_cost_limit': 1400, 'autovacuum_vacuum_scale_factor': 6.260958949353701, 'autovacuum_vacuum_threshold': 2012579071, 'backend_flush_after': 66, 'bgwriter_delay': 3455, 'bgwriter_flush_after': 89, 'bgwriter_lru_maxpages': 395, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.263816738341775, 'checkpoint_flush_after': 92, 'checkpoint_timeout': 621, 'commit_delay': 88906, 'commit_siblings': 704, 'cursor_tuple_fraction': 0.3719981956225053, 'deadlock_timeout': 1654514688, 'default_statistics_target': 632, 'effective_cache_size': 995301696, 'effective_io_concurrency': 981, 'from_collapse_limit': 2055302673, 'geqo_effort': 3, 'geqo_generations': 955186607, 'geqo_pool_size': 1122134805, 'geqo_seed': 0.31839228649223217, 'geqo_threshold': 1403019197, 'join_collapse_limit': 1851577838, 'maintenance_work_mem': 1500059956, 'max_connections': 389, 'max_wal_senders': 49, 'shared_buffers': 2107392, 'temp_buffers': 1040355741, 'temp_file_limit': 499297310, 'vacuum_cost_delay': 29, 'vacuum_cost_limit': 1399, 'vacuum_cost_page_dirty': 9697, 'vacuum_cost_page_hit': 7693, 'vacuum_cost_page_miss': 2765, 'wal_buffers': 24607, 'wal_writer_delay': 8540, 'work_mem': 1702666994}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 57.80551823462909
Set autovacuum_analyze_threshold = 1886402715
Set autovacuum_max_workers = 199
Set autovacuum_naptime = 368984
Set autovacuum_vacuum_cost_delay = 57
Set autovacuum_vacuum_cost_limit = 1400
Set autovacuum_vacuum_scale_factor = 6.260958949353701
Set autovacuum_vacuum_threshold = 2012579071
Set backend_flush_after = 66
Set bgwriter_delay = 3455
Set bgwriter_flush_after = 89
Set bgwriter_lru_maxpages = 395
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.263816738341775
Set checkpoint_flush_after = 92
Set checkpoint_timeout = 621
Set commit_delay = 88906
Set commit_siblings = 704
Set cursor_tuple_fraction = 0.3719981956225053
Set deadlock_timeout = 1654514688
Set default_statistics_target = 632
Set effective_cache_size = 995301696
Set effective_io_concurrency = 981
Set from_collapse_limit = 2055302673
Set geqo_effort = 3
Set geqo_generations = 955186607
Set geqo_pool_size = 1122134805
Set geqo_seed = 0.31839228649223217
Set geqo_threshold = 1403019197
Set join_collapse_limit = 1851577838
Set maintenance_work_mem = 1500059956
Set max_connections = 389
Set max_wal_senders = 49
Set shared_buffers = 2107392
Set temp_buffers = 1040355741
Set temp_file_limit = 499297310
Set vacuum_cost_delay = 29
Set vacuum_cost_limit = 1399
Set vacuum_cost_page_dirty = 9697
Set vacuum_cost_page_hit = 7693
Set vacuum_cost_page_miss = 2765
Set wal_buffers = 24607
Set wal_writer_delay = 8540
Set work_mem = 1702666994
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-05-06.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-05-06.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-05-06.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763733842.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-05-06.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-05-06.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-05-06.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-05-06.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-05-06.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_14-05-06.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-05-06.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-05-06.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-05-06.samples.csv
Parsed throughput from summary.json: 2916.961795956326
BenchBase wikipedia throughput: 2916.961795956326
Configuration: {'autovacuum_analyze_scale_factor': 57.80551823462909, 'autovacuum_analyze_threshold': 1886402715, 'autovacuum_max_workers': 199, 'autovacuum_naptime': 368984, 'autovacuum_vacuum_cost_delay': 57, 'autovacuum_vacuum_cost_limit': 1400, 'autovacuum_vacuum_scale_factor': 6.260958949353701, 'autovacuum_vacuum_threshold': 2012579071, 'backend_flush_after': 66, 'bgwriter_delay': 3455, 'bgwriter_flush_after': 89, 'bgwriter_lru_maxpages': 395, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.263816738341775, 'checkpoint_flush_after': 92, 'checkpoint_timeout': 621, 'commit_delay': 88906, 'commit_siblings': 704, 'cursor_tuple_fraction': 0.3719981956225053, 'deadlock_timeout': 1654514688, 'default_statistics_target': 632, 'effective_cache_size': 995301696, 'effective_io_concurrency': 981, 'from_collapse_limit': 2055302673, 'geqo_effort': 3, 'geqo_generations': 955186607, 'geqo_pool_size': 1122134805, 'geqo_seed': 0.31839228649223217, 'geqo_threshold': 1403019197, 'join_collapse_limit': 1851577838, 'maintenance_work_mem': 1500059956, 'max_connections': 389, 'max_wal_senders': 49, 'shared_buffers': 2107392, 'temp_buffers': 1040355741, 'temp_file_limit': 499297310, 'vacuum_cost_delay': 29, 'vacuum_cost_limit': 1399, 'vacuum_cost_page_dirty': 9697, 'vacuum_cost_page_hit': 7693, 'vacuum_cost_page_miss': 2765, 'wal_buffers': 24607, 'wal_writer_delay': 8540, 'work_mem': 1702666994}, QPS: -2916.961795956326
Performance (QPS): -2916.961795956326
Evaluating configuration: {'autovacuum_analyze_scale_factor': 46.434240255761885, 'autovacuum_analyze_threshold': 1052881764, 'autovacuum_max_workers': 16, 'autovacuum_naptime': 1269067, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 3656, 'autovacuum_vacuum_scale_factor': 27.181181735848536, 'autovacuum_vacuum_threshold': 216225933, 'backend_flush_after': 192, 'bgwriter_delay': 9140, 'bgwriter_flush_after': 138, 'bgwriter_lru_maxpages': 459, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.11823808249892453, 'checkpoint_flush_after': 146, 'checkpoint_timeout': 989, 'commit_delay': 37025, 'commit_siblings': 830, 'cursor_tuple_fraction': 0.14062230173554158, 'deadlock_timeout': 2108573062, 'default_statistics_target': 405, 'effective_cache_size': 1590751286, 'effective_io_concurrency': 901, 'from_collapse_limit': 35553342, 'geqo_effort': 5, 'geqo_generations': 1483641930, 'geqo_pool_size': 1724185416, 'geqo_seed': 0.929301467054235, 'geqo_threshold': 1771513900, 'join_collapse_limit': 361726649, 'maintenance_work_mem': 1140173777, 'max_connections': 2728, 'max_wal_senders': 25, 'shared_buffers': 3816729, 'temp_buffers': 111621501, 'temp_file_limit': 1475376626, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 4422, 'vacuum_cost_page_dirty': 6576, 'vacuum_cost_page_hit': 7760, 'vacuum_cost_page_miss': 2932, 'wal_buffers': 46704, 'wal_writer_delay': 1517, 'work_mem': 1872065640}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 46.434240255761885
Set autovacuum_analyze_threshold = 1052881764
Set autovacuum_max_workers = 16
Set autovacuum_naptime = 1269067
Set autovacuum_vacuum_cost_delay = 10
Set autovacuum_vacuum_cost_limit = 3656
Set autovacuum_vacuum_scale_factor = 27.181181735848536
Set autovacuum_vacuum_threshold = 216225933
Set backend_flush_after = 192
Set bgwriter_delay = 9140
Set bgwriter_flush_after = 138
Set bgwriter_lru_maxpages = 459
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.11823808249892453
Set checkpoint_flush_after = 146
Set checkpoint_timeout = 989
Set commit_delay = 37025
Set commit_siblings = 830
Set cursor_tuple_fraction = 0.14062230173554158
Set deadlock_timeout = 2108573062
Set default_statistics_target = 405
Set effective_cache_size = 1590751286
Set effective_io_concurrency = 901
Set from_collapse_limit = 35553342
Set geqo_effort = 5
Set geqo_generations = 1483641930
Set geqo_pool_size = 1724185416
Set geqo_seed = 0.929301467054235
Set geqo_threshold = 1771513900
Set join_collapse_limit = 361726649
Set maintenance_work_mem = 1140173777
Set max_connections = 2728
Set max_wal_senders = 25
Set shared_buffers = 3816729
Set temp_buffers = 111621501
Set temp_file_limit = 1475376626
Set vacuum_cost_delay = 40
Set vacuum_cost_limit = 4422
Set vacuum_cost_page_dirty = 6576
Set vacuum_cost_page_hit = 7760
Set vacuum_cost_page_miss = 2932
Set wal_buffers = 46704
Set wal_writer_delay = 1517
Set work_mem = 1872065640
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-06-40.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_14-06-40.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-06-40.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-06-40.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-06-40.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-06-40.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-06-40.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763733936.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-06-40.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-06-40.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-06-40.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-06-40.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-06-40.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 2925.781373681081
BenchBase wikipedia throughput: 2925.781373681081
Configuration: {'autovacuum_analyze_scale_factor': 46.434240255761885, 'autovacuum_analyze_threshold': 1052881764, 'autovacuum_max_workers': 16, 'autovacuum_naptime': 1269067, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 3656, 'autovacuum_vacuum_scale_factor': 27.181181735848536, 'autovacuum_vacuum_threshold': 216225933, 'backend_flush_after': 192, 'bgwriter_delay': 9140, 'bgwriter_flush_after': 138, 'bgwriter_lru_maxpages': 459, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.11823808249892453, 'checkpoint_flush_after': 146, 'checkpoint_timeout': 989, 'commit_delay': 37025, 'commit_siblings': 830, 'cursor_tuple_fraction': 0.14062230173554158, 'deadlock_timeout': 2108573062, 'default_statistics_target': 405, 'effective_cache_size': 1590751286, 'effective_io_concurrency': 901, 'from_collapse_limit': 35553342, 'geqo_effort': 5, 'geqo_generations': 1483641930, 'geqo_pool_size': 1724185416, 'geqo_seed': 0.929301467054235, 'geqo_threshold': 1771513900, 'join_collapse_limit': 361726649, 'maintenance_work_mem': 1140173777, 'max_connections': 2728, 'max_wal_senders': 25, 'shared_buffers': 3816729, 'temp_buffers': 111621501, 'temp_file_limit': 1475376626, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 4422, 'vacuum_cost_page_dirty': 6576, 'vacuum_cost_page_hit': 7760, 'vacuum_cost_page_miss': 2932, 'wal_buffers': 46704, 'wal_writer_delay': 1517, 'work_mem': 1872065640}, QPS: -2925.781373681081
Performance (QPS): -2925.781373681081
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 82, 'autovacuum_naptime': 1324028, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 29276, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.17020304551231596, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1253025664, 'effective_io_concurrency': 417, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 412874753, 'join_collapse_limit': 160453360, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 82
Set autovacuum_naptime = 1324028
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2284
Set commit_delay = 29276
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.17020304551231596
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4358
Set effective_cache_size = 1253025664
Set effective_io_concurrency = 417
Set from_collapse_limit = 1798991148
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 412874753
Set join_collapse_limit = 160453360
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 70276608
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4598
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-08-17.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-08-17.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-08-17.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_14-08-17.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-08-17.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-08-17.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-08-17.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-08-17.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-08-17.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-08-17.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-08-17.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-08-17.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763734035.log
Parsed throughput from summary.json: 2849.139858254998
BenchBase wikipedia throughput: 2849.139858254998
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 82, 'autovacuum_naptime': 1324028, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 29276, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.17020304551231596, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1253025664, 'effective_io_concurrency': 417, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 412874753, 'join_collapse_limit': 160453360, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -2849.139858254998
Performance (QPS): -2849.139858254998
Evaluating configuration: {'autovacuum_analyze_scale_factor': 11.878110338181646, 'autovacuum_analyze_threshold': 261882071, 'autovacuum_max_workers': 19, 'autovacuum_naptime': 433477, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 5090, 'autovacuum_vacuum_scale_factor': 46.58005045143923, 'autovacuum_vacuum_threshold': 1569296767, 'backend_flush_after': 16, 'bgwriter_delay': 6618, 'bgwriter_flush_after': 252, 'bgwriter_lru_maxpages': 504, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.9411112072698681, 'checkpoint_flush_after': 152, 'checkpoint_timeout': 1592, 'commit_delay': 12234, 'commit_siblings': 256, 'cursor_tuple_fraction': 0.7619914983503028, 'deadlock_timeout': 1029329728, 'default_statistics_target': 9559, 'effective_cache_size': 1285511288, 'effective_io_concurrency': 981, 'from_collapse_limit': 565361024, 'geqo_effort': 10, 'geqo_generations': 1875737599, 'geqo_pool_size': 53714515, 'geqo_seed': 0.7811367180980227, 'geqo_threshold': 1389339422, 'join_collapse_limit': 86143216, 'maintenance_work_mem': 570305200, 'max_connections': 1379, 'max_wal_senders': 18, 'shared_buffers': 168538, 'temp_buffers': 748399605, 'temp_file_limit': 1586454836, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 3044, 'vacuum_cost_page_dirty': 9776, 'vacuum_cost_page_hit': 3447, 'vacuum_cost_page_miss': 5772, 'wal_buffers': 117734, 'wal_writer_delay': 9723, 'work_mem': 1837383782}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 11.878110338181646
Set autovacuum_analyze_threshold = 261882071
Set autovacuum_max_workers = 19
Set autovacuum_naptime = 433477
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 5090
Set autovacuum_vacuum_scale_factor = 46.58005045143923
Set autovacuum_vacuum_threshold = 1569296767
Set backend_flush_after = 16
Set bgwriter_delay = 6618
Set bgwriter_flush_after = 252
Set bgwriter_lru_maxpages = 504
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.9411112072698681
Set checkpoint_flush_after = 152
Set checkpoint_timeout = 1592
Set commit_delay = 12234
Set commit_siblings = 256
Set cursor_tuple_fraction = 0.7619914983503028
Set deadlock_timeout = 1029329728
Set default_statistics_target = 9559
Set effective_cache_size = 1285511288
Set effective_io_concurrency = 981
Set from_collapse_limit = 565361024
Set geqo_effort = 10
Set geqo_generations = 1875737599
Set geqo_pool_size = 53714515
Set geqo_seed = 0.7811367180980227
Set geqo_threshold = 1389339422
Set join_collapse_limit = 86143216
Set maintenance_work_mem = 570305200
Set max_connections = 1379
Set max_wal_senders = 18
Set shared_buffers = 168538
Set temp_buffers = 748399605
Set temp_file_limit = 1586454836
Set vacuum_cost_delay = 77
Set vacuum_cost_limit = 3044
Set vacuum_cost_page_dirty = 9776
Set vacuum_cost_page_hit = 3447
Set vacuum_cost_page_miss = 5772
Set wal_buffers = 117734
Set wal_writer_delay = 9723
Set work_mem = 1837383782
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-09-57.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-09-57.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-09-57.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-09-57.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-09-57.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-09-57.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-09-57.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_14-09-57.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-09-57.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-09-57.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763734133.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-09-57.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-09-57.results.csv
Parsed throughput from summary.json: 2892.7000112947285
BenchBase wikipedia throughput: 2892.7000112947285
Configuration: {'autovacuum_analyze_scale_factor': 11.878110338181646, 'autovacuum_analyze_threshold': 261882071, 'autovacuum_max_workers': 19, 'autovacuum_naptime': 433477, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 5090, 'autovacuum_vacuum_scale_factor': 46.58005045143923, 'autovacuum_vacuum_threshold': 1569296767, 'backend_flush_after': 16, 'bgwriter_delay': 6618, 'bgwriter_flush_after': 252, 'bgwriter_lru_maxpages': 504, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.9411112072698681, 'checkpoint_flush_after': 152, 'checkpoint_timeout': 1592, 'commit_delay': 12234, 'commit_siblings': 256, 'cursor_tuple_fraction': 0.7619914983503028, 'deadlock_timeout': 1029329728, 'default_statistics_target': 9559, 'effective_cache_size': 1285511288, 'effective_io_concurrency': 981, 'from_collapse_limit': 565361024, 'geqo_effort': 10, 'geqo_generations': 1875737599, 'geqo_pool_size': 53714515, 'geqo_seed': 0.7811367180980227, 'geqo_threshold': 1389339422, 'join_collapse_limit': 86143216, 'maintenance_work_mem': 570305200, 'max_connections': 1379, 'max_wal_senders': 18, 'shared_buffers': 168538, 'temp_buffers': 748399605, 'temp_file_limit': 1586454836, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 3044, 'vacuum_cost_page_dirty': 9776, 'vacuum_cost_page_hit': 3447, 'vacuum_cost_page_miss': 5772, 'wal_buffers': 117734, 'wal_writer_delay': 9723, 'work_mem': 1837383782}, QPS: -2892.7000112947285
Performance (QPS): -2892.7000112947285
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.304065317297084, 'autovacuum_analyze_threshold': 600177711, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 194054, 'autovacuum_vacuum_cost_delay': 95, 'autovacuum_vacuum_cost_limit': 7413, 'autovacuum_vacuum_scale_factor': 21.24854134770713, 'autovacuum_vacuum_threshold': 1935428351, 'backend_flush_after': 178, 'bgwriter_delay': 5787, 'bgwriter_flush_after': 256, 'bgwriter_lru_maxpages': 577, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.02603778089012354, 'checkpoint_flush_after': 78, 'checkpoint_timeout': 1320, 'commit_delay': 75343, 'commit_siblings': 635, 'cursor_tuple_fraction': 0.6579150443387294, 'deadlock_timeout': 559518912, 'default_statistics_target': 4964, 'effective_cache_size': 1193220664, 'effective_io_concurrency': 45, 'from_collapse_limit': 381580704, 'geqo_effort': 10, 'geqo_generations': 1725821118, 'geqo_pool_size': 1122733816, 'geqo_seed': 0.8457091544301557, 'geqo_threshold': 1457411968, 'join_collapse_limit': 13725125, 'maintenance_work_mem': 1871312202, 'max_connections': 970, 'max_wal_senders': 11, 'shared_buffers': 3170245, 'temp_buffers': 531258677, 'temp_file_limit': 1067601719, 'vacuum_cost_delay': 24, 'vacuum_cost_limit': 2790, 'vacuum_cost_page_dirty': 9835, 'vacuum_cost_page_hit': 787, 'vacuum_cost_page_miss': 256, 'wal_buffers': 37322, 'wal_writer_delay': 4035, 'work_mem': 1669996587}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.304065317297084
Set autovacuum_analyze_threshold = 600177711
Set autovacuum_max_workers = 48
Set autovacuum_naptime = 194054
Set autovacuum_vacuum_cost_delay = 95
Set autovacuum_vacuum_cost_limit = 7413
Set autovacuum_vacuum_scale_factor = 21.24854134770713
Set autovacuum_vacuum_threshold = 1935428351
Set backend_flush_after = 178
Set bgwriter_delay = 5787
Set bgwriter_flush_after = 256
Set bgwriter_lru_maxpages = 577
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.02603778089012354
Set checkpoint_flush_after = 78
Set checkpoint_timeout = 1320
Set commit_delay = 75343
Set commit_siblings = 635
Set cursor_tuple_fraction = 0.6579150443387294
Set deadlock_timeout = 559518912
Set default_statistics_target = 4964
Set effective_cache_size = 1193220664
Set effective_io_concurrency = 45
Set from_collapse_limit = 381580704
Set geqo_effort = 10
Set geqo_generations = 1725821118
Set geqo_pool_size = 1122733816
Set geqo_seed = 0.8457091544301557
Set geqo_threshold = 1457411968
Set join_collapse_limit = 13725125
Set maintenance_work_mem = 1871312202
Set max_connections = 970
Set max_wal_senders = 11
Set shared_buffers = 3170245
Set temp_buffers = 531258677
Set temp_file_limit = 1067601719
Set vacuum_cost_delay = 24
Set vacuum_cost_limit = 2790
Set vacuum_cost_page_dirty = 9835
Set vacuum_cost_page_hit = 787
Set vacuum_cost_page_miss = 256
Set wal_buffers = 37322
Set wal_writer_delay = 4035
Set work_mem = 1669996587
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config10.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config10.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-11-36.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-11-36.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-11-36.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-11-36.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-11-36.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-11-36.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary/wikipedia_2025-11-21_14-11-36.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-11-36.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-11-36.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-11-36.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-11-36.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_2025-11-21_14-11-36.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config10/wikipedia_1763734233.log
Parsed throughput from summary.json: 2752.744442301037
BenchBase wikipedia throughput: 2752.744442301037
Configuration: {'autovacuum_analyze_scale_factor': 9.304065317297084, 'autovacuum_analyze_threshold': 600177711, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 194054, 'autovacuum_vacuum_cost_delay': 95, 'autovacuum_vacuum_cost_limit': 7413, 'autovacuum_vacuum_scale_factor': 21.24854134770713, 'autovacuum_vacuum_threshold': 1935428351, 'backend_flush_after': 178, 'bgwriter_delay': 5787, 'bgwriter_flush_after': 256, 'bgwriter_lru_maxpages': 577, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.02603778089012354, 'checkpoint_flush_after': 78, 'checkpoint_timeout': 1320, 'commit_delay': 75343, 'commit_siblings': 635, 'cursor_tuple_fraction': 0.6579150443387294, 'deadlock_timeout': 559518912, 'default_statistics_target': 4964, 'effective_cache_size': 1193220664, 'effective_io_concurrency': 45, 'from_collapse_limit': 381580704, 'geqo_effort': 10, 'geqo_generations': 1725821118, 'geqo_pool_size': 1122733816, 'geqo_seed': 0.8457091544301557, 'geqo_threshold': 1457411968, 'join_collapse_limit': 13725125, 'maintenance_work_mem': 1871312202, 'max_connections': 970, 'max_wal_senders': 11, 'shared_buffers': 3170245, 'temp_buffers': 531258677, 'temp_file_limit': 1067601719, 'vacuum_cost_delay': 24, 'vacuum_cost_limit': 2790, 'vacuum_cost_page_dirty': 9835, 'vacuum_cost_page_hit': 787, 'vacuum_cost_page_miss': 256, 'wal_buffers': 37322, 'wal_writer_delay': 4035, 'work_mem': 1669996587}, QPS: -2752.744442301037
Performance (QPS): -2752.744442301037
finish
<class 'ConfigSpace.configuration_space.Configuration'>
Configuration(values={
  'autovacuum_analyze_scale_factor': 9.022416733205318,
  'autovacuum_analyze_threshold': 1098782943,
  'autovacuum_max_workers': 67,
  'autovacuum_naptime': 1298967,
  'autovacuum_vacuum_cost_delay': 83,
  'autovacuum_vacuum_cost_limit': 8117,
  'autovacuum_vacuum_scale_factor': 84.30853514000773,
  'autovacuum_vacuum_threshold': 1939469733,
  'backend_flush_after': 25,
  'bgwriter_delay': 2921,
  'bgwriter_flush_after': 174,
  'bgwriter_lru_maxpages': 582,
  'bgwriter_lru_multiplier': 7,
  'checkpoint_completion_target': 0.3461359143257141,
  'checkpoint_flush_after': 250,
  'checkpoint_timeout': 2284,
  'commit_delay': 36231,
  'commit_siblings': 954,
  'cursor_tuple_fraction': 0.1377423545345664,
  'deadlock_timeout': 1408939122,
  'default_statistics_target': 4358,
  'effective_cache_size': 1394533168,
  'effective_io_concurrency': 454,
  'from_collapse_limit': 1798991148,
  'geqo_effort': 3,
  'geqo_generations': 159642294,
  'geqo_pool_size': 1264875639,
  'geqo_seed': 0.41606879886239767,
  'geqo_threshold': 173074473,
  'join_collapse_limit': 74037612,
  'maintenance_work_mem': 957667097,
  'max_connections': 1419,
  'max_wal_senders': 22,
  'shared_buffers': 217296,
  'temp_buffers': 70276608,
  'temp_file_limit': 118208495,
  'vacuum_cost_delay': 63,
  'vacuum_cost_limit': 3691,
  'vacuum_cost_page_dirty': 4598,
  'vacuum_cost_page_hit': 7434,
  'vacuum_cost_page_miss': 312,
  'wal_buffers': 9358,
  'wal_writer_delay': 9009,
  'work_mem': 1668439634,
})

OrderedDict([(RunKey(config_id=1, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3143.3905961019973, time=91.54332828521729, status=<StatusType.SUCCESS: 1>, starttime=1763724610.9670093, endtime=1763724702.510388, additional_info={})), (RunKey(config_id=2, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2958.288924242239, time=94.29329872131348, status=<StatusType.SUCCESS: 1>, starttime=1763724702.513439, endtime=1763724796.8067908, additional_info={})), (RunKey(config_id=3, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2909.7037922649342, time=94.40038108825684, status=<StatusType.SUCCESS: 1>, starttime=1763724796.809355, endtime=1763724891.2097876, additional_info={})), (RunKey(config_id=4, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3006.2676330726426, time=93.83503270149231, status=<StatusType.SUCCESS: 1>, starttime=1763724891.212276, endtime=1763724985.0473635, additional_info={})), (RunKey(config_id=5, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2786.538529577121, time=94.40959858894348, status=<StatusType.SUCCESS: 1>, starttime=1763724985.0501368, endtime=1763725079.4597883, additional_info={})), (RunKey(config_id=6, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2963.0043800565036, time=94.02414131164551, status=<StatusType.SUCCESS: 1>, starttime=1763725079.4624043, endtime=1763725173.4865968, additional_info={})), (RunKey(config_id=7, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2881.3268640865117, time=93.6227457523346, status=<StatusType.SUCCESS: 1>, starttime=1763725173.4894059, endtime=1763725267.1122327, additional_info={})), (RunKey(config_id=8, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2927.329413653476, time=93.31608009338379, status=<StatusType.SUCCESS: 1>, starttime=1763725267.115719, endtime=1763725360.43185, additional_info={})), (RunKey(config_id=9, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2935.9100566247143, time=93.9251275062561, status=<StatusType.SUCCESS: 1>, starttime=1763725360.4348662, endtime=1763725454.3600445, additional_info={})), (RunKey(config_id=10, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2954.1066740961232, time=93.67085146903992, status=<StatusType.SUCCESS: 1>, starttime=1763725454.3631382, endtime=1763725548.0340447, additional_info={})), (RunKey(config_id=11, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2905.577110832133, time=94.5016086101532, status=<StatusType.SUCCESS: 1>, starttime=1763725548.037402, endtime=1763725642.5390725, additional_info={})), (RunKey(config_id=12, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2663.7969149244386, time=94.6926691532135, status=<StatusType.SUCCESS: 1>, starttime=1763725642.5439985, endtime=1763725737.2367234, additional_info={})), (RunKey(config_id=13, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2847.6070836846975, time=92.30515122413635, status=<StatusType.SUCCESS: 1>, starttime=1763725737.2398517, endtime=1763725829.5450563, additional_info={})), (RunKey(config_id=14, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2921.4211058545725, time=93.95128917694092, status=<StatusType.SUCCESS: 1>, starttime=1763725829.5485392, endtime=1763725923.4998841, additional_info={})), (RunKey(config_id=15, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2933.0205501708774, time=93.1764805316925, status=<StatusType.SUCCESS: 1>, starttime=1763725923.5036135, endtime=1763726016.6801436, additional_info={})), (RunKey(config_id=16, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2935.959182072289, time=94.24108266830444, status=<StatusType.SUCCESS: 1>, starttime=1763726016.6834998, endtime=1763726110.92467, additional_info={})), (RunKey(config_id=17, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2976.392937744301, time=94.02036881446838, status=<StatusType.SUCCESS: 1>, starttime=1763726110.9293687, endtime=1763726204.9497967, additional_info={})), (RunKey(config_id=18, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3011.7699916187507, time=94.3584942817688, status=<StatusType.SUCCESS: 1>, starttime=1763726204.9537494, endtime=1763726299.3122962, additional_info={})), (RunKey(config_id=19, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2978.032276941487, time=94.29641771316528, status=<StatusType.SUCCESS: 1>, starttime=1763726299.31591, endtime=1763726393.6123824, additional_info={})), (RunKey(config_id=20, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2865.040987149198, time=94.22659730911255, status=<StatusType.SUCCESS: 1>, starttime=1763726393.6163545, endtime=1763726487.8430088, additional_info={})), (RunKey(config_id=21, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2905.208259893783, time=93.915358543396, status=<StatusType.SUCCESS: 1>, starttime=1763726487.848086, endtime=1763726581.7635233, additional_info={})), (RunKey(config_id=22, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2879.4522551134187, time=93.63799595832825, status=<StatusType.SUCCESS: 1>, starttime=1763726581.7682183, endtime=1763726675.4062662, additional_info={})), (RunKey(config_id=23, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2877.919478971703, time=94.04045748710632, status=<StatusType.SUCCESS: 1>, starttime=1763726675.4102852, endtime=1763726769.4507952, additional_info={})), (RunKey(config_id=24, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2896.774563148695, time=94.1775450706482, status=<StatusType.SUCCESS: 1>, starttime=1763726769.4550204, endtime=1763726863.6326258, additional_info={})), (RunKey(config_id=25, instance_id=None, seed=0, budget=0.0), RunValue(cost=2147483647.0, time=94.04909420013428, status=<StatusType.CRASHED: 3>, starttime=1763726863.6373887, endtime=1763726957.6865377, additional_info={})), (RunKey(config_id=26, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2974.7014263391875, time=94.43970847129822, status=<StatusType.SUCCESS: 1>, starttime=1763726962.6136222, endtime=1763727057.0533962, additional_info={})), (RunKey(config_id=27, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2811.31722118179, time=94.38087344169617, status=<StatusType.SUCCESS: 1>, starttime=1763727057.0939362, endtime=1763727151.4748616, additional_info={})), (RunKey(config_id=28, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2947.448388778229, time=92.90265989303589, status=<StatusType.SUCCESS: 1>, starttime=1763727157.1951184, endtime=1763727250.09783, additional_info={})), (RunKey(config_id=29, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3055.351156940791, time=93.39498519897461, status=<StatusType.SUCCESS: 1>, starttime=1763727255.6375005, endtime=1763727349.0325363, additional_info={})), (RunKey(config_id=30, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2751.9643906877677, time=93.36422944068909, status=<StatusType.SUCCESS: 1>, starttime=1763727354.009999, endtime=1763727447.3742805, additional_info={})), (RunKey(config_id=31, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3047.7744834455457, time=92.95460796356201, status=<StatusType.SUCCESS: 1>, starttime=1763727452.8331068, endtime=1763727545.7877693, additional_info={})), (RunKey(config_id=32, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2900.361709844967, time=94.23435664176941, status=<StatusType.SUCCESS: 1>, starttime=1763727550.8571308, endtime=1763727645.0915456, additional_info={})), (RunKey(config_id=33, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2943.114036283931, time=93.96194553375244, status=<StatusType.SUCCESS: 1>, starttime=1763727650.770509, endtime=1763727744.7325044, additional_info={})), (RunKey(config_id=34, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2906.0987496784546, time=94.12856364250183, status=<StatusType.SUCCESS: 1>, starttime=1763727749.2266183, endtime=1763727843.3552384, additional_info={})), (RunKey(config_id=35, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2871.108312567125, time=94.44842457771301, status=<StatusType.SUCCESS: 1>, starttime=1763727848.4977386, endtime=1763727942.9462268, additional_info={})), (RunKey(config_id=36, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2981.24310973441, time=93.78383040428162, status=<StatusType.SUCCESS: 1>, starttime=1763727948.2530787, endtime=1763728042.0369625, additional_info={})), (RunKey(config_id=37, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2835.4273122322984, time=93.71665000915527, status=<StatusType.SUCCESS: 1>, starttime=1763728042.0898829, endtime=1763728135.8065894, additional_info={})), (RunKey(config_id=38, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2981.1659130481717, time=93.72559094429016, status=<StatusType.SUCCESS: 1>, starttime=1763728140.6847916, endtime=1763728234.4104326, additional_info={})), (RunKey(config_id=39, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2992.538498438871, time=93.67246222496033, status=<StatusType.SUCCESS: 1>, starttime=1763728239.851607, endtime=1763728333.524116, additional_info={})), (RunKey(config_id=40, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2871.2336207450103, time=93.68948340415955, status=<StatusType.SUCCESS: 1>, starttime=1763728338.16476, endtime=1763728431.8542967, additional_info={})), (RunKey(config_id=41, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2939.386032748662, time=93.67173218727112, status=<StatusType.SUCCESS: 1>, starttime=1763728436.377412, endtime=1763728530.049194, additional_info={})), (RunKey(config_id=42, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3025.032562942802, time=94.37369179725647, status=<StatusType.SUCCESS: 1>, starttime=1763728535.3615732, endtime=1763728629.735322, additional_info={})), (RunKey(config_id=43, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3021.6209322485224, time=93.57220435142517, status=<StatusType.SUCCESS: 1>, starttime=1763728634.9509094, endtime=1763728728.5231633, additional_info={})), (RunKey(config_id=44, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2916.088749201088, time=94.137859582901, status=<StatusType.SUCCESS: 1>, starttime=1763728733.62088, endtime=1763728827.7588, additional_info={})), (RunKey(config_id=45, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2934.571930966231, time=94.69072318077087, status=<StatusType.SUCCESS: 1>, starttime=1763728832.6554193, endtime=1763728927.3461995, additional_info={})), (RunKey(config_id=46, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2752.097276137559, time=93.68290567398071, status=<StatusType.SUCCESS: 1>, starttime=1763728932.7555943, endtime=1763729026.4385533, additional_info={})), (RunKey(config_id=47, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2775.8637931387325, time=93.04417681694031, status=<StatusType.SUCCESS: 1>, starttime=1763729031.496024, endtime=1763729124.5402663, additional_info={})), (RunKey(config_id=48, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3000.3318059070243, time=94.3005759716034, status=<StatusType.SUCCESS: 1>, starttime=1763729124.6038501, endtime=1763729218.9044902, additional_info={})), (RunKey(config_id=49, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2832.755063826109, time=94.38054275512695, status=<StatusType.SUCCESS: 1>, starttime=1763729218.9573438, endtime=1763729313.3379538, additional_info={})), (RunKey(config_id=50, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2992.81050598663, time=94.09407782554626, status=<StatusType.SUCCESS: 1>, starttime=1763729313.397572, endtime=1763729407.4917164, additional_info={})), (RunKey(config_id=51, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2862.4128591458248, time=94.00344681739807, status=<StatusType.SUCCESS: 1>, starttime=1763729412.9484556, endtime=1763729506.951951, additional_info={})), (RunKey(config_id=52, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2866.9076011491165, time=93.73799300193787, status=<StatusType.SUCCESS: 1>, starttime=1763729512.3838835, endtime=1763729606.1219308, additional_info={})), (RunKey(config_id=53, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2869.442958065773, time=94.1044569015503, status=<StatusType.SUCCESS: 1>, starttime=1763729611.9381275, endtime=1763729706.0427134, additional_info={})), (RunKey(config_id=54, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3005.0468924768334, time=94.17153549194336, status=<StatusType.SUCCESS: 1>, starttime=1763729711.4627604, endtime=1763729805.63435, additional_info={})), (RunKey(config_id=55, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3015.9742955308916, time=94.42935037612915, status=<StatusType.SUCCESS: 1>, starttime=1763729810.7308877, endtime=1763729905.1602895, additional_info={})), (RunKey(config_id=56, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2924.439986513992, time=94.01969599723816, status=<StatusType.SUCCESS: 1>, starttime=1763729910.6128595, endtime=1763730004.632607, additional_info={})), (RunKey(config_id=57, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2695.065750710305, time=95.3280086517334, status=<StatusType.SUCCESS: 1>, starttime=1763730010.0930095, endtime=1763730105.4210765, additional_info={})), (RunKey(config_id=58, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3031.507988102262, time=92.06458520889282, status=<StatusType.SUCCESS: 1>, starttime=1763730105.4989479, endtime=1763730197.5636752, additional_info={})), (RunKey(config_id=59, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2942.8413431183117, time=94.138911485672, status=<StatusType.SUCCESS: 1>, starttime=1763730197.6308672, endtime=1763730291.769831, additional_info={})), (RunKey(config_id=60, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2903.2765840298243, time=94.32209062576294, status=<StatusType.SUCCESS: 1>, starttime=1763730297.4072695, endtime=1763730391.7294118, additional_info={})), (RunKey(config_id=61, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2810.5363837706986, time=94.48172974586487, status=<StatusType.SUCCESS: 1>, starttime=1763730397.3374078, endtime=1763730491.8192065, additional_info={})), (RunKey(config_id=62, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2925.2280796319396, time=93.94713640213013, status=<StatusType.SUCCESS: 1>, starttime=1763730491.8917155, endtime=1763730585.8389053, additional_info={})), (RunKey(config_id=63, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2974.3541615308504, time=94.01860785484314, status=<StatusType.SUCCESS: 1>, starttime=1763730591.5057104, endtime=1763730685.5243666, additional_info={})), (RunKey(config_id=64, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2954.0980114607573, time=94.36053156852722, status=<StatusType.SUCCESS: 1>, starttime=1763730690.6462777, endtime=1763730785.0068645, additional_info={})), (RunKey(config_id=65, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2976.650494381427, time=93.80713534355164, status=<StatusType.SUCCESS: 1>, starttime=1763730790.545477, endtime=1763730884.3526883, additional_info={})), (RunKey(config_id=66, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2912.983259274506, time=93.85843777656555, status=<StatusType.SUCCESS: 1>, starttime=1763730889.9984512, endtime=1763730983.856943, additional_info={})), (RunKey(config_id=67, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2697.503327322452, time=94.83864712715149, status=<StatusType.SUCCESS: 1>, starttime=1763730983.943835, endtime=1763731078.7825394, additional_info={})), (RunKey(config_id=68, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2693.3451708798984, time=93.11723780632019, status=<StatusType.SUCCESS: 1>, starttime=1763731084.4388216, endtime=1763731177.5561166, additional_info={})), (RunKey(config_id=69, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2966.869612303094, time=92.85577368736267, status=<StatusType.SUCCESS: 1>, starttime=1763731177.6360674, endtime=1763731270.4918997, additional_info={})), (RunKey(config_id=70, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2943.451031521857, time=93.43253087997437, status=<StatusType.SUCCESS: 1>, starttime=1763731276.0433793, endtime=1763731369.4759605, additional_info={})), (RunKey(config_id=71, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2917.881395798341, time=93.96930027008057, status=<StatusType.SUCCESS: 1>, starttime=1763731375.0887403, endtime=1763731469.058097, additional_info={})), (RunKey(config_id=72, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2948.5697805841955, time=94.38076972961426, status=<StatusType.SUCCESS: 1>, starttime=1763731469.1534579, endtime=1763731563.5342884, additional_info={})), (RunKey(config_id=73, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2813.389760398113, time=94.62009882926941, status=<StatusType.SUCCESS: 1>, starttime=1763731563.6152942, endtime=1763731658.2354455, additional_info={})), (RunKey(config_id=74, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2901.504327541508, time=94.94634437561035, status=<StatusType.SUCCESS: 1>, starttime=1763731664.199414, endtime=1763731759.1458087, additional_info={})), (RunKey(config_id=75, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2994.282645178322, time=93.66389775276184, status=<StatusType.SUCCESS: 1>, starttime=1763731764.7021363, endtime=1763731858.3660846, additional_info={})), (RunKey(config_id=76, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2891.6882637314284, time=93.71707558631897, status=<StatusType.SUCCESS: 1>, starttime=1763731858.4543107, endtime=1763731952.1714401, additional_info={})), (RunKey(config_id=77, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2843.2156517639137, time=94.18261337280273, status=<StatusType.SUCCESS: 1>, starttime=1763731958.0634212, endtime=1763732052.2460866, additional_info={})), (RunKey(config_id=78, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2918.919690948126, time=92.85760641098022, status=<StatusType.SUCCESS: 1>, starttime=1763732057.8387597, endtime=1763732150.6964228, additional_info={})), (RunKey(config_id=79, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2814.1285017251193, time=94.35395503044128, status=<StatusType.SUCCESS: 1>, starttime=1763732150.7919462, endtime=1763732245.1459656, additional_info={})), (RunKey(config_id=80, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2914.2222831809167, time=93.79954624176025, status=<StatusType.SUCCESS: 1>, starttime=1763732251.792874, endtime=1763732345.5924733, additional_info={})), (RunKey(config_id=81, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2779.847397920636, time=92.64986610412598, status=<StatusType.SUCCESS: 1>, starttime=1763732351.435136, endtime=1763732444.0850525, additional_info={})), (RunKey(config_id=82, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2745.4283497810884, time=94.55134582519531, status=<StatusType.SUCCESS: 1>, starttime=1763732449.5925014, endtime=1763732544.1439023, additional_info={})), (RunKey(config_id=83, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2947.8938655619704, time=94.17376613616943, status=<StatusType.SUCCESS: 1>, starttime=1763732544.243836, endtime=1763732638.4176793, additional_info={})), (RunKey(config_id=84, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2797.885564880963, time=94.0398998260498, status=<StatusType.SUCCESS: 1>, starttime=1763732643.7494047, endtime=1763732737.7893531, additional_info={})), (RunKey(config_id=85, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2762.2016865153532, time=94.65407037734985, status=<StatusType.SUCCESS: 1>, starttime=1763732737.8873317, endtime=1763732832.5414608, additional_info={})), (RunKey(config_id=86, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3000.2097860355466, time=90.59263730049133, status=<StatusType.SUCCESS: 1>, starttime=1763732838.3154552, endtime=1763732928.9081476, additional_info={})), (RunKey(config_id=87, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2872.4775244583493, time=91.14868140220642, status=<StatusType.SUCCESS: 1>, starttime=1763732929.0068552, endtime=1763733020.155597, additional_info={})), (RunKey(config_id=88, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2808.1840719112893, time=94.14932131767273, status=<StatusType.SUCCESS: 1>, starttime=1763733025.040474, endtime=1763733119.1898549, additional_info={})), (RunKey(config_id=89, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2788.369019887405, time=94.02066564559937, status=<StatusType.SUCCESS: 1>, starttime=1763733124.741322, endtime=1763733218.7620373, additional_info={})), (RunKey(config_id=90, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2959.1507235842973, time=93.19656753540039, status=<StatusType.SUCCESS: 1>, starttime=1763733223.5563493, endtime=1763733316.7529747, additional_info={})), (RunKey(config_id=91, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2845.6209766717475, time=92.46203112602234, status=<StatusType.SUCCESS: 1>, starttime=1763733321.736844, endtime=1763733414.198923, additional_info={})), (RunKey(config_id=92, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2880.490750058504, time=93.33182573318481, status=<StatusType.SUCCESS: 1>, starttime=1763733418.7675295, endtime=1763733512.0994043, additional_info={})), (RunKey(config_id=93, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2928.6153383851033, time=93.22047114372253, status=<StatusType.SUCCESS: 1>, starttime=1763733516.652464, endtime=1763733609.8729882, additional_info={})), (RunKey(config_id=94, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2950.8515152949567, time=93.95645189285278, status=<StatusType.SUCCESS: 1>, starttime=1763733615.48494, endtime=1763733709.4414456, additional_info={})), (RunKey(config_id=95, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2773.8556147951767, time=93.13846373558044, status=<StatusType.SUCCESS: 1>, starttime=1763733714.3204837, endtime=1763733807.4590273, additional_info={})), (RunKey(config_id=96, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2916.961795956326, time=93.70011854171753, status=<StatusType.SUCCESS: 1>, starttime=1763733813.5033674, endtime=1763733907.203538, additional_info={})), (RunKey(config_id=97, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2925.781373681081, time=94.08617353439331, status=<StatusType.SUCCESS: 1>, starttime=1763733907.319289, endtime=1763734001.405528, additional_info={})), (RunKey(config_id=98, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2849.139858254998, time=92.67753839492798, status=<StatusType.SUCCESS: 1>, starttime=1763734006.1469667, endtime=1763734098.8245666, additional_info={})), (RunKey(config_id=99, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2892.7000112947285, time=93.72779273986816, status=<StatusType.SUCCESS: 1>, starttime=1763734104.4042144, endtime=1763734198.1320598, additional_info={})), (RunKey(config_id=100, instance_id=None, seed=0, budget=0.0), RunValue(cost=-2752.744442301037, time=94.12590456008911, status=<StatusType.SUCCESS: 1>, starttime=1763734203.3402245, endtime=1763734297.4661963, additional_info={}))])
SMAC optimization complete for ./oltp_workloads/wikipedia/sample_wikipedia_config10.xml
End time for workload (unix seconds): 1763734297
Begin tuning for workload: 3
tune for workload: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Start time for workload (unix seconds): 1763734297
üì¶ Removing corrupted postgresql.auto.conf...
‚è≥ Waiting briefly...
üîÅ Restarting PostgreSQL using pg_ctlcluster...
‚úÖ PostgreSQL restarted successfully.
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Running default configuration for workload
Removed postgresql.auto.conf file (if it existed).
Resetting inner metrics...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Internal metrics reset successfully.
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-13-32.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-13-32.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-13-32.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-13-32.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-13-32.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-13-32.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-13-32.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-13-32.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-13-32.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-13-32.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-13-32.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763734348.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-13-32.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Parsed throughput from summary.json: 3060.5716224900816
BenchBase wikipedia throughput: 3060.5716224900816
Configuration: None, QPS: -3060.5716224900816
Default configuration run complete for workload
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Fetched 14 internal metrics
Internal metrics: {'xact_commit': 160791.0, 'xact_rollback': 45313.0, 'blks_read': 161198.0, 'blks_hit': 9846011.0, 'tup_returned': 9137256.0, 'tup_fetched': 4008996.0, 'tup_inserted': 491396.0, 'conflicts': 0.0, 'tup_updated': 180762.0, 'tup_deleted': 28481.0, 'disk_read_count': 284765.0, 'disk_write_count': 370273.0, 'disk_read_bytes': 2332794880.0, 'disk_write_bytes': 3033276416.0}
Internal metrics collected: {'xact_commit': 160791.0, 'xact_rollback': 45313.0, 'blks_read': 161198.0, 'blks_hit': 9846011.0, 'tup_returned': 9137256.0, 'tup_fetched': 4008996.0, 'tup_inserted': 491396.0, 'conflicts': 0.0, 'tup_updated': 180762.0, 'tup_deleted': 28481.0, 'disk_read_count': 284765.0, 'disk_write_count': 370273.0, 'disk_read_bytes': 2332794880.0, 'disk_write_bytes': 3033276416.0}
Internal metrics saved to: internal_metrics/wikipedia/sample_wikipedia_config100_internal_metrics.json
Starting tuning for workload: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Beginning SMAC optimization
Length of knobs: 44
Initialized configuration space with knobs.
Workload file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Save workload identifier: sample_wikipedia_config100
Starting SMAC scenario setup.
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
(1 row)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1298967
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4358
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 70276608
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4598
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-15-04.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-15-04.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-15-04.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-15-04.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-15-04.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-15-04.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-15-04.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763734441.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-15-04.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-15-04.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-15-04.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-15-04.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-15-04.raw.csv
Parsed throughput from summary.json: 3575.2920764291816
BenchBase wikipedia throughput: 3575.2920764291816
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3575.2920764291816
Performance (QPS): -3575.2920764291816
Evaluating configuration: {'autovacuum_analyze_scale_factor': 59.09048430621624, 'autovacuum_analyze_threshold': 269378350, 'autovacuum_max_workers': 121, 'autovacuum_naptime': 364983, 'autovacuum_vacuum_cost_delay': 46, 'autovacuum_vacuum_cost_limit': 162, 'autovacuum_vacuum_scale_factor': 47.69385075196624, 'autovacuum_vacuum_threshold': 722834952, 'backend_flush_after': 238, 'bgwriter_delay': 9452, 'bgwriter_flush_after': 93, 'bgwriter_lru_maxpages': 187, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9411872830241919, 'checkpoint_flush_after': 108, 'checkpoint_timeout': 1042, 'commit_delay': 83081, 'commit_siblings': 447, 'cursor_tuple_fraction': 0.5100215626880527, 'deadlock_timeout': 727367336, 'default_statistics_target': 5797, 'effective_cache_size': 612946166, 'effective_io_concurrency': 862, 'from_collapse_limit': 181234394, 'geqo_effort': 8, 'geqo_generations': 2082024641, 'geqo_pool_size': 344736214, 'geqo_seed': 0.5773294121026993, 'geqo_threshold': 1410184352, 'join_collapse_limit': 2014285460, 'maintenance_work_mem': 1770346271, 'max_connections': 2691, 'max_wal_senders': 29, 'shared_buffers': 3215730, 'temp_buffers': 978368191, 'temp_file_limit': 1375887961, 'vacuum_cost_delay': 9, 'vacuum_cost_limit': 6208, 'vacuum_cost_page_dirty': 7472, 'vacuum_cost_page_hit': 1318, 'vacuum_cost_page_miss': 7972, 'wal_buffers': 118787, 'wal_writer_delay': 213, 'work_mem': 409864143}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 59.09048430621624
Set autovacuum_analyze_threshold = 269378350
Set autovacuum_max_workers = 121
Set autovacuum_naptime = 364983
Set autovacuum_vacuum_cost_delay = 46
Set autovacuum_vacuum_cost_limit = 162
Set autovacuum_vacuum_scale_factor = 47.69385075196624
Set autovacuum_vacuum_threshold = 722834952
Set backend_flush_after = 238
Set bgwriter_delay = 9452
Set bgwriter_flush_after = 93
Set bgwriter_lru_maxpages = 187
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.9411872830241919
Set checkpoint_flush_after = 108
Set checkpoint_timeout = 1042
Set commit_delay = 83081
Set commit_siblings = 447
Set cursor_tuple_fraction = 0.5100215626880527
Set deadlock_timeout = 727367336
Set default_statistics_target = 5797
Set effective_cache_size = 612946166
Set effective_io_concurrency = 862
Set from_collapse_limit = 181234394
Set geqo_effort = 8
Set geqo_generations = 2082024641
Set geqo_pool_size = 344736214
Set geqo_seed = 0.5773294121026993
Set geqo_threshold = 1410184352
Set join_collapse_limit = 2014285460
Set maintenance_work_mem = 1770346271
Set max_connections = 2691
Set max_wal_senders = 29
Set shared_buffers = 3215730
Set temp_buffers = 978368191
Set temp_file_limit = 1375887961
Set vacuum_cost_delay = 9
Set vacuum_cost_limit = 6208
Set vacuum_cost_page_dirty = 7472
Set vacuum_cost_page_hit = 1318
Set vacuum_cost_page_miss = 7972
Set wal_buffers = 118787
Set wal_writer_delay = 213
Set work_mem = 409864143
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-16-38.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-16-38.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-16-38.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-16-38.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-16-38.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763734534.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-16-38.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-16-38.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-16-38.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-16-38.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-16-38.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-16-38.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-16-38.config.xml
Parsed throughput from summary.json: 3395.4949122569765
BenchBase wikipedia throughput: 3395.4949122569765
Configuration: {'autovacuum_analyze_scale_factor': 59.09048430621624, 'autovacuum_analyze_threshold': 269378350, 'autovacuum_max_workers': 121, 'autovacuum_naptime': 364983, 'autovacuum_vacuum_cost_delay': 46, 'autovacuum_vacuum_cost_limit': 162, 'autovacuum_vacuum_scale_factor': 47.69385075196624, 'autovacuum_vacuum_threshold': 722834952, 'backend_flush_after': 238, 'bgwriter_delay': 9452, 'bgwriter_flush_after': 93, 'bgwriter_lru_maxpages': 187, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9411872830241919, 'checkpoint_flush_after': 108, 'checkpoint_timeout': 1042, 'commit_delay': 83081, 'commit_siblings': 447, 'cursor_tuple_fraction': 0.5100215626880527, 'deadlock_timeout': 727367336, 'default_statistics_target': 5797, 'effective_cache_size': 612946166, 'effective_io_concurrency': 862, 'from_collapse_limit': 181234394, 'geqo_effort': 8, 'geqo_generations': 2082024641, 'geqo_pool_size': 344736214, 'geqo_seed': 0.5773294121026993, 'geqo_threshold': 1410184352, 'join_collapse_limit': 2014285460, 'maintenance_work_mem': 1770346271, 'max_connections': 2691, 'max_wal_senders': 29, 'shared_buffers': 3215730, 'temp_buffers': 978368191, 'temp_file_limit': 1375887961, 'vacuum_cost_delay': 9, 'vacuum_cost_limit': 6208, 'vacuum_cost_page_dirty': 7472, 'vacuum_cost_page_hit': 1318, 'vacuum_cost_page_miss': 7972, 'wal_buffers': 118787, 'wal_writer_delay': 213, 'work_mem': 409864143}, QPS: -3395.4949122569765
Performance (QPS): -3395.4949122569765
Evaluating configuration: {'autovacuum_analyze_scale_factor': 76.40128070488572, 'autovacuum_analyze_threshold': 2054345871, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1742961, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': 2889, 'autovacuum_vacuum_scale_factor': 68.17056005820632, 'autovacuum_vacuum_threshold': 292674466, 'backend_flush_after': 185, 'bgwriter_delay': 6898, 'bgwriter_flush_after': 57, 'bgwriter_lru_maxpages': 369, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.11681524477899075, 'checkpoint_flush_after': 25, 'checkpoint_timeout': 3292, 'commit_delay': 59820, 'commit_siblings': 705, 'cursor_tuple_fraction': 0.8368948232382536, 'deadlock_timeout': 1828021056, 'default_statistics_target': 979, 'effective_cache_size': 298898560, 'effective_io_concurrency': 229, 'from_collapse_limit': 1168982740, 'geqo_effort': 5, 'geqo_generations': 1431332651, 'geqo_pool_size': 1791561467, 'geqo_seed': 0.9844945101067424, 'geqo_threshold': 1014366143, 'join_collapse_limit': 1215862036, 'maintenance_work_mem': 353354037, 'max_connections': 110, 'max_wal_senders': 11, 'shared_buffers': 2180834, 'temp_buffers': 577406274, 'temp_file_limit': 1860665339, 'vacuum_cost_delay': 81, 'vacuum_cost_limit': 699, 'vacuum_cost_page_dirty': 2223, 'vacuum_cost_page_hit': 9814, 'vacuum_cost_page_miss': 4302, 'wal_buffers': 98184, 'wal_writer_delay': 7372, 'work_mem': 1272186404}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 76.40128070488572
Set autovacuum_analyze_threshold = 2054345871
Set autovacuum_max_workers = 48
Set autovacuum_naptime = 1742961
Set autovacuum_vacuum_cost_delay = 2
Set autovacuum_vacuum_cost_limit = 2889
Set autovacuum_vacuum_scale_factor = 68.17056005820632
Set autovacuum_vacuum_threshold = 292674466
Set backend_flush_after = 185
Set bgwriter_delay = 6898
Set bgwriter_flush_after = 57
Set bgwriter_lru_maxpages = 369
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.11681524477899075
Set checkpoint_flush_after = 25
Set checkpoint_timeout = 3292
Set commit_delay = 59820
Set commit_siblings = 705
Set cursor_tuple_fraction = 0.8368948232382536
Set deadlock_timeout = 1828021056
Set default_statistics_target = 979
Set effective_cache_size = 298898560
Set effective_io_concurrency = 229
Set from_collapse_limit = 1168982740
Set geqo_effort = 5
Set geqo_generations = 1431332651
Set geqo_pool_size = 1791561467
Set geqo_seed = 0.9844945101067424
Set geqo_threshold = 1014366143
Set join_collapse_limit = 1215862036
Set maintenance_work_mem = 353354037
Set max_connections = 110
Set max_wal_senders = 11
Set shared_buffers = 2180834
Set temp_buffers = 577406274
Set temp_file_limit = 1860665339
Set vacuum_cost_delay = 81
Set vacuum_cost_limit = 699
Set vacuum_cost_page_dirty = 2223
Set vacuum_cost_page_hit = 9814
Set vacuum_cost_page_miss = 4302
Set wal_buffers = 98184
Set wal_writer_delay = 7372
Set work_mem = 1272186404
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-18-13.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-18-13.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-18-13.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-18-13.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-18-13.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-18-13.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-18-13.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-18-13.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-18-13.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-18-13.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-18-13.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763734629.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-18-13.results.RemoveWatchList.csv
Parsed throughput from summary.json: 3316.366477677939
BenchBase wikipedia throughput: 3316.366477677939
Configuration: {'autovacuum_analyze_scale_factor': 76.40128070488572, 'autovacuum_analyze_threshold': 2054345871, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1742961, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': 2889, 'autovacuum_vacuum_scale_factor': 68.17056005820632, 'autovacuum_vacuum_threshold': 292674466, 'backend_flush_after': 185, 'bgwriter_delay': 6898, 'bgwriter_flush_after': 57, 'bgwriter_lru_maxpages': 369, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.11681524477899075, 'checkpoint_flush_after': 25, 'checkpoint_timeout': 3292, 'commit_delay': 59820, 'commit_siblings': 705, 'cursor_tuple_fraction': 0.8368948232382536, 'deadlock_timeout': 1828021056, 'default_statistics_target': 979, 'effective_cache_size': 298898560, 'effective_io_concurrency': 229, 'from_collapse_limit': 1168982740, 'geqo_effort': 5, 'geqo_generations': 1431332651, 'geqo_pool_size': 1791561467, 'geqo_seed': 0.9844945101067424, 'geqo_threshold': 1014366143, 'join_collapse_limit': 1215862036, 'maintenance_work_mem': 353354037, 'max_connections': 110, 'max_wal_senders': 11, 'shared_buffers': 2180834, 'temp_buffers': 577406274, 'temp_file_limit': 1860665339, 'vacuum_cost_delay': 81, 'vacuum_cost_limit': 699, 'vacuum_cost_page_dirty': 2223, 'vacuum_cost_page_hit': 9814, 'vacuum_cost_page_miss': 4302, 'wal_buffers': 98184, 'wal_writer_delay': 7372, 'work_mem': 1272186404}, QPS: -3316.366477677939
Performance (QPS): -3316.366477677939
Evaluating configuration: {'autovacuum_analyze_scale_factor': 26.481935661286116, 'autovacuum_analyze_threshold': 721596254, 'autovacuum_max_workers': 190, 'autovacuum_naptime': 1062135, 'autovacuum_vacuum_cost_delay': 67, 'autovacuum_vacuum_cost_limit': 5079, 'autovacuum_vacuum_scale_factor': 1.2826400808990002, 'autovacuum_vacuum_threshold': 1241364491, 'backend_flush_after': 76, 'bgwriter_delay': 477, 'bgwriter_flush_after': 204, 'bgwriter_lru_maxpages': 980, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.7091427892446518, 'checkpoint_flush_after': 141, 'checkpoint_timeout': 41, 'commit_delay': 6757, 'commit_siblings': 195, 'cursor_tuple_fraction': 0.46846663393080235, 'deadlock_timeout': 341141914, 'default_statistics_target': 8863, 'effective_cache_size': 1715922758, 'effective_io_concurrency': 572, 'from_collapse_limit': 609895714, 'geqo_effort': 6, 'geqo_generations': 550156632, 'geqo_pool_size': 891369298, 'geqo_seed': 0.020743686705827713, 'geqo_threshold': 1646830390, 'join_collapse_limit': 874423020, 'maintenance_work_mem': 1167999267, 'max_connections': 1786, 'max_wal_senders': 39, 'shared_buffers': 1247105, 'temp_buffers': 470443576, 'temp_file_limit': 1005496917, 'vacuum_cost_delay': 28, 'vacuum_cost_limit': 8183, 'vacuum_cost_page_dirty': 9458, 'vacuum_cost_page_hit': 3934, 'vacuum_cost_page_miss': 6476, 'wal_buffers': 35589, 'wal_writer_delay': 3725, 'work_mem': 818438137}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 26.481935661286116
Set autovacuum_analyze_threshold = 721596254
Set autovacuum_max_workers = 190
Set autovacuum_naptime = 1062135
Set autovacuum_vacuum_cost_delay = 67
Set autovacuum_vacuum_cost_limit = 5079
Set autovacuum_vacuum_scale_factor = 1.2826400808990002
Set autovacuum_vacuum_threshold = 1241364491
Set backend_flush_after = 76
Set bgwriter_delay = 477
Set bgwriter_flush_after = 204
Set bgwriter_lru_maxpages = 980
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.7091427892446518
Set checkpoint_flush_after = 141
Set checkpoint_timeout = 41
Set commit_delay = 6757
Set commit_siblings = 195
Set cursor_tuple_fraction = 0.46846663393080235
Set deadlock_timeout = 341141914
Set default_statistics_target = 8863
Set effective_cache_size = 1715922758
Set effective_io_concurrency = 572
Set from_collapse_limit = 609895714
Set geqo_effort = 6
Set geqo_generations = 550156632
Set geqo_pool_size = 891369298
Set geqo_seed = 0.020743686705827713
Set geqo_threshold = 1646830390
Set join_collapse_limit = 874423020
Set maintenance_work_mem = 1167999267
Set max_connections = 1786
Set max_wal_senders = 39
Set shared_buffers = 1247105
Set temp_buffers = 470443576
Set temp_file_limit = 1005496917
Set vacuum_cost_delay = 28
Set vacuum_cost_limit = 8183
Set vacuum_cost_page_dirty = 9458
Set vacuum_cost_page_hit = 3934
Set vacuum_cost_page_miss = 6476
Set wal_buffers = 35589
Set wal_writer_delay = 3725
Set work_mem = 818438137
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-19-47.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-19-47.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-19-47.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-19-47.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-19-47.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-19-47.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-19-47.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-19-47.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-19-47.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-19-47.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-19-47.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-19-47.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763734723.log
Parsed throughput from summary.json: 3453.8925033431838
BenchBase wikipedia throughput: 3453.8925033431838
Configuration: {'autovacuum_analyze_scale_factor': 26.481935661286116, 'autovacuum_analyze_threshold': 721596254, 'autovacuum_max_workers': 190, 'autovacuum_naptime': 1062135, 'autovacuum_vacuum_cost_delay': 67, 'autovacuum_vacuum_cost_limit': 5079, 'autovacuum_vacuum_scale_factor': 1.2826400808990002, 'autovacuum_vacuum_threshold': 1241364491, 'backend_flush_after': 76, 'bgwriter_delay': 477, 'bgwriter_flush_after': 204, 'bgwriter_lru_maxpages': 980, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.7091427892446518, 'checkpoint_flush_after': 141, 'checkpoint_timeout': 41, 'commit_delay': 6757, 'commit_siblings': 195, 'cursor_tuple_fraction': 0.46846663393080235, 'deadlock_timeout': 341141914, 'default_statistics_target': 8863, 'effective_cache_size': 1715922758, 'effective_io_concurrency': 572, 'from_collapse_limit': 609895714, 'geqo_effort': 6, 'geqo_generations': 550156632, 'geqo_pool_size': 891369298, 'geqo_seed': 0.020743686705827713, 'geqo_threshold': 1646830390, 'join_collapse_limit': 874423020, 'maintenance_work_mem': 1167999267, 'max_connections': 1786, 'max_wal_senders': 39, 'shared_buffers': 1247105, 'temp_buffers': 470443576, 'temp_file_limit': 1005496917, 'vacuum_cost_delay': 28, 'vacuum_cost_limit': 8183, 'vacuum_cost_page_dirty': 9458, 'vacuum_cost_page_hit': 3934, 'vacuum_cost_page_miss': 6476, 'wal_buffers': 35589, 'wal_writer_delay': 3725, 'work_mem': 818438137}, QPS: -3453.8925033431838
Performance (QPS): -3453.8925033431838
Evaluating configuration: {'autovacuum_analyze_scale_factor': 48.01633795723319, 'autovacuum_analyze_threshold': 1816547535, 'autovacuum_max_workers': 149, 'autovacuum_naptime': 621009, 'autovacuum_vacuum_cost_delay': 59, 'autovacuum_vacuum_cost_limit': 9147, 'autovacuum_vacuum_scale_factor': 57.31241349130869, 'autovacuum_vacuum_threshold': 231256504, 'backend_flush_after': 145, 'bgwriter_delay': 8439, 'bgwriter_flush_after': 15, 'bgwriter_lru_maxpages': 813, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8292871350422502, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 530, 'commit_delay': 23408, 'commit_siblings': 91, 'cursor_tuple_fraction': 0.9567479509860277, 'deadlock_timeout': 1229396950, 'default_statistics_target': 3231, 'effective_cache_size': 1277266344, 'effective_io_concurrency': 90, 'from_collapse_limit': 894198186, 'geqo_effort': 7, 'geqo_generations': 1262883605, 'geqo_pool_size': 2070704061, 'geqo_seed': 0.693586204200983, 'geqo_threshold': 400058367, 'join_collapse_limit': 535658784, 'maintenance_work_mem': 160923555, 'max_connections': 833, 'max_wal_senders': 45, 'shared_buffers': 2766233, 'temp_buffers': 843252663, 'temp_file_limit': 1300067389, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 9385, 'vacuum_cost_page_dirty': 784, 'vacuum_cost_page_hit': 3665, 'vacuum_cost_page_miss': 5211, 'wal_buffers': 103151, 'wal_writer_delay': 8140, 'work_mem': 656629010}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 48.01633795723319
Set autovacuum_analyze_threshold = 1816547535
Set autovacuum_max_workers = 149
Set autovacuum_naptime = 621009
Set autovacuum_vacuum_cost_delay = 59
Set autovacuum_vacuum_cost_limit = 9147
Set autovacuum_vacuum_scale_factor = 57.31241349130869
Set autovacuum_vacuum_threshold = 231256504
Set backend_flush_after = 145
Set bgwriter_delay = 8439
Set bgwriter_flush_after = 15
Set bgwriter_lru_maxpages = 813
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.8292871350422502
Set checkpoint_flush_after = 165
Set checkpoint_timeout = 530
Set commit_delay = 23408
Set commit_siblings = 91
Set cursor_tuple_fraction = 0.9567479509860277
Set deadlock_timeout = 1229396950
Set default_statistics_target = 3231
Set effective_cache_size = 1277266344
Set effective_io_concurrency = 90
Set from_collapse_limit = 894198186
Set geqo_effort = 7
Set geqo_generations = 1262883605
Set geqo_pool_size = 2070704061
Set geqo_seed = 0.693586204200983
Set geqo_threshold = 400058367
Set join_collapse_limit = 535658784
Set maintenance_work_mem = 160923555
Set max_connections = 833
Set max_wal_senders = 45
Set shared_buffers = 2766233
Set temp_buffers = 843252663
Set temp_file_limit = 1300067389
Set vacuum_cost_delay = 21
Set vacuum_cost_limit = 9385
Set vacuum_cost_page_dirty = 784
Set vacuum_cost_page_hit = 3665
Set vacuum_cost_page_miss = 5211
Set wal_buffers = 103151
Set wal_writer_delay = 8140
Set work_mem = 656629010
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-21-21.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-21-21.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-21-21.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-21-21.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-21-21.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-21-21.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-21-21.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763734818.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-21-21.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-21-21.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-21-21.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-21-21.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-21-21.metrics.json
Parsed throughput from summary.json: 3384.137589272467
BenchBase wikipedia throughput: 3384.137589272467
Configuration: {'autovacuum_analyze_scale_factor': 48.01633795723319, 'autovacuum_analyze_threshold': 1816547535, 'autovacuum_max_workers': 149, 'autovacuum_naptime': 621009, 'autovacuum_vacuum_cost_delay': 59, 'autovacuum_vacuum_cost_limit': 9147, 'autovacuum_vacuum_scale_factor': 57.31241349130869, 'autovacuum_vacuum_threshold': 231256504, 'backend_flush_after': 145, 'bgwriter_delay': 8439, 'bgwriter_flush_after': 15, 'bgwriter_lru_maxpages': 813, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8292871350422502, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 530, 'commit_delay': 23408, 'commit_siblings': 91, 'cursor_tuple_fraction': 0.9567479509860277, 'deadlock_timeout': 1229396950, 'default_statistics_target': 3231, 'effective_cache_size': 1277266344, 'effective_io_concurrency': 90, 'from_collapse_limit': 894198186, 'geqo_effort': 7, 'geqo_generations': 1262883605, 'geqo_pool_size': 2070704061, 'geqo_seed': 0.693586204200983, 'geqo_threshold': 400058367, 'join_collapse_limit': 535658784, 'maintenance_work_mem': 160923555, 'max_connections': 833, 'max_wal_senders': 45, 'shared_buffers': 2766233, 'temp_buffers': 843252663, 'temp_file_limit': 1300067389, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 9385, 'vacuum_cost_page_dirty': 784, 'vacuum_cost_page_hit': 3665, 'vacuum_cost_page_miss': 5211, 'wal_buffers': 103151, 'wal_writer_delay': 8140, 'work_mem': 656629010}, QPS: -3384.137589272467
Performance (QPS): -3384.137589272467
Evaluating configuration: {'autovacuum_analyze_scale_factor': 97.93487088754773, 'autovacuum_analyze_threshold': 1026960158, 'autovacuum_max_workers': 91, 'autovacuum_naptime': 2108575, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 1320, 'autovacuum_vacuum_scale_factor': 24.787272326648235, 'autovacuum_vacuum_threshold': 1430573589, 'backend_flush_after': 100, 'bgwriter_delay': 4246, 'bgwriter_flush_after': 253, 'bgwriter_lru_maxpages': 456, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.48489107098430395, 'checkpoint_flush_after': 49, 'checkpoint_timeout': 2860, 'commit_delay': 70121, 'commit_siblings': 567, 'cursor_tuple_fraction': 0.33298872970044613, 'deadlock_timeout': 837226764, 'default_statistics_target': 6616, 'effective_cache_size': 1001896558, 'effective_io_concurrency': 750, 'from_collapse_limit': 1421567580, 'geqo_effort': 4, 'geqo_generations': 1054657890, 'geqo_pool_size': 612652560, 'geqo_seed': 0.28427873831242323, 'geqo_threshold': 1233468278, 'join_collapse_limit': 1670100696, 'maintenance_work_mem': 1493629621, 'max_connections': 2449, 'max_wal_senders': 5, 'shared_buffers': 1602634, 'temp_buffers': 203677959, 'temp_file_limit': 410296723, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 1902, 'vacuum_cost_page_dirty': 8707, 'vacuum_cost_page_hit': 7592, 'vacuum_cost_page_miss': 3068, 'wal_buffers': 26210, 'wal_writer_delay': 2015, 'work_mem': 1547633999}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 97.93487088754773
Set autovacuum_analyze_threshold = 1026960158
Set autovacuum_max_workers = 91
Set autovacuum_naptime = 2108575
Set autovacuum_vacuum_cost_delay = 19
Set autovacuum_vacuum_cost_limit = 1320
Set autovacuum_vacuum_scale_factor = 24.787272326648235
Set autovacuum_vacuum_threshold = 1430573589
Set backend_flush_after = 100
Set bgwriter_delay = 4246
Set bgwriter_flush_after = 253
Set bgwriter_lru_maxpages = 456
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.48489107098430395
Set checkpoint_flush_after = 49
Set checkpoint_timeout = 2860
Set commit_delay = 70121
Set commit_siblings = 567
Set cursor_tuple_fraction = 0.33298872970044613
Set deadlock_timeout = 837226764
Set default_statistics_target = 6616
Set effective_cache_size = 1001896558
Set effective_io_concurrency = 750
Set from_collapse_limit = 1421567580
Set geqo_effort = 4
Set geqo_generations = 1054657890
Set geqo_pool_size = 612652560
Set geqo_seed = 0.28427873831242323
Set geqo_threshold = 1233468278
Set join_collapse_limit = 1670100696
Set maintenance_work_mem = 1493629621
Set max_connections = 2449
Set max_wal_senders = 5
Set shared_buffers = 1602634
Set temp_buffers = 203677959
Set temp_file_limit = 410296723
Set vacuum_cost_delay = 69
Set vacuum_cost_limit = 1902
Set vacuum_cost_page_dirty = 8707
Set vacuum_cost_page_hit = 7592
Set vacuum_cost_page_miss = 3068
Set wal_buffers = 26210
Set wal_writer_delay = 2015
Set work_mem = 1547633999
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-22-55.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-22-55.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-22-55.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-22-55.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-22-55.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-22-55.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-22-55.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-22-55.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-22-55.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-22-55.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-22-55.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763734912.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-22-55.results.AddWatchList.csv
Parsed throughput from summary.json: 3413.426363911988
BenchBase wikipedia throughput: 3413.426363911988
Configuration: {'autovacuum_analyze_scale_factor': 97.93487088754773, 'autovacuum_analyze_threshold': 1026960158, 'autovacuum_max_workers': 91, 'autovacuum_naptime': 2108575, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 1320, 'autovacuum_vacuum_scale_factor': 24.787272326648235, 'autovacuum_vacuum_threshold': 1430573589, 'backend_flush_after': 100, 'bgwriter_delay': 4246, 'bgwriter_flush_after': 253, 'bgwriter_lru_maxpages': 456, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.48489107098430395, 'checkpoint_flush_after': 49, 'checkpoint_timeout': 2860, 'commit_delay': 70121, 'commit_siblings': 567, 'cursor_tuple_fraction': 0.33298872970044613, 'deadlock_timeout': 837226764, 'default_statistics_target': 6616, 'effective_cache_size': 1001896558, 'effective_io_concurrency': 750, 'from_collapse_limit': 1421567580, 'geqo_effort': 4, 'geqo_generations': 1054657890, 'geqo_pool_size': 612652560, 'geqo_seed': 0.28427873831242323, 'geqo_threshold': 1233468278, 'join_collapse_limit': 1670100696, 'maintenance_work_mem': 1493629621, 'max_connections': 2449, 'max_wal_senders': 5, 'shared_buffers': 1602634, 'temp_buffers': 203677959, 'temp_file_limit': 410296723, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 1902, 'vacuum_cost_page_dirty': 8707, 'vacuum_cost_page_hit': 7592, 'vacuum_cost_page_miss': 3068, 'wal_buffers': 26210, 'wal_writer_delay': 2015, 'work_mem': 1547633999}, QPS: -3413.426363911988
Performance (QPS): -3413.426363911988
Evaluating configuration: {'autovacuum_analyze_scale_factor': 68.1232750415802, 'autovacuum_analyze_threshold': 1464507551, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 260835, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 4223, 'autovacuum_vacuum_scale_factor': 92.15154927223921, 'autovacuum_vacuum_threshold': 1864409019, 'backend_flush_after': 49, 'bgwriter_delay': 1800, 'bgwriter_flush_after': 153, 'bgwriter_lru_maxpages': 104, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5672597279772162, 'checkpoint_flush_after': 69, 'checkpoint_timeout': 1531, 'commit_delay': 99241, 'commit_siblings': 341, 'cursor_tuple_fraction': 0.006115379743278027, 'deadlock_timeout': 1984482532, 'default_statistics_target': 1414, 'effective_cache_size': 250592792, 'effective_io_concurrency': 351, 'from_collapse_limit': 467357266, 'geqo_effort': 10, 'geqo_generations': 395675276, 'geqo_pool_size': 1522604345, 'geqo_seed': 0.15250328183174133, 'geqo_threshold': 570257513, 'join_collapse_limit': 1409068376, 'maintenance_work_mem': 629937567, 'max_connections': 608, 'max_wal_senders': 35, 'shared_buffers': 533398, 'temp_buffers': 337236825, 'temp_file_limit': 613530673, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 7487, 'vacuum_cost_page_dirty': 3488, 'vacuum_cost_page_hit': 963, 'vacuum_cost_page_miss': 9247, 'wal_buffers': 51689, 'wal_writer_delay': 5403, 'work_mem': 260375776}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 68.1232750415802
Set autovacuum_analyze_threshold = 1464507551
Set autovacuum_max_workers = 167
Set autovacuum_naptime = 260835
Set autovacuum_vacuum_cost_delay = 29
Set autovacuum_vacuum_cost_limit = 4223
Set autovacuum_vacuum_scale_factor = 92.15154927223921
Set autovacuum_vacuum_threshold = 1864409019
Set backend_flush_after = 49
Set bgwriter_delay = 1800
Set bgwriter_flush_after = 153
Set bgwriter_lru_maxpages = 104
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.5672597279772162
Set checkpoint_flush_after = 69
Set checkpoint_timeout = 1531
Set commit_delay = 99241
Set commit_siblings = 341
Set cursor_tuple_fraction = 0.006115379743278027
Set deadlock_timeout = 1984482532
Set default_statistics_target = 1414
Set effective_cache_size = 250592792
Set effective_io_concurrency = 351
Set from_collapse_limit = 467357266
Set geqo_effort = 10
Set geqo_generations = 395675276
Set geqo_pool_size = 1522604345
Set geqo_seed = 0.15250328183174133
Set geqo_threshold = 570257513
Set join_collapse_limit = 1409068376
Set maintenance_work_mem = 629937567
Set max_connections = 608
Set max_wal_senders = 35
Set shared_buffers = 533398
Set temp_buffers = 337236825
Set temp_file_limit = 613530673
Set vacuum_cost_delay = 40
Set vacuum_cost_limit = 7487
Set vacuum_cost_page_dirty = 3488
Set vacuum_cost_page_hit = 963
Set vacuum_cost_page_miss = 9247
Set wal_buffers = 51689
Set wal_writer_delay = 5403
Set work_mem = 260375776
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-24-29.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-24-29.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-24-29.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-24-29.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-24-29.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-24-29.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-24-29.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-24-29.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763735005.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-24-29.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-24-29.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-24-29.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-24-29.results.AddWatchList.csv
Parsed throughput from summary.json: 3380.6787411503733
BenchBase wikipedia throughput: 3380.6787411503733
Configuration: {'autovacuum_analyze_scale_factor': 68.1232750415802, 'autovacuum_analyze_threshold': 1464507551, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 260835, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 4223, 'autovacuum_vacuum_scale_factor': 92.15154927223921, 'autovacuum_vacuum_threshold': 1864409019, 'backend_flush_after': 49, 'bgwriter_delay': 1800, 'bgwriter_flush_after': 153, 'bgwriter_lru_maxpages': 104, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5672597279772162, 'checkpoint_flush_after': 69, 'checkpoint_timeout': 1531, 'commit_delay': 99241, 'commit_siblings': 341, 'cursor_tuple_fraction': 0.006115379743278027, 'deadlock_timeout': 1984482532, 'default_statistics_target': 1414, 'effective_cache_size': 250592792, 'effective_io_concurrency': 351, 'from_collapse_limit': 467357266, 'geqo_effort': 10, 'geqo_generations': 395675276, 'geqo_pool_size': 1522604345, 'geqo_seed': 0.15250328183174133, 'geqo_threshold': 570257513, 'join_collapse_limit': 1409068376, 'maintenance_work_mem': 629937567, 'max_connections': 608, 'max_wal_senders': 35, 'shared_buffers': 533398, 'temp_buffers': 337236825, 'temp_file_limit': 613530673, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 7487, 'vacuum_cost_page_dirty': 3488, 'vacuum_cost_page_hit': 963, 'vacuum_cost_page_miss': 9247, 'wal_buffers': 51689, 'wal_writer_delay': 5403, 'work_mem': 260375776}, QPS: -3380.6787411503733
Performance (QPS): -3380.6787411503733
Evaluating configuration: {'autovacuum_analyze_scale_factor': 18.054398335516453, 'autovacuum_analyze_threshold': 104523630, 'autovacuum_max_workers': 22, 'autovacuum_naptime': 1461821, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 6558, 'autovacuum_vacuum_scale_factor': 27.39966604858637, 'autovacuum_vacuum_threshold': 934083602, 'backend_flush_after': 198, 'bgwriter_delay': 5886, 'bgwriter_flush_after': 106, 'bgwriter_lru_maxpages': 744, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.22403083089739084, 'checkpoint_flush_after': 210, 'checkpoint_timeout': 1852, 'commit_delay': 46242, 'commit_siblings': 818, 'cursor_tuple_fraction': 0.6260237609967589, 'deadlock_timeout': 250136126, 'default_statistics_target': 8745, 'effective_cache_size': 2038009310, 'effective_io_concurrency': 942, 'from_collapse_limit': 2049722788, 'geqo_effort': 1, 'geqo_generations': 1645172983, 'geqo_pool_size': 86581396, 'geqo_seed': 0.868207267485559, 'geqo_threshold': 2141203680, 'join_collapse_limit': 798661280, 'maintenance_work_mem': 1964871833, 'max_connections': 1935, 'max_wal_senders': 15, 'shared_buffers': 3826214, 'temp_buffers': 712585250, 'temp_file_limit': 1905813911, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 4969, 'vacuum_cost_page_dirty': 5771, 'vacuum_cost_page_hit': 5280, 'vacuum_cost_page_miss': 1535, 'wal_buffers': 81252, 'wal_writer_delay': 4127, 'work_mem': 1956207989}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 18.054398335516453
Set autovacuum_analyze_threshold = 104523630
Set autovacuum_max_workers = 22
Set autovacuum_naptime = 1461821
Set autovacuum_vacuum_cost_delay = 91
Set autovacuum_vacuum_cost_limit = 6558
Set autovacuum_vacuum_scale_factor = 27.39966604858637
Set autovacuum_vacuum_threshold = 934083602
Set backend_flush_after = 198
Set bgwriter_delay = 5886
Set bgwriter_flush_after = 106
Set bgwriter_lru_maxpages = 744
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.22403083089739084
Set checkpoint_flush_after = 210
Set checkpoint_timeout = 1852
Set commit_delay = 46242
Set commit_siblings = 818
Set cursor_tuple_fraction = 0.6260237609967589
Set deadlock_timeout = 250136126
Set default_statistics_target = 8745
Set effective_cache_size = 2038009310
Set effective_io_concurrency = 942
Set from_collapse_limit = 2049722788
Set geqo_effort = 1
Set geqo_generations = 1645172983
Set geqo_pool_size = 86581396
Set geqo_seed = 0.868207267485559
Set geqo_threshold = 2141203680
Set join_collapse_limit = 798661280
Set maintenance_work_mem = 1964871833
Set max_connections = 1935
Set max_wal_senders = 15
Set shared_buffers = 3826214
Set temp_buffers = 712585250
Set temp_file_limit = 1905813911
Set vacuum_cost_delay = 88
Set vacuum_cost_limit = 4969
Set vacuum_cost_page_dirty = 5771
Set vacuum_cost_page_hit = 5280
Set vacuum_cost_page_miss = 1535
Set wal_buffers = 81252
Set wal_writer_delay = 4127
Set work_mem = 1956207989
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-26-03.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-26-03.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-26-03.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-26-03.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-26-03.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-26-03.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-26-03.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-26-03.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763735099.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-26-03.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-26-03.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-26-03.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-26-03.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Parsed throughput from summary.json: 3476.8675123506873
BenchBase wikipedia throughput: 3476.8675123506873
Configuration: {'autovacuum_analyze_scale_factor': 18.054398335516453, 'autovacuum_analyze_threshold': 104523630, 'autovacuum_max_workers': 22, 'autovacuum_naptime': 1461821, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 6558, 'autovacuum_vacuum_scale_factor': 27.39966604858637, 'autovacuum_vacuum_threshold': 934083602, 'backend_flush_after': 198, 'bgwriter_delay': 5886, 'bgwriter_flush_after': 106, 'bgwriter_lru_maxpages': 744, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.22403083089739084, 'checkpoint_flush_after': 210, 'checkpoint_timeout': 1852, 'commit_delay': 46242, 'commit_siblings': 818, 'cursor_tuple_fraction': 0.6260237609967589, 'deadlock_timeout': 250136126, 'default_statistics_target': 8745, 'effective_cache_size': 2038009310, 'effective_io_concurrency': 942, 'from_collapse_limit': 2049722788, 'geqo_effort': 1, 'geqo_generations': 1645172983, 'geqo_pool_size': 86581396, 'geqo_seed': 0.868207267485559, 'geqo_threshold': 2141203680, 'join_collapse_limit': 798661280, 'maintenance_work_mem': 1964871833, 'max_connections': 1935, 'max_wal_senders': 15, 'shared_buffers': 3826214, 'temp_buffers': 712585250, 'temp_file_limit': 1905813911, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 4969, 'vacuum_cost_page_dirty': 5771, 'vacuum_cost_page_hit': 5280, 'vacuum_cost_page_miss': 1535, 'wal_buffers': 81252, 'wal_writer_delay': 4127, 'work_mem': 1956207989}, QPS: -3476.8675123506873
Performance (QPS): -3476.8675123506873
Evaluating configuration: {'autovacuum_analyze_scale_factor': 24.392467457801104, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 163, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 26329702, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 855200746, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 410094950, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 1044371522, 'temp_file_limit': 761908879, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 2936, 'work_mem': 2036127693}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 24.392467457801104
Set autovacuum_analyze_threshold = 1969911119
Set autovacuum_max_workers = 163
Set autovacuum_naptime = 1880690
Set autovacuum_vacuum_cost_delay = 38
Set autovacuum_vacuum_cost_limit = 5652
Set autovacuum_vacuum_scale_factor = 51.02565577253699
Set autovacuum_vacuum_threshold = 26329702
Set backend_flush_after = 140
Set bgwriter_delay = 862
Set bgwriter_flush_after = 127
Set bgwriter_lru_maxpages = 517
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.5030564842745662
Set checkpoint_flush_after = 7
Set checkpoint_timeout = 703
Set commit_delay = 54508
Set commit_siblings = 173
Set cursor_tuple_fraction = 0.9186503402888775
Set deadlock_timeout = 1689266024
Set default_statistics_target = 2922
Set effective_cache_size = 855200746
Set effective_io_concurrency = 270
Set from_collapse_limit = 1026139532
Set geqo_effort = 3
Set geqo_generations = 23614720
Set geqo_pool_size = 410094950
Set geqo_seed = 0.3290532799437642
Set geqo_threshold = 1116794408
Set join_collapse_limit = 1517115132
Set maintenance_work_mem = 97161105
Set max_connections = 1692
Set max_wal_senders = 25
Set shared_buffers = 2926931
Set temp_buffers = 1044371522
Set temp_file_limit = 761908879
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 7873
Set vacuum_cost_page_dirty = 1448
Set vacuum_cost_page_hit = 1912
Set vacuum_cost_page_miss = 8596
Set wal_buffers = 200
Set wal_writer_delay = 2936
Set work_mem = 2036127693
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763735193.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-27-37.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-27-37.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-27-37.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-27-37.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-27-37.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-27-37.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-27-37.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-27-37.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-27-37.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-27-37.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-27-37.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-27-37.metrics.json
Parsed throughput from summary.json: 3427.1235381901856
BenchBase wikipedia throughput: 3427.1235381901856
Configuration: {'autovacuum_analyze_scale_factor': 24.392467457801104, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 163, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 26329702, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 855200746, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 410094950, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 1044371522, 'temp_file_limit': 761908879, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 2936, 'work_mem': 2036127693}, QPS: -3427.1235381901856
Performance (QPS): -3427.1235381901856
Evaluating configuration: {'autovacuum_analyze_scale_factor': 74.28701287135482, 'autovacuum_analyze_threshold': 605687454, 'autovacuum_max_workers': 2, 'autovacuum_naptime': 682924, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 3565, 'autovacuum_vacuum_scale_factor': 18.52565510198474, 'autovacuum_vacuum_threshold': 1495114183, 'backend_flush_after': 127, 'bgwriter_delay': 6825, 'bgwriter_flush_after': 140, 'bgwriter_lru_maxpages': 127, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.15877843368798494, 'checkpoint_flush_after': 146, 'checkpoint_timeout': 3061, 'commit_delay': 1521, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.29296087473630905, 'deadlock_timeout': 470822322, 'default_statistics_target': 6920, 'effective_cache_size': 1164927020, 'effective_io_concurrency': 930, 'from_collapse_limit': 1558094458, 'geqo_effort': 7, 'geqo_generations': 1962052467, 'geqo_pool_size': 1201255623, 'geqo_seed': 0.6775582823902369, 'geqo_threshold': 483242657, 'join_collapse_limit': 638279940, 'maintenance_work_mem': 1432029859, 'max_connections': 391, 'max_wal_senders': 26, 'shared_buffers': 2025707, 'temp_buffers': 6241207, 'temp_file_limit': 2019564345, 'vacuum_cost_delay': 17, 'vacuum_cost_limit': 356, 'vacuum_cost_page_dirty': 9371, 'vacuum_cost_page_hit': 6855, 'vacuum_cost_page_miss': 933, 'wal_buffers': 128069, 'wal_writer_delay': 6594, 'work_mem': 37785168}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 74.28701287135482
Set autovacuum_analyze_threshold = 605687454
Set autovacuum_max_workers = 2
Set autovacuum_naptime = 682924
Set autovacuum_vacuum_cost_delay = 77
Set autovacuum_vacuum_cost_limit = 3565
Set autovacuum_vacuum_scale_factor = 18.52565510198474
Set autovacuum_vacuum_threshold = 1495114183
Set backend_flush_after = 127
Set bgwriter_delay = 6825
Set bgwriter_flush_after = 140
Set bgwriter_lru_maxpages = 127
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.15877843368798494
Set checkpoint_flush_after = 146
Set checkpoint_timeout = 3061
Set commit_delay = 1521
Set commit_siblings = 665
Set cursor_tuple_fraction = 0.29296087473630905
Set deadlock_timeout = 470822322
Set default_statistics_target = 6920
Set effective_cache_size = 1164927020
Set effective_io_concurrency = 930
Set from_collapse_limit = 1558094458
Set geqo_effort = 7
Set geqo_generations = 1962052467
Set geqo_pool_size = 1201255623
Set geqo_seed = 0.6775582823902369
Set geqo_threshold = 483242657
Set join_collapse_limit = 638279940
Set maintenance_work_mem = 1432029859
Set max_connections = 391
Set max_wal_senders = 26
Set shared_buffers = 2025707
Set temp_buffers = 6241207
Set temp_file_limit = 2019564345
Set vacuum_cost_delay = 17
Set vacuum_cost_limit = 356
Set vacuum_cost_page_dirty = 9371
Set vacuum_cost_page_hit = 6855
Set vacuum_cost_page_miss = 933
Set wal_buffers = 128069
Set wal_writer_delay = 6594
Set work_mem = 37785168
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-29-11.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-29-11.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-29-11.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-29-11.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-29-11.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-29-11.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-29-11.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-29-11.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-29-11.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-29-11.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-29-11.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-29-11.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763735288.log
Parsed throughput from summary.json: 3507.856674770046
BenchBase wikipedia throughput: 3507.856674770046
Configuration: {'autovacuum_analyze_scale_factor': 74.28701287135482, 'autovacuum_analyze_threshold': 605687454, 'autovacuum_max_workers': 2, 'autovacuum_naptime': 682924, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 3565, 'autovacuum_vacuum_scale_factor': 18.52565510198474, 'autovacuum_vacuum_threshold': 1495114183, 'backend_flush_after': 127, 'bgwriter_delay': 6825, 'bgwriter_flush_after': 140, 'bgwriter_lru_maxpages': 127, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.15877843368798494, 'checkpoint_flush_after': 146, 'checkpoint_timeout': 3061, 'commit_delay': 1521, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.29296087473630905, 'deadlock_timeout': 470822322, 'default_statistics_target': 6920, 'effective_cache_size': 1164927020, 'effective_io_concurrency': 930, 'from_collapse_limit': 1558094458, 'geqo_effort': 7, 'geqo_generations': 1962052467, 'geqo_pool_size': 1201255623, 'geqo_seed': 0.6775582823902369, 'geqo_threshold': 483242657, 'join_collapse_limit': 638279940, 'maintenance_work_mem': 1432029859, 'max_connections': 391, 'max_wal_senders': 26, 'shared_buffers': 2025707, 'temp_buffers': 6241207, 'temp_file_limit': 2019564345, 'vacuum_cost_delay': 17, 'vacuum_cost_limit': 356, 'vacuum_cost_page_dirty': 9371, 'vacuum_cost_page_hit': 6855, 'vacuum_cost_page_miss': 933, 'wal_buffers': 128069, 'wal_writer_delay': 6594, 'work_mem': 37785168}, QPS: -3507.856674770046
Performance (QPS): -3507.856674770046
Evaluating configuration: {'autovacuum_analyze_scale_factor': 91.7959289625287, 'autovacuum_analyze_threshold': 1315354911, 'autovacuum_max_workers': 132, 'autovacuum_naptime': 1519837, 'autovacuum_vacuum_cost_delay': 73, 'autovacuum_vacuum_cost_limit': 878, 'autovacuum_vacuum_scale_factor': 98.41327322646976, 'autovacuum_vacuum_threshold': 1668934753, 'backend_flush_after': 42, 'bgwriter_delay': 9368, 'bgwriter_flush_after': 234, 'bgwriter_lru_maxpages': 308, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.7722707288339734, 'checkpoint_flush_after': 232, 'checkpoint_timeout': 1703, 'commit_delay': 30629, 'commit_siblings': 422, 'cursor_tuple_fraction': 0.1184236528351903, 'deadlock_timeout': 1539305562, 'default_statistics_target': 2356, 'effective_cache_size': 1882678362, 'effective_io_concurrency': 46, 'from_collapse_limit': 331254388, 'geqo_effort': 2, 'geqo_generations': 1572585625, 'geqo_pool_size': 970783714, 'geqo_seed': 0.7606275612488389, 'geqo_threshold': 1958083006, 'join_collapse_limit': 377256580, 'maintenance_work_mem': 701621677, 'max_connections': 2977, 'max_wal_senders': 8, 'shared_buffers': 966498, 'temp_buffers': 409274676, 'temp_file_limit': 1149568667, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 5239, 'vacuum_cost_page_dirty': 4074, 'vacuum_cost_page_hit': 4591, 'vacuum_cost_page_miss': 7102, 'wal_buffers': 89038, 'wal_writer_delay': 666, 'work_mem': 1375375259}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 91.7959289625287
Set autovacuum_analyze_threshold = 1315354911
Set autovacuum_max_workers = 132
Set autovacuum_naptime = 1519837
Set autovacuum_vacuum_cost_delay = 73
Set autovacuum_vacuum_cost_limit = 878
Set autovacuum_vacuum_scale_factor = 98.41327322646976
Set autovacuum_vacuum_threshold = 1668934753
Set backend_flush_after = 42
Set bgwriter_delay = 9368
Set bgwriter_flush_after = 234
Set bgwriter_lru_maxpages = 308
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.7722707288339734
Set checkpoint_flush_after = 232
Set checkpoint_timeout = 1703
Set commit_delay = 30629
Set commit_siblings = 422
Set cursor_tuple_fraction = 0.1184236528351903
Set deadlock_timeout = 1539305562
Set default_statistics_target = 2356
Set effective_cache_size = 1882678362
Set effective_io_concurrency = 46
Set from_collapse_limit = 331254388
Set geqo_effort = 2
Set geqo_generations = 1572585625
Set geqo_pool_size = 970783714
Set geqo_seed = 0.7606275612488389
Set geqo_threshold = 1958083006
Set join_collapse_limit = 377256580
Set maintenance_work_mem = 701621677
Set max_connections = 2977
Set max_wal_senders = 8
Set shared_buffers = 966498
Set temp_buffers = 409274676
Set temp_file_limit = 1149568667
Set vacuum_cost_delay = 99
Set vacuum_cost_limit = 5239
Set vacuum_cost_page_dirty = 4074
Set vacuum_cost_page_hit = 4591
Set vacuum_cost_page_miss = 7102
Set wal_buffers = 89038
Set wal_writer_delay = 666
Set work_mem = 1375375259
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-30-45.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-30-45.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-30-45.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-30-45.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-30-45.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763735382.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-30-45.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-30-45.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-30-45.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-30-45.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-30-45.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-30-45.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-30-45.config.xml
Parsed throughput from summary.json: 3445.783524343992
BenchBase wikipedia throughput: 3445.783524343992
Configuration: {'autovacuum_analyze_scale_factor': 91.7959289625287, 'autovacuum_analyze_threshold': 1315354911, 'autovacuum_max_workers': 132, 'autovacuum_naptime': 1519837, 'autovacuum_vacuum_cost_delay': 73, 'autovacuum_vacuum_cost_limit': 878, 'autovacuum_vacuum_scale_factor': 98.41327322646976, 'autovacuum_vacuum_threshold': 1668934753, 'backend_flush_after': 42, 'bgwriter_delay': 9368, 'bgwriter_flush_after': 234, 'bgwriter_lru_maxpages': 308, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.7722707288339734, 'checkpoint_flush_after': 232, 'checkpoint_timeout': 1703, 'commit_delay': 30629, 'commit_siblings': 422, 'cursor_tuple_fraction': 0.1184236528351903, 'deadlock_timeout': 1539305562, 'default_statistics_target': 2356, 'effective_cache_size': 1882678362, 'effective_io_concurrency': 46, 'from_collapse_limit': 331254388, 'geqo_effort': 2, 'geqo_generations': 1572585625, 'geqo_pool_size': 970783714, 'geqo_seed': 0.7606275612488389, 'geqo_threshold': 1958083006, 'join_collapse_limit': 377256580, 'maintenance_work_mem': 701621677, 'max_connections': 2977, 'max_wal_senders': 8, 'shared_buffers': 966498, 'temp_buffers': 409274676, 'temp_file_limit': 1149568667, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 5239, 'vacuum_cost_page_dirty': 4074, 'vacuum_cost_page_hit': 4591, 'vacuum_cost_page_miss': 7102, 'wal_buffers': 89038, 'wal_writer_delay': 666, 'work_mem': 1375375259}, QPS: -3445.783524343992
Performance (QPS): -3445.783524343992
Evaluating configuration: {'autovacuum_analyze_scale_factor': 41.65347293019295, 'autovacuum_analyze_threshold': 521585390, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 37439, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 8652, 'autovacuum_vacuum_scale_factor': 33.686508145183325, 'autovacuum_vacuum_threshold': 1005948876, 'backend_flush_after': 223, 'bgwriter_delay': 3316, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 915, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.4291755883023143, 'checkpoint_flush_after': 114, 'checkpoint_timeout': 2053, 'commit_delay': 77354, 'commit_siblings': 916, 'cursor_tuple_fraction': 0.7480900222435594, 'deadlock_timeout': 589298304, 'default_statistics_target': 7799, 'effective_cache_size': 128014236, 'effective_io_concurrency': 638, 'from_collapse_limit': 1917422978, 'geqo_effort': 10, 'geqo_generations': 673259246, 'geqo_pool_size': 1714733643, 'geqo_seed': 0.23414401523768902, 'geqo_threshold': 719889719, 'join_collapse_limit': 1780108668, 'maintenance_work_mem': 2034262183, 'max_connections': 1318, 'max_wal_senders': 42, 'shared_buffers': 3997434, 'temp_buffers': 637922315, 'temp_file_limit': 294441781, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 2755, 'vacuum_cost_page_dirty': 6357, 'vacuum_cost_page_hit': 9142, 'vacuum_cost_page_miss': 4931, 'wal_buffers': 44867, 'wal_writer_delay': 9488, 'work_mem': 719771270}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 41.65347293019295
Set autovacuum_analyze_threshold = 521585390
Set autovacuum_max_workers = 83
Set autovacuum_naptime = 37439
Set autovacuum_vacuum_cost_delay = 10
Set autovacuum_vacuum_cost_limit = 8652
Set autovacuum_vacuum_scale_factor = 33.686508145183325
Set autovacuum_vacuum_threshold = 1005948876
Set backend_flush_after = 223
Set bgwriter_delay = 3316
Set bgwriter_flush_after = 26
Set bgwriter_lru_maxpages = 915
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.4291755883023143
Set checkpoint_flush_after = 114
Set checkpoint_timeout = 2053
Set commit_delay = 77354
Set commit_siblings = 916
Set cursor_tuple_fraction = 0.7480900222435594
Set deadlock_timeout = 589298304
Set default_statistics_target = 7799
Set effective_cache_size = 128014236
Set effective_io_concurrency = 638
Set from_collapse_limit = 1917422978
Set geqo_effort = 10
Set geqo_generations = 673259246
Set geqo_pool_size = 1714733643
Set geqo_seed = 0.23414401523768902
Set geqo_threshold = 719889719
Set join_collapse_limit = 1780108668
Set maintenance_work_mem = 2034262183
Set max_connections = 1318
Set max_wal_senders = 42
Set shared_buffers = 3997434
Set temp_buffers = 637922315
Set temp_file_limit = 294441781
Set vacuum_cost_delay = 48
Set vacuum_cost_limit = 2755
Set vacuum_cost_page_dirty = 6357
Set vacuum_cost_page_hit = 9142
Set vacuum_cost_page_miss = 4931
Set wal_buffers = 44867
Set wal_writer_delay = 9488
Set work_mem = 719771270
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
Start failed, removing auto.conf and retrying...
Removed postgresql.auto.conf file (if it existed).
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-32-20.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-32-20.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-32-20.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-32-20.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-32-20.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-32-20.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-32-20.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-32-20.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-32-20.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-32-20.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763735477.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-32-20.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-32-20.samples.csv
Parsed throughput from summary.json: 3041.9531873168926
BenchBase wikipedia throughput: 3041.9531873168926
Configuration: {'autovacuum_analyze_scale_factor': 41.65347293019295, 'autovacuum_analyze_threshold': 521585390, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 37439, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 8652, 'autovacuum_vacuum_scale_factor': 33.686508145183325, 'autovacuum_vacuum_threshold': 1005948876, 'backend_flush_after': 223, 'bgwriter_delay': 3316, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 915, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.4291755883023143, 'checkpoint_flush_after': 114, 'checkpoint_timeout': 2053, 'commit_delay': 77354, 'commit_siblings': 916, 'cursor_tuple_fraction': 0.7480900222435594, 'deadlock_timeout': 589298304, 'default_statistics_target': 7799, 'effective_cache_size': 128014236, 'effective_io_concurrency': 638, 'from_collapse_limit': 1917422978, 'geqo_effort': 10, 'geqo_generations': 673259246, 'geqo_pool_size': 1714733643, 'geqo_seed': 0.23414401523768902, 'geqo_threshold': 719889719, 'join_collapse_limit': 1780108668, 'maintenance_work_mem': 2034262183, 'max_connections': 1318, 'max_wal_senders': 42, 'shared_buffers': 3997434, 'temp_buffers': 637922315, 'temp_file_limit': 294441781, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 2755, 'vacuum_cost_page_dirty': 6357, 'vacuum_cost_page_hit': 9142, 'vacuum_cost_page_miss': 4931, 'wal_buffers': 44867, 'wal_writer_delay': 9488, 'work_mem': 719771270}, QPS: -3041.9531873168926
Performance (QPS): -3041.9531873168926
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.62144364416599, 'autovacuum_analyze_threshold': 1481784671, 'autovacuum_max_workers': 31, 'autovacuum_naptime': 410416, 'autovacuum_vacuum_cost_delay': 14, 'autovacuum_vacuum_cost_limit': 7083, 'autovacuum_vacuum_scale_factor': 78.04583366960287, 'autovacuum_vacuum_threshold': 2143323767, 'backend_flush_after': 2, 'bgwriter_delay': 5345, 'bgwriter_flush_after': 223, 'bgwriter_lru_maxpages': 753, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.047244736924767494, 'checkpoint_flush_after': 90, 'checkpoint_timeout': 2516, 'commit_delay': 92443, 'commit_siblings': 810, 'cursor_tuple_fraction': 0.23637110088020563, 'deadlock_timeout': 2114816204, 'default_statistics_target': 4686, 'effective_cache_size': 767965554, 'effective_io_concurrency': 149, 'from_collapse_limit': 1667213578, 'geqo_effort': 9, 'geqo_generations': 1135457439, 'geqo_pool_size': 679058080, 'geqo_seed': 0.5593483727425337, 'geqo_threshold': 1595433470, 'join_collapse_limit': 1105817264, 'maintenance_work_mem': 893986599, 'max_connections': 2208, 'max_wal_senders': 49, 'shared_buffers': 379946, 'temp_buffers': 139234968, 'temp_file_limit': 1730088285, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4055, 'vacuum_cost_page_dirty': 2684, 'vacuum_cost_page_hit': 8259, 'vacuum_cost_page_miss': 3695, 'wal_buffers': 112297, 'wal_writer_delay': 4916, 'work_mem': 1024316809}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
 t
(2 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.62144364416599
Set autovacuum_analyze_threshold = 1481784671
Set autovacuum_max_workers = 31
Set autovacuum_naptime = 410416
Set autovacuum_vacuum_cost_delay = 14
Set autovacuum_vacuum_cost_limit = 7083
Set autovacuum_vacuum_scale_factor = 78.04583366960287
Set autovacuum_vacuum_threshold = 2143323767
Set backend_flush_after = 2
Set bgwriter_delay = 5345
Set bgwriter_flush_after = 223
Set bgwriter_lru_maxpages = 753
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.047244736924767494
Set checkpoint_flush_after = 90
Set checkpoint_timeout = 2516
Set commit_delay = 92443
Set commit_siblings = 810
Set cursor_tuple_fraction = 0.23637110088020563
Set deadlock_timeout = 2114816204
Set default_statistics_target = 4686
Set effective_cache_size = 767965554
Set effective_io_concurrency = 149
Set from_collapse_limit = 1667213578
Set geqo_effort = 9
Set geqo_generations = 1135457439
Set geqo_pool_size = 679058080
Set geqo_seed = 0.5593483727425337
Set geqo_threshold = 1595433470
Set join_collapse_limit = 1105817264
Set maintenance_work_mem = 893986599
Set max_connections = 2208
Set max_wal_senders = 49
Set shared_buffers = 379946
Set temp_buffers = 139234968
Set temp_file_limit = 1730088285
Set vacuum_cost_delay = 1
Set vacuum_cost_limit = 4055
Set vacuum_cost_page_dirty = 2684
Set vacuum_cost_page_hit = 8259
Set vacuum_cost_page_miss = 3695
Set wal_buffers = 112297
Set wal_writer_delay = 4916
Set work_mem = 1024316809
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-33-53.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-33-53.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-33-53.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-33-53.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-33-53.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763735569.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-33-53.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-33-53.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-33-53.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-33-53.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-33-53.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-33-53.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-33-53.results.UpdatePage.csv
Parsed throughput from summary.json: 3499.42410299297
BenchBase wikipedia throughput: 3499.42410299297
Configuration: {'autovacuum_analyze_scale_factor': 32.62144364416599, 'autovacuum_analyze_threshold': 1481784671, 'autovacuum_max_workers': 31, 'autovacuum_naptime': 410416, 'autovacuum_vacuum_cost_delay': 14, 'autovacuum_vacuum_cost_limit': 7083, 'autovacuum_vacuum_scale_factor': 78.04583366960287, 'autovacuum_vacuum_threshold': 2143323767, 'backend_flush_after': 2, 'bgwriter_delay': 5345, 'bgwriter_flush_after': 223, 'bgwriter_lru_maxpages': 753, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.047244736924767494, 'checkpoint_flush_after': 90, 'checkpoint_timeout': 2516, 'commit_delay': 92443, 'commit_siblings': 810, 'cursor_tuple_fraction': 0.23637110088020563, 'deadlock_timeout': 2114816204, 'default_statistics_target': 4686, 'effective_cache_size': 767965554, 'effective_io_concurrency': 149, 'from_collapse_limit': 1667213578, 'geqo_effort': 9, 'geqo_generations': 1135457439, 'geqo_pool_size': 679058080, 'geqo_seed': 0.5593483727425337, 'geqo_threshold': 1595433470, 'join_collapse_limit': 1105817264, 'maintenance_work_mem': 893986599, 'max_connections': 2208, 'max_wal_senders': 49, 'shared_buffers': 379946, 'temp_buffers': 139234968, 'temp_file_limit': 1730088285, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4055, 'vacuum_cost_page_dirty': 2684, 'vacuum_cost_page_hit': 8259, 'vacuum_cost_page_miss': 3695, 'wal_buffers': 112297, 'wal_writer_delay': 4916, 'work_mem': 1024316809}, QPS: -3499.42410299297
Performance (QPS): -3499.42410299297
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.76318591088057
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1088155
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 247
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6424217484891415
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1302
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 112034326
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 21314935
Set join_collapse_limit = 1032804680
Set maintenance_work_mem = 1708697389
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3640755
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5839
Set wal_buffers = 16932
Set wal_writer_delay = 6181
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-35-27.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-35-27.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-35-27.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763735663.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-35-27.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-35-27.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-35-27.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-35-27.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-35-27.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-35-27.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-35-27.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-35-27.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-35-27.metrics.json
Parsed throughput from summary.json: 3343.4768088110427
BenchBase wikipedia throughput: 3343.4768088110427
Configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}, QPS: -3343.4768088110427
Performance (QPS): -3343.4768088110427
Evaluating configuration: {'autovacuum_analyze_scale_factor': 52.75337500497699, 'autovacuum_analyze_threshold': 1667166479, 'autovacuum_max_workers': 62, 'autovacuum_naptime': 855221, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 2007, 'autovacuum_vacuum_scale_factor': 74.457055516541, 'autovacuum_vacuum_threshold': 489203836, 'backend_flush_after': 164, 'bgwriter_delay': 4485, 'bgwriter_flush_after': 72, 'bgwriter_lru_maxpages': 39, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.2866819314658642, 'checkpoint_flush_after': 187, 'checkpoint_timeout': 3523, 'commit_delay': 16120, 'commit_siblings': 560, 'cursor_tuple_fraction': 0.7890544533729553, 'deadlock_timeout': 1090674686, 'default_statistics_target': 58, 'effective_cache_size': 1862799042, 'effective_io_concurrency': 408, 'from_collapse_limit': 1304987378, 'geqo_effort': 6, 'geqo_generations': 528359738, 'geqo_pool_size': 164949028, 'geqo_seed': 0.1004312876611948, 'geqo_threshold': 1765635688, 'join_collapse_limit': 234373832, 'maintenance_work_mem': 424825123, 'max_connections': 2364, 'max_wal_senders': 32, 'shared_buffers': 2611726, 'temp_buffers': 773218065, 'temp_file_limit': 250856785, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 1576, 'vacuum_cost_page_dirty': 387, 'vacuum_cost_page_hit': 5863, 'vacuum_cost_page_miss': 2159, 'wal_buffers': 60847, 'wal_writer_delay': 1561, 'work_mem': 363564379}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 52.75337500497699
Set autovacuum_analyze_threshold = 1667166479
Set autovacuum_max_workers = 62
Set autovacuum_naptime = 855221
Set autovacuum_vacuum_cost_delay = 100
Set autovacuum_vacuum_cost_limit = 2007
Set autovacuum_vacuum_scale_factor = 74.457055516541
Set autovacuum_vacuum_threshold = 489203836
Set backend_flush_after = 164
Set bgwriter_delay = 4485
Set bgwriter_flush_after = 72
Set bgwriter_lru_maxpages = 39
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.2866819314658642
Set checkpoint_flush_after = 187
Set checkpoint_timeout = 3523
Set commit_delay = 16120
Set commit_siblings = 560
Set cursor_tuple_fraction = 0.7890544533729553
Set deadlock_timeout = 1090674686
Set default_statistics_target = 58
Set effective_cache_size = 1862799042
Set effective_io_concurrency = 408
Set from_collapse_limit = 1304987378
Set geqo_effort = 6
Set geqo_generations = 528359738
Set geqo_pool_size = 164949028
Set geqo_seed = 0.1004312876611948
Set geqo_threshold = 1765635688
Set join_collapse_limit = 234373832
Set maintenance_work_mem = 424825123
Set max_connections = 2364
Set max_wal_senders = 32
Set shared_buffers = 2611726
Set temp_buffers = 773218065
Set temp_file_limit = 250856785
Set vacuum_cost_delay = 32
Set vacuum_cost_limit = 1576
Set vacuum_cost_page_dirty = 387
Set vacuum_cost_page_hit = 5863
Set vacuum_cost_page_miss = 2159
Set wal_buffers = 60847
Set wal_writer_delay = 1561
Set work_mem = 363564379
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763735757.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-37-01.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-37-01.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-37-01.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-37-01.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-37-01.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-37-01.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-37-01.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-37-01.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-37-01.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-37-01.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-37-01.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-37-01.results.AddWatchList.csv
Parsed throughput from summary.json: 3348.9957801570376
BenchBase wikipedia throughput: 3348.9957801570376
Configuration: {'autovacuum_analyze_scale_factor': 52.75337500497699, 'autovacuum_analyze_threshold': 1667166479, 'autovacuum_max_workers': 62, 'autovacuum_naptime': 855221, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 2007, 'autovacuum_vacuum_scale_factor': 74.457055516541, 'autovacuum_vacuum_threshold': 489203836, 'backend_flush_after': 164, 'bgwriter_delay': 4485, 'bgwriter_flush_after': 72, 'bgwriter_lru_maxpages': 39, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.2866819314658642, 'checkpoint_flush_after': 187, 'checkpoint_timeout': 3523, 'commit_delay': 16120, 'commit_siblings': 560, 'cursor_tuple_fraction': 0.7890544533729553, 'deadlock_timeout': 1090674686, 'default_statistics_target': 58, 'effective_cache_size': 1862799042, 'effective_io_concurrency': 408, 'from_collapse_limit': 1304987378, 'geqo_effort': 6, 'geqo_generations': 528359738, 'geqo_pool_size': 164949028, 'geqo_seed': 0.1004312876611948, 'geqo_threshold': 1765635688, 'join_collapse_limit': 234373832, 'maintenance_work_mem': 424825123, 'max_connections': 2364, 'max_wal_senders': 32, 'shared_buffers': 2611726, 'temp_buffers': 773218065, 'temp_file_limit': 250856785, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 1576, 'vacuum_cost_page_dirty': 387, 'vacuum_cost_page_hit': 5863, 'vacuum_cost_page_miss': 2159, 'wal_buffers': 60847, 'wal_writer_delay': 1561, 'work_mem': 363564379}, QPS: -3348.9957801570376
Performance (QPS): -3348.9957801570376
Evaluating configuration: {'autovacuum_analyze_scale_factor': 2.858112845569849, 'autovacuum_analyze_threshold': 841911006, 'autovacuum_max_workers': 101, 'autovacuum_naptime': 1783905, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 9712, 'autovacuum_vacuum_scale_factor': 7.545425556600094, 'autovacuum_vacuum_threshold': 1168427985, 'backend_flush_after': 87, 'bgwriter_delay': 7887, 'bgwriter_flush_after': 188, 'bgwriter_lru_maxpages': 683, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8791203442960978, 'checkpoint_flush_after': 47, 'checkpoint_timeout': 301, 'commit_delay': 62957, 'commit_siblings': 35, 'cursor_tuple_fraction': 0.4069315083324909, 'deadlock_timeout': 966939940, 'default_statistics_target': 9790, 'effective_cache_size': 413023492, 'effective_io_concurrency': 752, 'from_collapse_limit': 742359300, 'geqo_effort': 5, 'geqo_generations': 1793392461, 'geqo_pool_size': 1446827401, 'geqo_seed': 0.8788679363206029, 'geqo_threshold': 929049313, 'join_collapse_limit': 1906210096, 'maintenance_work_mem': 1237569809, 'max_connections': 1100, 'max_wal_senders': 18, 'shared_buffers': 1416118, 'temp_buffers': 276217388, 'temp_file_limit': 1543114999, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 9093, 'vacuum_cost_page_dirty': 7622, 'vacuum_cost_page_hit': 374, 'vacuum_cost_page_miss': 9869, 'wal_buffers': 71970, 'wal_writer_delay': 7661, 'work_mem': 1857541382}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 2.858112845569849
Set autovacuum_analyze_threshold = 841911006
Set autovacuum_max_workers = 101
Set autovacuum_naptime = 1783905
Set autovacuum_vacuum_cost_delay = 34
Set autovacuum_vacuum_cost_limit = 9712
Set autovacuum_vacuum_scale_factor = 7.545425556600094
Set autovacuum_vacuum_threshold = 1168427985
Set backend_flush_after = 87
Set bgwriter_delay = 7887
Set bgwriter_flush_after = 188
Set bgwriter_lru_maxpages = 683
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.8791203442960978
Set checkpoint_flush_after = 47
Set checkpoint_timeout = 301
Set commit_delay = 62957
Set commit_siblings = 35
Set cursor_tuple_fraction = 0.4069315083324909
Set deadlock_timeout = 966939940
Set default_statistics_target = 9790
Set effective_cache_size = 413023492
Set effective_io_concurrency = 752
Set from_collapse_limit = 742359300
Set geqo_effort = 5
Set geqo_generations = 1793392461
Set geqo_pool_size = 1446827401
Set geqo_seed = 0.8788679363206029
Set geqo_threshold = 929049313
Set join_collapse_limit = 1906210096
Set maintenance_work_mem = 1237569809
Set max_connections = 1100
Set max_wal_senders = 18
Set shared_buffers = 1416118
Set temp_buffers = 276217388
Set temp_file_limit = 1543114999
Set vacuum_cost_delay = 83
Set vacuum_cost_limit = 9093
Set vacuum_cost_page_dirty = 7622
Set vacuum_cost_page_hit = 374
Set vacuum_cost_page_miss = 9869
Set wal_buffers = 71970
Set wal_writer_delay = 7661
Set work_mem = 1857541382
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-38-35.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-38-35.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-38-35.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-38-35.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-38-35.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-38-35.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-38-35.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-38-35.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-38-35.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-38-35.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763735851.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-38-35.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-38-35.results.csv
Parsed throughput from summary.json: 3461.394624873365
BenchBase wikipedia throughput: 3461.394624873365
Configuration: {'autovacuum_analyze_scale_factor': 2.858112845569849, 'autovacuum_analyze_threshold': 841911006, 'autovacuum_max_workers': 101, 'autovacuum_naptime': 1783905, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 9712, 'autovacuum_vacuum_scale_factor': 7.545425556600094, 'autovacuum_vacuum_threshold': 1168427985, 'backend_flush_after': 87, 'bgwriter_delay': 7887, 'bgwriter_flush_after': 188, 'bgwriter_lru_maxpages': 683, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8791203442960978, 'checkpoint_flush_after': 47, 'checkpoint_timeout': 301, 'commit_delay': 62957, 'commit_siblings': 35, 'cursor_tuple_fraction': 0.4069315083324909, 'deadlock_timeout': 966939940, 'default_statistics_target': 9790, 'effective_cache_size': 413023492, 'effective_io_concurrency': 752, 'from_collapse_limit': 742359300, 'geqo_effort': 5, 'geqo_generations': 1793392461, 'geqo_pool_size': 1446827401, 'geqo_seed': 0.8788679363206029, 'geqo_threshold': 929049313, 'join_collapse_limit': 1906210096, 'maintenance_work_mem': 1237569809, 'max_connections': 1100, 'max_wal_senders': 18, 'shared_buffers': 1416118, 'temp_buffers': 276217388, 'temp_file_limit': 1543114999, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 9093, 'vacuum_cost_page_dirty': 7622, 'vacuum_cost_page_hit': 374, 'vacuum_cost_page_miss': 9869, 'wal_buffers': 71970, 'wal_writer_delay': 7661, 'work_mem': 1857541382}, QPS: -3461.394624873365
Performance (QPS): -3461.394624873365
Evaluating configuration: {'autovacuum_analyze_scale_factor': 4.810939077287912, 'autovacuum_analyze_threshold': 1733022457, 'autovacuum_max_workers': 7, 'autovacuum_naptime': 170989, 'autovacuum_vacuum_cost_delay': 64, 'autovacuum_vacuum_cost_limit': 4519, 'autovacuum_vacuum_scale_factor': 45.70860341191292, 'autovacuum_vacuum_threshold': 446696662, 'backend_flush_after': 119, 'bgwriter_delay': 3829, 'bgwriter_flush_after': 177, 'bgwriter_lru_maxpages': 864, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.8707450851798058, 'checkpoint_flush_after': 157, 'checkpoint_timeout': 2396, 'commit_delay': 58635, 'commit_siblings': 399, 'cursor_tuple_fraction': 0.8470497215166688, 'deadlock_timeout': 1451326618, 'default_statistics_target': 7189, 'effective_cache_size': 142041376, 'effective_io_concurrency': 791, 'from_collapse_limit': 96187758, 'geqo_effort': 8, 'geqo_generations': 332639024, 'geqo_pool_size': 1608470867, 'geqo_seed': 0.9223102023825049, 'geqo_threshold': 422742857, 'join_collapse_limit': 988249558, 'maintenance_work_mem': 207085937, 'max_connections': 293, 'max_wal_senders': 23, 'shared_buffers': 2707568, 'temp_buffers': 309878623, 'temp_file_limit': 2087156255, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 3336, 'vacuum_cost_page_dirty': 4876, 'vacuum_cost_page_hit': 3298, 'vacuum_cost_page_miss': 2587, 'wal_buffers': 48795, 'wal_writer_delay': 4458, 'work_mem': 511946888}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 4.810939077287912
Set autovacuum_analyze_threshold = 1733022457
Set autovacuum_max_workers = 7
Set autovacuum_naptime = 170989
Set autovacuum_vacuum_cost_delay = 64
Set autovacuum_vacuum_cost_limit = 4519
Set autovacuum_vacuum_scale_factor = 45.70860341191292
Set autovacuum_vacuum_threshold = 446696662
Set backend_flush_after = 119
Set bgwriter_delay = 3829
Set bgwriter_flush_after = 177
Set bgwriter_lru_maxpages = 864
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.8707450851798058
Set checkpoint_flush_after = 157
Set checkpoint_timeout = 2396
Set commit_delay = 58635
Set commit_siblings = 399
Set cursor_tuple_fraction = 0.8470497215166688
Set deadlock_timeout = 1451326618
Set default_statistics_target = 7189
Set effective_cache_size = 142041376
Set effective_io_concurrency = 791
Set from_collapse_limit = 96187758
Set geqo_effort = 8
Set geqo_generations = 332639024
Set geqo_pool_size = 1608470867
Set geqo_seed = 0.9223102023825049
Set geqo_threshold = 422742857
Set join_collapse_limit = 988249558
Set maintenance_work_mem = 207085937
Set max_connections = 293
Set max_wal_senders = 23
Set shared_buffers = 2707568
Set temp_buffers = 309878623
Set temp_file_limit = 2087156255
Set vacuum_cost_delay = 77
Set vacuum_cost_limit = 3336
Set vacuum_cost_page_dirty = 4876
Set vacuum_cost_page_hit = 3298
Set vacuum_cost_page_miss = 2587
Set wal_buffers = 48795
Set wal_writer_delay = 4458
Set work_mem = 511946888
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-40-09.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-40-09.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-40-09.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-40-09.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-40-09.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-40-09.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-40-09.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763735945.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-40-09.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-40-09.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-40-09.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-40-09.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-40-09.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 3460.917623518324
BenchBase wikipedia throughput: 3460.917623518324
Configuration: {'autovacuum_analyze_scale_factor': 4.810939077287912, 'autovacuum_analyze_threshold': 1733022457, 'autovacuum_max_workers': 7, 'autovacuum_naptime': 170989, 'autovacuum_vacuum_cost_delay': 64, 'autovacuum_vacuum_cost_limit': 4519, 'autovacuum_vacuum_scale_factor': 45.70860341191292, 'autovacuum_vacuum_threshold': 446696662, 'backend_flush_after': 119, 'bgwriter_delay': 3829, 'bgwriter_flush_after': 177, 'bgwriter_lru_maxpages': 864, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.8707450851798058, 'checkpoint_flush_after': 157, 'checkpoint_timeout': 2396, 'commit_delay': 58635, 'commit_siblings': 399, 'cursor_tuple_fraction': 0.8470497215166688, 'deadlock_timeout': 1451326618, 'default_statistics_target': 7189, 'effective_cache_size': 142041376, 'effective_io_concurrency': 791, 'from_collapse_limit': 96187758, 'geqo_effort': 8, 'geqo_generations': 332639024, 'geqo_pool_size': 1608470867, 'geqo_seed': 0.9223102023825049, 'geqo_threshold': 422742857, 'join_collapse_limit': 988249558, 'maintenance_work_mem': 207085937, 'max_connections': 293, 'max_wal_senders': 23, 'shared_buffers': 2707568, 'temp_buffers': 309878623, 'temp_file_limit': 2087156255, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 3336, 'vacuum_cost_page_dirty': 4876, 'vacuum_cost_page_hit': 3298, 'vacuum_cost_page_miss': 2587, 'wal_buffers': 48795, 'wal_writer_delay': 4458, 'work_mem': 511946888}, QPS: -3460.917623518324
Performance (QPS): -3460.917623518324
Evaluating configuration: {'autovacuum_analyze_scale_factor': 54.70811007544398, 'autovacuum_analyze_threshold': 909879604, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1385992, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 7199, 'autovacuum_vacuum_scale_factor': 84.69125293195248, 'autovacuum_vacuum_threshold': 1110208375, 'backend_flush_after': 130, 'bgwriter_delay': 8540, 'bgwriter_flush_after': 66, 'bgwriter_lru_maxpages': 469, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.4629648458212614, 'checkpoint_flush_after': 9, 'checkpoint_timeout': 932, 'commit_delay': 11895, 'commit_siblings': 876, 'cursor_tuple_fraction': 0.4728327365592122, 'deadlock_timeout': 773944896, 'default_statistics_target': 2653, 'effective_cache_size': 2145473254, 'effective_io_concurrency': 385, 'from_collapse_limit': 1682748056, 'geqo_effort': 3, 'geqo_generations': 1716090179, 'geqo_pool_size': 3631354, 'geqo_seed': 0.08331520110368729, 'geqo_threshold': 1198512064, 'join_collapse_limit': 1182878254, 'maintenance_work_mem': 1556504691, 'max_connections': 1606, 'max_wal_senders': 27, 'shared_buffers': 1774032, 'temp_buffers': 739818539, 'temp_file_limit': 695119753, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 5858, 'vacuum_cost_page_dirty': 7115, 'vacuum_cost_page_hit': 7965, 'vacuum_cost_page_miss': 5384, 'wal_buffers': 84502, 'wal_writer_delay': 5701, 'work_mem': 1704978829}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 54.70811007544398
Set autovacuum_analyze_threshold = 909879604
Set autovacuum_max_workers = 156
Set autovacuum_naptime = 1385992
Set autovacuum_vacuum_cost_delay = -1
Set autovacuum_vacuum_cost_limit = 7199
Set autovacuum_vacuum_scale_factor = 84.69125293195248
Set autovacuum_vacuum_threshold = 1110208375
Set backend_flush_after = 130
Set bgwriter_delay = 8540
Set bgwriter_flush_after = 66
Set bgwriter_lru_maxpages = 469
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.4629648458212614
Set checkpoint_flush_after = 9
Set checkpoint_timeout = 932
Set commit_delay = 11895
Set commit_siblings = 876
Set cursor_tuple_fraction = 0.4728327365592122
Set deadlock_timeout = 773944896
Set default_statistics_target = 2653
Set effective_cache_size = 2145473254
Set effective_io_concurrency = 385
Set from_collapse_limit = 1682748056
Set geqo_effort = 3
Set geqo_generations = 1716090179
Set geqo_pool_size = 3631354
Set geqo_seed = 0.08331520110368729
Set geqo_threshold = 1198512064
Set join_collapse_limit = 1182878254
Set maintenance_work_mem = 1556504691
Set max_connections = 1606
Set max_wal_senders = 27
Set shared_buffers = 1774032
Set temp_buffers = 739818539
Set temp_file_limit = 695119753
Set vacuum_cost_delay = 26
Set vacuum_cost_limit = 5858
Set vacuum_cost_page_dirty = 7115
Set vacuum_cost_page_hit = 7965
Set vacuum_cost_page_miss = 5384
Set wal_buffers = 84502
Set wal_writer_delay = 5701
Set work_mem = 1704978829
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-41-43.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-41-43.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-41-43.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763736039.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-41-43.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-41-43.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-41-43.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-41-43.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-41-43.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-41-43.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-41-43.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-41-43.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-41-43.results.csv
Parsed throughput from summary.json: 3350.8310617313705
BenchBase wikipedia throughput: 3350.8310617313705
Configuration: {'autovacuum_analyze_scale_factor': 54.70811007544398, 'autovacuum_analyze_threshold': 909879604, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1385992, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 7199, 'autovacuum_vacuum_scale_factor': 84.69125293195248, 'autovacuum_vacuum_threshold': 1110208375, 'backend_flush_after': 130, 'bgwriter_delay': 8540, 'bgwriter_flush_after': 66, 'bgwriter_lru_maxpages': 469, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.4629648458212614, 'checkpoint_flush_after': 9, 'checkpoint_timeout': 932, 'commit_delay': 11895, 'commit_siblings': 876, 'cursor_tuple_fraction': 0.4728327365592122, 'deadlock_timeout': 773944896, 'default_statistics_target': 2653, 'effective_cache_size': 2145473254, 'effective_io_concurrency': 385, 'from_collapse_limit': 1682748056, 'geqo_effort': 3, 'geqo_generations': 1716090179, 'geqo_pool_size': 3631354, 'geqo_seed': 0.08331520110368729, 'geqo_threshold': 1198512064, 'join_collapse_limit': 1182878254, 'maintenance_work_mem': 1556504691, 'max_connections': 1606, 'max_wal_senders': 27, 'shared_buffers': 1774032, 'temp_buffers': 739818539, 'temp_file_limit': 695119753, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 5858, 'vacuum_cost_page_dirty': 7115, 'vacuum_cost_page_hit': 7965, 'vacuum_cost_page_miss': 5384, 'wal_buffers': 84502, 'wal_writer_delay': 5701, 'work_mem': 1704978829}, QPS: -3350.8310617313705
Performance (QPS): -3350.8310617313705
Evaluating configuration: {'autovacuum_analyze_scale_factor': 84.71429403871298, 'autovacuum_analyze_threshold': 1548164745, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 549374, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 9591, 'autovacuum_vacuum_scale_factor': 4.815126582980156, 'autovacuum_vacuum_threshold': 2017993425, 'backend_flush_after': 216, 'bgwriter_delay': 6097, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 87, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.6077100019901991, 'checkpoint_flush_after': 124, 'checkpoint_timeout': 3181, 'commit_delay': 32800, 'commit_siblings': 149, 'cursor_tuple_fraction': 0.178312785923481, 'deadlock_timeout': 1770957736, 'default_statistics_target': 8068, 'effective_cache_size': 1253660304, 'effective_io_concurrency': 518, 'from_collapse_limit': 724343446, 'geqo_effort': 6, 'geqo_generations': 1325416105, 'geqo_pool_size': 2121410511, 'geqo_seed': 0.47888448368757963, 'geqo_threshold': 790076639, 'join_collapse_limit': 1995854254, 'maintenance_work_mem': 541898725, 'max_connections': 1232, 'max_wal_senders': 7, 'shared_buffers': 738943, 'temp_buffers': 874680257, 'temp_file_limit': 361476651, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 1055, 'vacuum_cost_page_dirty': 1935, 'vacuum_cost_page_hit': 667, 'vacuum_cost_page_miss': 1714, 'wal_buffers': 124317, 'wal_writer_delay': 1571, 'work_mem': 908453946}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 84.71429403871298
Set autovacuum_analyze_threshold = 1548164745
Set autovacuum_max_workers = 76
Set autovacuum_naptime = 549374
Set autovacuum_vacuum_cost_delay = 49
Set autovacuum_vacuum_cost_limit = 9591
Set autovacuum_vacuum_scale_factor = 4.815126582980156
Set autovacuum_vacuum_threshold = 2017993425
Set backend_flush_after = 216
Set bgwriter_delay = 6097
Set bgwriter_flush_after = 40
Set bgwriter_lru_maxpages = 87
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.6077100019901991
Set checkpoint_flush_after = 124
Set checkpoint_timeout = 3181
Set commit_delay = 32800
Set commit_siblings = 149
Set cursor_tuple_fraction = 0.178312785923481
Set deadlock_timeout = 1770957736
Set default_statistics_target = 8068
Set effective_cache_size = 1253660304
Set effective_io_concurrency = 518
Set from_collapse_limit = 724343446
Set geqo_effort = 6
Set geqo_generations = 1325416105
Set geqo_pool_size = 2121410511
Set geqo_seed = 0.47888448368757963
Set geqo_threshold = 790076639
Set join_collapse_limit = 1995854254
Set maintenance_work_mem = 541898725
Set max_connections = 1232
Set max_wal_senders = 7
Set shared_buffers = 738943
Set temp_buffers = 874680257
Set temp_file_limit = 361476651
Set vacuum_cost_delay = 59
Set vacuum_cost_limit = 1055
Set vacuum_cost_page_dirty = 1935
Set vacuum_cost_page_hit = 667
Set vacuum_cost_page_miss = 1714
Set wal_buffers = 124317
Set wal_writer_delay = 1571
Set work_mem = 908453946
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-43-18.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-43-18.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-43-18.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-43-18.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-43-18.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-43-18.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763736134.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-43-18.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-43-18.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-43-18.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-43-18.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-43-18.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-43-18.results.RemoveWatchList.csv
Parsed throughput from summary.json: 3343.2471192806192
BenchBase wikipedia throughput: 3343.2471192806192
Configuration: {'autovacuum_analyze_scale_factor': 84.71429403871298, 'autovacuum_analyze_threshold': 1548164745, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 549374, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 9591, 'autovacuum_vacuum_scale_factor': 4.815126582980156, 'autovacuum_vacuum_threshold': 2017993425, 'backend_flush_after': 216, 'bgwriter_delay': 6097, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 87, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.6077100019901991, 'checkpoint_flush_after': 124, 'checkpoint_timeout': 3181, 'commit_delay': 32800, 'commit_siblings': 149, 'cursor_tuple_fraction': 0.178312785923481, 'deadlock_timeout': 1770957736, 'default_statistics_target': 8068, 'effective_cache_size': 1253660304, 'effective_io_concurrency': 518, 'from_collapse_limit': 724343446, 'geqo_effort': 6, 'geqo_generations': 1325416105, 'geqo_pool_size': 2121410511, 'geqo_seed': 0.47888448368757963, 'geqo_threshold': 790076639, 'join_collapse_limit': 1995854254, 'maintenance_work_mem': 541898725, 'max_connections': 1232, 'max_wal_senders': 7, 'shared_buffers': 738943, 'temp_buffers': 874680257, 'temp_file_limit': 361476651, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 1055, 'vacuum_cost_page_dirty': 1935, 'vacuum_cost_page_hit': 667, 'vacuum_cost_page_miss': 1714, 'wal_buffers': 124317, 'wal_writer_delay': 1571, 'work_mem': 908453946}, QPS: -3343.2471192806192
Performance (QPS): -3343.2471192806192
Evaluating configuration: {'autovacuum_analyze_scale_factor': 34.5752265304327, 'autovacuum_analyze_threshold': 221734212, 'autovacuum_max_workers': 137, 'autovacuum_naptime': 2014535, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 2440, 'autovacuum_vacuum_scale_factor': 63.13391551375389, 'autovacuum_vacuum_threshold': 549732732, 'backend_flush_after': 35, 'bgwriter_delay': 1280, 'bgwriter_flush_after': 213, 'bgwriter_lru_maxpages': 698, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.20311132818460464, 'checkpoint_flush_after': 233, 'checkpoint_timeout': 154, 'commit_delay': 85778, 'commit_siblings': 626, 'cursor_tuple_fraction': 0.5486789308488369, 'deadlock_timeout': 288268658, 'default_statistics_target': 2087, 'effective_cache_size': 1026516310, 'effective_io_concurrency': 173, 'from_collapse_limit': 1255906656, 'geqo_effort': 4, 'geqo_generations': 983228638, 'geqo_pool_size': 563748478, 'geqo_seed': 0.5149009339511395, 'geqo_threshold': 1900724310, 'join_collapse_limit': 177235542, 'maintenance_work_mem': 1893545695, 'max_connections': 2879, 'max_wal_senders': 44, 'shared_buffers': 3737568, 'temp_buffers': 172125454, 'temp_file_limit': 1082288005, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 8532, 'vacuum_cost_page_dirty': 9824, 'vacuum_cost_page_hit': 5570, 'vacuum_cost_page_miss': 8752, 'wal_buffers': 4368, 'wal_writer_delay': 7964, 'work_mem': 1295626727}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 34.5752265304327
Set autovacuum_analyze_threshold = 221734212
Set autovacuum_max_workers = 137
Set autovacuum_naptime = 2014535
Set autovacuum_vacuum_cost_delay = 86
Set autovacuum_vacuum_cost_limit = 2440
Set autovacuum_vacuum_scale_factor = 63.13391551375389
Set autovacuum_vacuum_threshold = 549732732
Set backend_flush_after = 35
Set bgwriter_delay = 1280
Set bgwriter_flush_after = 213
Set bgwriter_lru_maxpages = 698
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.20311132818460464
Set checkpoint_flush_after = 233
Set checkpoint_timeout = 154
Set commit_delay = 85778
Set commit_siblings = 626
Set cursor_tuple_fraction = 0.5486789308488369
Set deadlock_timeout = 288268658
Set default_statistics_target = 2087
Set effective_cache_size = 1026516310
Set effective_io_concurrency = 173
Set from_collapse_limit = 1255906656
Set geqo_effort = 4
Set geqo_generations = 983228638
Set geqo_pool_size = 563748478
Set geqo_seed = 0.5149009339511395
Set geqo_threshold = 1900724310
Set join_collapse_limit = 177235542
Set maintenance_work_mem = 1893545695
Set max_connections = 2879
Set max_wal_senders = 44
Set shared_buffers = 3737568
Set temp_buffers = 172125454
Set temp_file_limit = 1082288005
Set vacuum_cost_delay = 7
Set vacuum_cost_limit = 8532
Set vacuum_cost_page_dirty = 9824
Set vacuum_cost_page_hit = 5570
Set vacuum_cost_page_miss = 8752
Set wal_buffers = 4368
Set wal_writer_delay = 7964
Set work_mem = 1295626727
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-44-51.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763736228.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-44-51.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-44-51.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-44-51.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-44-51.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-44-51.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-44-51.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-44-51.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-44-51.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-44-51.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-44-51.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-44-51.metrics.json
Parsed throughput from summary.json: 3396.448021692901
BenchBase wikipedia throughput: 3396.448021692901
Configuration: {'autovacuum_analyze_scale_factor': 34.5752265304327, 'autovacuum_analyze_threshold': 221734212, 'autovacuum_max_workers': 137, 'autovacuum_naptime': 2014535, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 2440, 'autovacuum_vacuum_scale_factor': 63.13391551375389, 'autovacuum_vacuum_threshold': 549732732, 'backend_flush_after': 35, 'bgwriter_delay': 1280, 'bgwriter_flush_after': 213, 'bgwriter_lru_maxpages': 698, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.20311132818460464, 'checkpoint_flush_after': 233, 'checkpoint_timeout': 154, 'commit_delay': 85778, 'commit_siblings': 626, 'cursor_tuple_fraction': 0.5486789308488369, 'deadlock_timeout': 288268658, 'default_statistics_target': 2087, 'effective_cache_size': 1026516310, 'effective_io_concurrency': 173, 'from_collapse_limit': 1255906656, 'geqo_effort': 4, 'geqo_generations': 983228638, 'geqo_pool_size': 563748478, 'geqo_seed': 0.5149009339511395, 'geqo_threshold': 1900724310, 'join_collapse_limit': 177235542, 'maintenance_work_mem': 1893545695, 'max_connections': 2879, 'max_wal_senders': 44, 'shared_buffers': 3737568, 'temp_buffers': 172125454, 'temp_file_limit': 1082288005, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 8532, 'vacuum_cost_page_dirty': 9824, 'vacuum_cost_page_hit': 5570, 'vacuum_cost_page_miss': 8752, 'wal_buffers': 4368, 'wal_writer_delay': 7964, 'work_mem': 1295626727}, QPS: -3396.448021692901
Performance (QPS): -3396.448021692901
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 390597560
Set effective_io_concurrency = 661
Set from_collapse_limit = 1540209128
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7525
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-46-24.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-46-24.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-46-24.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-46-24.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-46-24.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-46-24.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-46-24.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-46-24.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-46-24.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-46-24.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763736322.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-46-24.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-46-24.results.AddWatchList.csv
Parsed throughput from summary.json: 3494.683318942319
BenchBase wikipedia throughput: 3494.683318942319
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -3494.683318942319
Performance (QPS): -3494.683318942319
Evaluating configuration: {'autovacuum_analyze_scale_factor': 88.27907536178827, 'autovacuum_analyze_threshold': 453239044, 'autovacuum_max_workers': 37, 'autovacuum_naptime': 989066, 'autovacuum_vacuum_cost_delay': 26, 'autovacuum_vacuum_cost_limit': 6159, 'autovacuum_vacuum_scale_factor': 61.57751129940152, 'autovacuum_vacuum_threshold': 1014836070, 'backend_flush_after': 11, 'bgwriter_delay': 2818, 'bgwriter_flush_after': 228, 'bgwriter_lru_maxpages': 238, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.9778543328866363, 'checkpoint_flush_after': 84, 'checkpoint_timeout': 2747, 'commit_delay': 47402, 'commit_siblings': 12, 'cursor_tuple_fraction': 0.6822191923856735, 'deadlock_timeout': 882694628, 'default_statistics_target': 4955, 'effective_cache_size': 1625176190, 'effective_io_concurrency': 7, 'from_collapse_limit': 976928286, 'geqo_effort': 7, 'geqo_generations': 613192932, 'geqo_pool_size': 809467708, 'geqo_seed': 0.8060534400865436, 'geqo_threshold': 1525110806, 'join_collapse_limit': 1560638050, 'maintenance_work_mem': 1816522981, 'max_connections': 2122, 'max_wal_senders': 0, 'shared_buffers': 3306648, 'temp_buffers': 443279943, 'temp_file_limit': 1662544963, 'vacuum_cost_delay': 92, 'vacuum_cost_limit': 2333, 'vacuum_cost_page_dirty': 8419, 'vacuum_cost_page_hit': 1581, 'vacuum_cost_page_miss': 441, 'wal_buffers': 64631, 'wal_writer_delay': 6526, 'work_mem': 567208785}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 88.27907536178827
Set autovacuum_analyze_threshold = 453239044
Set autovacuum_max_workers = 37
Set autovacuum_naptime = 989066
Set autovacuum_vacuum_cost_delay = 26
Set autovacuum_vacuum_cost_limit = 6159
Set autovacuum_vacuum_scale_factor = 61.57751129940152
Set autovacuum_vacuum_threshold = 1014836070
Set backend_flush_after = 11
Set bgwriter_delay = 2818
Set bgwriter_flush_after = 228
Set bgwriter_lru_maxpages = 238
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.9778543328866363
Set checkpoint_flush_after = 84
Set checkpoint_timeout = 2747
Set commit_delay = 47402
Set commit_siblings = 12
Set cursor_tuple_fraction = 0.6822191923856735
Set deadlock_timeout = 882694628
Set default_statistics_target = 4955
Set effective_cache_size = 1625176190
Set effective_io_concurrency = 7
Set from_collapse_limit = 976928286
Set geqo_effort = 7
Set geqo_generations = 613192932
Set geqo_pool_size = 809467708
Set geqo_seed = 0.8060534400865436
Set geqo_threshold = 1525110806
Set join_collapse_limit = 1560638050
Set maintenance_work_mem = 1816522981
Set max_connections = 2122
Set max_wal_senders = 0
Set shared_buffers = 3306648
Set temp_buffers = 443279943
Set temp_file_limit = 1662544963
Set vacuum_cost_delay = 92
Set vacuum_cost_limit = 2333
Set vacuum_cost_page_dirty = 8419
Set vacuum_cost_page_hit = 1581
Set vacuum_cost_page_miss = 441
Set wal_buffers = 64631
Set wal_writer_delay = 6526
Set work_mem = 567208785
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-47-57.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-47-57.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-47-57.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763736414.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-47-57.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-47-57.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-47-57.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-47-57.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-47-57.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-47-57.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-47-57.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-47-57.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-47-57.samples.csv
Parsed throughput from summary.json: 3031.1349530280136
BenchBase wikipedia throughput: 3031.1349530280136
Configuration: {'autovacuum_analyze_scale_factor': 88.27907536178827, 'autovacuum_analyze_threshold': 453239044, 'autovacuum_max_workers': 37, 'autovacuum_naptime': 989066, 'autovacuum_vacuum_cost_delay': 26, 'autovacuum_vacuum_cost_limit': 6159, 'autovacuum_vacuum_scale_factor': 61.57751129940152, 'autovacuum_vacuum_threshold': 1014836070, 'backend_flush_after': 11, 'bgwriter_delay': 2818, 'bgwriter_flush_after': 228, 'bgwriter_lru_maxpages': 238, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.9778543328866363, 'checkpoint_flush_after': 84, 'checkpoint_timeout': 2747, 'commit_delay': 47402, 'commit_siblings': 12, 'cursor_tuple_fraction': 0.6822191923856735, 'deadlock_timeout': 882694628, 'default_statistics_target': 4955, 'effective_cache_size': 1625176190, 'effective_io_concurrency': 7, 'from_collapse_limit': 976928286, 'geqo_effort': 7, 'geqo_generations': 613192932, 'geqo_pool_size': 809467708, 'geqo_seed': 0.8060534400865436, 'geqo_threshold': 1525110806, 'join_collapse_limit': 1560638050, 'maintenance_work_mem': 1816522981, 'max_connections': 2122, 'max_wal_senders': 0, 'shared_buffers': 3306648, 'temp_buffers': 443279943, 'temp_file_limit': 1662544963, 'vacuum_cost_delay': 92, 'vacuum_cost_limit': 2333, 'vacuum_cost_page_dirty': 8419, 'vacuum_cost_page_hit': 1581, 'vacuum_cost_page_miss': 441, 'wal_buffers': 64631, 'wal_writer_delay': 6526, 'work_mem': 567208785}, QPS: -3031.1349530280136
Performance (QPS): -3031.1349530280136
Evaluating configuration: {'autovacuum_analyze_scale_factor': 70.77226033434272, 'autovacuum_analyze_threshold': 1904170681, 'autovacuum_max_workers': 108, 'autovacuum_naptime': 1221705, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 8141, 'autovacuum_vacuum_scale_factor': 28.612651396542788, 'autovacuum_vacuum_threshold': 102328012, 'backend_flush_after': 94, 'bgwriter_delay': 267, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 322, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.09085974749177694, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 1419, 'commit_delay': 20638, 'commit_siblings': 770, 'cursor_tuple_fraction': 0.9767390536144376, 'deadlock_timeout': 1932723212, 'default_statistics_target': 9521, 'effective_cache_size': 1434860552, 'effective_io_concurrency': 906, 'from_collapse_limit': 1968870928, 'geqo_effort': 1, 'geqo_generations': 231071498, 'geqo_pool_size': 1316630549, 'geqo_seed': 0.63118826597929, 'geqo_threshold': 849285897, 'join_collapse_limit': 1836214754, 'maintenance_work_mem': 282009459, 'max_connections': 1014, 'max_wal_senders': 34, 'shared_buffers': 2237227, 'temp_buffers': 38918670, 'temp_file_limit': 1610445281, 'vacuum_cost_delay': 24, 'vacuum_cost_limit': 7060, 'vacuum_cost_page_dirty': 3132, 'vacuum_cost_page_hit': 9474, 'vacuum_cost_page_miss': 6620, 'wal_buffers': 21500, 'wal_writer_delay': 1203, 'work_mem': 1920264890}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 70.77226033434272
Set autovacuum_analyze_threshold = 1904170681
Set autovacuum_max_workers = 108
Set autovacuum_naptime = 1221705
Set autovacuum_vacuum_cost_delay = 22
Set autovacuum_vacuum_cost_limit = 8141
Set autovacuum_vacuum_scale_factor = 28.612651396542788
Set autovacuum_vacuum_threshold = 102328012
Set backend_flush_after = 94
Set bgwriter_delay = 267
Set bgwriter_flush_after = 134
Set bgwriter_lru_maxpages = 322
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.09085974749177694
Set checkpoint_flush_after = 33
Set checkpoint_timeout = 1419
Set commit_delay = 20638
Set commit_siblings = 770
Set cursor_tuple_fraction = 0.9767390536144376
Set deadlock_timeout = 1932723212
Set default_statistics_target = 9521
Set effective_cache_size = 1434860552
Set effective_io_concurrency = 906
Set from_collapse_limit = 1968870928
Set geqo_effort = 1
Set geqo_generations = 231071498
Set geqo_pool_size = 1316630549
Set geqo_seed = 0.63118826597929
Set geqo_threshold = 849285897
Set join_collapse_limit = 1836214754
Set maintenance_work_mem = 282009459
Set max_connections = 1014
Set max_wal_senders = 34
Set shared_buffers = 2237227
Set temp_buffers = 38918670
Set temp_file_limit = 1610445281
Set vacuum_cost_delay = 24
Set vacuum_cost_limit = 7060
Set vacuum_cost_page_dirty = 3132
Set vacuum_cost_page_hit = 9474
Set vacuum_cost_page_miss = 6620
Set wal_buffers = 21500
Set wal_writer_delay = 1203
Set work_mem = 1920264890
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-49-31.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-49-31.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763736507.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-49-31.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-49-31.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-49-31.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-49-31.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-49-31.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-49-31.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-49-31.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-49-31.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-49-31.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-49-31.results.AddWatchList.csv
Parsed throughput from summary.json: 3484.6134048956956
BenchBase wikipedia throughput: 3484.6134048956956
Configuration: {'autovacuum_analyze_scale_factor': 70.77226033434272, 'autovacuum_analyze_threshold': 1904170681, 'autovacuum_max_workers': 108, 'autovacuum_naptime': 1221705, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 8141, 'autovacuum_vacuum_scale_factor': 28.612651396542788, 'autovacuum_vacuum_threshold': 102328012, 'backend_flush_after': 94, 'bgwriter_delay': 267, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 322, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.09085974749177694, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 1419, 'commit_delay': 20638, 'commit_siblings': 770, 'cursor_tuple_fraction': 0.9767390536144376, 'deadlock_timeout': 1932723212, 'default_statistics_target': 9521, 'effective_cache_size': 1434860552, 'effective_io_concurrency': 906, 'from_collapse_limit': 1968870928, 'geqo_effort': 1, 'geqo_generations': 231071498, 'geqo_pool_size': 1316630549, 'geqo_seed': 0.63118826597929, 'geqo_threshold': 849285897, 'join_collapse_limit': 1836214754, 'maintenance_work_mem': 282009459, 'max_connections': 1014, 'max_wal_senders': 34, 'shared_buffers': 2237227, 'temp_buffers': 38918670, 'temp_file_limit': 1610445281, 'vacuum_cost_delay': 24, 'vacuum_cost_limit': 7060, 'vacuum_cost_page_dirty': 3132, 'vacuum_cost_page_hit': 9474, 'vacuum_cost_page_miss': 6620, 'wal_buffers': 21500, 'wal_writer_delay': 1203, 'work_mem': 1920264890}, QPS: -3484.6134048956956
Performance (QPS): -3484.6134048956956
Evaluating configuration: {'autovacuum_analyze_scale_factor': 20.874277222901583, 'autovacuum_analyze_threshold': 537865588, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 276571, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 1078, 'autovacuum_vacuum_scale_factor': 89.433688018471, 'autovacuum_vacuum_threshold': 1586824545, 'backend_flush_after': 171, 'bgwriter_delay': 7422, 'bgwriter_flush_after': 117, 'bgwriter_lru_maxpages': 963, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.746817515231669, 'checkpoint_flush_after': 180, 'checkpoint_timeout': 1963, 'commit_delay': 73722, 'commit_siblings': 263, 'cursor_tuple_fraction': 0.35876862797886133, 'deadlock_timeout': 194186966, 'default_statistics_target': 326, 'effective_cache_size': 571477966, 'effective_io_concurrency': 309, 'from_collapse_limit': 346919398, 'geqo_effort': 10, 'geqo_generations': 2019492221, 'geqo_pool_size': 294783416, 'geqo_seed': 0.3471249183639884, 'geqo_threshold': 1824673664, 'join_collapse_limit': 286547482, 'maintenance_work_mem': 1079942001, 'max_connections': 2266, 'max_wal_senders': 17, 'shared_buffers': 1073819, 'temp_buffers': 1009859263, 'temp_file_limit': 183804999, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 4539, 'vacuum_cost_page_dirty': 6049, 'vacuum_cost_page_hit': 4259, 'vacuum_cost_page_miss': 3850, 'wal_buffers': 108401, 'wal_writer_delay': 9889, 'work_mem': 157856679}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 20.874277222901583
Set autovacuum_analyze_threshold = 537865588
Set autovacuum_max_workers = 56
Set autovacuum_naptime = 276571
Set autovacuum_vacuum_cost_delay = 62
Set autovacuum_vacuum_cost_limit = 1078
Set autovacuum_vacuum_scale_factor = 89.433688018471
Set autovacuum_vacuum_threshold = 1586824545
Set backend_flush_after = 171
Set bgwriter_delay = 7422
Set bgwriter_flush_after = 117
Set bgwriter_lru_maxpages = 963
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.746817515231669
Set checkpoint_flush_after = 180
Set checkpoint_timeout = 1963
Set commit_delay = 73722
Set commit_siblings = 263
Set cursor_tuple_fraction = 0.35876862797886133
Set deadlock_timeout = 194186966
Set default_statistics_target = 326
Set effective_cache_size = 571477966
Set effective_io_concurrency = 309
Set from_collapse_limit = 346919398
Set geqo_effort = 10
Set geqo_generations = 2019492221
Set geqo_pool_size = 294783416
Set geqo_seed = 0.3471249183639884
Set geqo_threshold = 1824673664
Set join_collapse_limit = 286547482
Set maintenance_work_mem = 1079942001
Set max_connections = 2266
Set max_wal_senders = 17
Set shared_buffers = 1073819
Set temp_buffers = 1009859263
Set temp_file_limit = 183804999
Set vacuum_cost_delay = 73
Set vacuum_cost_limit = 4539
Set vacuum_cost_page_dirty = 6049
Set vacuum_cost_page_hit = 4259
Set vacuum_cost_page_miss = 3850
Set wal_buffers = 108401
Set wal_writer_delay = 9889
Set work_mem = 157856679
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763736601.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-51-04.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-51-04.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-51-04.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-51-04.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-51-04.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-51-04.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-51-04.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-51-04.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-51-04.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-51-04.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-51-04.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-51-04.results.UpdatePage.csv
Parsed throughput from summary.json: 3410.277697656837
BenchBase wikipedia throughput: 3410.277697656837
Configuration: {'autovacuum_analyze_scale_factor': 20.874277222901583, 'autovacuum_analyze_threshold': 537865588, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 276571, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 1078, 'autovacuum_vacuum_scale_factor': 89.433688018471, 'autovacuum_vacuum_threshold': 1586824545, 'backend_flush_after': 171, 'bgwriter_delay': 7422, 'bgwriter_flush_after': 117, 'bgwriter_lru_maxpages': 963, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.746817515231669, 'checkpoint_flush_after': 180, 'checkpoint_timeout': 1963, 'commit_delay': 73722, 'commit_siblings': 263, 'cursor_tuple_fraction': 0.35876862797886133, 'deadlock_timeout': 194186966, 'default_statistics_target': 326, 'effective_cache_size': 571477966, 'effective_io_concurrency': 309, 'from_collapse_limit': 346919398, 'geqo_effort': 10, 'geqo_generations': 2019492221, 'geqo_pool_size': 294783416, 'geqo_seed': 0.3471249183639884, 'geqo_threshold': 1824673664, 'join_collapse_limit': 286547482, 'maintenance_work_mem': 1079942001, 'max_connections': 2266, 'max_wal_senders': 17, 'shared_buffers': 1073819, 'temp_buffers': 1009859263, 'temp_file_limit': 183804999, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 4539, 'vacuum_cost_page_dirty': 6049, 'vacuum_cost_page_hit': 4259, 'vacuum_cost_page_miss': 3850, 'wal_buffers': 108401, 'wal_writer_delay': 9889, 'work_mem': 157856679}, QPS: -3410.277697656837
Performance (QPS): -3410.277697656837
Evaluating configuration: {'autovacuum_analyze_scale_factor': 14.541357941925526, 'autovacuum_analyze_threshold': 1398783817, 'autovacuum_max_workers': 116, 'autovacuum_naptime': 927250, 'autovacuum_vacuum_cost_delay': 7, 'autovacuum_vacuum_cost_limit': 1749, 'autovacuum_vacuum_scale_factor': 12.682785466313362, 'autovacuum_vacuum_threshold': 1755855637, 'backend_flush_after': 229, 'bgwriter_delay': 2456, 'bgwriter_flush_after': 96, 'bgwriter_lru_maxpages': 799, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.02632452081888914, 'checkpoint_flush_after': 99, 'checkpoint_timeout': 817, 'commit_delay': 25515, 'commit_siblings': 744, 'cursor_tuple_fraction': 0.0653075072914362, 'deadlock_timeout': 1640755072, 'default_statistics_target': 6143, 'effective_cache_size': 1771098618, 'effective_io_concurrency': 982, 'from_collapse_limit': 1403551182, 'geqo_effort': 8, 'geqo_generations': 456658054, 'geqo_pool_size': 214606922, 'geqo_seed': 0.8228023396804929, 'geqo_threshold': 1374850376, 'join_collapse_limit': 1692635718, 'maintenance_work_mem': 814318961, 'max_connections': 2789, 'max_wal_senders': 20, 'shared_buffers': 436723, 'temp_buffers': 678941471, 'temp_file_limit': 1443169087, 'vacuum_cost_delay': 95, 'vacuum_cost_limit': 7601, 'vacuum_cost_page_dirty': 1736, 'vacuum_cost_page_hit': 8548, 'vacuum_cost_page_miss': 6008, 'wal_buffers': 39645, 'wal_writer_delay': 8737, 'work_mem': 78461459}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 14.541357941925526
Set autovacuum_analyze_threshold = 1398783817
Set autovacuum_max_workers = 116
Set autovacuum_naptime = 927250
Set autovacuum_vacuum_cost_delay = 7
Set autovacuum_vacuum_cost_limit = 1749
Set autovacuum_vacuum_scale_factor = 12.682785466313362
Set autovacuum_vacuum_threshold = 1755855637
Set backend_flush_after = 229
Set bgwriter_delay = 2456
Set bgwriter_flush_after = 96
Set bgwriter_lru_maxpages = 799
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.02632452081888914
Set checkpoint_flush_after = 99
Set checkpoint_timeout = 817
Set commit_delay = 25515
Set commit_siblings = 744
Set cursor_tuple_fraction = 0.0653075072914362
Set deadlock_timeout = 1640755072
Set default_statistics_target = 6143
Set effective_cache_size = 1771098618
Set effective_io_concurrency = 982
Set from_collapse_limit = 1403551182
Set geqo_effort = 8
Set geqo_generations = 456658054
Set geqo_pool_size = 214606922
Set geqo_seed = 0.8228023396804929
Set geqo_threshold = 1374850376
Set join_collapse_limit = 1692635718
Set maintenance_work_mem = 814318961
Set max_connections = 2789
Set max_wal_senders = 20
Set shared_buffers = 436723
Set temp_buffers = 678941471
Set temp_file_limit = 1443169087
Set vacuum_cost_delay = 95
Set vacuum_cost_limit = 7601
Set vacuum_cost_page_dirty = 1736
Set vacuum_cost_page_hit = 8548
Set vacuum_cost_page_miss = 6008
Set wal_buffers = 39645
Set wal_writer_delay = 8737
Set work_mem = 78461459
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-52-38.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763736695.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-52-38.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-52-38.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-52-38.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-52-38.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-52-38.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-52-38.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-52-38.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-52-38.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-52-38.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-52-38.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-52-38.config.xml
Parsed throughput from summary.json: 3371.585989556269
BenchBase wikipedia throughput: 3371.585989556269
Configuration: {'autovacuum_analyze_scale_factor': 14.541357941925526, 'autovacuum_analyze_threshold': 1398783817, 'autovacuum_max_workers': 116, 'autovacuum_naptime': 927250, 'autovacuum_vacuum_cost_delay': 7, 'autovacuum_vacuum_cost_limit': 1749, 'autovacuum_vacuum_scale_factor': 12.682785466313362, 'autovacuum_vacuum_threshold': 1755855637, 'backend_flush_after': 229, 'bgwriter_delay': 2456, 'bgwriter_flush_after': 96, 'bgwriter_lru_maxpages': 799, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.02632452081888914, 'checkpoint_flush_after': 99, 'checkpoint_timeout': 817, 'commit_delay': 25515, 'commit_siblings': 744, 'cursor_tuple_fraction': 0.0653075072914362, 'deadlock_timeout': 1640755072, 'default_statistics_target': 6143, 'effective_cache_size': 1771098618, 'effective_io_concurrency': 982, 'from_collapse_limit': 1403551182, 'geqo_effort': 8, 'geqo_generations': 456658054, 'geqo_pool_size': 214606922, 'geqo_seed': 0.8228023396804929, 'geqo_threshold': 1374850376, 'join_collapse_limit': 1692635718, 'maintenance_work_mem': 814318961, 'max_connections': 2789, 'max_wal_senders': 20, 'shared_buffers': 436723, 'temp_buffers': 678941471, 'temp_file_limit': 1443169087, 'vacuum_cost_delay': 95, 'vacuum_cost_limit': 7601, 'vacuum_cost_page_dirty': 1736, 'vacuum_cost_page_hit': 8548, 'vacuum_cost_page_miss': 6008, 'wal_buffers': 39645, 'wal_writer_delay': 8737, 'work_mem': 78461459}, QPS: -3371.585989556269
Performance (QPS): -3371.585989556269
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 79.75610561800251, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 3312, 'bgwriter_flush_after': 178, 'bgwriter_lru_maxpages': 574, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1517848704, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 5, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 13687773, 'maintenance_work_mem': 957667097, 'max_connections': 1587, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 145530902, 'temp_file_limit': 76160479, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1298967
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 79.75610561800251
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 3312
Set bgwriter_flush_after = 178
Set bgwriter_lru_maxpages = 574
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4358
Set effective_cache_size = 1517848704
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 5
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 173074473
Set join_collapse_limit = 13687773
Set maintenance_work_mem = 957667097
Set max_connections = 1587
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 145530902
Set temp_file_limit = 76160479
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4598
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-54-16.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-54-16.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-54-16.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-54-16.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-54-16.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-54-16.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-54-16.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-54-16.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-54-16.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-54-16.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-54-16.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-54-16.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763736793.log
Parsed throughput from summary.json: 3420.5980080729537
BenchBase wikipedia throughput: 3420.5980080729537
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 79.75610561800251, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 3312, 'bgwriter_flush_after': 178, 'bgwriter_lru_maxpages': 574, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1517848704, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 5, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 13687773, 'maintenance_work_mem': 957667097, 'max_connections': 1587, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 145530902, 'temp_file_limit': 76160479, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3420.5980080729537
Performance (QPS): -3420.5980080729537
Evaluating configuration: {'autovacuum_analyze_scale_factor': 29.623856666601867, 'autovacuum_analyze_threshold': 503154680, 'autovacuum_max_workers': 51, 'autovacuum_naptime': 509741, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 4265, 'autovacuum_vacuum_scale_factor': 29.013798807511808, 'autovacuum_vacuum_threshold': 293178464, 'backend_flush_after': 17, 'bgwriter_delay': 8208, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 571, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9414972958474818, 'checkpoint_flush_after': 44, 'checkpoint_timeout': 2058, 'commit_delay': 49413, 'commit_siblings': 904, 'cursor_tuple_fraction': 0.15149210403754543, 'deadlock_timeout': 414970953, 'default_statistics_target': 3629, 'effective_cache_size': 1822421308, 'effective_io_concurrency': 396, 'from_collapse_limit': 140713556, 'geqo_effort': 2, 'geqo_generations': 2042854051, 'geqo_pool_size': 1396756159, 'geqo_seed': 0.47032509830719016, 'geqo_threshold': 1426567466, 'join_collapse_limit': 1557934779, 'maintenance_work_mem': 1112221578, 'max_connections': 1082, 'max_wal_senders': 7, 'shared_buffers': 3861761, 'temp_buffers': 45742011, 'temp_file_limit': 2083046771, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 3747, 'vacuum_cost_page_dirty': 3065, 'vacuum_cost_page_hit': 7945, 'vacuum_cost_page_miss': 154, 'wal_buffers': 95128, 'wal_writer_delay': 9891, 'work_mem': 1610745359}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 29.623856666601867
Set autovacuum_analyze_threshold = 503154680
Set autovacuum_max_workers = 51
Set autovacuum_naptime = 509741
Set autovacuum_vacuum_cost_delay = 100
Set autovacuum_vacuum_cost_limit = 4265
Set autovacuum_vacuum_scale_factor = 29.013798807511808
Set autovacuum_vacuum_threshold = 293178464
Set backend_flush_after = 17
Set bgwriter_delay = 8208
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 571
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.9414972958474818
Set checkpoint_flush_after = 44
Set checkpoint_timeout = 2058
Set commit_delay = 49413
Set commit_siblings = 904
Set cursor_tuple_fraction = 0.15149210403754543
Set deadlock_timeout = 414970953
Set default_statistics_target = 3629
Set effective_cache_size = 1822421308
Set effective_io_concurrency = 396
Set from_collapse_limit = 140713556
Set geqo_effort = 2
Set geqo_generations = 2042854051
Set geqo_pool_size = 1396756159
Set geqo_seed = 0.47032509830719016
Set geqo_threshold = 1426567466
Set join_collapse_limit = 1557934779
Set maintenance_work_mem = 1112221578
Set max_connections = 1082
Set max_wal_senders = 7
Set shared_buffers = 3861761
Set temp_buffers = 45742011
Set temp_file_limit = 2083046771
Set vacuum_cost_delay = 26
Set vacuum_cost_limit = 3747
Set vacuum_cost_page_dirty = 3065
Set vacuum_cost_page_hit = 7945
Set vacuum_cost_page_miss = 154
Set wal_buffers = 95128
Set wal_writer_delay = 9891
Set work_mem = 1610745359
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-55-55.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-55-55.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-55-55.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-55-55.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-55-55.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763736892.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-55-55.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-55-55.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-55-55.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-55-55.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-55-55.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-55-55.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-55-55.results.AddWatchList.csv
Parsed throughput from summary.json: 3454.0249694171994
BenchBase wikipedia throughput: 3454.0249694171994
Configuration: {'autovacuum_analyze_scale_factor': 29.623856666601867, 'autovacuum_analyze_threshold': 503154680, 'autovacuum_max_workers': 51, 'autovacuum_naptime': 509741, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 4265, 'autovacuum_vacuum_scale_factor': 29.013798807511808, 'autovacuum_vacuum_threshold': 293178464, 'backend_flush_after': 17, 'bgwriter_delay': 8208, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 571, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9414972958474818, 'checkpoint_flush_after': 44, 'checkpoint_timeout': 2058, 'commit_delay': 49413, 'commit_siblings': 904, 'cursor_tuple_fraction': 0.15149210403754543, 'deadlock_timeout': 414970953, 'default_statistics_target': 3629, 'effective_cache_size': 1822421308, 'effective_io_concurrency': 396, 'from_collapse_limit': 140713556, 'geqo_effort': 2, 'geqo_generations': 2042854051, 'geqo_pool_size': 1396756159, 'geqo_seed': 0.47032509830719016, 'geqo_threshold': 1426567466, 'join_collapse_limit': 1557934779, 'maintenance_work_mem': 1112221578, 'max_connections': 1082, 'max_wal_senders': 7, 'shared_buffers': 3861761, 'temp_buffers': 45742011, 'temp_file_limit': 2083046771, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 3747, 'vacuum_cost_page_dirty': 3065, 'vacuum_cost_page_hit': 7945, 'vacuum_cost_page_miss': 154, 'wal_buffers': 95128, 'wal_writer_delay': 9891, 'work_mem': 1610745359}, QPS: -3454.0249694171994
Performance (QPS): -3454.0249694171994
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 745411264, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 3376, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2404, 'commit_delay': 39199, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1658725504, 'geqo_effort': 3, 'geqo_generations': 111927896, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 158509, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 58, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4689, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 204, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 745411264
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1298967
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 3376
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2404
Set commit_delay = 39199
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4358
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1658725504
Set geqo_effort = 3
Set geqo_generations = 111927896
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 158509
Set temp_buffers = 70276608
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 58
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4689
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 204
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-57-33.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-57-33.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763736990.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-57-33.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-57-33.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-57-33.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-57-33.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-57-33.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-57-33.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-57-33.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-57-33.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-57-33.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-57-33.params.json
Parsed throughput from summary.json: 3395.861472908282
BenchBase wikipedia throughput: 3395.861472908282
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 745411264, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 3376, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2404, 'commit_delay': 39199, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1658725504, 'geqo_effort': 3, 'geqo_generations': 111927896, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 158509, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 58, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4689, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 204, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3395.861472908282
Performance (QPS): -3395.861472908282
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8262, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 28, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 175, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2659, 'commit_delay': 29249, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1157948416, 'default_statistics_target': 4358, 'effective_cache_size': 1632885376, 'effective_io_concurrency': 497, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 90469472, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 23, 'shared_buffers': 217296, 'temp_buffers': 81454556, 'temp_file_limit': 239640127, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4826, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1298967
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8262
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 28
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 175
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2659
Set commit_delay = 29249
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1157948416
Set default_statistics_target = 4358
Set effective_cache_size = 1632885376
Set effective_io_concurrency = 497
Set from_collapse_limit = 1798991148
Set geqo_effort = 3
Set geqo_generations = 90469472
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 23
Set shared_buffers = 217296
Set temp_buffers = 81454556
Set temp_file_limit = 239640127
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4826
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-59-11.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-59-11.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-59-11.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-59-11.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_14-59-11.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-59-11.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-59-11.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-59-11.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-59-11.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-59-11.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-59-11.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_14-59-11.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763737088.log
Parsed throughput from summary.json: 3403.452482073666
BenchBase wikipedia throughput: 3403.452482073666
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8262, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 28, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 175, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2659, 'commit_delay': 29249, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1157948416, 'default_statistics_target': 4358, 'effective_cache_size': 1632885376, 'effective_io_concurrency': 497, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 90469472, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 23, 'shared_buffers': 217296, 'temp_buffers': 81454556, 'temp_file_limit': 239640127, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4826, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3403.452482073666
Performance (QPS): -3403.452482073666
Evaluating configuration: {'autovacuum_analyze_scale_factor': 36.00709116669522, 'autovacuum_analyze_threshold': 132688892, 'autovacuum_max_workers': 143, 'autovacuum_naptime': 363333, 'autovacuum_vacuum_cost_delay': 15, 'autovacuum_vacuum_cost_limit': 2029, 'autovacuum_vacuum_scale_factor': 40.79180458750997, 'autovacuum_vacuum_threshold': 113931500, 'backend_flush_after': 113, 'bgwriter_delay': 6326, 'bgwriter_flush_after': 33, 'bgwriter_lru_maxpages': 710, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.003798901012797007, 'checkpoint_flush_after': 41, 'checkpoint_timeout': 1050, 'commit_delay': 10513, 'commit_siblings': 506, 'cursor_tuple_fraction': 0.15714660272576242, 'deadlock_timeout': 1894968244, 'default_statistics_target': 5153, 'effective_cache_size': 1405423155, 'effective_io_concurrency': 255, 'from_collapse_limit': 23960498, 'geqo_effort': 8, 'geqo_generations': 1911255931, 'geqo_pool_size': 2054114893, 'geqo_seed': 0.53949354821336, 'geqo_threshold': 807568969, 'join_collapse_limit': 324912714, 'maintenance_work_mem': 1634215766, 'max_connections': 2730, 'max_wal_senders': 38, 'shared_buffers': 1542864, 'temp_buffers': 359918090, 'temp_file_limit': 1322627822, 'vacuum_cost_delay': 95, 'vacuum_cost_limit': 6922, 'vacuum_cost_page_dirty': 571, 'vacuum_cost_page_hit': 8989, 'vacuum_cost_page_miss': 886, 'wal_buffers': 25773, 'wal_writer_delay': 8482, 'work_mem': 449640615}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 36.00709116669522
Set autovacuum_analyze_threshold = 132688892
Set autovacuum_max_workers = 143
Set autovacuum_naptime = 363333
Set autovacuum_vacuum_cost_delay = 15
Set autovacuum_vacuum_cost_limit = 2029
Set autovacuum_vacuum_scale_factor = 40.79180458750997
Set autovacuum_vacuum_threshold = 113931500
Set backend_flush_after = 113
Set bgwriter_delay = 6326
Set bgwriter_flush_after = 33
Set bgwriter_lru_maxpages = 710
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.003798901012797007
Set checkpoint_flush_after = 41
Set checkpoint_timeout = 1050
Set commit_delay = 10513
Set commit_siblings = 506
Set cursor_tuple_fraction = 0.15714660272576242
Set deadlock_timeout = 1894968244
Set default_statistics_target = 5153
Set effective_cache_size = 1405423155
Set effective_io_concurrency = 255
Set from_collapse_limit = 23960498
Set geqo_effort = 8
Set geqo_generations = 1911255931
Set geqo_pool_size = 2054114893
Set geqo_seed = 0.53949354821336
Set geqo_threshold = 807568969
Set join_collapse_limit = 324912714
Set maintenance_work_mem = 1634215766
Set max_connections = 2730
Set max_wal_senders = 38
Set shared_buffers = 1542864
Set temp_buffers = 359918090
Set temp_file_limit = 1322627822
Set vacuum_cost_delay = 95
Set vacuum_cost_limit = 6922
Set vacuum_cost_page_dirty = 571
Set vacuum_cost_page_hit = 8989
Set vacuum_cost_page_miss = 886
Set wal_buffers = 25773
Set wal_writer_delay = 8482
Set work_mem = 449640615
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-00-45.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-00-45.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-00-45.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-00-45.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-00-45.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763737181.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-00-45.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-00-45.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-00-45.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-00-45.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-00-45.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-00-45.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-00-45.results.RemoveWatchList.csv
Parsed throughput from summary.json: 3511.5578526247077
BenchBase wikipedia throughput: 3511.5578526247077
Configuration: {'autovacuum_analyze_scale_factor': 36.00709116669522, 'autovacuum_analyze_threshold': 132688892, 'autovacuum_max_workers': 143, 'autovacuum_naptime': 363333, 'autovacuum_vacuum_cost_delay': 15, 'autovacuum_vacuum_cost_limit': 2029, 'autovacuum_vacuum_scale_factor': 40.79180458750997, 'autovacuum_vacuum_threshold': 113931500, 'backend_flush_after': 113, 'bgwriter_delay': 6326, 'bgwriter_flush_after': 33, 'bgwriter_lru_maxpages': 710, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.003798901012797007, 'checkpoint_flush_after': 41, 'checkpoint_timeout': 1050, 'commit_delay': 10513, 'commit_siblings': 506, 'cursor_tuple_fraction': 0.15714660272576242, 'deadlock_timeout': 1894968244, 'default_statistics_target': 5153, 'effective_cache_size': 1405423155, 'effective_io_concurrency': 255, 'from_collapse_limit': 23960498, 'geqo_effort': 8, 'geqo_generations': 1911255931, 'geqo_pool_size': 2054114893, 'geqo_seed': 0.53949354821336, 'geqo_threshold': 807568969, 'join_collapse_limit': 324912714, 'maintenance_work_mem': 1634215766, 'max_connections': 2730, 'max_wal_senders': 38, 'shared_buffers': 1542864, 'temp_buffers': 359918090, 'temp_file_limit': 1322627822, 'vacuum_cost_delay': 95, 'vacuum_cost_limit': 6922, 'vacuum_cost_page_dirty': 571, 'vacuum_cost_page_hit': 8989, 'vacuum_cost_page_miss': 886, 'wal_buffers': 25773, 'wal_writer_delay': 8482, 'work_mem': 449640615}, QPS: -3511.5578526247077
Performance (QPS): -3511.5578526247077
Evaluating configuration: {'autovacuum_analyze_scale_factor': 69.88577111321419, 'autovacuum_analyze_threshold': 934755101, 'autovacuum_max_workers': 44, 'autovacuum_naptime': 1803693, 'autovacuum_vacuum_cost_delay': 74, 'autovacuum_vacuum_cost_limit': 5443, 'autovacuum_vacuum_scale_factor': 88.3867755099718, 'autovacuum_vacuum_threshold': 1839752976, 'backend_flush_after': 217, 'bgwriter_delay': 490, 'bgwriter_flush_after': 241, 'bgwriter_lru_maxpages': 174, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.006830122785556725, 'checkpoint_flush_after': 3, 'checkpoint_timeout': 1656, 'commit_delay': 12873, 'commit_siblings': 855, 'cursor_tuple_fraction': 0.3853570395024427, 'deadlock_timeout': 1573429056, 'default_statistics_target': 1116, 'effective_cache_size': 446685913, 'effective_io_concurrency': 735, 'from_collapse_limit': 1949942302, 'geqo_effort': 3, 'geqo_generations': 568833100, 'geqo_pool_size': 1698109027, 'geqo_seed': 0.8501352099663381, 'geqo_threshold': 1371347339, 'join_collapse_limit': 2123685350, 'maintenance_work_mem': 627368917, 'max_connections': 1673, 'max_wal_senders': 19, 'shared_buffers': 3674782, 'temp_buffers': 783787543, 'temp_file_limit': 1819537257, 'vacuum_cost_delay': 33, 'vacuum_cost_limit': 8215, 'vacuum_cost_page_dirty': 7133, 'vacuum_cost_page_hit': 8154, 'vacuum_cost_page_miss': 7748, 'wal_buffers': 67158, 'wal_writer_delay': 3250, 'work_mem': 2135185125}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 69.88577111321419
Set autovacuum_analyze_threshold = 934755101
Set autovacuum_max_workers = 44
Set autovacuum_naptime = 1803693
Set autovacuum_vacuum_cost_delay = 74
Set autovacuum_vacuum_cost_limit = 5443
Set autovacuum_vacuum_scale_factor = 88.3867755099718
Set autovacuum_vacuum_threshold = 1839752976
Set backend_flush_after = 217
Set bgwriter_delay = 490
Set bgwriter_flush_after = 241
Set bgwriter_lru_maxpages = 174
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.006830122785556725
Set checkpoint_flush_after = 3
Set checkpoint_timeout = 1656
Set commit_delay = 12873
Set commit_siblings = 855
Set cursor_tuple_fraction = 0.3853570395024427
Set deadlock_timeout = 1573429056
Set default_statistics_target = 1116
Set effective_cache_size = 446685913
Set effective_io_concurrency = 735
Set from_collapse_limit = 1949942302
Set geqo_effort = 3
Set geqo_generations = 568833100
Set geqo_pool_size = 1698109027
Set geqo_seed = 0.8501352099663381
Set geqo_threshold = 1371347339
Set join_collapse_limit = 2123685350
Set maintenance_work_mem = 627368917
Set max_connections = 1673
Set max_wal_senders = 19
Set shared_buffers = 3674782
Set temp_buffers = 783787543
Set temp_file_limit = 1819537257
Set vacuum_cost_delay = 33
Set vacuum_cost_limit = 8215
Set vacuum_cost_page_dirty = 7133
Set vacuum_cost_page_hit = 8154
Set vacuum_cost_page_miss = 7748
Set wal_buffers = 67158
Set wal_writer_delay = 3250
Set work_mem = 2135185125
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-02-19.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-02-19.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-02-19.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-02-19.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-02-19.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763737275.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-02-19.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-02-19.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-02-19.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-02-19.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-02-19.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-02-19.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-02-19.config.xml
Parsed throughput from summary.json: 3509.755624954251
BenchBase wikipedia throughput: 3509.755624954251
Configuration: {'autovacuum_analyze_scale_factor': 69.88577111321419, 'autovacuum_analyze_threshold': 934755101, 'autovacuum_max_workers': 44, 'autovacuum_naptime': 1803693, 'autovacuum_vacuum_cost_delay': 74, 'autovacuum_vacuum_cost_limit': 5443, 'autovacuum_vacuum_scale_factor': 88.3867755099718, 'autovacuum_vacuum_threshold': 1839752976, 'backend_flush_after': 217, 'bgwriter_delay': 490, 'bgwriter_flush_after': 241, 'bgwriter_lru_maxpages': 174, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.006830122785556725, 'checkpoint_flush_after': 3, 'checkpoint_timeout': 1656, 'commit_delay': 12873, 'commit_siblings': 855, 'cursor_tuple_fraction': 0.3853570395024427, 'deadlock_timeout': 1573429056, 'default_statistics_target': 1116, 'effective_cache_size': 446685913, 'effective_io_concurrency': 735, 'from_collapse_limit': 1949942302, 'geqo_effort': 3, 'geqo_generations': 568833100, 'geqo_pool_size': 1698109027, 'geqo_seed': 0.8501352099663381, 'geqo_threshold': 1371347339, 'join_collapse_limit': 2123685350, 'maintenance_work_mem': 627368917, 'max_connections': 1673, 'max_wal_senders': 19, 'shared_buffers': 3674782, 'temp_buffers': 783787543, 'temp_file_limit': 1819537257, 'vacuum_cost_delay': 33, 'vacuum_cost_limit': 8215, 'vacuum_cost_page_dirty': 7133, 'vacuum_cost_page_hit': 8154, 'vacuum_cost_page_miss': 7748, 'wal_buffers': 67158, 'wal_writer_delay': 3250, 'work_mem': 2135185125}, QPS: -3509.755624954251
Performance (QPS): -3509.755624954251
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1069677, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 11, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 890, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4949, 'effective_cache_size': 1362384640, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1178666367, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 121594825, 'join_collapse_limit': 9206483, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 55, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9731, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1069677
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 11
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 890
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4949
Set effective_cache_size = 1362384640
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 10
Set geqo_generations = 159642294
Set geqo_pool_size = 1178666367
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 121594825
Set join_collapse_limit = 9206483
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 70276608
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 55
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4598
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9731
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-03-56.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-03-56.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-03-56.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-03-56.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-03-56.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-03-56.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-03-56.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-03-56.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-03-56.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-03-56.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-03-56.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763737374.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-03-56.config.xml
Parsed throughput from summary.json: 3494.613922383814
BenchBase wikipedia throughput: 3494.613922383814
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1069677, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 11, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 890, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4949, 'effective_cache_size': 1362384640, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1178666367, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 121594825, 'join_collapse_limit': 9206483, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 55, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9731, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3494.613922383814
Performance (QPS): -3494.613922383814
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 50, 'autovacuum_naptime': 1355597, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 86.33807962037434, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 3312, 'bgwriter_flush_after': 178, 'bgwriter_lru_maxpages': 574, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 224, 'checkpoint_timeout': 2134, 'commit_delay': 36231, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5154, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 454, 'from_collapse_limit': 1883153920, 'geqo_effort': 5, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 189607649, 'join_collapse_limit': 13687773, 'maintenance_work_mem': 957667097, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 34346836, 'temp_file_limit': 76160479, 'vacuum_cost_delay': 68, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 50
Set autovacuum_naptime = 1355597
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 86.33807962037434
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 3312
Set bgwriter_flush_after = 178
Set bgwriter_lru_maxpages = 574
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 224
Set checkpoint_timeout = 2134
Set commit_delay = 36231
Set commit_siblings = 974
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 5154
Set effective_cache_size = 1374450688
Set effective_io_concurrency = 454
Set from_collapse_limit = 1883153920
Set geqo_effort = 5
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 189607649
Set join_collapse_limit = 13687773
Set maintenance_work_mem = 957667097
Set max_connections = 1818
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 34346836
Set temp_file_limit = 76160479
Set vacuum_cost_delay = 68
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-05-33.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-05-33.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-05-33.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-05-33.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-05-33.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-05-33.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-05-33.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-05-33.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-05-33.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-05-33.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-05-33.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-05-33.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763737470.log
Parsed throughput from summary.json: 3525.6698299139844
BenchBase wikipedia throughput: 3525.6698299139844
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 50, 'autovacuum_naptime': 1355597, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 86.33807962037434, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 3312, 'bgwriter_flush_after': 178, 'bgwriter_lru_maxpages': 574, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 224, 'checkpoint_timeout': 2134, 'commit_delay': 36231, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5154, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 454, 'from_collapse_limit': 1883153920, 'geqo_effort': 5, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 189607649, 'join_collapse_limit': 13687773, 'maintenance_work_mem': 957667097, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 34346836, 'temp_file_limit': 76160479, 'vacuum_cost_delay': 68, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3525.6698299139844
Performance (QPS): -3525.6698299139844
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1120662, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 90.30669690861116, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 674, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.37444127677450456, 'checkpoint_flush_after': 244, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5011, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 2, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.48075350627226404, 'geqo_threshold': 173074473, 'join_collapse_limit': 15702822, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 23, 'shared_buffers': 217296, 'temp_buffers': 34151368, 'temp_file_limit': 234406575, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 16565, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1120662
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 90.30669690861116
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 674
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.37444127677450456
Set checkpoint_flush_after = 244
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 5011
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 2
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.48075350627226404
Set geqo_threshold = 173074473
Set join_collapse_limit = 15702822
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 23
Set shared_buffers = 217296
Set temp_buffers = 34151368
Set temp_file_limit = 234406575
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4598
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 16565
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-07-11.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-07-11.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-07-11.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-07-11.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-07-11.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-07-11.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763737568.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-07-11.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-07-11.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-07-11.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-07-11.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-07-11.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-07-11.results.csv
Parsed throughput from summary.json: 3316.586887328964
BenchBase wikipedia throughput: 3316.586887328964
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1120662, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 90.30669690861116, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 674, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.37444127677450456, 'checkpoint_flush_after': 244, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5011, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 2, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.48075350627226404, 'geqo_threshold': 173074473, 'join_collapse_limit': 15702822, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 23, 'shared_buffers': 217296, 'temp_buffers': 34151368, 'temp_file_limit': 234406575, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 16565, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3316.586887328964
Performance (QPS): -3316.586887328964
Evaluating configuration: {'autovacuum_analyze_scale_factor': 91.57295338614051, 'autovacuum_analyze_threshold': 444463277, 'autovacuum_max_workers': 80, 'autovacuum_naptime': 615973, 'autovacuum_vacuum_cost_delay': 65, 'autovacuum_vacuum_cost_limit': 6703, 'autovacuum_vacuum_scale_factor': 78.34886513318388, 'autovacuum_vacuum_threshold': 554071637, 'backend_flush_after': 67, 'bgwriter_delay': 3602, 'bgwriter_flush_after': 3, 'bgwriter_lru_maxpages': 846, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.7457782102348947, 'checkpoint_flush_after': 224, 'checkpoint_timeout': 1555, 'commit_delay': 93994, 'commit_siblings': 248, 'cursor_tuple_fraction': 0.24839172954470823, 'deadlock_timeout': 1518618767, 'default_statistics_target': 3828, 'effective_cache_size': 1635061626, 'effective_io_concurrency': 341, 'from_collapse_limit': 75834699, 'geqo_effort': 2, 'geqo_generations': 1578757264, 'geqo_pool_size': 218886011, 'geqo_seed': 0.48173224898731715, 'geqo_threshold': 1916115739, 'join_collapse_limit': 1800833314, 'maintenance_work_mem': 393699115, 'max_connections': 1700, 'max_wal_senders': 21, 'shared_buffers': 68703, 'temp_buffers': 59349716, 'temp_file_limit': 1699487125, 'vacuum_cost_delay': 17, 'vacuum_cost_limit': 9998, 'vacuum_cost_page_dirty': 2870, 'vacuum_cost_page_hit': 6482, 'vacuum_cost_page_miss': 5196, 'wal_buffers': 41520, 'wal_writer_delay': 2906, 'work_mem': 629326332}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 91.57295338614051
Set autovacuum_analyze_threshold = 444463277
Set autovacuum_max_workers = 80
Set autovacuum_naptime = 615973
Set autovacuum_vacuum_cost_delay = 65
Set autovacuum_vacuum_cost_limit = 6703
Set autovacuum_vacuum_scale_factor = 78.34886513318388
Set autovacuum_vacuum_threshold = 554071637
Set backend_flush_after = 67
Set bgwriter_delay = 3602
Set bgwriter_flush_after = 3
Set bgwriter_lru_maxpages = 846
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.7457782102348947
Set checkpoint_flush_after = 224
Set checkpoint_timeout = 1555
Set commit_delay = 93994
Set commit_siblings = 248
Set cursor_tuple_fraction = 0.24839172954470823
Set deadlock_timeout = 1518618767
Set default_statistics_target = 3828
Set effective_cache_size = 1635061626
Set effective_io_concurrency = 341
Set from_collapse_limit = 75834699
Set geqo_effort = 2
Set geqo_generations = 1578757264
Set geqo_pool_size = 218886011
Set geqo_seed = 0.48173224898731715
Set geqo_threshold = 1916115739
Set join_collapse_limit = 1800833314
Set maintenance_work_mem = 393699115
Set max_connections = 1700
Set max_wal_senders = 21
Set shared_buffers = 68703
Set temp_buffers = 59349716
Set temp_file_limit = 1699487125
Set vacuum_cost_delay = 17
Set vacuum_cost_limit = 9998
Set vacuum_cost_page_dirty = 2870
Set vacuum_cost_page_hit = 6482
Set vacuum_cost_page_miss = 5196
Set wal_buffers = 41520
Set wal_writer_delay = 2906
Set work_mem = 629326332
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-08-44.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-08-44.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-08-44.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-08-44.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-08-44.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-08-44.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-08-44.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-08-44.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-08-44.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-08-44.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763737662.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-08-44.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-08-44.results.AddWatchList.csv
Parsed throughput from summary.json: 3423.738931815466
BenchBase wikipedia throughput: 3423.738931815466
Configuration: {'autovacuum_analyze_scale_factor': 91.57295338614051, 'autovacuum_analyze_threshold': 444463277, 'autovacuum_max_workers': 80, 'autovacuum_naptime': 615973, 'autovacuum_vacuum_cost_delay': 65, 'autovacuum_vacuum_cost_limit': 6703, 'autovacuum_vacuum_scale_factor': 78.34886513318388, 'autovacuum_vacuum_threshold': 554071637, 'backend_flush_after': 67, 'bgwriter_delay': 3602, 'bgwriter_flush_after': 3, 'bgwriter_lru_maxpages': 846, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.7457782102348947, 'checkpoint_flush_after': 224, 'checkpoint_timeout': 1555, 'commit_delay': 93994, 'commit_siblings': 248, 'cursor_tuple_fraction': 0.24839172954470823, 'deadlock_timeout': 1518618767, 'default_statistics_target': 3828, 'effective_cache_size': 1635061626, 'effective_io_concurrency': 341, 'from_collapse_limit': 75834699, 'geqo_effort': 2, 'geqo_generations': 1578757264, 'geqo_pool_size': 218886011, 'geqo_seed': 0.48173224898731715, 'geqo_threshold': 1916115739, 'join_collapse_limit': 1800833314, 'maintenance_work_mem': 393699115, 'max_connections': 1700, 'max_wal_senders': 21, 'shared_buffers': 68703, 'temp_buffers': 59349716, 'temp_file_limit': 1699487125, 'vacuum_cost_delay': 17, 'vacuum_cost_limit': 9998, 'vacuum_cost_page_dirty': 2870, 'vacuum_cost_page_hit': 6482, 'vacuum_cost_page_miss': 5196, 'wal_buffers': 41520, 'wal_writer_delay': 2906, 'work_mem': 629326332}, QPS: -3423.738931815466
Performance (QPS): -3423.738931815466
Evaluating configuration: {'autovacuum_analyze_scale_factor': 4.390727263035821, 'autovacuum_analyze_threshold': 138731230, 'autovacuum_max_workers': 84, 'autovacuum_naptime': 704079, 'autovacuum_vacuum_cost_delay': 16, 'autovacuum_vacuum_cost_limit': 9690, 'autovacuum_vacuum_scale_factor': 70.86024831574036, 'autovacuum_vacuum_threshold': 2096286965, 'backend_flush_after': 62, 'bgwriter_delay': 3055, 'bgwriter_flush_after': 216, 'bgwriter_lru_maxpages': 551, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.6701493594817394, 'checkpoint_flush_after': 225, 'checkpoint_timeout': 316, 'commit_delay': 75302, 'commit_siblings': 918, 'cursor_tuple_fraction': 0.7998543377254146, 'deadlock_timeout': 1788314660, 'default_statistics_target': 7307, 'effective_cache_size': 1397072179, 'effective_io_concurrency': 656, 'from_collapse_limit': 1446405065, 'geqo_effort': 6, 'geqo_generations': 1682761444, 'geqo_pool_size': 1681271666, 'geqo_seed': 0.11769066216071045, 'geqo_threshold': 203165438, 'join_collapse_limit': 1887647958, 'maintenance_work_mem': 1260060413, 'max_connections': 912, 'max_wal_senders': 30, 'shared_buffers': 1287481, 'temp_buffers': 665055324, 'temp_file_limit': 1792330925, 'vacuum_cost_delay': 30, 'vacuum_cost_limit': 4909, 'vacuum_cost_page_dirty': 5875, 'vacuum_cost_page_hit': 7724, 'vacuum_cost_page_miss': 9529, 'wal_buffers': 58820, 'wal_writer_delay': 4460, 'work_mem': 655180119}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 4.390727263035821
Set autovacuum_analyze_threshold = 138731230
Set autovacuum_max_workers = 84
Set autovacuum_naptime = 704079
Set autovacuum_vacuum_cost_delay = 16
Set autovacuum_vacuum_cost_limit = 9690
Set autovacuum_vacuum_scale_factor = 70.86024831574036
Set autovacuum_vacuum_threshold = 2096286965
Set backend_flush_after = 62
Set bgwriter_delay = 3055
Set bgwriter_flush_after = 216
Set bgwriter_lru_maxpages = 551
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.6701493594817394
Set checkpoint_flush_after = 225
Set checkpoint_timeout = 316
Set commit_delay = 75302
Set commit_siblings = 918
Set cursor_tuple_fraction = 0.7998543377254146
Set deadlock_timeout = 1788314660
Set default_statistics_target = 7307
Set effective_cache_size = 1397072179
Set effective_io_concurrency = 656
Set from_collapse_limit = 1446405065
Set geqo_effort = 6
Set geqo_generations = 1682761444
Set geqo_pool_size = 1681271666
Set geqo_seed = 0.11769066216071045
Set geqo_threshold = 203165438
Set join_collapse_limit = 1887647958
Set maintenance_work_mem = 1260060413
Set max_connections = 912
Set max_wal_senders = 30
Set shared_buffers = 1287481
Set temp_buffers = 665055324
Set temp_file_limit = 1792330925
Set vacuum_cost_delay = 30
Set vacuum_cost_limit = 4909
Set vacuum_cost_page_dirty = 5875
Set vacuum_cost_page_hit = 7724
Set vacuum_cost_page_miss = 9529
Set wal_buffers = 58820
Set wal_writer_delay = 4460
Set work_mem = 655180119
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-10-17.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-10-17.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-10-17.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-10-17.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-10-17.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-10-17.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-10-17.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763737753.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-10-17.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-10-17.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-10-17.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-10-17.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-10-17.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Parsed throughput from summary.json: 3487.0222993687794
BenchBase wikipedia throughput: 3487.0222993687794
Configuration: {'autovacuum_analyze_scale_factor': 4.390727263035821, 'autovacuum_analyze_threshold': 138731230, 'autovacuum_max_workers': 84, 'autovacuum_naptime': 704079, 'autovacuum_vacuum_cost_delay': 16, 'autovacuum_vacuum_cost_limit': 9690, 'autovacuum_vacuum_scale_factor': 70.86024831574036, 'autovacuum_vacuum_threshold': 2096286965, 'backend_flush_after': 62, 'bgwriter_delay': 3055, 'bgwriter_flush_after': 216, 'bgwriter_lru_maxpages': 551, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.6701493594817394, 'checkpoint_flush_after': 225, 'checkpoint_timeout': 316, 'commit_delay': 75302, 'commit_siblings': 918, 'cursor_tuple_fraction': 0.7998543377254146, 'deadlock_timeout': 1788314660, 'default_statistics_target': 7307, 'effective_cache_size': 1397072179, 'effective_io_concurrency': 656, 'from_collapse_limit': 1446405065, 'geqo_effort': 6, 'geqo_generations': 1682761444, 'geqo_pool_size': 1681271666, 'geqo_seed': 0.11769066216071045, 'geqo_threshold': 203165438, 'join_collapse_limit': 1887647958, 'maintenance_work_mem': 1260060413, 'max_connections': 912, 'max_wal_senders': 30, 'shared_buffers': 1287481, 'temp_buffers': 665055324, 'temp_file_limit': 1792330925, 'vacuum_cost_delay': 30, 'vacuum_cost_limit': 4909, 'vacuum_cost_page_dirty': 5875, 'vacuum_cost_page_hit': 7724, 'vacuum_cost_page_miss': 9529, 'wal_buffers': 58820, 'wal_writer_delay': 4460, 'work_mem': 655180119}, QPS: -3487.0222993687794
Performance (QPS): -3487.0222993687794
Evaluating configuration: {'autovacuum_analyze_scale_factor': 10.287689964060842, 'autovacuum_analyze_threshold': 1741060200, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 941941, 'autovacuum_vacuum_cost_delay': 0, 'autovacuum_vacuum_cost_limit': 4617, 'autovacuum_vacuum_scale_factor': 95.32848390830563, 'autovacuum_vacuum_threshold': 931368865, 'backend_flush_after': 188, 'bgwriter_delay': 7799, 'bgwriter_flush_after': 148, 'bgwriter_lru_maxpages': 426, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.5352471927252535, 'checkpoint_flush_after': 117, 'checkpoint_timeout': 659, 'commit_delay': 75325, 'commit_siblings': 546, 'cursor_tuple_fraction': 0.12075947103972762, 'deadlock_timeout': 1190094030, 'default_statistics_target': 2673, 'effective_cache_size': 817609569, 'effective_io_concurrency': 814, 'from_collapse_limit': 1903748747, 'geqo_effort': 5, 'geqo_generations': 1690067028, 'geqo_pool_size': 339337282, 'geqo_seed': 0.8554134189999586, 'geqo_threshold': 70189564, 'join_collapse_limit': 715216660, 'maintenance_work_mem': 951249247, 'max_connections': 1898, 'max_wal_senders': 16, 'shared_buffers': 389030, 'temp_buffers': 108853601, 'temp_file_limit': 772081000, 'vacuum_cost_delay': 29, 'vacuum_cost_limit': 5587, 'vacuum_cost_page_dirty': 1006, 'vacuum_cost_page_hit': 7035, 'vacuum_cost_page_miss': 7492, 'wal_buffers': 40310, 'wal_writer_delay': 1294, 'work_mem': 669780130}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 10.287689964060842
Set autovacuum_analyze_threshold = 1741060200
Set autovacuum_max_workers = 83
Set autovacuum_naptime = 941941
Set autovacuum_vacuum_cost_delay = 0
Set autovacuum_vacuum_cost_limit = 4617
Set autovacuum_vacuum_scale_factor = 95.32848390830563
Set autovacuum_vacuum_threshold = 931368865
Set backend_flush_after = 188
Set bgwriter_delay = 7799
Set bgwriter_flush_after = 148
Set bgwriter_lru_maxpages = 426
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.5352471927252535
Set checkpoint_flush_after = 117
Set checkpoint_timeout = 659
Set commit_delay = 75325
Set commit_siblings = 546
Set cursor_tuple_fraction = 0.12075947103972762
Set deadlock_timeout = 1190094030
Set default_statistics_target = 2673
Set effective_cache_size = 817609569
Set effective_io_concurrency = 814
Set from_collapse_limit = 1903748747
Set geqo_effort = 5
Set geqo_generations = 1690067028
Set geqo_pool_size = 339337282
Set geqo_seed = 0.8554134189999586
Set geqo_threshold = 70189564
Set join_collapse_limit = 715216660
Set maintenance_work_mem = 951249247
Set max_connections = 1898
Set max_wal_senders = 16
Set shared_buffers = 389030
Set temp_buffers = 108853601
Set temp_file_limit = 772081000
Set vacuum_cost_delay = 29
Set vacuum_cost_limit = 5587
Set vacuum_cost_page_dirty = 1006
Set vacuum_cost_page_hit = 7035
Set vacuum_cost_page_miss = 7492
Set wal_buffers = 40310
Set wal_writer_delay = 1294
Set work_mem = 669780130
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763737847.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-11-51.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-11-51.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-11-51.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-11-51.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-11-51.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-11-51.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-11-51.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-11-51.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-11-51.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-11-51.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-11-51.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-11-51.config.xml
Parsed throughput from summary.json: 3415.633893161639
BenchBase wikipedia throughput: 3415.633893161639
Configuration: {'autovacuum_analyze_scale_factor': 10.287689964060842, 'autovacuum_analyze_threshold': 1741060200, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 941941, 'autovacuum_vacuum_cost_delay': 0, 'autovacuum_vacuum_cost_limit': 4617, 'autovacuum_vacuum_scale_factor': 95.32848390830563, 'autovacuum_vacuum_threshold': 931368865, 'backend_flush_after': 188, 'bgwriter_delay': 7799, 'bgwriter_flush_after': 148, 'bgwriter_lru_maxpages': 426, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.5352471927252535, 'checkpoint_flush_after': 117, 'checkpoint_timeout': 659, 'commit_delay': 75325, 'commit_siblings': 546, 'cursor_tuple_fraction': 0.12075947103972762, 'deadlock_timeout': 1190094030, 'default_statistics_target': 2673, 'effective_cache_size': 817609569, 'effective_io_concurrency': 814, 'from_collapse_limit': 1903748747, 'geqo_effort': 5, 'geqo_generations': 1690067028, 'geqo_pool_size': 339337282, 'geqo_seed': 0.8554134189999586, 'geqo_threshold': 70189564, 'join_collapse_limit': 715216660, 'maintenance_work_mem': 951249247, 'max_connections': 1898, 'max_wal_senders': 16, 'shared_buffers': 389030, 'temp_buffers': 108853601, 'temp_file_limit': 772081000, 'vacuum_cost_delay': 29, 'vacuum_cost_limit': 5587, 'vacuum_cost_page_dirty': 1006, 'vacuum_cost_page_hit': 7035, 'vacuum_cost_page_miss': 7492, 'wal_buffers': 40310, 'wal_writer_delay': 1294, 'work_mem': 669780130}, QPS: -3415.633893161639
Performance (QPS): -3415.633893161639
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 50, 'autovacuum_naptime': 1283013, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1916318719, 'backend_flush_after': 15, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 251, 'checkpoint_timeout': 2284, 'commit_delay': 44350, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1550932352, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 7, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 966, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 50
Set autovacuum_naptime = 1283013
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1916318719
Set backend_flush_after = 15
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 251
Set checkpoint_timeout = 2284
Set commit_delay = 44350
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1550932352
Set default_statistics_target = 4358
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 7
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 70276608
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4598
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 966
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763737945.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-13-29.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-13-29.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-13-29.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-13-29.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-13-29.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-13-29.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-13-29.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-13-29.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-13-29.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-13-29.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-13-29.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-13-29.raw.csv
Parsed throughput from summary.json: 3526.7343547635373
BenchBase wikipedia throughput: 3526.7343547635373
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 50, 'autovacuum_naptime': 1283013, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1916318719, 'backend_flush_after': 15, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 251, 'checkpoint_timeout': 2284, 'commit_delay': 44350, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1550932352, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 7, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 966, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3526.7343547635373
Performance (QPS): -3526.7343547635373
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 916432640, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1315084, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 7372, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1968471935, 'backend_flush_after': 4, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 194, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1550631936, 'default_statistics_target': 4216, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 168858753, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1723, 'max_wal_senders': 23, 'shared_buffers': 217296, 'temp_buffers': 30273057, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4852, 'vacuum_cost_page_hit': 7474, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 916432640
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1315084
Set autovacuum_vacuum_cost_delay = 77
Set autovacuum_vacuum_cost_limit = 7372
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1968471935
Set backend_flush_after = 4
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 194
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1550631936
Set default_statistics_target = 4216
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 168858753
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1723
Set max_wal_senders = 23
Set shared_buffers = 217296
Set temp_buffers = 30273057
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4852
Set vacuum_cost_page_hit = 7474
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-15-06.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-15-06.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763738044.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-15-06.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-15-06.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-15-06.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-15-06.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-15-06.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-15-06.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-15-06.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-15-06.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-15-06.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-15-06.results.GetPageAuthenticated.csv
Error parsing summary.json: [Errno 2] No such file or directory: '/home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json'
BenchBase wikipedia throughput: 0.0
Evaluating configuration: {'autovacuum_analyze_scale_factor': 6.089111835659428, 'autovacuum_analyze_threshold': 745411264, 'autovacuum_max_workers': 50, 'autovacuum_naptime': 1404152, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 3103, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 578, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2055, 'commit_delay': 39199, 'commit_siblings': 921, 'cursor_tuple_fraction': 0.17175164229923723, 'deadlock_timeout': 1604478336, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1777346560, 'geqo_effort': 3, 'geqo_generations': 111927896, 'geqo_pool_size': 1268985983, 'geqo_seed': 0.3710072605953267, 'geqo_threshold': 173074473, 'join_collapse_limit': 161134992, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 158509, 'temp_buffers': 32694418, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4689, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 1171, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 6.089111835659428
Set autovacuum_analyze_threshold = 745411264
Set autovacuum_max_workers = 50
Set autovacuum_naptime = 1404152
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 3103
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 578
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2055
Set commit_delay = 39199
Set commit_siblings = 921
Set cursor_tuple_fraction = 0.17175164229923723
Set deadlock_timeout = 1604478336
Set default_statistics_target = 4358
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1777346560
Set geqo_effort = 3
Set geqo_generations = 111927896
Set geqo_pool_size = 1268985983
Set geqo_seed = 0.3710072605953267
Set geqo_threshold = 173074473
Set join_collapse_limit = 161134992
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 158509
Set temp_buffers = 32694418
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 64
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4689
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 1171
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-16-44.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-16-44.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-16-44.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-16-44.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-16-44.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-16-44.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-16-44.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-16-44.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763738141.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-16-44.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-16-44.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-16-44.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-16-44.results.RemoveWatchList.csv
Parsed throughput from summary.json: 3466.8645476278784
BenchBase wikipedia throughput: 3466.8645476278784
Configuration: {'autovacuum_analyze_scale_factor': 6.089111835659428, 'autovacuum_analyze_threshold': 745411264, 'autovacuum_max_workers': 50, 'autovacuum_naptime': 1404152, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 3103, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 578, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2055, 'commit_delay': 39199, 'commit_siblings': 921, 'cursor_tuple_fraction': 0.17175164229923723, 'deadlock_timeout': 1604478336, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1777346560, 'geqo_effort': 3, 'geqo_generations': 111927896, 'geqo_pool_size': 1268985983, 'geqo_seed': 0.3710072605953267, 'geqo_threshold': 173074473, 'join_collapse_limit': 161134992, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 158509, 'temp_buffers': 32694418, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4689, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 1171, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3466.8645476278784
Performance (QPS): -3466.8645476278784
Evaluating configuration: {'autovacuum_analyze_scale_factor': 25.1076649669301, 'autovacuum_analyze_threshold': 1706992981, 'autovacuum_max_workers': 113, 'autovacuum_naptime': 1789346, 'autovacuum_vacuum_cost_delay': 90, 'autovacuum_vacuum_cost_limit': 4510, 'autovacuum_vacuum_scale_factor': 95.33583233089163, 'autovacuum_vacuum_threshold': 299756204, 'backend_flush_after': 98, 'bgwriter_delay': 4932, 'bgwriter_flush_after': 9, 'bgwriter_lru_maxpages': 181, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.4106708266264426, 'checkpoint_flush_after': 166, 'checkpoint_timeout': 2727, 'commit_delay': 94382, 'commit_siblings': 489, 'cursor_tuple_fraction': 0.15426985529686632, 'deadlock_timeout': 211659016, 'default_statistics_target': 1641, 'effective_cache_size': 1065020467, 'effective_io_concurrency': 414, 'from_collapse_limit': 614729795, 'geqo_effort': 10, 'geqo_generations': 1612201874, 'geqo_pool_size': 628362002, 'geqo_seed': 0.3753984337175976, 'geqo_threshold': 108218504, 'join_collapse_limit': 1616679021, 'maintenance_work_mem': 1050547651, 'max_connections': 1187, 'max_wal_senders': 16, 'shared_buffers': 476474, 'temp_buffers': 445528669, 'temp_file_limit': 1719831344, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 8305, 'vacuum_cost_page_dirty': 6520, 'vacuum_cost_page_hit': 4903, 'vacuum_cost_page_miss': 1372, 'wal_buffers': 61519, 'wal_writer_delay': 2622, 'work_mem': 1893134915}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 25.1076649669301
Set autovacuum_analyze_threshold = 1706992981
Set autovacuum_max_workers = 113
Set autovacuum_naptime = 1789346
Set autovacuum_vacuum_cost_delay = 90
Set autovacuum_vacuum_cost_limit = 4510
Set autovacuum_vacuum_scale_factor = 95.33583233089163
Set autovacuum_vacuum_threshold = 299756204
Set backend_flush_after = 98
Set bgwriter_delay = 4932
Set bgwriter_flush_after = 9
Set bgwriter_lru_maxpages = 181
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.4106708266264426
Set checkpoint_flush_after = 166
Set checkpoint_timeout = 2727
Set commit_delay = 94382
Set commit_siblings = 489
Set cursor_tuple_fraction = 0.15426985529686632
Set deadlock_timeout = 211659016
Set default_statistics_target = 1641
Set effective_cache_size = 1065020467
Set effective_io_concurrency = 414
Set from_collapse_limit = 614729795
Set geqo_effort = 10
Set geqo_generations = 1612201874
Set geqo_pool_size = 628362002
Set geqo_seed = 0.3753984337175976
Set geqo_threshold = 108218504
Set join_collapse_limit = 1616679021
Set maintenance_work_mem = 1050547651
Set max_connections = 1187
Set max_wal_senders = 16
Set shared_buffers = 476474
Set temp_buffers = 445528669
Set temp_file_limit = 1719831344
Set vacuum_cost_delay = 60
Set vacuum_cost_limit = 8305
Set vacuum_cost_page_dirty = 6520
Set vacuum_cost_page_hit = 4903
Set vacuum_cost_page_miss = 1372
Set wal_buffers = 61519
Set wal_writer_delay = 2622
Set work_mem = 1893134915
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-18-18.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-18-18.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-18-18.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-18-18.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-18-18.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-18-18.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-18-18.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-18-18.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-18-18.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-18-18.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-18-18.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-18-18.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763738235.log
Parsed throughput from summary.json: 3363.882247713855
BenchBase wikipedia throughput: 3363.882247713855
Configuration: {'autovacuum_analyze_scale_factor': 25.1076649669301, 'autovacuum_analyze_threshold': 1706992981, 'autovacuum_max_workers': 113, 'autovacuum_naptime': 1789346, 'autovacuum_vacuum_cost_delay': 90, 'autovacuum_vacuum_cost_limit': 4510, 'autovacuum_vacuum_scale_factor': 95.33583233089163, 'autovacuum_vacuum_threshold': 299756204, 'backend_flush_after': 98, 'bgwriter_delay': 4932, 'bgwriter_flush_after': 9, 'bgwriter_lru_maxpages': 181, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.4106708266264426, 'checkpoint_flush_after': 166, 'checkpoint_timeout': 2727, 'commit_delay': 94382, 'commit_siblings': 489, 'cursor_tuple_fraction': 0.15426985529686632, 'deadlock_timeout': 211659016, 'default_statistics_target': 1641, 'effective_cache_size': 1065020467, 'effective_io_concurrency': 414, 'from_collapse_limit': 614729795, 'geqo_effort': 10, 'geqo_generations': 1612201874, 'geqo_pool_size': 628362002, 'geqo_seed': 0.3753984337175976, 'geqo_threshold': 108218504, 'join_collapse_limit': 1616679021, 'maintenance_work_mem': 1050547651, 'max_connections': 1187, 'max_wal_senders': 16, 'shared_buffers': 476474, 'temp_buffers': 445528669, 'temp_file_limit': 1719831344, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 8305, 'vacuum_cost_page_dirty': 6520, 'vacuum_cost_page_hit': 4903, 'vacuum_cost_page_miss': 1372, 'wal_buffers': 61519, 'wal_writer_delay': 2622, 'work_mem': 1893134915}, QPS: -3363.882247713855
Performance (QPS): -3363.882247713855
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 50, 'autovacuum_naptime': 1442124, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 86.33807962037434, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2646, 'bgwriter_flush_after': 175, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2134, 'commit_delay': 36231, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1693424384, 'default_statistics_target': 5154, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 439, 'from_collapse_limit': 1883153920, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1179117311, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 133006417, 'join_collapse_limit': 57369684, 'maintenance_work_mem': 957667097, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 71466453, 'temp_file_limit': 74913423, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 146, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1902750215}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 50
Set autovacuum_naptime = 1442124
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 86.33807962037434
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 2646
Set bgwriter_flush_after = 175
Set bgwriter_lru_maxpages = 634
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2134
Set commit_delay = 36231
Set commit_siblings = 974
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1693424384
Set default_statistics_target = 5154
Set effective_cache_size = 1233596416
Set effective_io_concurrency = 439
Set from_collapse_limit = 1883153920
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1179117311
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 133006417
Set join_collapse_limit = 57369684
Set maintenance_work_mem = 957667097
Set max_connections = 1818
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 71466453
Set temp_file_limit = 74913423
Set vacuum_cost_delay = 60
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 146
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1902750215
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-19-56.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-19-56.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-19-56.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-19-56.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-19-56.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-19-56.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-19-56.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-19-56.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-19-56.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-19-56.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-19-56.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763738333.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-19-56.metrics.json
Parsed throughput from summary.json: 3420.4994448414204
BenchBase wikipedia throughput: 3420.4994448414204
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 50, 'autovacuum_naptime': 1442124, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 86.33807962037434, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2646, 'bgwriter_flush_after': 175, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2134, 'commit_delay': 36231, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1693424384, 'default_statistics_target': 5154, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 439, 'from_collapse_limit': 1883153920, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1179117311, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 133006417, 'join_collapse_limit': 57369684, 'maintenance_work_mem': 957667097, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 71466453, 'temp_file_limit': 74913423, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 146, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1902750215}, QPS: -3420.4994448414204
Performance (QPS): -3420.4994448414204
Evaluating configuration: {'autovacuum_analyze_scale_factor': 2.576838840483253, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1120662, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 90.30669690861116, 'autovacuum_vacuum_threshold': 1926996223, 'backend_flush_after': 8, 'bgwriter_delay': 2547, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 674, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.3493142698594802, 'checkpoint_flush_after': 244, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 944, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4593, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 498, 'from_collapse_limit': 1630573824, 'geqo_effort': 2, 'geqo_generations': 159642294, 'geqo_pool_size': 1097506559, 'geqo_seed': 0.5733880701532454, 'geqo_threshold': 173074473, 'join_collapse_limit': 15702822, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 21, 'shared_buffers': 217296, 'temp_buffers': 34151368, 'temp_file_limit': 112090679, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 3212, 'vacuum_cost_page_dirty': 4940, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 1042, 'wal_writer_delay': 8862, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 2.576838840483253
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1120662
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 90.30669690861116
Set autovacuum_vacuum_threshold = 1926996223
Set backend_flush_after = 8
Set bgwriter_delay = 2547
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 674
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.3493142698594802
Set checkpoint_flush_after = 244
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 944
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4593
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 498
Set from_collapse_limit = 1630573824
Set geqo_effort = 2
Set geqo_generations = 159642294
Set geqo_pool_size = 1097506559
Set geqo_seed = 0.5733880701532454
Set geqo_threshold = 173074473
Set join_collapse_limit = 15702822
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 21
Set shared_buffers = 217296
Set temp_buffers = 34151368
Set temp_file_limit = 112090679
Set vacuum_cost_delay = 69
Set vacuum_cost_limit = 3212
Set vacuum_cost_page_dirty = 4940
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 1042
Set wal_writer_delay = 8862
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-21-34.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-21-34.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-21-34.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-21-34.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-21-34.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-21-34.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-21-34.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-21-34.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763738431.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-21-34.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-21-34.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-21-34.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-21-34.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 3347.3234300441773
BenchBase wikipedia throughput: 3347.3234300441773
Configuration: {'autovacuum_analyze_scale_factor': 2.576838840483253, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1120662, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 90.30669690861116, 'autovacuum_vacuum_threshold': 1926996223, 'backend_flush_after': 8, 'bgwriter_delay': 2547, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 674, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.3493142698594802, 'checkpoint_flush_after': 244, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 944, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4593, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 498, 'from_collapse_limit': 1630573824, 'geqo_effort': 2, 'geqo_generations': 159642294, 'geqo_pool_size': 1097506559, 'geqo_seed': 0.5733880701532454, 'geqo_threshold': 173074473, 'join_collapse_limit': 15702822, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 21, 'shared_buffers': 217296, 'temp_buffers': 34151368, 'temp_file_limit': 112090679, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 3212, 'vacuum_cost_page_dirty': 4940, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 1042, 'wal_writer_delay': 8862, 'work_mem': 1668439634}, QPS: -3347.3234300441773
Performance (QPS): -3347.3234300441773
Evaluating configuration: {'autovacuum_analyze_scale_factor': 6.089111835659428, 'autovacuum_analyze_threshold': 745411264, 'autovacuum_max_workers': 30, 'autovacuum_naptime': 1404152, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 7611, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 4, 'bgwriter_delay': 2815, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 578, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2055, 'commit_delay': 39109, 'commit_siblings': 921, 'cursor_tuple_fraction': 0.17175164229923723, 'deadlock_timeout': 1604478336, 'default_statistics_target': 4556, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1881124608, 'geqo_effort': 3, 'geqo_generations': 111927896, 'geqo_pool_size': 1268985983, 'geqo_seed': 0.3710072605953267, 'geqo_threshold': 173074473, 'join_collapse_limit': 161134992, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 22645, 'temp_buffers': 32694418, 'temp_file_limit': 334631455, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 3496, 'vacuum_cost_page_dirty': 3831, 'vacuum_cost_page_hit': 6927, 'vacuum_cost_page_miss': 1392, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 6.089111835659428
Set autovacuum_analyze_threshold = 745411264
Set autovacuum_max_workers = 30
Set autovacuum_naptime = 1404152
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 7611
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 4
Set bgwriter_delay = 2815
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 578
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2055
Set commit_delay = 39109
Set commit_siblings = 921
Set cursor_tuple_fraction = 0.17175164229923723
Set deadlock_timeout = 1604478336
Set default_statistics_target = 4556
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1881124608
Set geqo_effort = 3
Set geqo_generations = 111927896
Set geqo_pool_size = 1268985983
Set geqo_seed = 0.3710072605953267
Set geqo_threshold = 173074473
Set join_collapse_limit = 161134992
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 22645
Set temp_buffers = 32694418
Set temp_file_limit = 334631455
Set vacuum_cost_delay = 64
Set vacuum_cost_limit = 3496
Set vacuum_cost_page_dirty = 3831
Set vacuum_cost_page_hit = 6927
Set vacuum_cost_page_miss = 1392
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-23-13.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-23-13.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-23-13.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-23-13.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-23-13.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-23-13.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763738529.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-23-13.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-23-13.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-23-13.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-23-13.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-23-13.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-23-13.results.AddWatchList.csv
Parsed throughput from summary.json: 3372.845475151206
BenchBase wikipedia throughput: 3372.845475151206
Configuration: {'autovacuum_analyze_scale_factor': 6.089111835659428, 'autovacuum_analyze_threshold': 745411264, 'autovacuum_max_workers': 30, 'autovacuum_naptime': 1404152, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 7611, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 4, 'bgwriter_delay': 2815, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 578, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2055, 'commit_delay': 39109, 'commit_siblings': 921, 'cursor_tuple_fraction': 0.17175164229923723, 'deadlock_timeout': 1604478336, 'default_statistics_target': 4556, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1881124608, 'geqo_effort': 3, 'geqo_generations': 111927896, 'geqo_pool_size': 1268985983, 'geqo_seed': 0.3710072605953267, 'geqo_threshold': 173074473, 'join_collapse_limit': 161134992, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 22645, 'temp_buffers': 32694418, 'temp_file_limit': 334631455, 'vacuum_cost_delay': 64, 'vacuum_cost_limit': 3496, 'vacuum_cost_page_dirty': 3831, 'vacuum_cost_page_hit': 6927, 'vacuum_cost_page_miss': 1392, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3372.845475151206
Performance (QPS): -3372.845475151206
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 861575168, 'autovacuum_max_workers': 42, 'autovacuum_naptime': 1259508, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.98581753977732, 'autovacuum_vacuum_threshold': 1947689855, 'backend_flush_after': 7, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 175, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3337661242429208, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2013, 'commit_delay': 36231, 'commit_siblings': 982, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1693424384, 'default_statistics_target': 5154, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 503, 'from_collapse_limit': 1883153920, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1189377023, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 312407169, 'join_collapse_limit': 57369684, 'maintenance_work_mem': 847529771, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 36281928, 'temp_file_limit': 103994215, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 8535, 'vacuum_cost_page_miss': 662, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 2107634433}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 861575168
Set autovacuum_max_workers = 42
Set autovacuum_naptime = 1259508
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 84.98581753977732
Set autovacuum_vacuum_threshold = 1947689855
Set backend_flush_after = 7
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 175
Set bgwriter_lru_maxpages = 634
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3337661242429208
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2013
Set commit_delay = 36231
Set commit_siblings = 982
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1693424384
Set default_statistics_target = 5154
Set effective_cache_size = 1233596416
Set effective_io_concurrency = 503
Set from_collapse_limit = 1883153920
Set geqo_effort = 4
Set geqo_generations = 159642294
Set geqo_pool_size = 1189377023
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 312407169
Set join_collapse_limit = 57369684
Set maintenance_work_mem = 847529771
Set max_connections = 1818
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 36281928
Set temp_file_limit = 103994215
Set vacuum_cost_delay = 60
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 8535
Set vacuum_cost_page_miss = 662
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 2107634433
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763738627.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-24-50.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-24-50.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-24-50.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-24-50.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-24-50.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-24-50.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-24-50.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-24-50.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-24-50.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-24-50.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-24-50.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-24-50.config.xml
Parsed throughput from summary.json: 3525.047440846941
BenchBase wikipedia throughput: 3525.047440846941
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 861575168, 'autovacuum_max_workers': 42, 'autovacuum_naptime': 1259508, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.98581753977732, 'autovacuum_vacuum_threshold': 1947689855, 'backend_flush_after': 7, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 175, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3337661242429208, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2013, 'commit_delay': 36231, 'commit_siblings': 982, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1693424384, 'default_statistics_target': 5154, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 503, 'from_collapse_limit': 1883153920, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1189377023, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 312407169, 'join_collapse_limit': 57369684, 'maintenance_work_mem': 847529771, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 36281928, 'temp_file_limit': 103994215, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 8535, 'vacuum_cost_page_miss': 662, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 2107634433}, QPS: -3525.047440846941
Performance (QPS): -3525.047440846941
Evaluating configuration: {'autovacuum_analyze_scale_factor': 3.100114409708943, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 59, 'autovacuum_naptime': 1283013, 'autovacuum_vacuum_cost_delay': 74, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 78.14232724463547, 'autovacuum_vacuum_threshold': 1952416767, 'backend_flush_after': 19, 'bgwriter_delay': 2935, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 619, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 251, 'checkpoint_timeout': 2284, 'commit_delay': 34738, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1550932352, 'default_statistics_target': 4041, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 1, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 320612001, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 383987263, 'vacuum_cost_delay': 65, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 6490, 'vacuum_cost_page_miss': 966, 'wal_buffers': 6986, 'wal_writer_delay': 9009, 'work_mem': 1924492934}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 3.100114409708943
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 59
Set autovacuum_naptime = 1283013
Set autovacuum_vacuum_cost_delay = 74
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 78.14232724463547
Set autovacuum_vacuum_threshold = 1952416767
Set backend_flush_after = 19
Set bgwriter_delay = 2935
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 619
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 251
Set checkpoint_timeout = 2284
Set commit_delay = 34738
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1550932352
Set default_statistics_target = 4041
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 1
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 320612001
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 70276608
Set temp_file_limit = 383987263
Set vacuum_cost_delay = 65
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4598
Set vacuum_cost_page_hit = 6490
Set vacuum_cost_page_miss = 966
Set wal_buffers = 6986
Set wal_writer_delay = 9009
Set work_mem = 1924492934
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-26-30.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-26-30.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-26-30.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-26-30.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-26-30.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763738726.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-26-30.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-26-30.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-26-30.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-26-30.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-26-30.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-26-30.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-26-30.config.xml
Parsed throughput from summary.json: 3435.7637764297606
BenchBase wikipedia throughput: 3435.7637764297606
Configuration: {'autovacuum_analyze_scale_factor': 3.100114409708943, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 59, 'autovacuum_naptime': 1283013, 'autovacuum_vacuum_cost_delay': 74, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 78.14232724463547, 'autovacuum_vacuum_threshold': 1952416767, 'backend_flush_after': 19, 'bgwriter_delay': 2935, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 619, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 251, 'checkpoint_timeout': 2284, 'commit_delay': 34738, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1550932352, 'default_statistics_target': 4041, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 1, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 320612001, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 383987263, 'vacuum_cost_delay': 65, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 6490, 'vacuum_cost_page_miss': 966, 'wal_buffers': 6986, 'wal_writer_delay': 9009, 'work_mem': 1924492934}, QPS: -3435.7637764297606
Performance (QPS): -3435.7637764297606
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 66, 'autovacuum_naptime': 1352997, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 8259, 'autovacuum_vacuum_scale_factor': 84.54752540963787, 'autovacuum_vacuum_threshold': 2023268607, 'backend_flush_after': 25, 'bgwriter_delay': 2838, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 574, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2134, 'commit_delay': 36231, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5154, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 564, 'from_collapse_limit': 1883153920, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1293058431, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 295185249, 'join_collapse_limit': 30623198, 'maintenance_work_mem': 957667097, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 34346836, 'temp_file_limit': 118251495, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 15186, 'wal_writer_delay': 9009, 'work_mem': 1797400970}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 66
Set autovacuum_naptime = 1352997
Set autovacuum_vacuum_cost_delay = 80
Set autovacuum_vacuum_cost_limit = 8259
Set autovacuum_vacuum_scale_factor = 84.54752540963787
Set autovacuum_vacuum_threshold = 2023268607
Set backend_flush_after = 25
Set bgwriter_delay = 2838
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 574
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 240
Set checkpoint_timeout = 2134
Set commit_delay = 36231
Set commit_siblings = 974
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 5154
Set effective_cache_size = 1374450688
Set effective_io_concurrency = 564
Set from_collapse_limit = 1883153920
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1293058431
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 295185249
Set join_collapse_limit = 30623198
Set maintenance_work_mem = 957667097
Set max_connections = 1818
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 34346836
Set temp_file_limit = 118251495
Set vacuum_cost_delay = 79
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 15186
Set wal_writer_delay = 9009
Set work_mem = 1797400970
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-28-08.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-28-08.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-28-08.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-28-08.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-28-08.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-28-08.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-28-08.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-28-08.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763738825.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-28-08.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-28-08.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-28-08.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-28-08.results.UpdatePage.csv
Parsed throughput from summary.json: 3486.1358967379724
BenchBase wikipedia throughput: 3486.1358967379724
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 66, 'autovacuum_naptime': 1352997, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 8259, 'autovacuum_vacuum_scale_factor': 84.54752540963787, 'autovacuum_vacuum_threshold': 2023268607, 'backend_flush_after': 25, 'bgwriter_delay': 2838, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 574, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2134, 'commit_delay': 36231, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5154, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 564, 'from_collapse_limit': 1883153920, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1293058431, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 295185249, 'join_collapse_limit': 30623198, 'maintenance_work_mem': 957667097, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 34346836, 'temp_file_limit': 118251495, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 15186, 'wal_writer_delay': 9009, 'work_mem': 1797400970}, QPS: -3486.1358967379724
Performance (QPS): -3486.1358967379724
Evaluating configuration: {'autovacuum_analyze_scale_factor': 16.975876273313613, 'autovacuum_analyze_threshold': 916432640, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1315084, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 7372, 'autovacuum_vacuum_scale_factor': 86.00465379275822, 'autovacuum_vacuum_threshold': 1968471935, 'backend_flush_after': 4, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 194, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.33940561066534736, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2266, 'commit_delay': 37062, 'commit_siblings': 921, 'cursor_tuple_fraction': 0.19237845050327776, 'deadlock_timeout': 1416069888, 'default_statistics_target': 4216, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 9, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.4877421002179326, 'geqo_threshold': 168858753, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1649, 'max_wal_senders': 23, 'shared_buffers': 184367, 'temp_buffers': 48152259, 'temp_file_limit': 164893647, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4468, 'vacuum_cost_page_hit': 7716, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 16.975876273313613
Set autovacuum_analyze_threshold = 916432640
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1315084
Set autovacuum_vacuum_cost_delay = 77
Set autovacuum_vacuum_cost_limit = 7372
Set autovacuum_vacuum_scale_factor = 86.00465379275822
Set autovacuum_vacuum_threshold = 1968471935
Set backend_flush_after = 4
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 194
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.33940561066534736
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2266
Set commit_delay = 37062
Set commit_siblings = 921
Set cursor_tuple_fraction = 0.19237845050327776
Set deadlock_timeout = 1416069888
Set default_statistics_target = 4216
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 9
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.4877421002179326
Set geqo_threshold = 168858753
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1649
Set max_wal_senders = 23
Set shared_buffers = 184367
Set temp_buffers = 48152259
Set temp_file_limit = 164893647
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4468
Set vacuum_cost_page_hit = 7716
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-29-47.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-29-47.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-29-47.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-29-47.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-29-47.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-29-47.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-29-47.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-29-47.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-29-47.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-29-47.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763738924.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-29-47.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-29-47.results.UpdatePage.csv
Parsed throughput from summary.json: 3471.466632635243
BenchBase wikipedia throughput: 3471.466632635243
Configuration: {'autovacuum_analyze_scale_factor': 16.975876273313613, 'autovacuum_analyze_threshold': 916432640, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1315084, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 7372, 'autovacuum_vacuum_scale_factor': 86.00465379275822, 'autovacuum_vacuum_threshold': 1968471935, 'backend_flush_after': 4, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 194, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.33940561066534736, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2266, 'commit_delay': 37062, 'commit_siblings': 921, 'cursor_tuple_fraction': 0.19237845050327776, 'deadlock_timeout': 1416069888, 'default_statistics_target': 4216, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 9, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.4877421002179326, 'geqo_threshold': 168858753, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1649, 'max_wal_senders': 23, 'shared_buffers': 184367, 'temp_buffers': 48152259, 'temp_file_limit': 164893647, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4468, 'vacuum_cost_page_hit': 7716, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3471.466632635243
Performance (QPS): -3471.466632635243
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 1283013, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 85.43254938910538, 'autovacuum_vacuum_threshold': 1841908607, 'backend_flush_after': 0, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 186, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 249, 'checkpoint_timeout': 2461, 'commit_delay': 44350, 'commit_siblings': 895, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1550932352, 'default_statistics_target': 4796, 'effective_cache_size': 1285869312, 'effective_io_concurrency': 454, 'from_collapse_limit': 1980235776, 'geqo_effort': 1, 'geqo_generations': 135252544, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.3531543967765242, 'geqo_threshold': 251072273, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 17000655, 'vacuum_cost_delay': 71, 'vacuum_cost_limit': 4684, 'vacuum_cost_page_dirty': 3718, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 966, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 56
Set autovacuum_naptime = 1283013
Set autovacuum_vacuum_cost_delay = 77
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 85.43254938910538
Set autovacuum_vacuum_threshold = 1841908607
Set backend_flush_after = 0
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 186
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 249
Set checkpoint_timeout = 2461
Set commit_delay = 44350
Set commit_siblings = 895
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1550932352
Set default_statistics_target = 4796
Set effective_cache_size = 1285869312
Set effective_io_concurrency = 454
Set from_collapse_limit = 1980235776
Set geqo_effort = 1
Set geqo_generations = 135252544
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.3531543967765242
Set geqo_threshold = 251072273
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 70276608
Set temp_file_limit = 17000655
Set vacuum_cost_delay = 71
Set vacuum_cost_limit = 4684
Set vacuum_cost_page_dirty = 3718
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 966
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-31-25.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-31-25.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-31-25.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-31-25.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-31-25.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-31-25.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763739022.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-31-25.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-31-25.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-31-25.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-31-25.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-31-25.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-31-25.metrics.json
Parsed throughput from summary.json: 3374.3634257282365
BenchBase wikipedia throughput: 3374.3634257282365
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 1283013, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 85.43254938910538, 'autovacuum_vacuum_threshold': 1841908607, 'backend_flush_after': 0, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 186, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 249, 'checkpoint_timeout': 2461, 'commit_delay': 44350, 'commit_siblings': 895, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1550932352, 'default_statistics_target': 4796, 'effective_cache_size': 1285869312, 'effective_io_concurrency': 454, 'from_collapse_limit': 1980235776, 'geqo_effort': 1, 'geqo_generations': 135252544, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.3531543967765242, 'geqo_threshold': 251072273, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 17000655, 'vacuum_cost_delay': 71, 'vacuum_cost_limit': 4684, 'vacuum_cost_page_dirty': 3718, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 966, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3374.3634257282365
Performance (QPS): -3374.3634257282365
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 69, 'autovacuum_naptime': 1487892, 'autovacuum_vacuum_cost_delay': 84, 'autovacuum_vacuum_cost_limit': 8344, 'autovacuum_vacuum_scale_factor': 76.85341193055572, 'autovacuum_vacuum_threshold': 1896849663, 'backend_flush_after': 25, 'bgwriter_delay': 3327, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 536, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2134, 'commit_delay': 32217, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5053, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 564, 'from_collapse_limit': 1843640704, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1293058431, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 295185249, 'join_collapse_limit': 30623198, 'maintenance_work_mem': 875308510, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 33082012, 'temp_file_limit': 79238615, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 859, 'wal_buffers': 2561, 'wal_writer_delay': 9009, 'work_mem': 1797400970}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 69
Set autovacuum_naptime = 1487892
Set autovacuum_vacuum_cost_delay = 84
Set autovacuum_vacuum_cost_limit = 8344
Set autovacuum_vacuum_scale_factor = 76.85341193055572
Set autovacuum_vacuum_threshold = 1896849663
Set backend_flush_after = 25
Set bgwriter_delay = 3327
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 536
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 240
Set checkpoint_timeout = 2134
Set commit_delay = 32217
Set commit_siblings = 974
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 5053
Set effective_cache_size = 1374450688
Set effective_io_concurrency = 564
Set from_collapse_limit = 1843640704
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1293058431
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 295185249
Set join_collapse_limit = 30623198
Set maintenance_work_mem = 875308510
Set max_connections = 1818
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 33082012
Set temp_file_limit = 79238615
Set vacuum_cost_delay = 79
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 859
Set wal_buffers = 2561
Set wal_writer_delay = 9009
Set work_mem = 1797400970
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-33-04.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-33-04.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-33-04.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763739120.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-33-04.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-33-04.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-33-04.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-33-04.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-33-04.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-33-04.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-33-04.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-33-04.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-33-04.raw.csv
Parsed throughput from summary.json: 3592.7203060377
BenchBase wikipedia throughput: 3592.7203060377
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 69, 'autovacuum_naptime': 1487892, 'autovacuum_vacuum_cost_delay': 84, 'autovacuum_vacuum_cost_limit': 8344, 'autovacuum_vacuum_scale_factor': 76.85341193055572, 'autovacuum_vacuum_threshold': 1896849663, 'backend_flush_after': 25, 'bgwriter_delay': 3327, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 536, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2134, 'commit_delay': 32217, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5053, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 564, 'from_collapse_limit': 1843640704, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1293058431, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 295185249, 'join_collapse_limit': 30623198, 'maintenance_work_mem': 875308510, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 33082012, 'temp_file_limit': 79238615, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 859, 'wal_buffers': 2561, 'wal_writer_delay': 9009, 'work_mem': 1797400970}, QPS: -3592.7203060377
Performance (QPS): -3592.7203060377
Evaluating configuration: {'autovacuum_analyze_scale_factor': 0.1, 'autovacuum_analyze_threshold': 50, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 60, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': -1, 'autovacuum_vacuum_scale_factor': 0.2, 'autovacuum_vacuum_threshold': 50, 'backend_flush_after': 0, 'bgwriter_delay': 200, 'bgwriter_flush_after': 64, 'bgwriter_lru_maxpages': 2, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.9, 'checkpoint_flush_after': 32, 'checkpoint_timeout': 300, 'commit_delay': 0, 'commit_siblings': 5, 'cursor_tuple_fraction': 0.1, 'deadlock_timeout': 1000, 'default_statistics_target': 100, 'effective_cache_size': 524288, 'effective_io_concurrency': 1, 'from_collapse_limit': 8, 'geqo_effort': 5, 'geqo_generations': 0, 'geqo_pool_size': 0, 'geqo_seed': 0.0, 'geqo_threshold': 12, 'join_collapse_limit': 8, 'maintenance_work_mem': 65536, 'max_connections': 100, 'max_wal_senders': 10, 'shared_buffers': 1024, 'temp_buffers': 1024, 'temp_file_limit': -1, 'vacuum_cost_delay': 0, 'vacuum_cost_limit': 200, 'vacuum_cost_page_dirty': 20, 'vacuum_cost_page_hit': 1, 'vacuum_cost_page_miss': 2, 'wal_buffers': -1, 'wal_writer_delay': 200, 'work_mem': 4096}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 0.1
Set autovacuum_analyze_threshold = 50
Set autovacuum_max_workers = 3
Set autovacuum_naptime = 60
Set autovacuum_vacuum_cost_delay = 2
Set autovacuum_vacuum_cost_limit = -1
Set autovacuum_vacuum_scale_factor = 0.2
Set autovacuum_vacuum_threshold = 50
Set backend_flush_after = 0
Set bgwriter_delay = 200
Set bgwriter_flush_after = 64
Set bgwriter_lru_maxpages = 2
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.9
Set checkpoint_flush_after = 32
Set checkpoint_timeout = 300
Set commit_delay = 0
Set commit_siblings = 5
Set cursor_tuple_fraction = 0.1
Set deadlock_timeout = 1000
Set default_statistics_target = 100
Set effective_cache_size = 524288
Set effective_io_concurrency = 1
Set from_collapse_limit = 8
Set geqo_effort = 5
Set geqo_generations = 0
Set geqo_pool_size = 0
Set geqo_seed = 0.0
Set geqo_threshold = 12
Set join_collapse_limit = 8
Set maintenance_work_mem = 65536
Set max_connections = 100
Set max_wal_senders = 10
Set shared_buffers = 1024
Set temp_buffers = 1024
Set temp_file_limit = -1
Set vacuum_cost_delay = 0
Set vacuum_cost_limit = 200
Set vacuum_cost_page_dirty = 20
Set vacuum_cost_page_hit = 1
Set vacuum_cost_page_miss = 2
Set wal_buffers = -1
Set wal_writer_delay = 200
Set work_mem = 4096
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-34-37.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-34-37.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-34-37.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763739214.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-34-37.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-34-37.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-34-37.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-34-37.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-34-37.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-34-37.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-34-37.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-34-37.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-34-37.params.json
Parsed throughput from summary.json: 3293.41099288619
BenchBase wikipedia throughput: 3293.41099288619
Configuration: {'autovacuum_analyze_scale_factor': 0.1, 'autovacuum_analyze_threshold': 50, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 60, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': -1, 'autovacuum_vacuum_scale_factor': 0.2, 'autovacuum_vacuum_threshold': 50, 'backend_flush_after': 0, 'bgwriter_delay': 200, 'bgwriter_flush_after': 64, 'bgwriter_lru_maxpages': 2, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.9, 'checkpoint_flush_after': 32, 'checkpoint_timeout': 300, 'commit_delay': 0, 'commit_siblings': 5, 'cursor_tuple_fraction': 0.1, 'deadlock_timeout': 1000, 'default_statistics_target': 100, 'effective_cache_size': 524288, 'effective_io_concurrency': 1, 'from_collapse_limit': 8, 'geqo_effort': 5, 'geqo_generations': 0, 'geqo_pool_size': 0, 'geqo_seed': 0.0, 'geqo_threshold': 12, 'join_collapse_limit': 8, 'maintenance_work_mem': 65536, 'max_connections': 100, 'max_wal_senders': 10, 'shared_buffers': 1024, 'temp_buffers': 1024, 'temp_file_limit': -1, 'vacuum_cost_delay': 0, 'vacuum_cost_limit': 200, 'vacuum_cost_page_dirty': 20, 'vacuum_cost_page_hit': 1, 'vacuum_cost_page_miss': 2, 'wal_buffers': -1, 'wal_writer_delay': 200, 'work_mem': 4096}, QPS: -3293.41099288619
Performance (QPS): -3293.41099288619
Evaluating configuration: {'autovacuum_analyze_scale_factor': 1.7293459462139533, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 66, 'autovacuum_naptime': 1275435, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 8799, 'autovacuum_vacuum_scale_factor': 72.99589671898103, 'autovacuum_vacuum_threshold': 2023268607, 'backend_flush_after': 16, 'bgwriter_delay': 2838, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 574, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.28695090370241894, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 1845, 'commit_delay': 36231, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5154, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 601, 'from_collapse_limit': 1883153920, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1345847039, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 251710801, 'join_collapse_limit': 89813696, 'maintenance_work_mem': 957667097, 'max_connections': 1716, 'max_wal_senders': 22, 'shared_buffers': 424846, 'temp_buffers': 65441441, 'temp_file_limit': 90191583, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4378, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 1446, 'wal_writer_delay': 9009, 'work_mem': 1797400970}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
(1 row)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 1.7293459462139533
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 66
Set autovacuum_naptime = 1275435
Set autovacuum_vacuum_cost_delay = 80
Set autovacuum_vacuum_cost_limit = 8799
Set autovacuum_vacuum_scale_factor = 72.99589671898103
Set autovacuum_vacuum_threshold = 2023268607
Set backend_flush_after = 16
Set bgwriter_delay = 2838
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 574
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.28695090370241894
Set checkpoint_flush_after = 240
Set checkpoint_timeout = 1845
Set commit_delay = 36231
Set commit_siblings = 974
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 5154
Set effective_cache_size = 1374450688
Set effective_io_concurrency = 601
Set from_collapse_limit = 1883153920
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1345847039
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 251710801
Set join_collapse_limit = 89813696
Set maintenance_work_mem = 957667097
Set max_connections = 1716
Set max_wal_senders = 22
Set shared_buffers = 424846
Set temp_buffers = 65441441
Set temp_file_limit = 90191583
Set vacuum_cost_delay = 79
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4378
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 1446
Set wal_writer_delay = 9009
Set work_mem = 1797400970
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-36-15.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-36-15.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-36-15.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-36-15.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-36-15.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-36-15.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-36-15.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-36-15.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-36-15.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-36-15.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763739311.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-36-15.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-36-15.raw.csv
Parsed throughput from summary.json: 3464.8816340013677
BenchBase wikipedia throughput: 3464.8816340013677
Configuration: {'autovacuum_analyze_scale_factor': 1.7293459462139533, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 66, 'autovacuum_naptime': 1275435, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 8799, 'autovacuum_vacuum_scale_factor': 72.99589671898103, 'autovacuum_vacuum_threshold': 2023268607, 'backend_flush_after': 16, 'bgwriter_delay': 2838, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 574, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.28695090370241894, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 1845, 'commit_delay': 36231, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5154, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 601, 'from_collapse_limit': 1883153920, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1345847039, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 251710801, 'join_collapse_limit': 89813696, 'maintenance_work_mem': 957667097, 'max_connections': 1716, 'max_wal_senders': 22, 'shared_buffers': 424846, 'temp_buffers': 65441441, 'temp_file_limit': 90191583, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4378, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 1446, 'wal_writer_delay': 9009, 'work_mem': 1797400970}, QPS: -3464.8816340013677
Performance (QPS): -3464.8816340013677
Evaluating configuration: {'autovacuum_analyze_scale_factor': 13.662745457047626, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1336998, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 8259, 'autovacuum_vacuum_scale_factor': 84.54752540963787, 'autovacuum_vacuum_threshold': 1941063295, 'backend_flush_after': 25, 'bgwriter_delay': 3036, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 480, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2479, 'commit_delay': 52688, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5493, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 564, 'from_collapse_limit': 1883153920, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1306415103, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 295185249, 'join_collapse_limit': 39036296, 'maintenance_work_mem': 957667097, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 254224, 'temp_buffers': 31856155, 'temp_file_limit': 4769605, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 4061, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7917, 'vacuum_cost_page_miss': 1124, 'wal_buffers': 921, 'wal_writer_delay': 9009, 'work_mem': 1797400970}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 13.662745457047626
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1336998
Set autovacuum_vacuum_cost_delay = 80
Set autovacuum_vacuum_cost_limit = 8259
Set autovacuum_vacuum_scale_factor = 84.54752540963787
Set autovacuum_vacuum_threshold = 1941063295
Set backend_flush_after = 25
Set bgwriter_delay = 3036
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 480
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 240
Set checkpoint_timeout = 2479
Set commit_delay = 52688
Set commit_siblings = 974
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 5493
Set effective_cache_size = 1374450688
Set effective_io_concurrency = 564
Set from_collapse_limit = 1883153920
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1306415103
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 295185249
Set join_collapse_limit = 39036296
Set maintenance_work_mem = 957667097
Set max_connections = 1818
Set max_wal_senders = 22
Set shared_buffers = 254224
Set temp_buffers = 31856155
Set temp_file_limit = 4769605
Set vacuum_cost_delay = 79
Set vacuum_cost_limit = 4061
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 7917
Set vacuum_cost_page_miss = 1124
Set wal_buffers = 921
Set wal_writer_delay = 9009
Set work_mem = 1797400970
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-37-53.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-37-53.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-37-53.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-37-53.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-37-53.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-37-53.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-37-53.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-37-53.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-37-53.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-37-53.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763739410.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-37-53.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-37-53.samples.csv
Parsed throughput from summary.json: 3529.5995148216575
BenchBase wikipedia throughput: 3529.5995148216575
Configuration: {'autovacuum_analyze_scale_factor': 13.662745457047626, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1336998, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 8259, 'autovacuum_vacuum_scale_factor': 84.54752540963787, 'autovacuum_vacuum_threshold': 1941063295, 'backend_flush_after': 25, 'bgwriter_delay': 3036, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 480, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2479, 'commit_delay': 52688, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5493, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 564, 'from_collapse_limit': 1883153920, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1306415103, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 295185249, 'join_collapse_limit': 39036296, 'maintenance_work_mem': 957667097, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 254224, 'temp_buffers': 31856155, 'temp_file_limit': 4769605, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 4061, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7917, 'vacuum_cost_page_miss': 1124, 'wal_buffers': 921, 'wal_writer_delay': 9009, 'work_mem': 1797400970}, QPS: -3529.5995148216575
Performance (QPS): -3529.5995148216575
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 861575168, 'autovacuum_max_workers': 74, 'autovacuum_naptime': 1259508, 'autovacuum_vacuum_cost_delay': 84, 'autovacuum_vacuum_cost_limit': 8785, 'autovacuum_vacuum_scale_factor': 84.98581753977732, 'autovacuum_vacuum_threshold': 1863794559, 'backend_flush_after': 10, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 183, 'bgwriter_lru_maxpages': 531, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3337661242429208, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2043, 'commit_delay': 36231, 'commit_siblings': 982, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1425042944, 'default_statistics_target': 5340, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 477, 'from_collapse_limit': 1883153920, 'geqo_effort': 9, 'geqo_generations': 205843840, 'geqo_pool_size': 1308361215, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 312407169, 'join_collapse_limit': 64837632, 'maintenance_work_mem': 847529771, 'max_connections': 1749, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 31949605, 'temp_file_limit': 103994215, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7895, 'vacuum_cost_page_miss': 662, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 2107634433}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 861575168
Set autovacuum_max_workers = 74
Set autovacuum_naptime = 1259508
Set autovacuum_vacuum_cost_delay = 84
Set autovacuum_vacuum_cost_limit = 8785
Set autovacuum_vacuum_scale_factor = 84.98581753977732
Set autovacuum_vacuum_threshold = 1863794559
Set backend_flush_after = 10
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 183
Set bgwriter_lru_maxpages = 531
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3337661242429208
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2043
Set commit_delay = 36231
Set commit_siblings = 982
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1425042944
Set default_statistics_target = 5340
Set effective_cache_size = 1233596416
Set effective_io_concurrency = 477
Set from_collapse_limit = 1883153920
Set geqo_effort = 9
Set geqo_generations = 205843840
Set geqo_pool_size = 1308361215
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 312407169
Set join_collapse_limit = 64837632
Set maintenance_work_mem = 847529771
Set max_connections = 1749
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 31949605
Set temp_file_limit = 103994215
Set vacuum_cost_delay = 60
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 7895
Set vacuum_cost_page_miss = 662
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 2107634433
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-39-32.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-39-32.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-39-32.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-39-32.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-39-32.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-39-32.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763739509.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-39-32.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-39-32.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-39-32.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-39-32.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-39-32.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-39-32.results.UpdatePage.csv
Parsed throughput from summary.json: 3388.0090201904627
BenchBase wikipedia throughput: 3388.0090201904627
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 861575168, 'autovacuum_max_workers': 74, 'autovacuum_naptime': 1259508, 'autovacuum_vacuum_cost_delay': 84, 'autovacuum_vacuum_cost_limit': 8785, 'autovacuum_vacuum_scale_factor': 84.98581753977732, 'autovacuum_vacuum_threshold': 1863794559, 'backend_flush_after': 10, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 183, 'bgwriter_lru_maxpages': 531, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3337661242429208, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2043, 'commit_delay': 36231, 'commit_siblings': 982, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1425042944, 'default_statistics_target': 5340, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 477, 'from_collapse_limit': 1883153920, 'geqo_effort': 9, 'geqo_generations': 205843840, 'geqo_pool_size': 1308361215, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 312407169, 'join_collapse_limit': 64837632, 'maintenance_work_mem': 847529771, 'max_connections': 1749, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 31949605, 'temp_file_limit': 103994215, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7895, 'vacuum_cost_page_miss': 662, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 2107634433}, QPS: -3388.0090201904627
Performance (QPS): -3388.0090201904627
Evaluating configuration: {'autovacuum_analyze_scale_factor': 13.662745457047626, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 58, 'autovacuum_naptime': 1336998, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 8428, 'autovacuum_vacuum_scale_factor': 75.23125839954288, 'autovacuum_vacuum_threshold': 1941063295, 'backend_flush_after': 18, 'bgwriter_delay': 3036, 'bgwriter_flush_after': 199, 'bgwriter_lru_maxpages': 480, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.23889788338068763, 'checkpoint_flush_after': 256, 'checkpoint_timeout': 2823, 'commit_delay': 52688, 'commit_siblings': 948, 'cursor_tuple_fraction': 0.11105184746872805, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5493, 'effective_cache_size': 1277550336, 'effective_io_concurrency': 581, 'from_collapse_limit': 1778883840, 'geqo_effort': 5, 'geqo_generations': 159642294, 'geqo_pool_size': 1306415103, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 295185249, 'join_collapse_limit': 18528256, 'maintenance_work_mem': 957667097, 'max_connections': 1818, 'max_wal_senders': 29, 'shared_buffers': 254224, 'temp_buffers': 31849859, 'temp_file_limit': 45453259, 'vacuum_cost_delay': 61, 'vacuum_cost_limit': 4061, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7917, 'vacuum_cost_page_miss': 580, 'wal_buffers': 921, 'wal_writer_delay': 9009, 'work_mem': 1797400970}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 13.662745457047626
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 58
Set autovacuum_naptime = 1336998
Set autovacuum_vacuum_cost_delay = 86
Set autovacuum_vacuum_cost_limit = 8428
Set autovacuum_vacuum_scale_factor = 75.23125839954288
Set autovacuum_vacuum_threshold = 1941063295
Set backend_flush_after = 18
Set bgwriter_delay = 3036
Set bgwriter_flush_after = 199
Set bgwriter_lru_maxpages = 480
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.23889788338068763
Set checkpoint_flush_after = 256
Set checkpoint_timeout = 2823
Set commit_delay = 52688
Set commit_siblings = 948
Set cursor_tuple_fraction = 0.11105184746872805
Set deadlock_timeout = 1408939122
Set default_statistics_target = 5493
Set effective_cache_size = 1277550336
Set effective_io_concurrency = 581
Set from_collapse_limit = 1778883840
Set geqo_effort = 5
Set geqo_generations = 159642294
Set geqo_pool_size = 1306415103
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 295185249
Set join_collapse_limit = 18528256
Set maintenance_work_mem = 957667097
Set max_connections = 1818
Set max_wal_senders = 29
Set shared_buffers = 254224
Set temp_buffers = 31849859
Set temp_file_limit = 45453259
Set vacuum_cost_delay = 61
Set vacuum_cost_limit = 4061
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 7917
Set vacuum_cost_page_miss = 580
Set wal_buffers = 921
Set wal_writer_delay = 9009
Set work_mem = 1797400970
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-41-12.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-41-12.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-41-12.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-41-12.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-41-12.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-41-12.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-41-12.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763739608.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-41-12.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-41-12.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-41-12.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-41-12.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-41-12.config.xml
Parsed throughput from summary.json: 3481.3009662291574
BenchBase wikipedia throughput: 3481.3009662291574
Configuration: {'autovacuum_analyze_scale_factor': 13.662745457047626, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 58, 'autovacuum_naptime': 1336998, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 8428, 'autovacuum_vacuum_scale_factor': 75.23125839954288, 'autovacuum_vacuum_threshold': 1941063295, 'backend_flush_after': 18, 'bgwriter_delay': 3036, 'bgwriter_flush_after': 199, 'bgwriter_lru_maxpages': 480, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.23889788338068763, 'checkpoint_flush_after': 256, 'checkpoint_timeout': 2823, 'commit_delay': 52688, 'commit_siblings': 948, 'cursor_tuple_fraction': 0.11105184746872805, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5493, 'effective_cache_size': 1277550336, 'effective_io_concurrency': 581, 'from_collapse_limit': 1778883840, 'geqo_effort': 5, 'geqo_generations': 159642294, 'geqo_pool_size': 1306415103, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 295185249, 'join_collapse_limit': 18528256, 'maintenance_work_mem': 957667097, 'max_connections': 1818, 'max_wal_senders': 29, 'shared_buffers': 254224, 'temp_buffers': 31849859, 'temp_file_limit': 45453259, 'vacuum_cost_delay': 61, 'vacuum_cost_limit': 4061, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7917, 'vacuum_cost_page_miss': 580, 'wal_buffers': 921, 'wal_writer_delay': 9009, 'work_mem': 1797400970}, QPS: -3481.3009662291574
Performance (QPS): -3481.3009662291574
Evaluating configuration: {'autovacuum_analyze_scale_factor': 27.00477457612879, 'autovacuum_analyze_threshold': 536256675, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 609938, 'autovacuum_vacuum_cost_delay': 78, 'autovacuum_vacuum_cost_limit': 842, 'autovacuum_vacuum_scale_factor': 23.911842624516787, 'autovacuum_vacuum_threshold': 3560620, 'backend_flush_after': 115, 'bgwriter_delay': 5758, 'bgwriter_flush_after': 149, 'bgwriter_lru_maxpages': 471, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9915136661083582, 'checkpoint_flush_after': 113, 'checkpoint_timeout': 727, 'commit_delay': 72319, 'commit_siblings': 779, 'cursor_tuple_fraction': 0.619250097571182, 'deadlock_timeout': 1763509000, 'default_statistics_target': 3785, 'effective_cache_size': 753086396, 'effective_io_concurrency': 656, 'from_collapse_limit': 721087212, 'geqo_effort': 8, 'geqo_generations': 1946853352, 'geqo_pool_size': 304870493, 'geqo_seed': 0.6464776844747565, 'geqo_threshold': 326566308, 'join_collapse_limit': 956418845, 'maintenance_work_mem': 1606018377, 'max_connections': 1751, 'max_wal_senders': 29, 'shared_buffers': 2096611, 'temp_buffers': 68715766, 'temp_file_limit': 1656760602, 'vacuum_cost_delay': 16, 'vacuum_cost_limit': 181, 'vacuum_cost_page_dirty': 7605, 'vacuum_cost_page_hit': 7396, 'vacuum_cost_page_miss': 5254, 'wal_buffers': 120538, 'wal_writer_delay': 3611, 'work_mem': 1438007939}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 27.00477457612879
Set autovacuum_analyze_threshold = 536256675
Set autovacuum_max_workers = 3
Set autovacuum_naptime = 609938
Set autovacuum_vacuum_cost_delay = 78
Set autovacuum_vacuum_cost_limit = 842
Set autovacuum_vacuum_scale_factor = 23.911842624516787
Set autovacuum_vacuum_threshold = 3560620
Set backend_flush_after = 115
Set bgwriter_delay = 5758
Set bgwriter_flush_after = 149
Set bgwriter_lru_maxpages = 471
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.9915136661083582
Set checkpoint_flush_after = 113
Set checkpoint_timeout = 727
Set commit_delay = 72319
Set commit_siblings = 779
Set cursor_tuple_fraction = 0.619250097571182
Set deadlock_timeout = 1763509000
Set default_statistics_target = 3785
Set effective_cache_size = 753086396
Set effective_io_concurrency = 656
Set from_collapse_limit = 721087212
Set geqo_effort = 8
Set geqo_generations = 1946853352
Set geqo_pool_size = 304870493
Set geqo_seed = 0.6464776844747565
Set geqo_threshold = 326566308
Set join_collapse_limit = 956418845
Set maintenance_work_mem = 1606018377
Set max_connections = 1751
Set max_wal_senders = 29
Set shared_buffers = 2096611
Set temp_buffers = 68715766
Set temp_file_limit = 1656760602
Set vacuum_cost_delay = 16
Set vacuum_cost_limit = 181
Set vacuum_cost_page_dirty = 7605
Set vacuum_cost_page_hit = 7396
Set vacuum_cost_page_miss = 5254
Set wal_buffers = 120538
Set wal_writer_delay = 3611
Set work_mem = 1438007939
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763739703.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-42-46.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-42-46.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-42-46.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-42-46.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-42-46.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-42-46.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-42-46.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-42-46.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-42-46.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-42-46.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-42-46.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-42-46.config.xml
Parsed throughput from summary.json: 3420.288011060212
BenchBase wikipedia throughput: 3420.288011060212
Configuration: {'autovacuum_analyze_scale_factor': 27.00477457612879, 'autovacuum_analyze_threshold': 536256675, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 609938, 'autovacuum_vacuum_cost_delay': 78, 'autovacuum_vacuum_cost_limit': 842, 'autovacuum_vacuum_scale_factor': 23.911842624516787, 'autovacuum_vacuum_threshold': 3560620, 'backend_flush_after': 115, 'bgwriter_delay': 5758, 'bgwriter_flush_after': 149, 'bgwriter_lru_maxpages': 471, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9915136661083582, 'checkpoint_flush_after': 113, 'checkpoint_timeout': 727, 'commit_delay': 72319, 'commit_siblings': 779, 'cursor_tuple_fraction': 0.619250097571182, 'deadlock_timeout': 1763509000, 'default_statistics_target': 3785, 'effective_cache_size': 753086396, 'effective_io_concurrency': 656, 'from_collapse_limit': 721087212, 'geqo_effort': 8, 'geqo_generations': 1946853352, 'geqo_pool_size': 304870493, 'geqo_seed': 0.6464776844747565, 'geqo_threshold': 326566308, 'join_collapse_limit': 956418845, 'maintenance_work_mem': 1606018377, 'max_connections': 1751, 'max_wal_senders': 29, 'shared_buffers': 2096611, 'temp_buffers': 68715766, 'temp_file_limit': 1656760602, 'vacuum_cost_delay': 16, 'vacuum_cost_limit': 181, 'vacuum_cost_page_dirty': 7605, 'vacuum_cost_page_hit': 7396, 'vacuum_cost_page_miss': 5254, 'wal_buffers': 120538, 'wal_writer_delay': 3611, 'work_mem': 1438007939}, QPS: -3420.288011060212
Performance (QPS): -3420.288011060212
Evaluating configuration: {'autovacuum_analyze_scale_factor': 1.9202327701167101, 'autovacuum_analyze_threshold': 674783616, 'autovacuum_max_workers': 74, 'autovacuum_naptime': 1073744, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 8785, 'autovacuum_vacuum_scale_factor': 78.46276249799762, 'autovacuum_vacuum_threshold': 1977993727, 'backend_flush_after': 31, 'bgwriter_delay': 3181, 'bgwriter_flush_after': 189, 'bgwriter_lru_maxpages': 531, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.33973394476090785, 'checkpoint_flush_after': 182, 'checkpoint_timeout': 2043, 'commit_delay': 31233, 'commit_siblings': 982, 'cursor_tuple_fraction': 0.1693522531489846, 'deadlock_timeout': 1425042944, 'default_statistics_target': 5340, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 510, 'from_collapse_limit': 1998679040, 'geqo_effort': 8, 'geqo_generations': 195996976, 'geqo_pool_size': 1308361215, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 312407169, 'join_collapse_limit': 10568686, 'maintenance_work_mem': 847529771, 'max_connections': 1825, 'max_wal_senders': 22, 'shared_buffers': 103160, 'temp_buffers': 31707963, 'temp_file_limit': 103994215, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 3857, 'vacuum_cost_page_hit': 8384, 'vacuum_cost_page_miss': 662, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 2107634433}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 1.9202327701167101
Set autovacuum_analyze_threshold = 674783616
Set autovacuum_max_workers = 74
Set autovacuum_naptime = 1073744
Set autovacuum_vacuum_cost_delay = 91
Set autovacuum_vacuum_cost_limit = 8785
Set autovacuum_vacuum_scale_factor = 78.46276249799762
Set autovacuum_vacuum_threshold = 1977993727
Set backend_flush_after = 31
Set bgwriter_delay = 3181
Set bgwriter_flush_after = 189
Set bgwriter_lru_maxpages = 531
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.33973394476090785
Set checkpoint_flush_after = 182
Set checkpoint_timeout = 2043
Set commit_delay = 31233
Set commit_siblings = 982
Set cursor_tuple_fraction = 0.1693522531489846
Set deadlock_timeout = 1425042944
Set default_statistics_target = 5340
Set effective_cache_size = 1233596416
Set effective_io_concurrency = 510
Set from_collapse_limit = 1998679040
Set geqo_effort = 8
Set geqo_generations = 195996976
Set geqo_pool_size = 1308361215
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 312407169
Set join_collapse_limit = 10568686
Set maintenance_work_mem = 847529771
Set max_connections = 1825
Set max_wal_senders = 22
Set shared_buffers = 103160
Set temp_buffers = 31707963
Set temp_file_limit = 103994215
Set vacuum_cost_delay = 51
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 3857
Set vacuum_cost_page_hit = 8384
Set vacuum_cost_page_miss = 662
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 2107634433
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-44-26.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-44-26.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-44-26.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-44-26.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-44-26.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-44-26.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-44-26.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763739802.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-44-26.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-44-26.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-44-26.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-44-26.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-44-26.config.xml
Parsed throughput from summary.json: 3308.3469556543037
BenchBase wikipedia throughput: 3308.3469556543037
Configuration: {'autovacuum_analyze_scale_factor': 1.9202327701167101, 'autovacuum_analyze_threshold': 674783616, 'autovacuum_max_workers': 74, 'autovacuum_naptime': 1073744, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 8785, 'autovacuum_vacuum_scale_factor': 78.46276249799762, 'autovacuum_vacuum_threshold': 1977993727, 'backend_flush_after': 31, 'bgwriter_delay': 3181, 'bgwriter_flush_after': 189, 'bgwriter_lru_maxpages': 531, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.33973394476090785, 'checkpoint_flush_after': 182, 'checkpoint_timeout': 2043, 'commit_delay': 31233, 'commit_siblings': 982, 'cursor_tuple_fraction': 0.1693522531489846, 'deadlock_timeout': 1425042944, 'default_statistics_target': 5340, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 510, 'from_collapse_limit': 1998679040, 'geqo_effort': 8, 'geqo_generations': 195996976, 'geqo_pool_size': 1308361215, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 312407169, 'join_collapse_limit': 10568686, 'maintenance_work_mem': 847529771, 'max_connections': 1825, 'max_wal_senders': 22, 'shared_buffers': 103160, 'temp_buffers': 31707963, 'temp_file_limit': 103994215, 'vacuum_cost_delay': 51, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 3857, 'vacuum_cost_page_hit': 8384, 'vacuum_cost_page_miss': 662, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 2107634433}, QPS: -3308.3469556543037
Performance (QPS): -3308.3469556543037
Evaluating configuration: {'autovacuum_analyze_scale_factor': 97.48533805109696, 'autovacuum_analyze_threshold': 261960011, 'autovacuum_max_workers': 107, 'autovacuum_naptime': 1415273, 'autovacuum_vacuum_cost_delay': 6, 'autovacuum_vacuum_cost_limit': 7692, 'autovacuum_vacuum_scale_factor': 97.3910289105047, 'autovacuum_vacuum_threshold': 1005228102, 'backend_flush_after': 246, 'bgwriter_delay': 50, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 202, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.14350444934262518, 'checkpoint_flush_after': 123, 'checkpoint_timeout': 2716, 'commit_delay': 70527, 'commit_siblings': 854, 'cursor_tuple_fraction': 0.4622821974973039, 'deadlock_timeout': 497595195, 'default_statistics_target': 2280, 'effective_cache_size': 1539099564, 'effective_io_concurrency': 570, 'from_collapse_limit': 591221307, 'geqo_effort': 2, 'geqo_generations': 307812043, 'geqo_pool_size': 1443680186, 'geqo_seed': 0.5990665068638162, 'geqo_threshold': 1307475392, 'join_collapse_limit': 1913364622, 'maintenance_work_mem': 1894627036, 'max_connections': 2391, 'max_wal_senders': 45, 'shared_buffers': 535308, 'temp_buffers': 1003208115, 'temp_file_limit': 1163338132, 'vacuum_cost_delay': 0, 'vacuum_cost_limit': 6825, 'vacuum_cost_page_dirty': 5924, 'vacuum_cost_page_hit': 5397, 'vacuum_cost_page_miss': 9036, 'wal_buffers': 130320, 'wal_writer_delay': 9363, 'work_mem': 962348787}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 97.48533805109696
Set autovacuum_analyze_threshold = 261960011
Set autovacuum_max_workers = 107
Set autovacuum_naptime = 1415273
Set autovacuum_vacuum_cost_delay = 6
Set autovacuum_vacuum_cost_limit = 7692
Set autovacuum_vacuum_scale_factor = 97.3910289105047
Set autovacuum_vacuum_threshold = 1005228102
Set backend_flush_after = 246
Set bgwriter_delay = 50
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 202
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.14350444934262518
Set checkpoint_flush_after = 123
Set checkpoint_timeout = 2716
Set commit_delay = 70527
Set commit_siblings = 854
Set cursor_tuple_fraction = 0.4622821974973039
Set deadlock_timeout = 497595195
Set default_statistics_target = 2280
Set effective_cache_size = 1539099564
Set effective_io_concurrency = 570
Set from_collapse_limit = 591221307
Set geqo_effort = 2
Set geqo_generations = 307812043
Set geqo_pool_size = 1443680186
Set geqo_seed = 0.5990665068638162
Set geqo_threshold = 1307475392
Set join_collapse_limit = 1913364622
Set maintenance_work_mem = 1894627036
Set max_connections = 2391
Set max_wal_senders = 45
Set shared_buffers = 535308
Set temp_buffers = 1003208115
Set temp_file_limit = 1163338132
Set vacuum_cost_delay = 0
Set vacuum_cost_limit = 6825
Set vacuum_cost_page_dirty = 5924
Set vacuum_cost_page_hit = 5397
Set vacuum_cost_page_miss = 9036
Set wal_buffers = 130320
Set wal_writer_delay = 9363
Set work_mem = 962348787
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-46-01.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-46-01.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763739897.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-46-01.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-46-01.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-46-01.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-46-01.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-46-01.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-46-01.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-46-01.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-46-01.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-46-01.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-46-01.samples.csv
Parsed throughput from summary.json: 3345.6582750937523
BenchBase wikipedia throughput: 3345.6582750937523
Configuration: {'autovacuum_analyze_scale_factor': 97.48533805109696, 'autovacuum_analyze_threshold': 261960011, 'autovacuum_max_workers': 107, 'autovacuum_naptime': 1415273, 'autovacuum_vacuum_cost_delay': 6, 'autovacuum_vacuum_cost_limit': 7692, 'autovacuum_vacuum_scale_factor': 97.3910289105047, 'autovacuum_vacuum_threshold': 1005228102, 'backend_flush_after': 246, 'bgwriter_delay': 50, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 202, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.14350444934262518, 'checkpoint_flush_after': 123, 'checkpoint_timeout': 2716, 'commit_delay': 70527, 'commit_siblings': 854, 'cursor_tuple_fraction': 0.4622821974973039, 'deadlock_timeout': 497595195, 'default_statistics_target': 2280, 'effective_cache_size': 1539099564, 'effective_io_concurrency': 570, 'from_collapse_limit': 591221307, 'geqo_effort': 2, 'geqo_generations': 307812043, 'geqo_pool_size': 1443680186, 'geqo_seed': 0.5990665068638162, 'geqo_threshold': 1307475392, 'join_collapse_limit': 1913364622, 'maintenance_work_mem': 1894627036, 'max_connections': 2391, 'max_wal_senders': 45, 'shared_buffers': 535308, 'temp_buffers': 1003208115, 'temp_file_limit': 1163338132, 'vacuum_cost_delay': 0, 'vacuum_cost_limit': 6825, 'vacuum_cost_page_dirty': 5924, 'vacuum_cost_page_hit': 5397, 'vacuum_cost_page_miss': 9036, 'wal_buffers': 130320, 'wal_writer_delay': 9363, 'work_mem': 962348787}, QPS: -3345.6582750937523
Performance (QPS): -3345.6582750937523
Evaluating configuration: {'autovacuum_analyze_scale_factor': 10.012031756777887, 'autovacuum_analyze_threshold': 1085823616, 'autovacuum_max_workers': 47, 'autovacuum_naptime': 1259508, 'autovacuum_vacuum_cost_delay': 89, 'autovacuum_vacuum_cost_limit': 6855, 'autovacuum_vacuum_scale_factor': 84.66100893794322, 'autovacuum_vacuum_threshold': 1947689855, 'backend_flush_after': 5, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2013, 'commit_delay': 35115, 'commit_siblings': 982, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1441784704, 'default_statistics_target': 4511, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 557, 'from_collapse_limit': 1883153920, 'geqo_effort': 1, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.3480285627973835, 'geqo_threshold': 312407169, 'join_collapse_limit': 57369684, 'maintenance_work_mem': 870495776, 'max_connections': 1987, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 36281928, 'temp_file_limit': 168525999, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 3933, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 9189, 'vacuum_cost_page_miss': 694, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 2107634433}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 10.012031756777887
Set autovacuum_analyze_threshold = 1085823616
Set autovacuum_max_workers = 47
Set autovacuum_naptime = 1259508
Set autovacuum_vacuum_cost_delay = 89
Set autovacuum_vacuum_cost_limit = 6855
Set autovacuum_vacuum_scale_factor = 84.66100893794322
Set autovacuum_vacuum_threshold = 1947689855
Set backend_flush_after = 5
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 634
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.3212537337204705
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2013
Set commit_delay = 35115
Set commit_siblings = 982
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1441784704
Set default_statistics_target = 4511
Set effective_cache_size = 1233596416
Set effective_io_concurrency = 557
Set from_collapse_limit = 1883153920
Set geqo_effort = 1
Set geqo_generations = 159642294
Set geqo_pool_size = 1320010751
Set geqo_seed = 0.3480285627973835
Set geqo_threshold = 312407169
Set join_collapse_limit = 57369684
Set maintenance_work_mem = 870495776
Set max_connections = 1987
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 36281928
Set temp_file_limit = 168525999
Set vacuum_cost_delay = 60
Set vacuum_cost_limit = 3933
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 9189
Set vacuum_cost_page_miss = 694
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 2107634433
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-47-39.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-47-39.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-47-39.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-47-39.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-47-39.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-47-39.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-47-39.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-47-39.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-47-39.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763739996.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-47-39.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-47-39.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-47-39.results.UpdatePage.csv
Parsed throughput from summary.json: 3451.4644008938662
BenchBase wikipedia throughput: 3451.4644008938662
Configuration: {'autovacuum_analyze_scale_factor': 10.012031756777887, 'autovacuum_analyze_threshold': 1085823616, 'autovacuum_max_workers': 47, 'autovacuum_naptime': 1259508, 'autovacuum_vacuum_cost_delay': 89, 'autovacuum_vacuum_cost_limit': 6855, 'autovacuum_vacuum_scale_factor': 84.66100893794322, 'autovacuum_vacuum_threshold': 1947689855, 'backend_flush_after': 5, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2013, 'commit_delay': 35115, 'commit_siblings': 982, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1441784704, 'default_statistics_target': 4511, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 557, 'from_collapse_limit': 1883153920, 'geqo_effort': 1, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.3480285627973835, 'geqo_threshold': 312407169, 'join_collapse_limit': 57369684, 'maintenance_work_mem': 870495776, 'max_connections': 1987, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 36281928, 'temp_file_limit': 168525999, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 3933, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 9189, 'vacuum_cost_page_miss': 694, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 2107634433}, QPS: -3451.4644008938662
Performance (QPS): -3451.4644008938662
Evaluating configuration: {'autovacuum_analyze_scale_factor': 13.662745457047626, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 58, 'autovacuum_naptime': 1336998, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 8428, 'autovacuum_vacuum_scale_factor': 75.23125839954288, 'autovacuum_vacuum_threshold': 2081557119, 'backend_flush_after': 30, 'bgwriter_delay': 4043, 'bgwriter_flush_after': 199, 'bgwriter_lru_maxpages': 480, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.23889788338068763, 'checkpoint_flush_after': 239, 'checkpoint_timeout': 2823, 'commit_delay': 52688, 'commit_siblings': 917, 'cursor_tuple_fraction': 0.11105184746872805, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4774, 'effective_cache_size': 1474984448, 'effective_io_concurrency': 581, 'from_collapse_limit': 1778883840, 'geqo_effort': 7, 'geqo_generations': 159642294, 'geqo_pool_size': 1194074367, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 295185249, 'join_collapse_limit': 22614234, 'maintenance_work_mem': 922464328, 'max_connections': 1818, 'max_wal_senders': 29, 'shared_buffers': 207049, 'temp_buffers': 31465315, 'temp_file_limit': 92524719, 'vacuum_cost_delay': 61, 'vacuum_cost_limit': 4445, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 8547, 'vacuum_cost_page_miss': 220, 'wal_buffers': 2131, 'wal_writer_delay': 9697, 'work_mem': 1660723726}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 13.662745457047626
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 58
Set autovacuum_naptime = 1336998
Set autovacuum_vacuum_cost_delay = 80
Set autovacuum_vacuum_cost_limit = 8428
Set autovacuum_vacuum_scale_factor = 75.23125839954288
Set autovacuum_vacuum_threshold = 2081557119
Set backend_flush_after = 30
Set bgwriter_delay = 4043
Set bgwriter_flush_after = 199
Set bgwriter_lru_maxpages = 480
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.23889788338068763
Set checkpoint_flush_after = 239
Set checkpoint_timeout = 2823
Set commit_delay = 52688
Set commit_siblings = 917
Set cursor_tuple_fraction = 0.11105184746872805
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4774
Set effective_cache_size = 1474984448
Set effective_io_concurrency = 581
Set from_collapse_limit = 1778883840
Set geqo_effort = 7
Set geqo_generations = 159642294
Set geqo_pool_size = 1194074367
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 295185249
Set join_collapse_limit = 22614234
Set maintenance_work_mem = 922464328
Set max_connections = 1818
Set max_wal_senders = 29
Set shared_buffers = 207049
Set temp_buffers = 31465315
Set temp_file_limit = 92524719
Set vacuum_cost_delay = 61
Set vacuum_cost_limit = 4445
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 8547
Set vacuum_cost_page_miss = 220
Set wal_buffers = 2131
Set wal_writer_delay = 9697
Set work_mem = 1660723726
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-49-18.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-49-18.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-49-18.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-49-18.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-49-18.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-49-18.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-49-18.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-49-18.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-49-18.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763740094.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-49-18.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-49-18.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-49-18.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 3593.897444510982
BenchBase wikipedia throughput: 3593.897444510982
Configuration: {'autovacuum_analyze_scale_factor': 13.662745457047626, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 58, 'autovacuum_naptime': 1336998, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 8428, 'autovacuum_vacuum_scale_factor': 75.23125839954288, 'autovacuum_vacuum_threshold': 2081557119, 'backend_flush_after': 30, 'bgwriter_delay': 4043, 'bgwriter_flush_after': 199, 'bgwriter_lru_maxpages': 480, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.23889788338068763, 'checkpoint_flush_after': 239, 'checkpoint_timeout': 2823, 'commit_delay': 52688, 'commit_siblings': 917, 'cursor_tuple_fraction': 0.11105184746872805, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4774, 'effective_cache_size': 1474984448, 'effective_io_concurrency': 581, 'from_collapse_limit': 1778883840, 'geqo_effort': 7, 'geqo_generations': 159642294, 'geqo_pool_size': 1194074367, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 295185249, 'join_collapse_limit': 22614234, 'maintenance_work_mem': 922464328, 'max_connections': 1818, 'max_wal_senders': 29, 'shared_buffers': 207049, 'temp_buffers': 31465315, 'temp_file_limit': 92524719, 'vacuum_cost_delay': 61, 'vacuum_cost_limit': 4445, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 8547, 'vacuum_cost_page_miss': 220, 'wal_buffers': 2131, 'wal_writer_delay': 9697, 'work_mem': 1660723726}, QPS: -3593.897444510982
Performance (QPS): -3593.897444510982
Evaluating configuration: {'autovacuum_analyze_scale_factor': 13.436446485566963, 'autovacuum_analyze_threshold': 587582336, 'autovacuum_max_workers': 47, 'autovacuum_naptime': 1126108, 'autovacuum_vacuum_cost_delay': 84, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 81.80712264763208, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 24, 'bgwriter_delay': 3376, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2404, 'commit_delay': 34076, 'commit_siblings': 971, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1449986944, 'effective_io_concurrency': 454, 'from_collapse_limit': 1658725504, 'geqo_effort': 2, 'geqo_generations': 178408704, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 78386377, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1617, 'max_wal_senders': 22, 'shared_buffers': 291732, 'temp_buffers': 30947275, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 58, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4689, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 204, 'wal_buffers': 3422, 'wal_writer_delay': 9009, 'work_mem': 1802706954}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 13.436446485566963
Set autovacuum_analyze_threshold = 587582336
Set autovacuum_max_workers = 47
Set autovacuum_naptime = 1126108
Set autovacuum_vacuum_cost_delay = 84
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 81.80712264763208
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 24
Set bgwriter_delay = 3376
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2404
Set commit_delay = 34076
Set commit_siblings = 971
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4358
Set effective_cache_size = 1449986944
Set effective_io_concurrency = 454
Set from_collapse_limit = 1658725504
Set geqo_effort = 2
Set geqo_generations = 178408704
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 78386377
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1617
Set max_wal_senders = 22
Set shared_buffers = 291732
Set temp_buffers = 30947275
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 58
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4689
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 204
Set wal_buffers = 3422
Set wal_writer_delay = 9009
Set work_mem = 1802706954
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-50-51.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-50-51.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-50-51.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-50-51.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-50-51.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763740188.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-50-51.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-50-51.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-50-51.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-50-51.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-50-51.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-50-51.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-50-51.raw.csv
Parsed throughput from summary.json: 3524.666533989637
BenchBase wikipedia throughput: 3524.666533989637
Configuration: {'autovacuum_analyze_scale_factor': 13.436446485566963, 'autovacuum_analyze_threshold': 587582336, 'autovacuum_max_workers': 47, 'autovacuum_naptime': 1126108, 'autovacuum_vacuum_cost_delay': 84, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 81.80712264763208, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 24, 'bgwriter_delay': 3376, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2404, 'commit_delay': 34076, 'commit_siblings': 971, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1449986944, 'effective_io_concurrency': 454, 'from_collapse_limit': 1658725504, 'geqo_effort': 2, 'geqo_generations': 178408704, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 78386377, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1617, 'max_wal_senders': 22, 'shared_buffers': 291732, 'temp_buffers': 30947275, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 58, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4689, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 204, 'wal_buffers': 3422, 'wal_writer_delay': 9009, 'work_mem': 1802706954}, QPS: -3524.666533989637
Performance (QPS): -3524.666533989637
Evaluating configuration: {'autovacuum_analyze_scale_factor': 46.17268207361144, 'autovacuum_analyze_threshold': 1604783104, 'autovacuum_max_workers': 90, 'autovacuum_naptime': 520267, 'autovacuum_vacuum_cost_delay': 54, 'autovacuum_vacuum_cost_limit': 439, 'autovacuum_vacuum_scale_factor': 82.26414648746506, 'autovacuum_vacuum_threshold': 1622815539, 'backend_flush_after': 120, 'bgwriter_delay': 3178, 'bgwriter_flush_after': 19, 'bgwriter_lru_maxpages': 821, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.2935173094006076, 'checkpoint_flush_after': 145, 'checkpoint_timeout': 232, 'commit_delay': 58798, 'commit_siblings': 818, 'cursor_tuple_fraction': 0.6393360725403655, 'deadlock_timeout': 1107628010, 'default_statistics_target': 4606, 'effective_cache_size': 1455176760, 'effective_io_concurrency': 92, 'from_collapse_limit': 1813483013, 'geqo_effort': 5, 'geqo_generations': 626754536, 'geqo_pool_size': 629790613, 'geqo_seed': 0.873165978188306, 'geqo_threshold': 1391418404, 'join_collapse_limit': 1095821010, 'maintenance_work_mem': 99452514, 'max_connections': 1120, 'max_wal_senders': 18, 'shared_buffers': 2199838, 'temp_buffers': 676348134, 'temp_file_limit': 1094858609, 'vacuum_cost_delay': 56, 'vacuum_cost_limit': 4349, 'vacuum_cost_page_dirty': 8213, 'vacuum_cost_page_hit': 4474, 'vacuum_cost_page_miss': 5740, 'wal_buffers': 106616, 'wal_writer_delay': 8003, 'work_mem': 1461472547}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 46.17268207361144
Set autovacuum_analyze_threshold = 1604783104
Set autovacuum_max_workers = 90
Set autovacuum_naptime = 520267
Set autovacuum_vacuum_cost_delay = 54
Set autovacuum_vacuum_cost_limit = 439
Set autovacuum_vacuum_scale_factor = 82.26414648746506
Set autovacuum_vacuum_threshold = 1622815539
Set backend_flush_after = 120
Set bgwriter_delay = 3178
Set bgwriter_flush_after = 19
Set bgwriter_lru_maxpages = 821
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.2935173094006076
Set checkpoint_flush_after = 145
Set checkpoint_timeout = 232
Set commit_delay = 58798
Set commit_siblings = 818
Set cursor_tuple_fraction = 0.6393360725403655
Set deadlock_timeout = 1107628010
Set default_statistics_target = 4606
Set effective_cache_size = 1455176760
Set effective_io_concurrency = 92
Set from_collapse_limit = 1813483013
Set geqo_effort = 5
Set geqo_generations = 626754536
Set geqo_pool_size = 629790613
Set geqo_seed = 0.873165978188306
Set geqo_threshold = 1391418404
Set join_collapse_limit = 1095821010
Set maintenance_work_mem = 99452514
Set max_connections = 1120
Set max_wal_senders = 18
Set shared_buffers = 2199838
Set temp_buffers = 676348134
Set temp_file_limit = 1094858609
Set vacuum_cost_delay = 56
Set vacuum_cost_limit = 4349
Set vacuum_cost_page_dirty = 8213
Set vacuum_cost_page_hit = 4474
Set vacuum_cost_page_miss = 5740
Set wal_buffers = 106616
Set wal_writer_delay = 8003
Set work_mem = 1461472547
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763740282.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-52-25.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-52-25.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-52-25.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-52-25.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-52-25.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-52-25.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-52-25.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-52-25.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-52-25.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-52-25.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-52-25.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-52-25.raw.csv
Parsed throughput from summary.json: 3478.299598180714
BenchBase wikipedia throughput: 3478.299598180714
Configuration: {'autovacuum_analyze_scale_factor': 46.17268207361144, 'autovacuum_analyze_threshold': 1604783104, 'autovacuum_max_workers': 90, 'autovacuum_naptime': 520267, 'autovacuum_vacuum_cost_delay': 54, 'autovacuum_vacuum_cost_limit': 439, 'autovacuum_vacuum_scale_factor': 82.26414648746506, 'autovacuum_vacuum_threshold': 1622815539, 'backend_flush_after': 120, 'bgwriter_delay': 3178, 'bgwriter_flush_after': 19, 'bgwriter_lru_maxpages': 821, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.2935173094006076, 'checkpoint_flush_after': 145, 'checkpoint_timeout': 232, 'commit_delay': 58798, 'commit_siblings': 818, 'cursor_tuple_fraction': 0.6393360725403655, 'deadlock_timeout': 1107628010, 'default_statistics_target': 4606, 'effective_cache_size': 1455176760, 'effective_io_concurrency': 92, 'from_collapse_limit': 1813483013, 'geqo_effort': 5, 'geqo_generations': 626754536, 'geqo_pool_size': 629790613, 'geqo_seed': 0.873165978188306, 'geqo_threshold': 1391418404, 'join_collapse_limit': 1095821010, 'maintenance_work_mem': 99452514, 'max_connections': 1120, 'max_wal_senders': 18, 'shared_buffers': 2199838, 'temp_buffers': 676348134, 'temp_file_limit': 1094858609, 'vacuum_cost_delay': 56, 'vacuum_cost_limit': 4349, 'vacuum_cost_page_dirty': 8213, 'vacuum_cost_page_hit': 4474, 'vacuum_cost_page_miss': 5740, 'wal_buffers': 106616, 'wal_writer_delay': 8003, 'work_mem': 1461472547}, QPS: -3478.299598180714
Performance (QPS): -3478.299598180714
Evaluating configuration: {'autovacuum_analyze_scale_factor': 10.012031756777887, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1412011, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 1947689855, 'backend_flush_after': 5, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 205, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2206, 'commit_delay': 26000, 'commit_siblings': 1000, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1819760640, 'default_statistics_target': 2920, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 568, 'from_collapse_limit': 1791037440, 'geqo_effort': 7, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.3480285627973835, 'geqo_threshold': 105486297, 'join_collapse_limit': 57369684, 'maintenance_work_mem': 870495776, 'max_connections': 1987, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 30782451, 'temp_file_limit': 22096091, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 8198, 'vacuum_cost_page_miss': 788, 'wal_buffers': 1416, 'wal_writer_delay': 8601, 'work_mem': 2107634433}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 10.012031756777887
Set autovacuum_analyze_threshold = 1094279679
Set autovacuum_max_workers = 48
Set autovacuum_naptime = 1412011
Set autovacuum_vacuum_cost_delay = 82
Set autovacuum_vacuum_cost_limit = 6982
Set autovacuum_vacuum_scale_factor = 87.44530657703532
Set autovacuum_vacuum_threshold = 1947689855
Set backend_flush_after = 5
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 205
Set bgwriter_lru_maxpages = 634
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.3212537337204705
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2206
Set commit_delay = 26000
Set commit_siblings = 1000
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1819760640
Set default_statistics_target = 2920
Set effective_cache_size = 1233596416
Set effective_io_concurrency = 568
Set from_collapse_limit = 1791037440
Set geqo_effort = 7
Set geqo_generations = 159642294
Set geqo_pool_size = 1320010751
Set geqo_seed = 0.3480285627973835
Set geqo_threshold = 105486297
Set join_collapse_limit = 57369684
Set maintenance_work_mem = 870495776
Set max_connections = 1987
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 30782451
Set temp_file_limit = 22096091
Set vacuum_cost_delay = 60
Set vacuum_cost_limit = 4652
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 8198
Set vacuum_cost_page_miss = 788
Set wal_buffers = 1416
Set wal_writer_delay = 8601
Set work_mem = 2107634433
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-54-05.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-54-05.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-54-05.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-54-05.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-54-05.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-54-05.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-54-05.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763740381.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-54-05.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-54-05.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-54-05.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-54-05.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-54-05.results.AddWatchList.csv
Parsed throughput from summary.json: 3542.07698077581
BenchBase wikipedia throughput: 3542.07698077581
Configuration: {'autovacuum_analyze_scale_factor': 10.012031756777887, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1412011, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 1947689855, 'backend_flush_after': 5, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 205, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2206, 'commit_delay': 26000, 'commit_siblings': 1000, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1819760640, 'default_statistics_target': 2920, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 568, 'from_collapse_limit': 1791037440, 'geqo_effort': 7, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.3480285627973835, 'geqo_threshold': 105486297, 'join_collapse_limit': 57369684, 'maintenance_work_mem': 870495776, 'max_connections': 1987, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 30782451, 'temp_file_limit': 22096091, 'vacuum_cost_delay': 60, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 8198, 'vacuum_cost_page_miss': 788, 'wal_buffers': 1416, 'wal_writer_delay': 8601, 'work_mem': 2107634433}, QPS: -3542.07698077581
Performance (QPS): -3542.07698077581
Evaluating configuration: {'autovacuum_analyze_scale_factor': 7.9604103632199426, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1114006, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 79.75610561800251, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 22, 'bgwriter_delay': 4116, 'bgwriter_flush_after': 178, 'bgwriter_lru_maxpages': 686, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 35533, 'commit_siblings': 916, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5475, 'effective_cache_size': 1471595392, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1152372351, 'geqo_seed': 0.360561878750225, 'geqo_threshold': 173074473, 'join_collapse_limit': 127986464, 'maintenance_work_mem': 1428597846, 'max_connections': 1587, 'max_wal_senders': 22, 'shared_buffers': 35220, 'temp_buffers': 101602, 'temp_file_limit': 76160479, 'vacuum_cost_delay': 44, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 5284, 'vacuum_cost_page_hit': 9030, 'vacuum_cost_page_miss': 312, 'wal_buffers': 2674, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 7.9604103632199426
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1114006
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 79.75610561800251
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 22
Set bgwriter_delay = 4116
Set bgwriter_flush_after = 178
Set bgwriter_lru_maxpages = 686
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2284
Set commit_delay = 35533
Set commit_siblings = 916
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 5475
Set effective_cache_size = 1471595392
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 4
Set geqo_generations = 159642294
Set geqo_pool_size = 1152372351
Set geqo_seed = 0.360561878750225
Set geqo_threshold = 173074473
Set join_collapse_limit = 127986464
Set maintenance_work_mem = 1428597846
Set max_connections = 1587
Set max_wal_senders = 22
Set shared_buffers = 35220
Set temp_buffers = 101602
Set temp_file_limit = 76160479
Set vacuum_cost_delay = 44
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 5284
Set vacuum_cost_page_hit = 9030
Set vacuum_cost_page_miss = 312
Set wal_buffers = 2674
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-55-43.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-55-43.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-55-43.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763740479.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-55-43.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-55-43.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-55-43.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-55-43.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-55-43.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-55-43.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-55-43.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-55-43.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-55-43.results.AddWatchList.csv
Parsed throughput from summary.json: 3410.333120321139
BenchBase wikipedia throughput: 3410.333120321139
Configuration: {'autovacuum_analyze_scale_factor': 7.9604103632199426, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1114006, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 79.75610561800251, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 22, 'bgwriter_delay': 4116, 'bgwriter_flush_after': 178, 'bgwriter_lru_maxpages': 686, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 35533, 'commit_siblings': 916, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5475, 'effective_cache_size': 1471595392, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1152372351, 'geqo_seed': 0.360561878750225, 'geqo_threshold': 173074473, 'join_collapse_limit': 127986464, 'maintenance_work_mem': 1428597846, 'max_connections': 1587, 'max_wal_senders': 22, 'shared_buffers': 35220, 'temp_buffers': 101602, 'temp_file_limit': 76160479, 'vacuum_cost_delay': 44, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 5284, 'vacuum_cost_page_hit': 9030, 'vacuum_cost_page_miss': 312, 'wal_buffers': 2674, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -3410.333120321139
Performance (QPS): -3410.333120321139
Evaluating configuration: {'autovacuum_analyze_scale_factor': 13.386749598289835, 'autovacuum_analyze_threshold': 1059481984, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1284331, 'autovacuum_vacuum_cost_delay': 78, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2098293375, 'backend_flush_after': 26, 'bgwriter_delay': 2471, 'bgwriter_flush_after': 192, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2206, 'commit_delay': 20690, 'commit_siblings': 1000, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1819760640, 'default_statistics_target': 2920, 'effective_cache_size': 1473792384, 'effective_io_concurrency': 568, 'from_collapse_limit': 1791037440, 'geqo_effort': 6, 'geqo_generations': 159642294, 'geqo_pool_size': 1152163839, 'geqo_seed': 0.3480285627973835, 'geqo_threshold': 39240985, 'join_collapse_limit': 3901495, 'maintenance_work_mem': 870495776, 'max_connections': 1987, 'max_wal_senders': 22, 'shared_buffers': 196050, 'temp_buffers': 30782451, 'temp_file_limit': 22096091, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 8198, 'vacuum_cost_page_miss': 1143, 'wal_buffers': 1416, 'wal_writer_delay': 8601, 'work_mem': 2107634433}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 13.386749598289835
Set autovacuum_analyze_threshold = 1059481984
Set autovacuum_max_workers = 48
Set autovacuum_naptime = 1284331
Set autovacuum_vacuum_cost_delay = 78
Set autovacuum_vacuum_cost_limit = 6982
Set autovacuum_vacuum_scale_factor = 87.44530657703532
Set autovacuum_vacuum_threshold = 2098293375
Set backend_flush_after = 26
Set bgwriter_delay = 2471
Set bgwriter_flush_after = 192
Set bgwriter_lru_maxpages = 634
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3212537337204705
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2206
Set commit_delay = 20690
Set commit_siblings = 1000
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1819760640
Set default_statistics_target = 2920
Set effective_cache_size = 1473792384
Set effective_io_concurrency = 568
Set from_collapse_limit = 1791037440
Set geqo_effort = 6
Set geqo_generations = 159642294
Set geqo_pool_size = 1152163839
Set geqo_seed = 0.3480285627973835
Set geqo_threshold = 39240985
Set join_collapse_limit = 3901495
Set maintenance_work_mem = 870495776
Set max_connections = 1987
Set max_wal_senders = 22
Set shared_buffers = 196050
Set temp_buffers = 30782451
Set temp_file_limit = 22096091
Set vacuum_cost_delay = 59
Set vacuum_cost_limit = 4652
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 8198
Set vacuum_cost_page_miss = 1143
Set wal_buffers = 1416
Set wal_writer_delay = 8601
Set work_mem = 2107634433
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-57-20.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-57-20.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-57-20.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-57-20.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-57-20.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763740577.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-57-20.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-57-20.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-57-20.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-57-20.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-57-20.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-57-20.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-57-20.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Parsed throughput from summary.json: 3388.083415142622
BenchBase wikipedia throughput: 3388.083415142622
Configuration: {'autovacuum_analyze_scale_factor': 13.386749598289835, 'autovacuum_analyze_threshold': 1059481984, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1284331, 'autovacuum_vacuum_cost_delay': 78, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2098293375, 'backend_flush_after': 26, 'bgwriter_delay': 2471, 'bgwriter_flush_after': 192, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2206, 'commit_delay': 20690, 'commit_siblings': 1000, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1819760640, 'default_statistics_target': 2920, 'effective_cache_size': 1473792384, 'effective_io_concurrency': 568, 'from_collapse_limit': 1791037440, 'geqo_effort': 6, 'geqo_generations': 159642294, 'geqo_pool_size': 1152163839, 'geqo_seed': 0.3480285627973835, 'geqo_threshold': 39240985, 'join_collapse_limit': 3901495, 'maintenance_work_mem': 870495776, 'max_connections': 1987, 'max_wal_senders': 22, 'shared_buffers': 196050, 'temp_buffers': 30782451, 'temp_file_limit': 22096091, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 8198, 'vacuum_cost_page_miss': 1143, 'wal_buffers': 1416, 'wal_writer_delay': 8601, 'work_mem': 2107634433}, QPS: -3388.083415142622
Performance (QPS): -3388.083415142622
Evaluating configuration: {'autovacuum_analyze_scale_factor': 7.9604103632199426, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 68, 'autovacuum_naptime': 1298195, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 79.75610561800251, 'autovacuum_vacuum_threshold': 2069592447, 'backend_flush_after': 9, 'bgwriter_delay': 4894, 'bgwriter_flush_after': 178, 'bgwriter_lru_maxpages': 686, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 231, 'checkpoint_timeout': 2284, 'commit_delay': 35533, 'commit_siblings': 956, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1589027456, 'default_statistics_target': 5475, 'effective_cache_size': 1471595392, 'effective_io_concurrency': 508, 'from_collapse_limit': 1816167808, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1374778111, 'geqo_seed': 0.360561878750225, 'geqo_threshold': 173074473, 'join_collapse_limit': 127986464, 'maintenance_work_mem': 1428597846, 'max_connections': 1587, 'max_wal_senders': 22, 'shared_buffers': 125354, 'temp_buffers': 30727083, 'temp_file_limit': 38488455, 'vacuum_cost_delay': 44, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 5284, 'vacuum_cost_page_hit': 9030, 'vacuum_cost_page_miss': 312, 'wal_buffers': 2132, 'wal_writer_delay': 9997, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 7.9604103632199426
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 68
Set autovacuum_naptime = 1298195
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 79.75610561800251
Set autovacuum_vacuum_threshold = 2069592447
Set backend_flush_after = 9
Set bgwriter_delay = 4894
Set bgwriter_flush_after = 178
Set bgwriter_lru_maxpages = 686
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 231
Set checkpoint_timeout = 2284
Set commit_delay = 35533
Set commit_siblings = 956
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1589027456
Set default_statistics_target = 5475
Set effective_cache_size = 1471595392
Set effective_io_concurrency = 508
Set from_collapse_limit = 1816167808
Set geqo_effort = 4
Set geqo_generations = 159642294
Set geqo_pool_size = 1374778111
Set geqo_seed = 0.360561878750225
Set geqo_threshold = 173074473
Set join_collapse_limit = 127986464
Set maintenance_work_mem = 1428597846
Set max_connections = 1587
Set max_wal_senders = 22
Set shared_buffers = 125354
Set temp_buffers = 30727083
Set temp_file_limit = 38488455
Set vacuum_cost_delay = 44
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 5284
Set vacuum_cost_page_hit = 9030
Set vacuum_cost_page_miss = 312
Set wal_buffers = 2132
Set wal_writer_delay = 9997
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-58-59.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-58-59.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-58-59.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-58-59.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-58-59.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763740676.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-58-59.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-58-59.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-58-59.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-58-59.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_15-58-59.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-58-59.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_15-58-59.params.json
Parsed throughput from summary.json: 3474.8623636061443
BenchBase wikipedia throughput: 3474.8623636061443
Configuration: {'autovacuum_analyze_scale_factor': 7.9604103632199426, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 68, 'autovacuum_naptime': 1298195, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 79.75610561800251, 'autovacuum_vacuum_threshold': 2069592447, 'backend_flush_after': 9, 'bgwriter_delay': 4894, 'bgwriter_flush_after': 178, 'bgwriter_lru_maxpages': 686, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 231, 'checkpoint_timeout': 2284, 'commit_delay': 35533, 'commit_siblings': 956, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1589027456, 'default_statistics_target': 5475, 'effective_cache_size': 1471595392, 'effective_io_concurrency': 508, 'from_collapse_limit': 1816167808, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1374778111, 'geqo_seed': 0.360561878750225, 'geqo_threshold': 173074473, 'join_collapse_limit': 127986464, 'maintenance_work_mem': 1428597846, 'max_connections': 1587, 'max_wal_senders': 22, 'shared_buffers': 125354, 'temp_buffers': 30727083, 'temp_file_limit': 38488455, 'vacuum_cost_delay': 44, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 5284, 'vacuum_cost_page_hit': 9030, 'vacuum_cost_page_miss': 312, 'wal_buffers': 2132, 'wal_writer_delay': 9997, 'work_mem': 1668439634}, QPS: -3474.8623636061443
Performance (QPS): -3474.8623636061443
Evaluating configuration: {'autovacuum_analyze_scale_factor': 50.71346681476733, 'autovacuum_analyze_threshold': 71052890, 'autovacuum_max_workers': 29, 'autovacuum_naptime': 887902, 'autovacuum_vacuum_cost_delay': 11, 'autovacuum_vacuum_cost_limit': 5341, 'autovacuum_vacuum_scale_factor': 61.50700208448663, 'autovacuum_vacuum_threshold': 1889565812, 'backend_flush_after': 175, 'bgwriter_delay': 2714, 'bgwriter_flush_after': 81, 'bgwriter_lru_maxpages': 59, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.22834912121824025, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 669, 'commit_delay': 43989, 'commit_siblings': 544, 'cursor_tuple_fraction': 0.8946643916433036, 'deadlock_timeout': 1029936362, 'default_statistics_target': 9058, 'effective_cache_size': 1253869739, 'effective_io_concurrency': 380, 'from_collapse_limit': 1428255165, 'geqo_effort': 1, 'geqo_generations': 2043540126, 'geqo_pool_size': 535095033, 'geqo_seed': 0.6762509511578483, 'geqo_threshold': 1259133803, 'join_collapse_limit': 405991942, 'maintenance_work_mem': 513324965, 'max_connections': 2703, 'max_wal_senders': 23, 'shared_buffers': 1929794, 'temp_buffers': 814415319, 'temp_file_limit': 602179062, 'vacuum_cost_delay': 86, 'vacuum_cost_limit': 2656, 'vacuum_cost_page_dirty': 4102, 'vacuum_cost_page_hit': 2432, 'vacuum_cost_page_miss': 6418, 'wal_buffers': 60962, 'wal_writer_delay': 7310, 'work_mem': 1869721443}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 50.71346681476733
Set autovacuum_analyze_threshold = 71052890
Set autovacuum_max_workers = 29
Set autovacuum_naptime = 887902
Set autovacuum_vacuum_cost_delay = 11
Set autovacuum_vacuum_cost_limit = 5341
Set autovacuum_vacuum_scale_factor = 61.50700208448663
Set autovacuum_vacuum_threshold = 1889565812
Set backend_flush_after = 175
Set bgwriter_delay = 2714
Set bgwriter_flush_after = 81
Set bgwriter_lru_maxpages = 59
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.22834912121824025
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 669
Set commit_delay = 43989
Set commit_siblings = 544
Set cursor_tuple_fraction = 0.8946643916433036
Set deadlock_timeout = 1029936362
Set default_statistics_target = 9058
Set effective_cache_size = 1253869739
Set effective_io_concurrency = 380
Set from_collapse_limit = 1428255165
Set geqo_effort = 1
Set geqo_generations = 2043540126
Set geqo_pool_size = 535095033
Set geqo_seed = 0.6762509511578483
Set geqo_threshold = 1259133803
Set join_collapse_limit = 405991942
Set maintenance_work_mem = 513324965
Set max_connections = 2703
Set max_wal_senders = 23
Set shared_buffers = 1929794
Set temp_buffers = 814415319
Set temp_file_limit = 602179062
Set vacuum_cost_delay = 86
Set vacuum_cost_limit = 2656
Set vacuum_cost_page_dirty = 4102
Set vacuum_cost_page_hit = 2432
Set vacuum_cost_page_miss = 6418
Set wal_buffers = 60962
Set wal_writer_delay = 7310
Set work_mem = 1869721443
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-00-33.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763740769.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-00-33.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-00-33.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-00-33.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-00-33.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-00-33.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-00-33.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-00-33.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-00-33.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-00-33.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-00-33.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-00-33.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 3397.4950409254543
BenchBase wikipedia throughput: 3397.4950409254543
Configuration: {'autovacuum_analyze_scale_factor': 50.71346681476733, 'autovacuum_analyze_threshold': 71052890, 'autovacuum_max_workers': 29, 'autovacuum_naptime': 887902, 'autovacuum_vacuum_cost_delay': 11, 'autovacuum_vacuum_cost_limit': 5341, 'autovacuum_vacuum_scale_factor': 61.50700208448663, 'autovacuum_vacuum_threshold': 1889565812, 'backend_flush_after': 175, 'bgwriter_delay': 2714, 'bgwriter_flush_after': 81, 'bgwriter_lru_maxpages': 59, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.22834912121824025, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 669, 'commit_delay': 43989, 'commit_siblings': 544, 'cursor_tuple_fraction': 0.8946643916433036, 'deadlock_timeout': 1029936362, 'default_statistics_target': 9058, 'effective_cache_size': 1253869739, 'effective_io_concurrency': 380, 'from_collapse_limit': 1428255165, 'geqo_effort': 1, 'geqo_generations': 2043540126, 'geqo_pool_size': 535095033, 'geqo_seed': 0.6762509511578483, 'geqo_threshold': 1259133803, 'join_collapse_limit': 405991942, 'maintenance_work_mem': 513324965, 'max_connections': 2703, 'max_wal_senders': 23, 'shared_buffers': 1929794, 'temp_buffers': 814415319, 'temp_file_limit': 602179062, 'vacuum_cost_delay': 86, 'vacuum_cost_limit': 2656, 'vacuum_cost_page_dirty': 4102, 'vacuum_cost_page_hit': 2432, 'vacuum_cost_page_miss': 6418, 'wal_buffers': 60962, 'wal_writer_delay': 7310, 'work_mem': 1869721443}, QPS: -3397.4950409254543
Performance (QPS): -3397.4950409254543
Evaluating configuration: {'autovacuum_analyze_scale_factor': 55.20960901641676, 'autovacuum_analyze_threshold': 1598033266, 'autovacuum_max_workers': 12, 'autovacuum_naptime': 729132, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 1680, 'autovacuum_vacuum_scale_factor': 57.84081093184461, 'autovacuum_vacuum_threshold': 757733836, 'backend_flush_after': 75, 'bgwriter_delay': 3140, 'bgwriter_flush_after': 125, 'bgwriter_lru_maxpages': 224, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.5769910237568742, 'checkpoint_flush_after': 117, 'checkpoint_timeout': 428, 'commit_delay': 67986, 'commit_siblings': 795, 'cursor_tuple_fraction': 0.9064922600914362, 'deadlock_timeout': 1845161095, 'default_statistics_target': 647, 'effective_cache_size': 1616907792, 'effective_io_concurrency': 83, 'from_collapse_limit': 758757123, 'geqo_effort': 2, 'geqo_generations': 866906798, 'geqo_pool_size': 931389429, 'geqo_seed': 0.013579464006093889, 'geqo_threshold': 1732772767, 'join_collapse_limit': 1317590467, 'maintenance_work_mem': 2074599333, 'max_connections': 1900, 'max_wal_senders': 42, 'shared_buffers': 784774, 'temp_buffers': 473049467, 'temp_file_limit': 1279503747, 'vacuum_cost_delay': 33, 'vacuum_cost_limit': 9073, 'vacuum_cost_page_dirty': 4170, 'vacuum_cost_page_hit': 1616, 'vacuum_cost_page_miss': 7303, 'wal_buffers': 64347, 'wal_writer_delay': 5471, 'work_mem': 140089047}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 55.20960901641676
Set autovacuum_analyze_threshold = 1598033266
Set autovacuum_max_workers = 12
Set autovacuum_naptime = 729132
Set autovacuum_vacuum_cost_delay = 96
Set autovacuum_vacuum_cost_limit = 1680
Set autovacuum_vacuum_scale_factor = 57.84081093184461
Set autovacuum_vacuum_threshold = 757733836
Set backend_flush_after = 75
Set bgwriter_delay = 3140
Set bgwriter_flush_after = 125
Set bgwriter_lru_maxpages = 224
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.5769910237568742
Set checkpoint_flush_after = 117
Set checkpoint_timeout = 428
Set commit_delay = 67986
Set commit_siblings = 795
Set cursor_tuple_fraction = 0.9064922600914362
Set deadlock_timeout = 1845161095
Set default_statistics_target = 647
Set effective_cache_size = 1616907792
Set effective_io_concurrency = 83
Set from_collapse_limit = 758757123
Set geqo_effort = 2
Set geqo_generations = 866906798
Set geqo_pool_size = 931389429
Set geqo_seed = 0.013579464006093889
Set geqo_threshold = 1732772767
Set join_collapse_limit = 1317590467
Set maintenance_work_mem = 2074599333
Set max_connections = 1900
Set max_wal_senders = 42
Set shared_buffers = 784774
Set temp_buffers = 473049467
Set temp_file_limit = 1279503747
Set vacuum_cost_delay = 33
Set vacuum_cost_limit = 9073
Set vacuum_cost_page_dirty = 4170
Set vacuum_cost_page_hit = 1616
Set vacuum_cost_page_miss = 7303
Set wal_buffers = 64347
Set wal_writer_delay = 5471
Set work_mem = 140089047
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-02-07.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-02-07.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-02-07.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-02-07.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763740864.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-02-07.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-02-07.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-02-07.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-02-07.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-02-07.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-02-07.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-02-07.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-02-07.results.UpdatePage.csv
Parsed throughput from summary.json: 3418.860272378344
BenchBase wikipedia throughput: 3418.860272378344
Configuration: {'autovacuum_analyze_scale_factor': 55.20960901641676, 'autovacuum_analyze_threshold': 1598033266, 'autovacuum_max_workers': 12, 'autovacuum_naptime': 729132, 'autovacuum_vacuum_cost_delay': 96, 'autovacuum_vacuum_cost_limit': 1680, 'autovacuum_vacuum_scale_factor': 57.84081093184461, 'autovacuum_vacuum_threshold': 757733836, 'backend_flush_after': 75, 'bgwriter_delay': 3140, 'bgwriter_flush_after': 125, 'bgwriter_lru_maxpages': 224, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.5769910237568742, 'checkpoint_flush_after': 117, 'checkpoint_timeout': 428, 'commit_delay': 67986, 'commit_siblings': 795, 'cursor_tuple_fraction': 0.9064922600914362, 'deadlock_timeout': 1845161095, 'default_statistics_target': 647, 'effective_cache_size': 1616907792, 'effective_io_concurrency': 83, 'from_collapse_limit': 758757123, 'geqo_effort': 2, 'geqo_generations': 866906798, 'geqo_pool_size': 931389429, 'geqo_seed': 0.013579464006093889, 'geqo_threshold': 1732772767, 'join_collapse_limit': 1317590467, 'maintenance_work_mem': 2074599333, 'max_connections': 1900, 'max_wal_senders': 42, 'shared_buffers': 784774, 'temp_buffers': 473049467, 'temp_file_limit': 1279503747, 'vacuum_cost_delay': 33, 'vacuum_cost_limit': 9073, 'vacuum_cost_page_dirty': 4170, 'vacuum_cost_page_hit': 1616, 'vacuum_cost_page_miss': 7303, 'wal_buffers': 64347, 'wal_writer_delay': 5471, 'work_mem': 140089047}, QPS: -3418.860272378344
Performance (QPS): -3418.860272378344
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 75, 'autovacuum_naptime': 1499141, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 89.7899323935305, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 2, 'bgwriter_delay': 3081, 'bgwriter_flush_after': 178, 'bgwriter_lru_maxpages': 592, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 254, 'checkpoint_timeout': 2627, 'commit_delay': 39658, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.02300107844628456, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5624, 'effective_cache_size': 1433812352, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 5, 'geqo_generations': 168342592, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 158717265, 'join_collapse_limit': 13687773, 'maintenance_work_mem': 957667097, 'max_connections': 1553, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 145530902, 'temp_file_limit': 89144087, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4201, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 193, 'wal_buffers': 21671, 'wal_writer_delay': 9351, 'work_mem': 1490419731}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 75
Set autovacuum_naptime = 1499141
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 89.7899323935305
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 2
Set bgwriter_delay = 3081
Set bgwriter_flush_after = 178
Set bgwriter_lru_maxpages = 592
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 254
Set checkpoint_timeout = 2627
Set commit_delay = 39658
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.02300107844628456
Set deadlock_timeout = 1408939122
Set default_statistics_target = 5624
Set effective_cache_size = 1433812352
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 5
Set geqo_generations = 168342592
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 158717265
Set join_collapse_limit = 13687773
Set maintenance_work_mem = 957667097
Set max_connections = 1553
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 145530902
Set temp_file_limit = 89144087
Set vacuum_cost_delay = 69
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4201
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 193
Set wal_buffers = 21671
Set wal_writer_delay = 9351
Set work_mem = 1490419731
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-03-46.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-03-46.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-03-46.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-03-46.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763740963.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-03-46.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-03-46.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-03-46.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-03-46.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-03-46.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-03-46.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-03-46.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-03-46.raw.csv
Parsed throughput from summary.json: 3423.7087246839556
BenchBase wikipedia throughput: 3423.7087246839556
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 75, 'autovacuum_naptime': 1499141, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 89.7899323935305, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 2, 'bgwriter_delay': 3081, 'bgwriter_flush_after': 178, 'bgwriter_lru_maxpages': 592, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 254, 'checkpoint_timeout': 2627, 'commit_delay': 39658, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.02300107844628456, 'deadlock_timeout': 1408939122, 'default_statistics_target': 5624, 'effective_cache_size': 1433812352, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 5, 'geqo_generations': 168342592, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 158717265, 'join_collapse_limit': 13687773, 'maintenance_work_mem': 957667097, 'max_connections': 1553, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 145530902, 'temp_file_limit': 89144087, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4201, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 193, 'wal_buffers': 21671, 'wal_writer_delay': 9351, 'work_mem': 1490419731}, QPS: -3423.7087246839556
Performance (QPS): -3423.7087246839556
Evaluating configuration: {'autovacuum_analyze_scale_factor': 14.154998519253049, 'autovacuum_analyze_threshold': 1691599997, 'autovacuum_max_workers': 13, 'autovacuum_naptime': 253638, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 4729, 'autovacuum_vacuum_scale_factor': 68.31735678827809, 'autovacuum_vacuum_threshold': 1897778847, 'backend_flush_after': 40, 'bgwriter_delay': 1926, 'bgwriter_flush_after': 29, 'bgwriter_lru_maxpages': 707, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.6053351589813536, 'checkpoint_flush_after': 105, 'checkpoint_timeout': 2947, 'commit_delay': 36649, 'commit_siblings': 759, 'cursor_tuple_fraction': 0.5825507639424439, 'deadlock_timeout': 1203564346, 'default_statistics_target': 4268, 'effective_cache_size': 649113824, 'effective_io_concurrency': 383, 'from_collapse_limit': 2070390299, 'geqo_effort': 5, 'geqo_generations': 1571140769, 'geqo_pool_size': 1912890339, 'geqo_seed': 0.8078777499765153, 'geqo_threshold': 1572299192, 'join_collapse_limit': 1289678477, 'maintenance_work_mem': 1048799144, 'max_connections': 1816, 'max_wal_senders': 17, 'shared_buffers': 3293396, 'temp_buffers': 432935171, 'temp_file_limit': 1820610750, 'vacuum_cost_delay': 66, 'vacuum_cost_limit': 6442, 'vacuum_cost_page_dirty': 4730, 'vacuum_cost_page_hit': 7048, 'vacuum_cost_page_miss': 561, 'wal_buffers': 114434, 'wal_writer_delay': 1340, 'work_mem': 1799469406}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 14.154998519253049
Set autovacuum_analyze_threshold = 1691599997
Set autovacuum_max_workers = 13
Set autovacuum_naptime = 253638
Set autovacuum_vacuum_cost_delay = 62
Set autovacuum_vacuum_cost_limit = 4729
Set autovacuum_vacuum_scale_factor = 68.31735678827809
Set autovacuum_vacuum_threshold = 1897778847
Set backend_flush_after = 40
Set bgwriter_delay = 1926
Set bgwriter_flush_after = 29
Set bgwriter_lru_maxpages = 707
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.6053351589813536
Set checkpoint_flush_after = 105
Set checkpoint_timeout = 2947
Set commit_delay = 36649
Set commit_siblings = 759
Set cursor_tuple_fraction = 0.5825507639424439
Set deadlock_timeout = 1203564346
Set default_statistics_target = 4268
Set effective_cache_size = 649113824
Set effective_io_concurrency = 383
Set from_collapse_limit = 2070390299
Set geqo_effort = 5
Set geqo_generations = 1571140769
Set geqo_pool_size = 1912890339
Set geqo_seed = 0.8078777499765153
Set geqo_threshold = 1572299192
Set join_collapse_limit = 1289678477
Set maintenance_work_mem = 1048799144
Set max_connections = 1816
Set max_wal_senders = 17
Set shared_buffers = 3293396
Set temp_buffers = 432935171
Set temp_file_limit = 1820610750
Set vacuum_cost_delay = 66
Set vacuum_cost_limit = 6442
Set vacuum_cost_page_dirty = 4730
Set vacuum_cost_page_hit = 7048
Set vacuum_cost_page_miss = 561
Set wal_buffers = 114434
Set wal_writer_delay = 1340
Set work_mem = 1799469406
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-05-21.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-05-21.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-05-21.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-05-21.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-05-21.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-05-21.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-05-21.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-05-21.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-05-21.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-05-21.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-05-21.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763741057.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-05-21.results.csv
Parsed throughput from summary.json: 3400.633618521596
BenchBase wikipedia throughput: 3400.633618521596
Configuration: {'autovacuum_analyze_scale_factor': 14.154998519253049, 'autovacuum_analyze_threshold': 1691599997, 'autovacuum_max_workers': 13, 'autovacuum_naptime': 253638, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 4729, 'autovacuum_vacuum_scale_factor': 68.31735678827809, 'autovacuum_vacuum_threshold': 1897778847, 'backend_flush_after': 40, 'bgwriter_delay': 1926, 'bgwriter_flush_after': 29, 'bgwriter_lru_maxpages': 707, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.6053351589813536, 'checkpoint_flush_after': 105, 'checkpoint_timeout': 2947, 'commit_delay': 36649, 'commit_siblings': 759, 'cursor_tuple_fraction': 0.5825507639424439, 'deadlock_timeout': 1203564346, 'default_statistics_target': 4268, 'effective_cache_size': 649113824, 'effective_io_concurrency': 383, 'from_collapse_limit': 2070390299, 'geqo_effort': 5, 'geqo_generations': 1571140769, 'geqo_pool_size': 1912890339, 'geqo_seed': 0.8078777499765153, 'geqo_threshold': 1572299192, 'join_collapse_limit': 1289678477, 'maintenance_work_mem': 1048799144, 'max_connections': 1816, 'max_wal_senders': 17, 'shared_buffers': 3293396, 'temp_buffers': 432935171, 'temp_file_limit': 1820610750, 'vacuum_cost_delay': 66, 'vacuum_cost_limit': 6442, 'vacuum_cost_page_dirty': 4730, 'vacuum_cost_page_hit': 7048, 'vacuum_cost_page_miss': 561, 'wal_buffers': 114434, 'wal_writer_delay': 1340, 'work_mem': 1799469406}, QPS: -3400.633618521596
Performance (QPS): -3400.633618521596
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 50, 'autovacuum_naptime': 1482810, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 8662, 'autovacuum_vacuum_scale_factor': 76.46529264169676, 'autovacuum_vacuum_threshold': 2071085311, 'backend_flush_after': 38, 'bgwriter_delay': 4079, 'bgwriter_flush_after': 190, 'bgwriter_lru_maxpages': 574, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.31487138473991816, 'checkpoint_flush_after': 224, 'checkpoint_timeout': 2286, 'commit_delay': 47116, 'commit_siblings': 968, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1263592832, 'default_statistics_target': 5154, 'effective_cache_size': 1477691392, 'effective_io_concurrency': 454, 'from_collapse_limit': 1883153920, 'geqo_effort': 2, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 189607649, 'join_collapse_limit': 13687773, 'maintenance_work_mem': 1114076012, 'max_connections': 1818, 'max_wal_senders': 18, 'shared_buffers': 294418, 'temp_buffers': 30544769, 'temp_file_limit': 67645959, 'vacuum_cost_delay': 57, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7853, 'vacuum_cost_page_miss': 1181, 'wal_buffers': 373, 'wal_writer_delay': 9620, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 50
Set autovacuum_naptime = 1482810
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 8662
Set autovacuum_vacuum_scale_factor = 76.46529264169676
Set autovacuum_vacuum_threshold = 2071085311
Set backend_flush_after = 38
Set bgwriter_delay = 4079
Set bgwriter_flush_after = 190
Set bgwriter_lru_maxpages = 574
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.31487138473991816
Set checkpoint_flush_after = 224
Set checkpoint_timeout = 2286
Set commit_delay = 47116
Set commit_siblings = 968
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1263592832
Set default_statistics_target = 5154
Set effective_cache_size = 1477691392
Set effective_io_concurrency = 454
Set from_collapse_limit = 1883153920
Set geqo_effort = 2
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 189607649
Set join_collapse_limit = 13687773
Set maintenance_work_mem = 1114076012
Set max_connections = 1818
Set max_wal_senders = 18
Set shared_buffers = 294418
Set temp_buffers = 30544769
Set temp_file_limit = 67645959
Set vacuum_cost_delay = 57
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 7853
Set vacuum_cost_page_miss = 1181
Set wal_buffers = 373
Set wal_writer_delay = 9620
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-07-01.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-07-01.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-07-01.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-07-01.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-07-01.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-07-01.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-07-01.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-07-01.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-07-01.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-07-01.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-07-01.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763741157.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-07-01.samples.csv
Parsed throughput from summary.json: 3387.7130311025176
BenchBase wikipedia throughput: 3387.7130311025176
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 50, 'autovacuum_naptime': 1482810, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 8662, 'autovacuum_vacuum_scale_factor': 76.46529264169676, 'autovacuum_vacuum_threshold': 2071085311, 'backend_flush_after': 38, 'bgwriter_delay': 4079, 'bgwriter_flush_after': 190, 'bgwriter_lru_maxpages': 574, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.31487138473991816, 'checkpoint_flush_after': 224, 'checkpoint_timeout': 2286, 'commit_delay': 47116, 'commit_siblings': 968, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1263592832, 'default_statistics_target': 5154, 'effective_cache_size': 1477691392, 'effective_io_concurrency': 454, 'from_collapse_limit': 1883153920, 'geqo_effort': 2, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 189607649, 'join_collapse_limit': 13687773, 'maintenance_work_mem': 1114076012, 'max_connections': 1818, 'max_wal_senders': 18, 'shared_buffers': 294418, 'temp_buffers': 30544769, 'temp_file_limit': 67645959, 'vacuum_cost_delay': 57, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7853, 'vacuum_cost_page_miss': 1181, 'wal_buffers': 373, 'wal_writer_delay': 9620, 'work_mem': 1668439634}, QPS: -3387.7130311025176
Performance (QPS): -3387.7130311025176
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 66, 'autovacuum_naptime': 1554095, 'autovacuum_vacuum_cost_delay': 85, 'autovacuum_vacuum_cost_limit': 8447, 'autovacuum_vacuum_scale_factor': 73.75368104253394, 'autovacuum_vacuum_threshold': 2023268607, 'backend_flush_after': 27, 'bgwriter_delay': 3624, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 587, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2595, 'commit_delay': 32357, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4317, 'effective_cache_size': 1457295104, 'effective_io_concurrency': 564, 'from_collapse_limit': 1883153920, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1293058431, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 306618305, 'join_collapse_limit': 30623198, 'maintenance_work_mem': 752927832, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 168708, 'temp_buffers': 28914811, 'temp_file_limit': 90056495, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 15186, 'wal_writer_delay': 8710, 'work_mem': 1797400970}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 66
Set autovacuum_naptime = 1554095
Set autovacuum_vacuum_cost_delay = 85
Set autovacuum_vacuum_cost_limit = 8447
Set autovacuum_vacuum_scale_factor = 73.75368104253394
Set autovacuum_vacuum_threshold = 2023268607
Set backend_flush_after = 27
Set bgwriter_delay = 3624
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 587
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 240
Set checkpoint_timeout = 2595
Set commit_delay = 32357
Set commit_siblings = 974
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4317
Set effective_cache_size = 1457295104
Set effective_io_concurrency = 564
Set from_collapse_limit = 1883153920
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1293058431
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 306618305
Set join_collapse_limit = 30623198
Set maintenance_work_mem = 752927832
Set max_connections = 1818
Set max_wal_senders = 22
Set shared_buffers = 168708
Set temp_buffers = 28914811
Set temp_file_limit = 90056495
Set vacuum_cost_delay = 79
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 15186
Set wal_writer_delay = 8710
Set work_mem = 1797400970
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-08-40.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763741256.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-08-40.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-08-40.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-08-40.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-08-40.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-08-40.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-08-40.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-08-40.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-08-40.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-08-40.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-08-40.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-08-40.results.AddWatchList.csv
Parsed throughput from summary.json: 3606.2990201639827
BenchBase wikipedia throughput: 3606.2990201639827
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 66, 'autovacuum_naptime': 1554095, 'autovacuum_vacuum_cost_delay': 85, 'autovacuum_vacuum_cost_limit': 8447, 'autovacuum_vacuum_scale_factor': 73.75368104253394, 'autovacuum_vacuum_threshold': 2023268607, 'backend_flush_after': 27, 'bgwriter_delay': 3624, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 587, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2595, 'commit_delay': 32357, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4317, 'effective_cache_size': 1457295104, 'effective_io_concurrency': 564, 'from_collapse_limit': 1883153920, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1293058431, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 306618305, 'join_collapse_limit': 30623198, 'maintenance_work_mem': 752927832, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 168708, 'temp_buffers': 28914811, 'temp_file_limit': 90056495, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 15186, 'wal_writer_delay': 8710, 'work_mem': 1797400970}, QPS: -3606.2990201639827
Performance (QPS): -3606.2990201639827
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 69, 'autovacuum_naptime': 1487892, 'autovacuum_vacuum_cost_delay': 84, 'autovacuum_vacuum_cost_limit': 8731, 'autovacuum_vacuum_scale_factor': 73.47807485706555, 'autovacuum_vacuum_threshold': 2061834879, 'backend_flush_after': 30, 'bgwriter_delay': 3327, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 536, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2347, 'commit_delay': 32217, 'commit_siblings': 956, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4258, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 564, 'from_collapse_limit': 1843640704, 'geqo_effort': 3, 'geqo_generations': 27196824, 'geqo_pool_size': 1298737279, 'geqo_seed': 0.5334141897807316, 'geqo_threshold': 295185249, 'join_collapse_limit': 30623198, 'maintenance_work_mem': 875308510, 'max_connections': 1974, 'max_wal_senders': 22, 'shared_buffers': 116659, 'temp_buffers': 16172785, 'temp_file_limit': 79238615, 'vacuum_cost_delay': 71, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 8629, 'vacuum_cost_page_miss': 859, 'wal_buffers': 2561, 'wal_writer_delay': 9009, 'work_mem': 1797400970}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 69
Set autovacuum_naptime = 1487892
Set autovacuum_vacuum_cost_delay = 84
Set autovacuum_vacuum_cost_limit = 8731
Set autovacuum_vacuum_scale_factor = 73.47807485706555
Set autovacuum_vacuum_threshold = 2061834879
Set backend_flush_after = 30
Set bgwriter_delay = 3327
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 536
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 240
Set checkpoint_timeout = 2347
Set commit_delay = 32217
Set commit_siblings = 956
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4258
Set effective_cache_size = 1374450688
Set effective_io_concurrency = 564
Set from_collapse_limit = 1843640704
Set geqo_effort = 3
Set geqo_generations = 27196824
Set geqo_pool_size = 1298737279
Set geqo_seed = 0.5334141897807316
Set geqo_threshold = 295185249
Set join_collapse_limit = 30623198
Set maintenance_work_mem = 875308510
Set max_connections = 1974
Set max_wal_senders = 22
Set shared_buffers = 116659
Set temp_buffers = 16172785
Set temp_file_limit = 79238615
Set vacuum_cost_delay = 71
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4697
Set vacuum_cost_page_hit = 8629
Set vacuum_cost_page_miss = 859
Set wal_buffers = 2561
Set wal_writer_delay = 9009
Set work_mem = 1797400970
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-10-14.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-10-14.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-10-14.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-10-14.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-10-14.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-10-14.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-10-14.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763741350.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-10-14.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-10-14.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-10-14.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-10-14.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-10-14.results.AddWatchList.csv
Parsed throughput from summary.json: 3541.247311193795
BenchBase wikipedia throughput: 3541.247311193795
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 69, 'autovacuum_naptime': 1487892, 'autovacuum_vacuum_cost_delay': 84, 'autovacuum_vacuum_cost_limit': 8731, 'autovacuum_vacuum_scale_factor': 73.47807485706555, 'autovacuum_vacuum_threshold': 2061834879, 'backend_flush_after': 30, 'bgwriter_delay': 3327, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 536, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2347, 'commit_delay': 32217, 'commit_siblings': 956, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4258, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 564, 'from_collapse_limit': 1843640704, 'geqo_effort': 3, 'geqo_generations': 27196824, 'geqo_pool_size': 1298737279, 'geqo_seed': 0.5334141897807316, 'geqo_threshold': 295185249, 'join_collapse_limit': 30623198, 'maintenance_work_mem': 875308510, 'max_connections': 1974, 'max_wal_senders': 22, 'shared_buffers': 116659, 'temp_buffers': 16172785, 'temp_file_limit': 79238615, 'vacuum_cost_delay': 71, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4697, 'vacuum_cost_page_hit': 8629, 'vacuum_cost_page_miss': 859, 'wal_buffers': 2561, 'wal_writer_delay': 9009, 'work_mem': 1797400970}, QPS: -3541.247311193795
Performance (QPS): -3541.247311193795
Evaluating configuration: {'autovacuum_analyze_scale_factor': 2.667983397923357, 'autovacuum_analyze_threshold': 426236654, 'autovacuum_max_workers': 22, 'autovacuum_naptime': 1968676, 'autovacuum_vacuum_cost_delay': 66, 'autovacuum_vacuum_cost_limit': 9837, 'autovacuum_vacuum_scale_factor': 46.61092300634921, 'autovacuum_vacuum_threshold': 1714571045, 'backend_flush_after': 162, 'bgwriter_delay': 6938, 'bgwriter_flush_after': 211, 'bgwriter_lru_maxpages': 420, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.538200550661684, 'checkpoint_flush_after': 248, 'checkpoint_timeout': 1034, 'commit_delay': 30459, 'commit_siblings': 454, 'cursor_tuple_fraction': 0.7227451576183876, 'deadlock_timeout': 824981875, 'default_statistics_target': 259, 'effective_cache_size': 493004467, 'effective_io_concurrency': 724, 'from_collapse_limit': 48170158, 'geqo_effort': 10, 'geqo_generations': 1892426559, 'geqo_pool_size': 807035883, 'geqo_seed': 0.7096774046733223, 'geqo_threshold': 240284018, 'join_collapse_limit': 1036633659, 'maintenance_work_mem': 1510213521, 'max_connections': 709, 'max_wal_senders': 21, 'shared_buffers': 3508289, 'temp_buffers': 644623446, 'temp_file_limit': 610811210, 'vacuum_cost_delay': 14, 'vacuum_cost_limit': 6993, 'vacuum_cost_page_dirty': 3238, 'vacuum_cost_page_hit': 4027, 'vacuum_cost_page_miss': 8394, 'wal_buffers': 20842, 'wal_writer_delay': 9574, 'work_mem': 928793723}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 2.667983397923357
Set autovacuum_analyze_threshold = 426236654
Set autovacuum_max_workers = 22
Set autovacuum_naptime = 1968676
Set autovacuum_vacuum_cost_delay = 66
Set autovacuum_vacuum_cost_limit = 9837
Set autovacuum_vacuum_scale_factor = 46.61092300634921
Set autovacuum_vacuum_threshold = 1714571045
Set backend_flush_after = 162
Set bgwriter_delay = 6938
Set bgwriter_flush_after = 211
Set bgwriter_lru_maxpages = 420
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.538200550661684
Set checkpoint_flush_after = 248
Set checkpoint_timeout = 1034
Set commit_delay = 30459
Set commit_siblings = 454
Set cursor_tuple_fraction = 0.7227451576183876
Set deadlock_timeout = 824981875
Set default_statistics_target = 259
Set effective_cache_size = 493004467
Set effective_io_concurrency = 724
Set from_collapse_limit = 48170158
Set geqo_effort = 10
Set geqo_generations = 1892426559
Set geqo_pool_size = 807035883
Set geqo_seed = 0.7096774046733223
Set geqo_threshold = 240284018
Set join_collapse_limit = 1036633659
Set maintenance_work_mem = 1510213521
Set max_connections = 709
Set max_wal_senders = 21
Set shared_buffers = 3508289
Set temp_buffers = 644623446
Set temp_file_limit = 610811210
Set vacuum_cost_delay = 14
Set vacuum_cost_limit = 6993
Set vacuum_cost_page_dirty = 3238
Set vacuum_cost_page_hit = 4027
Set vacuum_cost_page_miss = 8394
Set wal_buffers = 20842
Set wal_writer_delay = 9574
Set work_mem = 928793723
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-11-48.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-11-48.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-11-48.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-11-48.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-11-48.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-11-48.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-11-48.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-11-48.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-11-48.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-11-48.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-11-48.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763741444.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-11-48.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Parsed throughput from summary.json: 3340.3088840114915
BenchBase wikipedia throughput: 3340.3088840114915
Configuration: {'autovacuum_analyze_scale_factor': 2.667983397923357, 'autovacuum_analyze_threshold': 426236654, 'autovacuum_max_workers': 22, 'autovacuum_naptime': 1968676, 'autovacuum_vacuum_cost_delay': 66, 'autovacuum_vacuum_cost_limit': 9837, 'autovacuum_vacuum_scale_factor': 46.61092300634921, 'autovacuum_vacuum_threshold': 1714571045, 'backend_flush_after': 162, 'bgwriter_delay': 6938, 'bgwriter_flush_after': 211, 'bgwriter_lru_maxpages': 420, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.538200550661684, 'checkpoint_flush_after': 248, 'checkpoint_timeout': 1034, 'commit_delay': 30459, 'commit_siblings': 454, 'cursor_tuple_fraction': 0.7227451576183876, 'deadlock_timeout': 824981875, 'default_statistics_target': 259, 'effective_cache_size': 493004467, 'effective_io_concurrency': 724, 'from_collapse_limit': 48170158, 'geqo_effort': 10, 'geqo_generations': 1892426559, 'geqo_pool_size': 807035883, 'geqo_seed': 0.7096774046733223, 'geqo_threshold': 240284018, 'join_collapse_limit': 1036633659, 'maintenance_work_mem': 1510213521, 'max_connections': 709, 'max_wal_senders': 21, 'shared_buffers': 3508289, 'temp_buffers': 644623446, 'temp_file_limit': 610811210, 'vacuum_cost_delay': 14, 'vacuum_cost_limit': 6993, 'vacuum_cost_page_dirty': 3238, 'vacuum_cost_page_hit': 4027, 'vacuum_cost_page_miss': 8394, 'wal_buffers': 20842, 'wal_writer_delay': 9574, 'work_mem': 928793723}, QPS: -3340.3088840114915
Performance (QPS): -3340.3088840114915
Evaluating configuration: {'autovacuum_analyze_scale_factor': 11.458976487546057, 'autovacuum_analyze_threshold': 755161131, 'autovacuum_max_workers': 74, 'autovacuum_naptime': 1125937, 'autovacuum_vacuum_cost_delay': 99, 'autovacuum_vacuum_cost_limit': 2643, 'autovacuum_vacuum_scale_factor': 46.0581163172695, 'autovacuum_vacuum_threshold': 479027376, 'backend_flush_after': 53, 'bgwriter_delay': 7984, 'bgwriter_flush_after': 136, 'bgwriter_lru_maxpages': 596, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.6932072667899224, 'checkpoint_flush_after': 92, 'checkpoint_timeout': 829, 'commit_delay': 22496, 'commit_siblings': 104, 'cursor_tuple_fraction': 0.17117909639562767, 'deadlock_timeout': 1127978055, 'default_statistics_target': 9683, 'effective_cache_size': 868013478, 'effective_io_concurrency': 156, 'from_collapse_limit': 163147385, 'geqo_effort': 10, 'geqo_generations': 1398123576, 'geqo_pool_size': 1290315900, 'geqo_seed': 0.2775536429766522, 'geqo_threshold': 646194139, 'join_collapse_limit': 1417397158, 'maintenance_work_mem': 582535843, 'max_connections': 1095, 'max_wal_senders': 9, 'shared_buffers': 3166877, 'temp_buffers': 812204639, 'temp_file_limit': 666682274, 'vacuum_cost_delay': 78, 'vacuum_cost_limit': 2770, 'vacuum_cost_page_dirty': 7409, 'vacuum_cost_page_hit': 9387, 'vacuum_cost_page_miss': 125, 'wal_buffers': 92798, 'wal_writer_delay': 4645, 'work_mem': 1748456819}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 11.458976487546057
Set autovacuum_analyze_threshold = 755161131
Set autovacuum_max_workers = 74
Set autovacuum_naptime = 1125937
Set autovacuum_vacuum_cost_delay = 99
Set autovacuum_vacuum_cost_limit = 2643
Set autovacuum_vacuum_scale_factor = 46.0581163172695
Set autovacuum_vacuum_threshold = 479027376
Set backend_flush_after = 53
Set bgwriter_delay = 7984
Set bgwriter_flush_after = 136
Set bgwriter_lru_maxpages = 596
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.6932072667899224
Set checkpoint_flush_after = 92
Set checkpoint_timeout = 829
Set commit_delay = 22496
Set commit_siblings = 104
Set cursor_tuple_fraction = 0.17117909639562767
Set deadlock_timeout = 1127978055
Set default_statistics_target = 9683
Set effective_cache_size = 868013478
Set effective_io_concurrency = 156
Set from_collapse_limit = 163147385
Set geqo_effort = 10
Set geqo_generations = 1398123576
Set geqo_pool_size = 1290315900
Set geqo_seed = 0.2775536429766522
Set geqo_threshold = 646194139
Set join_collapse_limit = 1417397158
Set maintenance_work_mem = 582535843
Set max_connections = 1095
Set max_wal_senders = 9
Set shared_buffers = 3166877
Set temp_buffers = 812204639
Set temp_file_limit = 666682274
Set vacuum_cost_delay = 78
Set vacuum_cost_limit = 2770
Set vacuum_cost_page_dirty = 7409
Set vacuum_cost_page_hit = 9387
Set vacuum_cost_page_miss = 125
Set wal_buffers = 92798
Set wal_writer_delay = 4645
Set work_mem = 1748456819
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763741541.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-13-25.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-13-25.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-13-25.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-13-25.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-13-25.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-13-25.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-13-25.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-13-25.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-13-25.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-13-25.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-13-25.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-13-25.results.UpdatePage.csv
Parsed throughput from summary.json: 3374.171162011487
BenchBase wikipedia throughput: 3374.171162011487
Configuration: {'autovacuum_analyze_scale_factor': 11.458976487546057, 'autovacuum_analyze_threshold': 755161131, 'autovacuum_max_workers': 74, 'autovacuum_naptime': 1125937, 'autovacuum_vacuum_cost_delay': 99, 'autovacuum_vacuum_cost_limit': 2643, 'autovacuum_vacuum_scale_factor': 46.0581163172695, 'autovacuum_vacuum_threshold': 479027376, 'backend_flush_after': 53, 'bgwriter_delay': 7984, 'bgwriter_flush_after': 136, 'bgwriter_lru_maxpages': 596, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.6932072667899224, 'checkpoint_flush_after': 92, 'checkpoint_timeout': 829, 'commit_delay': 22496, 'commit_siblings': 104, 'cursor_tuple_fraction': 0.17117909639562767, 'deadlock_timeout': 1127978055, 'default_statistics_target': 9683, 'effective_cache_size': 868013478, 'effective_io_concurrency': 156, 'from_collapse_limit': 163147385, 'geqo_effort': 10, 'geqo_generations': 1398123576, 'geqo_pool_size': 1290315900, 'geqo_seed': 0.2775536429766522, 'geqo_threshold': 646194139, 'join_collapse_limit': 1417397158, 'maintenance_work_mem': 582535843, 'max_connections': 1095, 'max_wal_senders': 9, 'shared_buffers': 3166877, 'temp_buffers': 812204639, 'temp_file_limit': 666682274, 'vacuum_cost_delay': 78, 'vacuum_cost_limit': 2770, 'vacuum_cost_page_dirty': 7409, 'vacuum_cost_page_hit': 9387, 'vacuum_cost_page_miss': 125, 'wal_buffers': 92798, 'wal_writer_delay': 4645, 'work_mem': 1748456819}, QPS: -3374.171162011487
Performance (QPS): -3374.171162011487
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 66, 'autovacuum_naptime': 1503590, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 8396, 'autovacuum_vacuum_scale_factor': 84.54752540963787, 'autovacuum_vacuum_threshold': 2047819007, 'backend_flush_after': 34, 'bgwriter_delay': 2838, 'bgwriter_flush_after': 192, 'bgwriter_lru_maxpages': 619, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3228030000832728, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2313, 'commit_delay': 36231, 'commit_siblings': 981, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4347, 'effective_cache_size': 1457238400, 'effective_io_concurrency': 564, 'from_collapse_limit': 1797468416, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1295891071, 'geqo_seed': 0.4401865864874508, 'geqo_threshold': 295185249, 'join_collapse_limit': 102304824, 'maintenance_work_mem': 862212004, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 142753, 'temp_buffers': 18201004, 'temp_file_limit': 118251495, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 4268, 'vacuum_cost_page_dirty': 4424, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 15186, 'wal_writer_delay': 9009, 'work_mem': 1797400970}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 66
Set autovacuum_naptime = 1503590
Set autovacuum_vacuum_cost_delay = 87
Set autovacuum_vacuum_cost_limit = 8396
Set autovacuum_vacuum_scale_factor = 84.54752540963787
Set autovacuum_vacuum_threshold = 2047819007
Set backend_flush_after = 34
Set bgwriter_delay = 2838
Set bgwriter_flush_after = 192
Set bgwriter_lru_maxpages = 619
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3228030000832728
Set checkpoint_flush_after = 240
Set checkpoint_timeout = 2313
Set commit_delay = 36231
Set commit_siblings = 981
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4347
Set effective_cache_size = 1457238400
Set effective_io_concurrency = 564
Set from_collapse_limit = 1797468416
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1295891071
Set geqo_seed = 0.4401865864874508
Set geqo_threshold = 295185249
Set join_collapse_limit = 102304824
Set maintenance_work_mem = 862212004
Set max_connections = 1818
Set max_wal_senders = 22
Set shared_buffers = 142753
Set temp_buffers = 18201004
Set temp_file_limit = 118251495
Set vacuum_cost_delay = 79
Set vacuum_cost_limit = 4268
Set vacuum_cost_page_dirty = 4424
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 15186
Set wal_writer_delay = 9009
Set work_mem = 1797400970
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-15-05.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-15-05.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-15-05.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-15-05.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-15-05.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-15-05.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-15-05.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-15-05.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-15-05.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-15-05.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-15-05.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763741641.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-15-05.metrics.json
Parsed throughput from summary.json: 3280.8918201925694
BenchBase wikipedia throughput: 3280.8918201925694
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 66, 'autovacuum_naptime': 1503590, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 8396, 'autovacuum_vacuum_scale_factor': 84.54752540963787, 'autovacuum_vacuum_threshold': 2047819007, 'backend_flush_after': 34, 'bgwriter_delay': 2838, 'bgwriter_flush_after': 192, 'bgwriter_lru_maxpages': 619, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3228030000832728, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2313, 'commit_delay': 36231, 'commit_siblings': 981, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4347, 'effective_cache_size': 1457238400, 'effective_io_concurrency': 564, 'from_collapse_limit': 1797468416, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1295891071, 'geqo_seed': 0.4401865864874508, 'geqo_threshold': 295185249, 'join_collapse_limit': 102304824, 'maintenance_work_mem': 862212004, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 142753, 'temp_buffers': 18201004, 'temp_file_limit': 118251495, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 4268, 'vacuum_cost_page_dirty': 4424, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 15186, 'wal_writer_delay': 9009, 'work_mem': 1797400970}, QPS: -3280.8918201925694
Performance (QPS): -3280.8918201925694
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1197515135, 'autovacuum_max_workers': 66, 'autovacuum_naptime': 1622537, 'autovacuum_vacuum_cost_delay': 73, 'autovacuum_vacuum_cost_limit': 8731, 'autovacuum_vacuum_scale_factor': 73.47807485706555, 'autovacuum_vacuum_threshold': 2061834879, 'backend_flush_after': 30, 'bgwriter_delay': 3654, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 536, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 245, 'checkpoint_timeout': 2355, 'commit_delay': 32217, 'commit_siblings': 956, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4523, 'effective_cache_size': 1459603840, 'effective_io_concurrency': 599, 'from_collapse_limit': 2008927616, 'geqo_effort': 3, 'geqo_generations': 27196824, 'geqo_pool_size': 1298737279, 'geqo_seed': 0.5334141897807316, 'geqo_threshold': 295185249, 'join_collapse_limit': 30623198, 'maintenance_work_mem': 757547414, 'max_connections': 1859, 'max_wal_senders': 18, 'shared_buffers': 200153, 'temp_buffers': 28350791, 'temp_file_limit': 79238615, 'vacuum_cost_delay': 78, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4632, 'vacuum_cost_page_hit': 8629, 'vacuum_cost_page_miss': 824, 'wal_buffers': 2561, 'wal_writer_delay': 9009, 'work_mem': 1797400970}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1197515135
Set autovacuum_max_workers = 66
Set autovacuum_naptime = 1622537
Set autovacuum_vacuum_cost_delay = 73
Set autovacuum_vacuum_cost_limit = 8731
Set autovacuum_vacuum_scale_factor = 73.47807485706555
Set autovacuum_vacuum_threshold = 2061834879
Set backend_flush_after = 30
Set bgwriter_delay = 3654
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 536
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 245
Set checkpoint_timeout = 2355
Set commit_delay = 32217
Set commit_siblings = 956
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4523
Set effective_cache_size = 1459603840
Set effective_io_concurrency = 599
Set from_collapse_limit = 2008927616
Set geqo_effort = 3
Set geqo_generations = 27196824
Set geqo_pool_size = 1298737279
Set geqo_seed = 0.5334141897807316
Set geqo_threshold = 295185249
Set join_collapse_limit = 30623198
Set maintenance_work_mem = 757547414
Set max_connections = 1859
Set max_wal_senders = 18
Set shared_buffers = 200153
Set temp_buffers = 28350791
Set temp_file_limit = 79238615
Set vacuum_cost_delay = 78
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4632
Set vacuum_cost_page_hit = 8629
Set vacuum_cost_page_miss = 824
Set wal_buffers = 2561
Set wal_writer_delay = 9009
Set work_mem = 1797400970
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-16-46.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-16-46.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-16-46.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-16-46.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-16-46.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-16-46.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-16-46.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-16-46.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-16-46.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-16-46.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-16-46.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-16-46.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763741742.log
Parsed throughput from summary.json: 3481.2183312881475
BenchBase wikipedia throughput: 3481.2183312881475
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1197515135, 'autovacuum_max_workers': 66, 'autovacuum_naptime': 1622537, 'autovacuum_vacuum_cost_delay': 73, 'autovacuum_vacuum_cost_limit': 8731, 'autovacuum_vacuum_scale_factor': 73.47807485706555, 'autovacuum_vacuum_threshold': 2061834879, 'backend_flush_after': 30, 'bgwriter_delay': 3654, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 536, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 245, 'checkpoint_timeout': 2355, 'commit_delay': 32217, 'commit_siblings': 956, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4523, 'effective_cache_size': 1459603840, 'effective_io_concurrency': 599, 'from_collapse_limit': 2008927616, 'geqo_effort': 3, 'geqo_generations': 27196824, 'geqo_pool_size': 1298737279, 'geqo_seed': 0.5334141897807316, 'geqo_threshold': 295185249, 'join_collapse_limit': 30623198, 'maintenance_work_mem': 757547414, 'max_connections': 1859, 'max_wal_senders': 18, 'shared_buffers': 200153, 'temp_buffers': 28350791, 'temp_file_limit': 79238615, 'vacuum_cost_delay': 78, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4632, 'vacuum_cost_page_hit': 8629, 'vacuum_cost_page_miss': 824, 'wal_buffers': 2561, 'wal_writer_delay': 9009, 'work_mem': 1797400970}, QPS: -3481.2183312881475
Performance (QPS): -3481.2183312881475
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 59, 'autovacuum_naptime': 1538206, 'autovacuum_vacuum_cost_delay': 93, 'autovacuum_vacuum_cost_limit': 8500, 'autovacuum_vacuum_scale_factor': 73.81603597839927, 'autovacuum_vacuum_threshold': 1896849663, 'backend_flush_after': 25, 'bgwriter_delay': 3327, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 536, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 249, 'checkpoint_timeout': 2573, 'commit_delay': 33208, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.12210429840138069, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4211, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 564, 'from_collapse_limit': 1843640704, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1293058431, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 491206337, 'join_collapse_limit': 30623198, 'maintenance_work_mem': 712770476, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 29157305, 'temp_file_limit': 95580743, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4895, 'vacuum_cost_page_hit': 8599, 'vacuum_cost_page_miss': 859, 'wal_buffers': 10858, 'wal_writer_delay': 9176, 'work_mem': 1797400970}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 59
Set autovacuum_naptime = 1538206
Set autovacuum_vacuum_cost_delay = 93
Set autovacuum_vacuum_cost_limit = 8500
Set autovacuum_vacuum_scale_factor = 73.81603597839927
Set autovacuum_vacuum_threshold = 1896849663
Set backend_flush_after = 25
Set bgwriter_delay = 3327
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 536
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 249
Set checkpoint_timeout = 2573
Set commit_delay = 33208
Set commit_siblings = 974
Set cursor_tuple_fraction = 0.12210429840138069
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4211
Set effective_cache_size = 1374450688
Set effective_io_concurrency = 564
Set from_collapse_limit = 1843640704
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1293058431
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 491206337
Set join_collapse_limit = 30623198
Set maintenance_work_mem = 712770476
Set max_connections = 1818
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 29157305
Set temp_file_limit = 95580743
Set vacuum_cost_delay = 79
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4895
Set vacuum_cost_page_hit = 8599
Set vacuum_cost_page_miss = 859
Set wal_buffers = 10858
Set wal_writer_delay = 9176
Set work_mem = 1797400970
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-18-25.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-18-25.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-18-25.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763741841.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-18-25.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-18-25.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-18-25.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-18-25.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-18-25.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-18-25.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-18-25.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-18-25.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-18-25.samples.csv
Parsed throughput from summary.json: 3404.881509808201
BenchBase wikipedia throughput: 3404.881509808201
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 59, 'autovacuum_naptime': 1538206, 'autovacuum_vacuum_cost_delay': 93, 'autovacuum_vacuum_cost_limit': 8500, 'autovacuum_vacuum_scale_factor': 73.81603597839927, 'autovacuum_vacuum_threshold': 1896849663, 'backend_flush_after': 25, 'bgwriter_delay': 3327, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 536, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 249, 'checkpoint_timeout': 2573, 'commit_delay': 33208, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.12210429840138069, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4211, 'effective_cache_size': 1374450688, 'effective_io_concurrency': 564, 'from_collapse_limit': 1843640704, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1293058431, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 491206337, 'join_collapse_limit': 30623198, 'maintenance_work_mem': 712770476, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 29157305, 'temp_file_limit': 95580743, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4895, 'vacuum_cost_page_hit': 8599, 'vacuum_cost_page_miss': 859, 'wal_buffers': 10858, 'wal_writer_delay': 9176, 'work_mem': 1797400970}, QPS: -3404.881509808201
Performance (QPS): -3404.881509808201
Evaluating configuration: {'autovacuum_analyze_scale_factor': 85.59101855116161, 'autovacuum_analyze_threshold': 1035835395, 'autovacuum_max_workers': 52, 'autovacuum_naptime': 1129132, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6536, 'autovacuum_vacuum_scale_factor': 26.665236894487098, 'autovacuum_vacuum_threshold': 1086296974, 'backend_flush_after': 144, 'bgwriter_delay': 2649, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 224, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.996591727558042, 'checkpoint_flush_after': 131, 'checkpoint_timeout': 1656, 'commit_delay': 1211, 'commit_siblings': 590, 'cursor_tuple_fraction': 0.45613752750994263, 'deadlock_timeout': 1214566921, 'default_statistics_target': 3934, 'effective_cache_size': 1513879046, 'effective_io_concurrency': 902, 'from_collapse_limit': 1798419226, 'geqo_effort': 6, 'geqo_generations': 969456832, 'geqo_pool_size': 1151636980, 'geqo_seed': 0.8784678933999323, 'geqo_threshold': 484147281, 'join_collapse_limit': 1290466531, 'maintenance_work_mem': 681510315, 'max_connections': 1345, 'max_wal_senders': 2, 'shared_buffers': 2359689, 'temp_buffers': 300136924, 'temp_file_limit': 1613978742, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 3659, 'vacuum_cost_page_dirty': 9847, 'vacuum_cost_page_hit': 171, 'vacuum_cost_page_miss': 3257, 'wal_buffers': 48903, 'wal_writer_delay': 6229, 'work_mem': 1081497548}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 85.59101855116161
Set autovacuum_analyze_threshold = 1035835395
Set autovacuum_max_workers = 52
Set autovacuum_naptime = 1129132
Set autovacuum_vacuum_cost_delay = 82
Set autovacuum_vacuum_cost_limit = 6536
Set autovacuum_vacuum_scale_factor = 26.665236894487098
Set autovacuum_vacuum_threshold = 1086296974
Set backend_flush_after = 144
Set bgwriter_delay = 2649
Set bgwriter_flush_after = 26
Set bgwriter_lru_maxpages = 224
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.996591727558042
Set checkpoint_flush_after = 131
Set checkpoint_timeout = 1656
Set commit_delay = 1211
Set commit_siblings = 590
Set cursor_tuple_fraction = 0.45613752750994263
Set deadlock_timeout = 1214566921
Set default_statistics_target = 3934
Set effective_cache_size = 1513879046
Set effective_io_concurrency = 902
Set from_collapse_limit = 1798419226
Set geqo_effort = 6
Set geqo_generations = 969456832
Set geqo_pool_size = 1151636980
Set geqo_seed = 0.8784678933999323
Set geqo_threshold = 484147281
Set join_collapse_limit = 1290466531
Set maintenance_work_mem = 681510315
Set max_connections = 1345
Set max_wal_senders = 2
Set shared_buffers = 2359689
Set temp_buffers = 300136924
Set temp_file_limit = 1613978742
Set vacuum_cost_delay = 88
Set vacuum_cost_limit = 3659
Set vacuum_cost_page_dirty = 9847
Set vacuum_cost_page_hit = 171
Set vacuum_cost_page_miss = 3257
Set wal_buffers = 48903
Set wal_writer_delay = 6229
Set work_mem = 1081497548
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-19-59.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-19-59.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-19-59.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-19-59.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-19-59.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-19-59.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-19-59.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-19-59.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763741935.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-19-59.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-19-59.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-19-59.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-19-59.raw.csv
Parsed throughput from summary.json: 3129.0553967182004
BenchBase wikipedia throughput: 3129.0553967182004
Configuration: {'autovacuum_analyze_scale_factor': 85.59101855116161, 'autovacuum_analyze_threshold': 1035835395, 'autovacuum_max_workers': 52, 'autovacuum_naptime': 1129132, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6536, 'autovacuum_vacuum_scale_factor': 26.665236894487098, 'autovacuum_vacuum_threshold': 1086296974, 'backend_flush_after': 144, 'bgwriter_delay': 2649, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 224, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.996591727558042, 'checkpoint_flush_after': 131, 'checkpoint_timeout': 1656, 'commit_delay': 1211, 'commit_siblings': 590, 'cursor_tuple_fraction': 0.45613752750994263, 'deadlock_timeout': 1214566921, 'default_statistics_target': 3934, 'effective_cache_size': 1513879046, 'effective_io_concurrency': 902, 'from_collapse_limit': 1798419226, 'geqo_effort': 6, 'geqo_generations': 969456832, 'geqo_pool_size': 1151636980, 'geqo_seed': 0.8784678933999323, 'geqo_threshold': 484147281, 'join_collapse_limit': 1290466531, 'maintenance_work_mem': 681510315, 'max_connections': 1345, 'max_wal_senders': 2, 'shared_buffers': 2359689, 'temp_buffers': 300136924, 'temp_file_limit': 1613978742, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 3659, 'vacuum_cost_page_dirty': 9847, 'vacuum_cost_page_hit': 171, 'vacuum_cost_page_miss': 3257, 'wal_buffers': 48903, 'wal_writer_delay': 6229, 'work_mem': 1081497548}, QPS: -3129.0553967182004
Performance (QPS): -3129.0553967182004
Evaluating configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 3, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 29384, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1819760640, 'default_statistics_target': 2920, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 525, 'from_collapse_limit': 1791037440, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.3480285627973835, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 64874253, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 80, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4514, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 217, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 23.202749108502996
Set autovacuum_analyze_threshold = 1094279679
Set autovacuum_max_workers = 48
Set autovacuum_naptime = 1314809
Set autovacuum_vacuum_cost_delay = 82
Set autovacuum_vacuum_cost_limit = 6982
Set autovacuum_vacuum_scale_factor = 87.44530657703532
Set autovacuum_vacuum_threshold = 2053133567
Set backend_flush_after = 3
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 181
Set bgwriter_lru_maxpages = 634
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.3212537337204705
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2816
Set commit_delay = 29384
Set commit_siblings = 902
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1819760640
Set default_statistics_target = 2920
Set effective_cache_size = 1233596416
Set effective_io_concurrency = 525
Set from_collapse_limit = 1791037440
Set geqo_effort = 10
Set geqo_generations = 159642294
Set geqo_pool_size = 1320010751
Set geqo_seed = 0.3480285627973835
Set geqo_threshold = 105486297
Set join_collapse_limit = 256814672
Set maintenance_work_mem = 1140661344
Set max_connections = 1950
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 64874253
Set temp_file_limit = 57437911
Set vacuum_cost_delay = 80
Set vacuum_cost_limit = 4652
Set vacuum_cost_page_dirty = 4514
Set vacuum_cost_page_hit = 7418
Set vacuum_cost_page_miss = 217
Set wal_buffers = 1416
Set wal_writer_delay = 9225
Set work_mem = 1954204293
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-21-38.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-21-38.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-21-38.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-21-38.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-21-38.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-21-38.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-21-38.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-21-38.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-21-38.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-21-38.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763742035.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-21-38.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-21-38.results.RemoveWatchList.csv
Parsed throughput from summary.json: 3615.247007053616
BenchBase wikipedia throughput: 3615.247007053616
Configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 3, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 29384, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1819760640, 'default_statistics_target': 2920, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 525, 'from_collapse_limit': 1791037440, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.3480285627973835, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 64874253, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 80, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4514, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 217, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}, QPS: -3615.247007053616
Performance (QPS): -3615.247007053616
Evaluating configuration: {'autovacuum_analyze_scale_factor': 19.763005124338356, 'autovacuum_analyze_threshold': 907279616, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1255049, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 7372, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1988388735, 'backend_flush_after': 4, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 194, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.24981154852274307, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2925, 'commit_delay': 36231, 'commit_siblings': 907, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1399802624, 'default_statistics_target': 4487, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 434, 'from_collapse_limit': 1846373504, 'geqo_effort': 9, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 168858753, 'join_collapse_limit': 191721248, 'maintenance_work_mem': 957667097, 'max_connections': 1700, 'max_wal_senders': 23, 'shared_buffers': 217296, 'temp_buffers': 30273057, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 3893, 'vacuum_cost_page_hit': 7474, 'vacuum_cost_page_miss': 312, 'wal_buffers': 2399, 'wal_writer_delay': 9734, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 19.763005124338356
Set autovacuum_analyze_threshold = 907279616
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1255049
Set autovacuum_vacuum_cost_delay = 77
Set autovacuum_vacuum_cost_limit = 7372
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1988388735
Set backend_flush_after = 4
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 194
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.24981154852274307
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2925
Set commit_delay = 36231
Set commit_siblings = 907
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1399802624
Set default_statistics_target = 4487
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 434
Set from_collapse_limit = 1846373504
Set geqo_effort = 9
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 168858753
Set join_collapse_limit = 191721248
Set maintenance_work_mem = 957667097
Set max_connections = 1700
Set max_wal_senders = 23
Set shared_buffers = 217296
Set temp_buffers = 30273057
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 3893
Set vacuum_cost_page_hit = 7474
Set vacuum_cost_page_miss = 312
Set wal_buffers = 2399
Set wal_writer_delay = 9734
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-23-11.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-23-11.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763742128.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-23-11.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-23-11.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-23-11.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-23-11.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-23-11.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-23-11.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-23-11.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-23-11.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-23-11.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-23-11.results.AddWatchList.csv
Parsed throughput from summary.json: 3388.592384826488
BenchBase wikipedia throughput: 3388.592384826488
Configuration: {'autovacuum_analyze_scale_factor': 19.763005124338356, 'autovacuum_analyze_threshold': 907279616, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1255049, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 7372, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1988388735, 'backend_flush_after': 4, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 194, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.24981154852274307, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2925, 'commit_delay': 36231, 'commit_siblings': 907, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1399802624, 'default_statistics_target': 4487, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 434, 'from_collapse_limit': 1846373504, 'geqo_effort': 9, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 168858753, 'join_collapse_limit': 191721248, 'maintenance_work_mem': 957667097, 'max_connections': 1700, 'max_wal_senders': 23, 'shared_buffers': 217296, 'temp_buffers': 30273057, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 3893, 'vacuum_cost_page_hit': 7474, 'vacuum_cost_page_miss': 312, 'wal_buffers': 2399, 'wal_writer_delay': 9734, 'work_mem': 1668439634}, QPS: -3388.592384826488
Performance (QPS): -3388.592384826488
Evaluating configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1011178560, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2084915071, 'backend_flush_after': 6, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 169, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.2750881251441879, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 29384, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.09573855087190324, 'deadlock_timeout': 1890374912, 'default_statistics_target': 3774, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 525, 'from_collapse_limit': 1791037440, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.3480285627973835, 'geqo_threshold': 376785281, 'join_collapse_limit': 159156464, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 22, 'shared_buffers': 240595, 'temp_buffers': 64874253, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 80, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4514, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 217, 'wal_buffers': 1416, 'wal_writer_delay': 8371, 'work_mem': 1954204293}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 23.202749108502996
Set autovacuum_analyze_threshold = 1011178560
Set autovacuum_max_workers = 48
Set autovacuum_naptime = 1314809
Set autovacuum_vacuum_cost_delay = 82
Set autovacuum_vacuum_cost_limit = 6982
Set autovacuum_vacuum_scale_factor = 87.44530657703532
Set autovacuum_vacuum_threshold = 2084915071
Set backend_flush_after = 6
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 169
Set bgwriter_lru_maxpages = 634
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.2750881251441879
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2816
Set commit_delay = 29384
Set commit_siblings = 902
Set cursor_tuple_fraction = 0.09573855087190324
Set deadlock_timeout = 1890374912
Set default_statistics_target = 3774
Set effective_cache_size = 1233596416
Set effective_io_concurrency = 525
Set from_collapse_limit = 1791037440
Set geqo_effort = 4
Set geqo_generations = 159642294
Set geqo_pool_size = 1320010751
Set geqo_seed = 0.3480285627973835
Set geqo_threshold = 376785281
Set join_collapse_limit = 159156464
Set maintenance_work_mem = 1140661344
Set max_connections = 1950
Set max_wal_senders = 22
Set shared_buffers = 240595
Set temp_buffers = 64874253
Set temp_file_limit = 57437911
Set vacuum_cost_delay = 80
Set vacuum_cost_limit = 4652
Set vacuum_cost_page_dirty = 4514
Set vacuum_cost_page_hit = 7418
Set vacuum_cost_page_miss = 217
Set wal_buffers = 1416
Set wal_writer_delay = 8371
Set work_mem = 1954204293
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-24-52.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-24-52.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-24-52.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-24-52.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-24-52.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-24-52.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763742228.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-24-52.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-24-52.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-24-52.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-24-52.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-24-52.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-24-52.results.AddWatchList.csv
Parsed throughput from summary.json: 3386.4251017967317
BenchBase wikipedia throughput: 3386.4251017967317
Configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1011178560, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2084915071, 'backend_flush_after': 6, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 169, 'bgwriter_lru_maxpages': 634, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.2750881251441879, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 29384, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.09573855087190324, 'deadlock_timeout': 1890374912, 'default_statistics_target': 3774, 'effective_cache_size': 1233596416, 'effective_io_concurrency': 525, 'from_collapse_limit': 1791037440, 'geqo_effort': 4, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.3480285627973835, 'geqo_threshold': 376785281, 'join_collapse_limit': 159156464, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 22, 'shared_buffers': 240595, 'temp_buffers': 64874253, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 80, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4514, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 217, 'wal_buffers': 1416, 'wal_writer_delay': 8371, 'work_mem': 1954204293}, QPS: -3386.4251017967317
Performance (QPS): -3386.4251017967317
Evaluating configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 49, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 3, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 29384, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2002580480, 'default_statistics_target': 2920, 'effective_cache_size': 1303436544, 'effective_io_concurrency': 525, 'from_collapse_limit': 1791037440, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.35737836805034473, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 38505608, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 80, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4715, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 542, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 23.202749108502996
Set autovacuum_analyze_threshold = 1094279679
Set autovacuum_max_workers = 49
Set autovacuum_naptime = 1314809
Set autovacuum_vacuum_cost_delay = 82
Set autovacuum_vacuum_cost_limit = 6982
Set autovacuum_vacuum_scale_factor = 87.44530657703532
Set autovacuum_vacuum_threshold = 2053133567
Set backend_flush_after = 3
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 181
Set bgwriter_lru_maxpages = 628
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3212537337204705
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2816
Set commit_delay = 29384
Set commit_siblings = 902
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 2002580480
Set default_statistics_target = 2920
Set effective_cache_size = 1303436544
Set effective_io_concurrency = 525
Set from_collapse_limit = 1791037440
Set geqo_effort = 10
Set geqo_generations = 159642294
Set geqo_pool_size = 1320010751
Set geqo_seed = 0.35737836805034473
Set geqo_threshold = 105486297
Set join_collapse_limit = 256814672
Set maintenance_work_mem = 1140661344
Set max_connections = 1950
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 38505608
Set temp_file_limit = 57437911
Set vacuum_cost_delay = 80
Set vacuum_cost_limit = 4652
Set vacuum_cost_page_dirty = 4715
Set vacuum_cost_page_hit = 7418
Set vacuum_cost_page_miss = 542
Set wal_buffers = 1416
Set wal_writer_delay = 9225
Set work_mem = 1954204293
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-26-31.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-26-31.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-26-31.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-26-31.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-26-31.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-26-31.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-26-31.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-26-31.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-26-31.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-26-31.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763742327.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-26-31.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-26-31.metrics.json
Parsed throughput from summary.json: 3597.6875634177995
BenchBase wikipedia throughput: 3597.6875634177995
Configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 49, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 3, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 29384, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2002580480, 'default_statistics_target': 2920, 'effective_cache_size': 1303436544, 'effective_io_concurrency': 525, 'from_collapse_limit': 1791037440, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.35737836805034473, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 38505608, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 80, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4715, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 542, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}, QPS: -3597.6875634177995
Performance (QPS): -3597.6875634177995
Evaluating configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 35, 'autovacuum_naptime': 1497697, 'autovacuum_vacuum_cost_delay': 74, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 21, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 29384, 'commit_siblings': 929, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2030804864, 'default_statistics_target': 2920, 'effective_cache_size': 1086671616, 'effective_io_concurrency': 525, 'from_collapse_limit': 1791037440, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.32866653244106303, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1923, 'max_wal_senders': 24, 'shared_buffers': 217296, 'temp_buffers': 38505608, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4884, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 47, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 23.202749108502996
Set autovacuum_analyze_threshold = 1094279679
Set autovacuum_max_workers = 35
Set autovacuum_naptime = 1497697
Set autovacuum_vacuum_cost_delay = 74
Set autovacuum_vacuum_cost_limit = 6982
Set autovacuum_vacuum_scale_factor = 87.44530657703532
Set autovacuum_vacuum_threshold = 2053133567
Set backend_flush_after = 21
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 181
Set bgwriter_lru_maxpages = 628
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.3212537337204705
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2816
Set commit_delay = 29384
Set commit_siblings = 929
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 2030804864
Set default_statistics_target = 2920
Set effective_cache_size = 1086671616
Set effective_io_concurrency = 525
Set from_collapse_limit = 1791037440
Set geqo_effort = 10
Set geqo_generations = 159642294
Set geqo_pool_size = 1320010751
Set geqo_seed = 0.32866653244106303
Set geqo_threshold = 105486297
Set join_collapse_limit = 256814672
Set maintenance_work_mem = 1140661344
Set max_connections = 1923
Set max_wal_senders = 24
Set shared_buffers = 217296
Set temp_buffers = 38505608
Set temp_file_limit = 57437911
Set vacuum_cost_delay = 77
Set vacuum_cost_limit = 4652
Set vacuum_cost_page_dirty = 4884
Set vacuum_cost_page_hit = 7418
Set vacuum_cost_page_miss = 47
Set wal_buffers = 1416
Set wal_writer_delay = 9225
Set work_mem = 1954204293
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-28-10.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763742426.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-28-10.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-28-10.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-28-10.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-28-10.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-28-10.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-28-10.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-28-10.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-28-10.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-28-10.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-28-10.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-28-10.samples.csv
Parsed throughput from summary.json: 3732.8458727389852
BenchBase wikipedia throughput: 3732.8458727389852
Configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 35, 'autovacuum_naptime': 1497697, 'autovacuum_vacuum_cost_delay': 74, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 21, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 29384, 'commit_siblings': 929, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2030804864, 'default_statistics_target': 2920, 'effective_cache_size': 1086671616, 'effective_io_concurrency': 525, 'from_collapse_limit': 1791037440, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.32866653244106303, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1923, 'max_wal_senders': 24, 'shared_buffers': 217296, 'temp_buffers': 38505608, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4884, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 47, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}, QPS: -3732.8458727389852
Performance (QPS): -3732.8458727389852
Evaluating configuration: {'autovacuum_analyze_scale_factor': 3.3664366524060836, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 47, 'autovacuum_naptime': 1487892, 'autovacuum_vacuum_cost_delay': 81, 'autovacuum_vacuum_cost_limit': 8054, 'autovacuum_vacuum_scale_factor': 76.85341193055572, 'autovacuum_vacuum_threshold': 2049864703, 'backend_flush_after': 25, 'bgwriter_delay': 3327, 'bgwriter_flush_after': 194, 'bgwriter_lru_maxpages': 536, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.2892923725428649, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2608, 'commit_delay': 32217, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.18332399288718076, 'deadlock_timeout': 1491988352, 'default_statistics_target': 5490, 'effective_cache_size': 1215740928, 'effective_io_concurrency': 492, 'from_collapse_limit': 1713348096, 'geqo_effort': 10, 'geqo_generations': 281498432, 'geqo_pool_size': 1376698751, 'geqo_seed': 0.5154302990784616, 'geqo_threshold': 68361249, 'join_collapse_limit': 240534128, 'maintenance_work_mem': 780018508, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 33082012, 'temp_file_limit': 79238615, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 3831, 'vacuum_cost_page_dirty': 3795, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 39, 'wal_buffers': 7237, 'wal_writer_delay': 9073, 'work_mem': 1883480327}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 3.3664366524060836
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 47
Set autovacuum_naptime = 1487892
Set autovacuum_vacuum_cost_delay = 81
Set autovacuum_vacuum_cost_limit = 8054
Set autovacuum_vacuum_scale_factor = 76.85341193055572
Set autovacuum_vacuum_threshold = 2049864703
Set backend_flush_after = 25
Set bgwriter_delay = 3327
Set bgwriter_flush_after = 194
Set bgwriter_lru_maxpages = 536
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.2892923725428649
Set checkpoint_flush_after = 240
Set checkpoint_timeout = 2608
Set commit_delay = 32217
Set commit_siblings = 974
Set cursor_tuple_fraction = 0.18332399288718076
Set deadlock_timeout = 1491988352
Set default_statistics_target = 5490
Set effective_cache_size = 1215740928
Set effective_io_concurrency = 492
Set from_collapse_limit = 1713348096
Set geqo_effort = 10
Set geqo_generations = 281498432
Set geqo_pool_size = 1376698751
Set geqo_seed = 0.5154302990784616
Set geqo_threshold = 68361249
Set join_collapse_limit = 240534128
Set maintenance_work_mem = 780018508
Set max_connections = 1818
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 33082012
Set temp_file_limit = 79238615
Set vacuum_cost_delay = 79
Set vacuum_cost_limit = 3831
Set vacuum_cost_page_dirty = 3795
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 39
Set wal_buffers = 7237
Set wal_writer_delay = 9073
Set work_mem = 1883480327
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-29-43.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-29-43.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-29-43.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-29-43.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763742520.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-29-43.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-29-43.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-29-43.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-29-43.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-29-43.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-29-43.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-29-43.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-29-43.results.csv
Parsed throughput from summary.json: 3633.512225583067
BenchBase wikipedia throughput: 3633.512225583067
Configuration: {'autovacuum_analyze_scale_factor': 3.3664366524060836, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 47, 'autovacuum_naptime': 1487892, 'autovacuum_vacuum_cost_delay': 81, 'autovacuum_vacuum_cost_limit': 8054, 'autovacuum_vacuum_scale_factor': 76.85341193055572, 'autovacuum_vacuum_threshold': 2049864703, 'backend_flush_after': 25, 'bgwriter_delay': 3327, 'bgwriter_flush_after': 194, 'bgwriter_lru_maxpages': 536, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.2892923725428649, 'checkpoint_flush_after': 240, 'checkpoint_timeout': 2608, 'commit_delay': 32217, 'commit_siblings': 974, 'cursor_tuple_fraction': 0.18332399288718076, 'deadlock_timeout': 1491988352, 'default_statistics_target': 5490, 'effective_cache_size': 1215740928, 'effective_io_concurrency': 492, 'from_collapse_limit': 1713348096, 'geqo_effort': 10, 'geqo_generations': 281498432, 'geqo_pool_size': 1376698751, 'geqo_seed': 0.5154302990784616, 'geqo_threshold': 68361249, 'join_collapse_limit': 240534128, 'maintenance_work_mem': 780018508, 'max_connections': 1818, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 33082012, 'temp_file_limit': 79238615, 'vacuum_cost_delay': 79, 'vacuum_cost_limit': 3831, 'vacuum_cost_page_dirty': 3795, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 39, 'wal_buffers': 7237, 'wal_writer_delay': 9073, 'work_mem': 1883480327}, QPS: -3633.512225583067
Performance (QPS): -3633.512225583067
Evaluating configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1066344896, 'autovacuum_max_workers': 40, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 81.21988707950909, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 3, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3187735055339781, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 46710, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2115728384, 'default_statistics_target': 2115, 'effective_cache_size': 1051429952, 'effective_io_concurrency': 525, 'from_collapse_limit': 1677440384, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1353893887, 'geqo_seed': 0.35737836805034473, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 38505608, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 4751, 'vacuum_cost_page_dirty': 4822, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 0, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 23.202749108502996
Set autovacuum_analyze_threshold = 1066344896
Set autovacuum_max_workers = 40
Set autovacuum_naptime = 1314809
Set autovacuum_vacuum_cost_delay = 82
Set autovacuum_vacuum_cost_limit = 6982
Set autovacuum_vacuum_scale_factor = 81.21988707950909
Set autovacuum_vacuum_threshold = 2053133567
Set backend_flush_after = 3
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 181
Set bgwriter_lru_maxpages = 628
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3187735055339781
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2816
Set commit_delay = 46710
Set commit_siblings = 902
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 2115728384
Set default_statistics_target = 2115
Set effective_cache_size = 1051429952
Set effective_io_concurrency = 525
Set from_collapse_limit = 1677440384
Set geqo_effort = 10
Set geqo_generations = 159642294
Set geqo_pool_size = 1353893887
Set geqo_seed = 0.35737836805034473
Set geqo_threshold = 105486297
Set join_collapse_limit = 256814672
Set maintenance_work_mem = 1140661344
Set max_connections = 1950
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 38505608
Set temp_file_limit = 57437911
Set vacuum_cost_delay = 83
Set vacuum_cost_limit = 4751
Set vacuum_cost_page_dirty = 4822
Set vacuum_cost_page_hit = 7418
Set vacuum_cost_page_miss = 0
Set wal_buffers = 1416
Set wal_writer_delay = 9225
Set work_mem = 1954204293
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763742618.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-31-21.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-31-21.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-31-21.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-31-21.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-31-21.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-31-21.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-31-21.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-31-21.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-31-21.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-31-21.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-31-21.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-31-21.results.csv
Parsed throughput from summary.json: 3726.036319847573
BenchBase wikipedia throughput: 3726.036319847573
Configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1066344896, 'autovacuum_max_workers': 40, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 81.21988707950909, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 3, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3187735055339781, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 46710, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2115728384, 'default_statistics_target': 2115, 'effective_cache_size': 1051429952, 'effective_io_concurrency': 525, 'from_collapse_limit': 1677440384, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1353893887, 'geqo_seed': 0.35737836805034473, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 38505608, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 4751, 'vacuum_cost_page_dirty': 4822, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 0, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}, QPS: -3726.036319847573
Performance (QPS): -3726.036319847573
Evaluating configuration: {'autovacuum_analyze_scale_factor': 19.645752066772765, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 27, 'autovacuum_naptime': 1497697, 'autovacuum_vacuum_cost_delay': 74, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 12, 'bgwriter_delay': 3103, 'bgwriter_flush_after': 198, 'bgwriter_lru_maxpages': 619, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 29384, 'commit_siblings': 944, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2030804864, 'default_statistics_target': 2920, 'effective_cache_size': 1086671616, 'effective_io_concurrency': 525, 'from_collapse_limit': 1774022272, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.32866653244106303, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1923, 'max_wal_senders': 24, 'shared_buffers': 217296, 'temp_buffers': 38505608, 'temp_file_limit': 36490435, 'vacuum_cost_delay': 74, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4884, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 4, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 2024847619}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 19.645752066772765
Set autovacuum_analyze_threshold = 1094279679
Set autovacuum_max_workers = 27
Set autovacuum_naptime = 1497697
Set autovacuum_vacuum_cost_delay = 74
Set autovacuum_vacuum_cost_limit = 6982
Set autovacuum_vacuum_scale_factor = 87.44530657703532
Set autovacuum_vacuum_threshold = 2053133567
Set backend_flush_after = 12
Set bgwriter_delay = 3103
Set bgwriter_flush_after = 198
Set bgwriter_lru_maxpages = 619
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.3212537337204705
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2816
Set commit_delay = 29384
Set commit_siblings = 944
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 2030804864
Set default_statistics_target = 2920
Set effective_cache_size = 1086671616
Set effective_io_concurrency = 525
Set from_collapse_limit = 1774022272
Set geqo_effort = 10
Set geqo_generations = 159642294
Set geqo_pool_size = 1320010751
Set geqo_seed = 0.32866653244106303
Set geqo_threshold = 105486297
Set join_collapse_limit = 256814672
Set maintenance_work_mem = 1140661344
Set max_connections = 1923
Set max_wal_senders = 24
Set shared_buffers = 217296
Set temp_buffers = 38505608
Set temp_file_limit = 36490435
Set vacuum_cost_delay = 74
Set vacuum_cost_limit = 4652
Set vacuum_cost_page_dirty = 4884
Set vacuum_cost_page_hit = 7418
Set vacuum_cost_page_miss = 4
Set wal_buffers = 1416
Set wal_writer_delay = 9225
Set work_mem = 2024847619
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-33-00.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-33-00.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-33-00.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763742717.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-33-00.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-33-00.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-33-00.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-33-00.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-33-00.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-33-00.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-33-00.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-33-00.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-33-00.results.csv
Parsed throughput from summary.json: 3688.0682202919706
BenchBase wikipedia throughput: 3688.0682202919706
Configuration: {'autovacuum_analyze_scale_factor': 19.645752066772765, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 27, 'autovacuum_naptime': 1497697, 'autovacuum_vacuum_cost_delay': 74, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 12, 'bgwriter_delay': 3103, 'bgwriter_flush_after': 198, 'bgwriter_lru_maxpages': 619, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 29384, 'commit_siblings': 944, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2030804864, 'default_statistics_target': 2920, 'effective_cache_size': 1086671616, 'effective_io_concurrency': 525, 'from_collapse_limit': 1774022272, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.32866653244106303, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1923, 'max_wal_senders': 24, 'shared_buffers': 217296, 'temp_buffers': 38505608, 'temp_file_limit': 36490435, 'vacuum_cost_delay': 74, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 4884, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 4, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 2024847619}, QPS: -3688.0682202919706
Performance (QPS): -3688.0682202919706
Evaluating configuration: {'autovacuum_analyze_scale_factor': 86.41674500152762, 'autovacuum_analyze_threshold': 367433077, 'autovacuum_max_workers': 11, 'autovacuum_naptime': 229337, 'autovacuum_vacuum_cost_delay': 78, 'autovacuum_vacuum_cost_limit': 9264, 'autovacuum_vacuum_scale_factor': 55.03765125298637, 'autovacuum_vacuum_threshold': 1077303122, 'backend_flush_after': 19, 'bgwriter_delay': 9756, 'bgwriter_flush_after': 2, 'bgwriter_lru_maxpages': 657, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.8056464271687671, 'checkpoint_flush_after': 116, 'checkpoint_timeout': 1717, 'commit_delay': 16195, 'commit_siblings': 880, 'cursor_tuple_fraction': 0.34999967852498326, 'deadlock_timeout': 1993488442, 'default_statistics_target': 3966, 'effective_cache_size': 665337065, 'effective_io_concurrency': 534, 'from_collapse_limit': 1679430035, 'geqo_effort': 4, 'geqo_generations': 1100220249, 'geqo_pool_size': 735067543, 'geqo_seed': 0.813413470595314, 'geqo_threshold': 948512729, 'join_collapse_limit': 1776124371, 'maintenance_work_mem': 1422725955, 'max_connections': 819, 'max_wal_senders': 43, 'shared_buffers': 3909842, 'temp_buffers': 690458880, 'temp_file_limit': 995310233, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 810, 'vacuum_cost_page_dirty': 7552, 'vacuum_cost_page_hit': 8172, 'vacuum_cost_page_miss': 5049, 'wal_buffers': 64254, 'wal_writer_delay': 8553, 'work_mem': 249472783}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 86.41674500152762
Set autovacuum_analyze_threshold = 367433077
Set autovacuum_max_workers = 11
Set autovacuum_naptime = 229337
Set autovacuum_vacuum_cost_delay = 78
Set autovacuum_vacuum_cost_limit = 9264
Set autovacuum_vacuum_scale_factor = 55.03765125298637
Set autovacuum_vacuum_threshold = 1077303122
Set backend_flush_after = 19
Set bgwriter_delay = 9756
Set bgwriter_flush_after = 2
Set bgwriter_lru_maxpages = 657
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.8056464271687671
Set checkpoint_flush_after = 116
Set checkpoint_timeout = 1717
Set commit_delay = 16195
Set commit_siblings = 880
Set cursor_tuple_fraction = 0.34999967852498326
Set deadlock_timeout = 1993488442
Set default_statistics_target = 3966
Set effective_cache_size = 665337065
Set effective_io_concurrency = 534
Set from_collapse_limit = 1679430035
Set geqo_effort = 4
Set geqo_generations = 1100220249
Set geqo_pool_size = 735067543
Set geqo_seed = 0.813413470595314
Set geqo_threshold = 948512729
Set join_collapse_limit = 1776124371
Set maintenance_work_mem = 1422725955
Set max_connections = 819
Set max_wal_senders = 43
Set shared_buffers = 3909842
Set temp_buffers = 690458880
Set temp_file_limit = 995310233
Set vacuum_cost_delay = 48
Set vacuum_cost_limit = 810
Set vacuum_cost_page_dirty = 7552
Set vacuum_cost_page_hit = 8172
Set vacuum_cost_page_miss = 5049
Set wal_buffers = 64254
Set wal_writer_delay = 8553
Set work_mem = 249472783
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-34-34.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-34-34.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-34-34.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-34-34.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-34-34.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-34-34.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-34-34.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-34-34.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763742811.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-34-34.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-34-34.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-34-34.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-34-34.params.json
Parsed throughput from summary.json: 3671.4795038366533
BenchBase wikipedia throughput: 3671.4795038366533
Configuration: {'autovacuum_analyze_scale_factor': 86.41674500152762, 'autovacuum_analyze_threshold': 367433077, 'autovacuum_max_workers': 11, 'autovacuum_naptime': 229337, 'autovacuum_vacuum_cost_delay': 78, 'autovacuum_vacuum_cost_limit': 9264, 'autovacuum_vacuum_scale_factor': 55.03765125298637, 'autovacuum_vacuum_threshold': 1077303122, 'backend_flush_after': 19, 'bgwriter_delay': 9756, 'bgwriter_flush_after': 2, 'bgwriter_lru_maxpages': 657, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.8056464271687671, 'checkpoint_flush_after': 116, 'checkpoint_timeout': 1717, 'commit_delay': 16195, 'commit_siblings': 880, 'cursor_tuple_fraction': 0.34999967852498326, 'deadlock_timeout': 1993488442, 'default_statistics_target': 3966, 'effective_cache_size': 665337065, 'effective_io_concurrency': 534, 'from_collapse_limit': 1679430035, 'geqo_effort': 4, 'geqo_generations': 1100220249, 'geqo_pool_size': 735067543, 'geqo_seed': 0.813413470595314, 'geqo_threshold': 948512729, 'join_collapse_limit': 1776124371, 'maintenance_work_mem': 1422725955, 'max_connections': 819, 'max_wal_senders': 43, 'shared_buffers': 3909842, 'temp_buffers': 690458880, 'temp_file_limit': 995310233, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 810, 'vacuum_cost_page_dirty': 7552, 'vacuum_cost_page_hit': 8172, 'vacuum_cost_page_miss': 5049, 'wal_buffers': 64254, 'wal_writer_delay': 8553, 'work_mem': 249472783}, QPS: -3671.4795038366533
Performance (QPS): -3671.4795038366533
Evaluating configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 49, 'autovacuum_naptime': 1381207, 'autovacuum_vacuum_cost_delay': 76, 'autovacuum_vacuum_cost_limit': 5531, 'autovacuum_vacuum_scale_factor': 88.14788210175651, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 9, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.35041909797287946, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2802, 'commit_delay': 29384, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2002580480, 'default_statistics_target': 2265, 'effective_cache_size': 1179548800, 'effective_io_concurrency': 525, 'from_collapse_limit': 1905808384, 'geqo_effort': 10, 'geqo_generations': 174636576, 'geqo_pool_size': 1344549375, 'geqo_seed': 0.2700387068200462, 'geqo_threshold': 105486297, 'join_collapse_limit': 20614064, 'maintenance_work_mem': 1140661344, 'max_connections': 1817, 'max_wal_senders': 26, 'shared_buffers': 117891, 'temp_buffers': 88422411, 'temp_file_limit': 246434991, 'vacuum_cost_delay': 76, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 5289, 'vacuum_cost_page_hit': 7783, 'vacuum_cost_page_miss': 14, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 23.202749108502996
Set autovacuum_analyze_threshold = 1094279679
Set autovacuum_max_workers = 49
Set autovacuum_naptime = 1381207
Set autovacuum_vacuum_cost_delay = 76
Set autovacuum_vacuum_cost_limit = 5531
Set autovacuum_vacuum_scale_factor = 88.14788210175651
Set autovacuum_vacuum_threshold = 2053133567
Set backend_flush_after = 9
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 181
Set bgwriter_lru_maxpages = 628
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.35041909797287946
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2802
Set commit_delay = 29384
Set commit_siblings = 902
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 2002580480
Set default_statistics_target = 2265
Set effective_cache_size = 1179548800
Set effective_io_concurrency = 525
Set from_collapse_limit = 1905808384
Set geqo_effort = 10
Set geqo_generations = 174636576
Set geqo_pool_size = 1344549375
Set geqo_seed = 0.2700387068200462
Set geqo_threshold = 105486297
Set join_collapse_limit = 20614064
Set maintenance_work_mem = 1140661344
Set max_connections = 1817
Set max_wal_senders = 26
Set shared_buffers = 117891
Set temp_buffers = 88422411
Set temp_file_limit = 246434991
Set vacuum_cost_delay = 76
Set vacuum_cost_limit = 4652
Set vacuum_cost_page_dirty = 5289
Set vacuum_cost_page_hit = 7783
Set vacuum_cost_page_miss = 14
Set wal_buffers = 1416
Set wal_writer_delay = 9225
Set work_mem = 1954204293
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-36-13.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-36-13.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-36-13.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-36-13.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-36-13.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763742910.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-36-13.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-36-13.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-36-13.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-36-13.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-36-13.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-36-13.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-36-13.results.AddWatchList.csv
Parsed throughput from summary.json: 3584.2943783463156
BenchBase wikipedia throughput: 3584.2943783463156
Configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 49, 'autovacuum_naptime': 1381207, 'autovacuum_vacuum_cost_delay': 76, 'autovacuum_vacuum_cost_limit': 5531, 'autovacuum_vacuum_scale_factor': 88.14788210175651, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 9, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.35041909797287946, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2802, 'commit_delay': 29384, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2002580480, 'default_statistics_target': 2265, 'effective_cache_size': 1179548800, 'effective_io_concurrency': 525, 'from_collapse_limit': 1905808384, 'geqo_effort': 10, 'geqo_generations': 174636576, 'geqo_pool_size': 1344549375, 'geqo_seed': 0.2700387068200462, 'geqo_threshold': 105486297, 'join_collapse_limit': 20614064, 'maintenance_work_mem': 1140661344, 'max_connections': 1817, 'max_wal_senders': 26, 'shared_buffers': 117891, 'temp_buffers': 88422411, 'temp_file_limit': 246434991, 'vacuum_cost_delay': 76, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 5289, 'vacuum_cost_page_hit': 7783, 'vacuum_cost_page_miss': 14, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}, QPS: -3584.2943783463156
Performance (QPS): -3584.2943783463156
Evaluating configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 38, 'autovacuum_naptime': 1520607, 'autovacuum_vacuum_cost_delay': 76, 'autovacuum_vacuum_cost_limit': 5531, 'autovacuum_vacuum_scale_factor': 88.14788210175651, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 5, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.35041909797287946, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2860, 'commit_delay': 24376, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2002580480, 'default_statistics_target': 3414, 'effective_cache_size': 1028702784, 'effective_io_concurrency': 525, 'from_collapse_limit': 1906523776, 'geqo_effort': 10, 'geqo_generations': 174636576, 'geqo_pool_size': 934051968, 'geqo_seed': 0.3465787192342631, 'geqo_threshold': 105486297, 'join_collapse_limit': 23614688, 'maintenance_work_mem': 1140661344, 'max_connections': 1817, 'max_wal_senders': 26, 'shared_buffers': 213806, 'temp_buffers': 77725140, 'temp_file_limit': 487723551, 'vacuum_cost_delay': 82, 'vacuum_cost_limit': 4062, 'vacuum_cost_page_dirty': 5289, 'vacuum_cost_page_hit': 7783, 'vacuum_cost_page_miss': 45, 'wal_buffers': 2925, 'wal_writer_delay': 9225, 'work_mem': 1954204293}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 23.202749108502996
Set autovacuum_analyze_threshold = 1094279679
Set autovacuum_max_workers = 38
Set autovacuum_naptime = 1520607
Set autovacuum_vacuum_cost_delay = 76
Set autovacuum_vacuum_cost_limit = 5531
Set autovacuum_vacuum_scale_factor = 88.14788210175651
Set autovacuum_vacuum_threshold = 2053133567
Set backend_flush_after = 5
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 191
Set bgwriter_lru_maxpages = 628
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.35041909797287946
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2860
Set commit_delay = 24376
Set commit_siblings = 902
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 2002580480
Set default_statistics_target = 3414
Set effective_cache_size = 1028702784
Set effective_io_concurrency = 525
Set from_collapse_limit = 1906523776
Set geqo_effort = 10
Set geqo_generations = 174636576
Set geqo_pool_size = 934051968
Set geqo_seed = 0.3465787192342631
Set geqo_threshold = 105486297
Set join_collapse_limit = 23614688
Set maintenance_work_mem = 1140661344
Set max_connections = 1817
Set max_wal_senders = 26
Set shared_buffers = 213806
Set temp_buffers = 77725140
Set temp_file_limit = 487723551
Set vacuum_cost_delay = 82
Set vacuum_cost_limit = 4062
Set vacuum_cost_page_dirty = 5289
Set vacuum_cost_page_hit = 7783
Set vacuum_cost_page_miss = 45
Set wal_buffers = 2925
Set wal_writer_delay = 9225
Set work_mem = 1954204293
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-37-53.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-37-53.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-37-53.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-37-53.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-37-53.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763743009.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-37-53.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-37-53.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-37-53.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-37-53.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-37-53.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-37-53.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-37-53.results.UpdatePage.csv
Parsed throughput from summary.json: 3433.2247481443605
BenchBase wikipedia throughput: 3433.2247481443605
Configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1094279679, 'autovacuum_max_workers': 38, 'autovacuum_naptime': 1520607, 'autovacuum_vacuum_cost_delay': 76, 'autovacuum_vacuum_cost_limit': 5531, 'autovacuum_vacuum_scale_factor': 88.14788210175651, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 5, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 191, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.35041909797287946, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2860, 'commit_delay': 24376, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2002580480, 'default_statistics_target': 3414, 'effective_cache_size': 1028702784, 'effective_io_concurrency': 525, 'from_collapse_limit': 1906523776, 'geqo_effort': 10, 'geqo_generations': 174636576, 'geqo_pool_size': 934051968, 'geqo_seed': 0.3465787192342631, 'geqo_threshold': 105486297, 'join_collapse_limit': 23614688, 'maintenance_work_mem': 1140661344, 'max_connections': 1817, 'max_wal_senders': 26, 'shared_buffers': 213806, 'temp_buffers': 77725140, 'temp_file_limit': 487723551, 'vacuum_cost_delay': 82, 'vacuum_cost_limit': 4062, 'vacuum_cost_page_dirty': 5289, 'vacuum_cost_page_hit': 7783, 'vacuum_cost_page_miss': 45, 'wal_buffers': 2925, 'wal_writer_delay': 9225, 'work_mem': 1954204293}, QPS: -3433.2247481443605
Performance (QPS): -3433.2247481443605
Evaluating configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1247747967, 'autovacuum_max_workers': 40, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 7000, 'autovacuum_vacuum_scale_factor': 81.21988707950909, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 3, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.3187735055339781, 'checkpoint_flush_after': 176, 'checkpoint_timeout': 2816, 'commit_delay': 53837, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2115728384, 'default_statistics_target': 2115, 'effective_cache_size': 1051429952, 'effective_io_concurrency': 525, 'from_collapse_limit': 1677440384, 'geqo_effort': 4, 'geqo_generations': 232529168, 'geqo_pool_size': 1353893887, 'geqo_seed': 0.35737836805034473, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1814, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 106691442, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 4751, 'vacuum_cost_page_dirty': 5342, 'vacuum_cost_page_hit': 7860, 'vacuum_cost_page_miss': 0, 'wal_buffers': 8803, 'wal_writer_delay': 9225, 'work_mem': 1954204293}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 23.202749108502996
Set autovacuum_analyze_threshold = 1247747967
Set autovacuum_max_workers = 40
Set autovacuum_naptime = 1314809
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 7000
Set autovacuum_vacuum_scale_factor = 81.21988707950909
Set autovacuum_vacuum_threshold = 2053133567
Set backend_flush_after = 3
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 181
Set bgwriter_lru_maxpages = 628
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.3187735055339781
Set checkpoint_flush_after = 176
Set checkpoint_timeout = 2816
Set commit_delay = 53837
Set commit_siblings = 902
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 2115728384
Set default_statistics_target = 2115
Set effective_cache_size = 1051429952
Set effective_io_concurrency = 525
Set from_collapse_limit = 1677440384
Set geqo_effort = 4
Set geqo_generations = 232529168
Set geqo_pool_size = 1353893887
Set geqo_seed = 0.35737836805034473
Set geqo_threshold = 105486297
Set join_collapse_limit = 256814672
Set maintenance_work_mem = 1140661344
Set max_connections = 1814
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 106691442
Set temp_file_limit = 57437911
Set vacuum_cost_delay = 83
Set vacuum_cost_limit = 4751
Set vacuum_cost_page_dirty = 5342
Set vacuum_cost_page_hit = 7860
Set vacuum_cost_page_miss = 0
Set wal_buffers = 8803
Set wal_writer_delay = 9225
Set work_mem = 1954204293
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-39-31.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-39-31.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-39-31.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-39-31.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-39-31.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763743108.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-39-31.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-39-31.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-39-31.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-39-31.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-39-31.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-39-31.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-39-31.params.json
Parsed throughput from summary.json: 3563.9264437228285
BenchBase wikipedia throughput: 3563.9264437228285
Configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1247747967, 'autovacuum_max_workers': 40, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 7000, 'autovacuum_vacuum_scale_factor': 81.21988707950909, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 3, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.3187735055339781, 'checkpoint_flush_after': 176, 'checkpoint_timeout': 2816, 'commit_delay': 53837, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2115728384, 'default_statistics_target': 2115, 'effective_cache_size': 1051429952, 'effective_io_concurrency': 525, 'from_collapse_limit': 1677440384, 'geqo_effort': 4, 'geqo_generations': 232529168, 'geqo_pool_size': 1353893887, 'geqo_seed': 0.35737836805034473, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1814, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 106691442, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 4751, 'vacuum_cost_page_dirty': 5342, 'vacuum_cost_page_hit': 7860, 'vacuum_cost_page_miss': 0, 'wal_buffers': 8803, 'wal_writer_delay': 9225, 'work_mem': 1954204293}, QPS: -3563.9264437228285
Performance (QPS): -3563.9264437228285
Evaluating configuration: {'autovacuum_analyze_scale_factor': 13.386749598289835, 'autovacuum_analyze_threshold': 1059481984, 'autovacuum_max_workers': 9, 'autovacuum_naptime': 1507240, 'autovacuum_vacuum_cost_delay': 72, 'autovacuum_vacuum_cost_limit': 6751, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2098293375, 'backend_flush_after': 26, 'bgwriter_delay': 2163, 'bgwriter_flush_after': 192, 'bgwriter_lru_maxpages': 631, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2023, 'commit_delay': 20690, 'commit_siblings': 1000, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2146798336, 'default_statistics_target': 2920, 'effective_cache_size': 1473792384, 'effective_io_concurrency': 468, 'from_collapse_limit': 1864045312, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1401330175, 'geqo_seed': 0.3295513023768139, 'geqo_threshold': 39240985, 'join_collapse_limit': 120151824, 'maintenance_work_mem': 806049151, 'max_connections': 1987, 'max_wal_senders': 22, 'shared_buffers': 294566, 'temp_buffers': 30782451, 'temp_file_limit': 22096091, 'vacuum_cost_delay': 78, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 3408, 'vacuum_cost_page_hit': 8198, 'vacuum_cost_page_miss': 48, 'wal_buffers': 1416, 'wal_writer_delay': 8601, 'work_mem': 1953762565}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 13.386749598289835
Set autovacuum_analyze_threshold = 1059481984
Set autovacuum_max_workers = 9
Set autovacuum_naptime = 1507240
Set autovacuum_vacuum_cost_delay = 72
Set autovacuum_vacuum_cost_limit = 6751
Set autovacuum_vacuum_scale_factor = 87.44530657703532
Set autovacuum_vacuum_threshold = 2098293375
Set backend_flush_after = 26
Set bgwriter_delay = 2163
Set bgwriter_flush_after = 192
Set bgwriter_lru_maxpages = 631
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.3212537337204705
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2023
Set commit_delay = 20690
Set commit_siblings = 1000
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 2146798336
Set default_statistics_target = 2920
Set effective_cache_size = 1473792384
Set effective_io_concurrency = 468
Set from_collapse_limit = 1864045312
Set geqo_effort = 10
Set geqo_generations = 159642294
Set geqo_pool_size = 1401330175
Set geqo_seed = 0.3295513023768139
Set geqo_threshold = 39240985
Set join_collapse_limit = 120151824
Set maintenance_work_mem = 806049151
Set max_connections = 1987
Set max_wal_senders = 22
Set shared_buffers = 294566
Set temp_buffers = 30782451
Set temp_file_limit = 22096091
Set vacuum_cost_delay = 78
Set vacuum_cost_limit = 4652
Set vacuum_cost_page_dirty = 3408
Set vacuum_cost_page_hit = 8198
Set vacuum_cost_page_miss = 48
Set wal_buffers = 1416
Set wal_writer_delay = 8601
Set work_mem = 1953762565
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-41-10.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-41-10.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-41-10.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-41-10.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763743207.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-41-10.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-41-10.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-41-10.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-41-10.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-41-10.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-41-10.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-41-10.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-41-10.config.xml
Parsed throughput from summary.json: 3649.414828034295
BenchBase wikipedia throughput: 3649.414828034295
Configuration: {'autovacuum_analyze_scale_factor': 13.386749598289835, 'autovacuum_analyze_threshold': 1059481984, 'autovacuum_max_workers': 9, 'autovacuum_naptime': 1507240, 'autovacuum_vacuum_cost_delay': 72, 'autovacuum_vacuum_cost_limit': 6751, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2098293375, 'backend_flush_after': 26, 'bgwriter_delay': 2163, 'bgwriter_flush_after': 192, 'bgwriter_lru_maxpages': 631, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2023, 'commit_delay': 20690, 'commit_siblings': 1000, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2146798336, 'default_statistics_target': 2920, 'effective_cache_size': 1473792384, 'effective_io_concurrency': 468, 'from_collapse_limit': 1864045312, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1401330175, 'geqo_seed': 0.3295513023768139, 'geqo_threshold': 39240985, 'join_collapse_limit': 120151824, 'maintenance_work_mem': 806049151, 'max_connections': 1987, 'max_wal_senders': 22, 'shared_buffers': 294566, 'temp_buffers': 30782451, 'temp_file_limit': 22096091, 'vacuum_cost_delay': 78, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 3408, 'vacuum_cost_page_hit': 8198, 'vacuum_cost_page_miss': 48, 'wal_buffers': 1416, 'wal_writer_delay': 8601, 'work_mem': 1953762565}, QPS: -3649.414828034295
Performance (QPS): -3649.414828034295
Evaluating configuration: {'autovacuum_analyze_scale_factor': 19.701768549980724, 'autovacuum_analyze_threshold': 1172456959, 'autovacuum_max_workers': 60, 'autovacuum_naptime': 1440385, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 5531, 'autovacuum_vacuum_scale_factor': 88.14788210175651, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 4, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 187, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3219774482429472, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2848, 'commit_delay': 29384, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2036946304, 'default_statistics_target': 2265, 'effective_cache_size': 1179548800, 'effective_io_concurrency': 547, 'from_collapse_limit': 1905808384, 'geqo_effort': 10, 'geqo_generations': 140133776, 'geqo_pool_size': 1260526207, 'geqo_seed': 0.2700387068200462, 'geqo_threshold': 105486297, 'join_collapse_limit': 49904412, 'maintenance_work_mem': 1140661344, 'max_connections': 1817, 'max_wal_senders': 26, 'shared_buffers': 117891, 'temp_buffers': 88422411, 'temp_file_limit': 246434991, 'vacuum_cost_delay': 76, 'vacuum_cost_limit': 4438, 'vacuum_cost_page_dirty': 4765, 'vacuum_cost_page_hit': 7327, 'vacuum_cost_page_miss': 14, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 19.701768549980724
Set autovacuum_analyze_threshold = 1172456959
Set autovacuum_max_workers = 60
Set autovacuum_naptime = 1440385
Set autovacuum_vacuum_cost_delay = 80
Set autovacuum_vacuum_cost_limit = 5531
Set autovacuum_vacuum_scale_factor = 88.14788210175651
Set autovacuum_vacuum_threshold = 2053133567
Set backend_flush_after = 4
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 187
Set bgwriter_lru_maxpages = 628
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.3219774482429472
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2848
Set commit_delay = 29384
Set commit_siblings = 902
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 2036946304
Set default_statistics_target = 2265
Set effective_cache_size = 1179548800
Set effective_io_concurrency = 547
Set from_collapse_limit = 1905808384
Set geqo_effort = 10
Set geqo_generations = 140133776
Set geqo_pool_size = 1260526207
Set geqo_seed = 0.2700387068200462
Set geqo_threshold = 105486297
Set join_collapse_limit = 49904412
Set maintenance_work_mem = 1140661344
Set max_connections = 1817
Set max_wal_senders = 26
Set shared_buffers = 117891
Set temp_buffers = 88422411
Set temp_file_limit = 246434991
Set vacuum_cost_delay = 76
Set vacuum_cost_limit = 4438
Set vacuum_cost_page_dirty = 4765
Set vacuum_cost_page_hit = 7327
Set vacuum_cost_page_miss = 14
Set wal_buffers = 1416
Set wal_writer_delay = 9225
Set work_mem = 1954204293
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763743306.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-42-49.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-42-49.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-42-49.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-42-49.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-42-49.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-42-49.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-42-49.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-42-49.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-42-49.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-42-49.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-42-49.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-42-49.metrics.json
Parsed throughput from summary.json: 3599.592440756659
BenchBase wikipedia throughput: 3599.592440756659
Configuration: {'autovacuum_analyze_scale_factor': 19.701768549980724, 'autovacuum_analyze_threshold': 1172456959, 'autovacuum_max_workers': 60, 'autovacuum_naptime': 1440385, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 5531, 'autovacuum_vacuum_scale_factor': 88.14788210175651, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 4, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 187, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.3219774482429472, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2848, 'commit_delay': 29384, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2036946304, 'default_statistics_target': 2265, 'effective_cache_size': 1179548800, 'effective_io_concurrency': 547, 'from_collapse_limit': 1905808384, 'geqo_effort': 10, 'geqo_generations': 140133776, 'geqo_pool_size': 1260526207, 'geqo_seed': 0.2700387068200462, 'geqo_threshold': 105486297, 'join_collapse_limit': 49904412, 'maintenance_work_mem': 1140661344, 'max_connections': 1817, 'max_wal_senders': 26, 'shared_buffers': 117891, 'temp_buffers': 88422411, 'temp_file_limit': 246434991, 'vacuum_cost_delay': 76, 'vacuum_cost_limit': 4438, 'vacuum_cost_page_dirty': 4765, 'vacuum_cost_page_hit': 7327, 'vacuum_cost_page_miss': 14, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}, QPS: -3599.592440756659
Performance (QPS): -3599.592440756659
Evaluating configuration: {'autovacuum_analyze_scale_factor': 15.614542535633568, 'autovacuum_analyze_threshold': 1345665575, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 161474, 'autovacuum_vacuum_cost_delay': 23, 'autovacuum_vacuum_cost_limit': 3774, 'autovacuum_vacuum_scale_factor': 43.92372247583821, 'autovacuum_vacuum_threshold': 371549482, 'backend_flush_after': 185, 'bgwriter_delay': 5785, 'bgwriter_flush_after': 51, 'bgwriter_lru_maxpages': 42, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.5967968841397141, 'checkpoint_flush_after': 95, 'checkpoint_timeout': 189, 'commit_delay': 33299, 'commit_siblings': 863, 'cursor_tuple_fraction': 0.907157125596467, 'deadlock_timeout': 1146895148, 'default_statistics_target': 9387, 'effective_cache_size': 745627885, 'effective_io_concurrency': 832, 'from_collapse_limit': 2146224643, 'geqo_effort': 10, 'geqo_generations': 891189524, 'geqo_pool_size': 1979477931, 'geqo_seed': 0.871036296552062, 'geqo_threshold': 573108412, 'join_collapse_limit': 197419671, 'maintenance_work_mem': 861240283, 'max_connections': 972, 'max_wal_senders': 0, 'shared_buffers': 3383965, 'temp_buffers': 537345441, 'temp_file_limit': 2043930596, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 3051, 'vacuum_cost_page_dirty': 3834, 'vacuum_cost_page_hit': 7281, 'vacuum_cost_page_miss': 3141, 'wal_buffers': 115602, 'wal_writer_delay': 837, 'work_mem': 835291810}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 15.614542535633568
Set autovacuum_analyze_threshold = 1345665575
Set autovacuum_max_workers = 76
Set autovacuum_naptime = 161474
Set autovacuum_vacuum_cost_delay = 23
Set autovacuum_vacuum_cost_limit = 3774
Set autovacuum_vacuum_scale_factor = 43.92372247583821
Set autovacuum_vacuum_threshold = 371549482
Set backend_flush_after = 185
Set bgwriter_delay = 5785
Set bgwriter_flush_after = 51
Set bgwriter_lru_maxpages = 42
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.5967968841397141
Set checkpoint_flush_after = 95
Set checkpoint_timeout = 189
Set commit_delay = 33299
Set commit_siblings = 863
Set cursor_tuple_fraction = 0.907157125596467
Set deadlock_timeout = 1146895148
Set default_statistics_target = 9387
Set effective_cache_size = 745627885
Set effective_io_concurrency = 832
Set from_collapse_limit = 2146224643
Set geqo_effort = 10
Set geqo_generations = 891189524
Set geqo_pool_size = 1979477931
Set geqo_seed = 0.871036296552062
Set geqo_threshold = 573108412
Set join_collapse_limit = 197419671
Set maintenance_work_mem = 861240283
Set max_connections = 972
Set max_wal_senders = 0
Set shared_buffers = 3383965
Set temp_buffers = 537345441
Set temp_file_limit = 2043930596
Set vacuum_cost_delay = 7
Set vacuum_cost_limit = 3051
Set vacuum_cost_page_dirty = 3834
Set vacuum_cost_page_hit = 7281
Set vacuum_cost_page_miss = 3141
Set wal_buffers = 115602
Set wal_writer_delay = 837
Set work_mem = 835291810
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-44-24.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-44-24.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-44-24.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-44-24.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-44-24.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-44-24.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-44-24.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-44-24.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-44-24.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-44-24.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-44-24.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-44-24.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763743400.log
Parsed throughput from summary.json: 3501.8742707868237
BenchBase wikipedia throughput: 3501.8742707868237
Configuration: {'autovacuum_analyze_scale_factor': 15.614542535633568, 'autovacuum_analyze_threshold': 1345665575, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 161474, 'autovacuum_vacuum_cost_delay': 23, 'autovacuum_vacuum_cost_limit': 3774, 'autovacuum_vacuum_scale_factor': 43.92372247583821, 'autovacuum_vacuum_threshold': 371549482, 'backend_flush_after': 185, 'bgwriter_delay': 5785, 'bgwriter_flush_after': 51, 'bgwriter_lru_maxpages': 42, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.5967968841397141, 'checkpoint_flush_after': 95, 'checkpoint_timeout': 189, 'commit_delay': 33299, 'commit_siblings': 863, 'cursor_tuple_fraction': 0.907157125596467, 'deadlock_timeout': 1146895148, 'default_statistics_target': 9387, 'effective_cache_size': 745627885, 'effective_io_concurrency': 832, 'from_collapse_limit': 2146224643, 'geqo_effort': 10, 'geqo_generations': 891189524, 'geqo_pool_size': 1979477931, 'geqo_seed': 0.871036296552062, 'geqo_threshold': 573108412, 'join_collapse_limit': 197419671, 'maintenance_work_mem': 861240283, 'max_connections': 972, 'max_wal_senders': 0, 'shared_buffers': 3383965, 'temp_buffers': 537345441, 'temp_file_limit': 2043930596, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 3051, 'vacuum_cost_page_dirty': 3834, 'vacuum_cost_page_hit': 7281, 'vacuum_cost_page_miss': 3141, 'wal_buffers': 115602, 'wal_writer_delay': 837, 'work_mem': 835291810}, QPS: -3501.8742707868237
Performance (QPS): -3501.8742707868237
Evaluating configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 938745280, 'autovacuum_max_workers': 52, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 75, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 81.21988707950909, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 29, 'bgwriter_delay': 2824, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3748011716163866, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 46710, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.0720044991680114, 'deadlock_timeout': 2115728384, 'default_statistics_target': 2115, 'effective_cache_size': 1051429952, 'effective_io_concurrency': 525, 'from_collapse_limit': 1641410176, 'geqo_effort': 5, 'geqo_generations': 159642294, 'geqo_pool_size': 1353893887, 'geqo_seed': 0.35737836805034473, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 22, 'shared_buffers': 185217, 'temp_buffers': 15554452, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 76, 'vacuum_cost_limit': 4667, 'vacuum_cost_page_dirty': 4822, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 0, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 23.202749108502996
Set autovacuum_analyze_threshold = 938745280
Set autovacuum_max_workers = 52
Set autovacuum_naptime = 1314809
Set autovacuum_vacuum_cost_delay = 75
Set autovacuum_vacuum_cost_limit = 6982
Set autovacuum_vacuum_scale_factor = 81.21988707950909
Set autovacuum_vacuum_threshold = 2053133567
Set backend_flush_after = 29
Set bgwriter_delay = 2824
Set bgwriter_flush_after = 181
Set bgwriter_lru_maxpages = 628
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3748011716163866
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2816
Set commit_delay = 46710
Set commit_siblings = 902
Set cursor_tuple_fraction = 0.0720044991680114
Set deadlock_timeout = 2115728384
Set default_statistics_target = 2115
Set effective_cache_size = 1051429952
Set effective_io_concurrency = 525
Set from_collapse_limit = 1641410176
Set geqo_effort = 5
Set geqo_generations = 159642294
Set geqo_pool_size = 1353893887
Set geqo_seed = 0.35737836805034473
Set geqo_threshold = 105486297
Set join_collapse_limit = 256814672
Set maintenance_work_mem = 1140661344
Set max_connections = 1950
Set max_wal_senders = 22
Set shared_buffers = 185217
Set temp_buffers = 15554452
Set temp_file_limit = 57437911
Set vacuum_cost_delay = 76
Set vacuum_cost_limit = 4667
Set vacuum_cost_page_dirty = 4822
Set vacuum_cost_page_hit = 7418
Set vacuum_cost_page_miss = 0
Set wal_buffers = 1416
Set wal_writer_delay = 9225
Set work_mem = 1954204293
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-46-03.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-46-03.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-46-03.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-46-03.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763743499.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-46-03.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-46-03.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-46-03.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-46-03.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-46-03.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-46-03.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-46-03.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-46-03.results.csv
Parsed throughput from summary.json: 3622.515050471192
BenchBase wikipedia throughput: 3622.515050471192
Configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 938745280, 'autovacuum_max_workers': 52, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 75, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 81.21988707950909, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 29, 'bgwriter_delay': 2824, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3748011716163866, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 46710, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.0720044991680114, 'deadlock_timeout': 2115728384, 'default_statistics_target': 2115, 'effective_cache_size': 1051429952, 'effective_io_concurrency': 525, 'from_collapse_limit': 1641410176, 'geqo_effort': 5, 'geqo_generations': 159642294, 'geqo_pool_size': 1353893887, 'geqo_seed': 0.35737836805034473, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 22, 'shared_buffers': 185217, 'temp_buffers': 15554452, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 76, 'vacuum_cost_limit': 4667, 'vacuum_cost_page_dirty': 4822, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 0, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}, QPS: -3622.515050471192
Performance (QPS): -3622.515050471192
Evaluating configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1066344896, 'autovacuum_max_workers': 41, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6956, 'autovacuum_vacuum_scale_factor': 81.21988707950909, 'autovacuum_vacuum_threshold': 2135797887, 'backend_flush_after': 3, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3187735055339781, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 46710, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2080537984, 'default_statistics_target': 2542, 'effective_cache_size': 1087142656, 'effective_io_concurrency': 578, 'from_collapse_limit': 1846704896, 'geqo_effort': 1, 'geqo_generations': 159642294, 'geqo_pool_size': 1353893887, 'geqo_seed': 0.38072803641626, 'geqo_threshold': 54092093, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 24, 'shared_buffers': 217296, 'temp_buffers': 38505608, 'temp_file_limit': 65024583, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 4751, 'vacuum_cost_page_dirty': 5253, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 0, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 23.202749108502996
Set autovacuum_analyze_threshold = 1066344896
Set autovacuum_max_workers = 41
Set autovacuum_naptime = 1314809
Set autovacuum_vacuum_cost_delay = 82
Set autovacuum_vacuum_cost_limit = 6956
Set autovacuum_vacuum_scale_factor = 81.21988707950909
Set autovacuum_vacuum_threshold = 2135797887
Set backend_flush_after = 3
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 181
Set bgwriter_lru_maxpages = 628
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.3187735055339781
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2816
Set commit_delay = 46710
Set commit_siblings = 902
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 2080537984
Set default_statistics_target = 2542
Set effective_cache_size = 1087142656
Set effective_io_concurrency = 578
Set from_collapse_limit = 1846704896
Set geqo_effort = 1
Set geqo_generations = 159642294
Set geqo_pool_size = 1353893887
Set geqo_seed = 0.38072803641626
Set geqo_threshold = 54092093
Set join_collapse_limit = 256814672
Set maintenance_work_mem = 1140661344
Set max_connections = 1950
Set max_wal_senders = 24
Set shared_buffers = 217296
Set temp_buffers = 38505608
Set temp_file_limit = 65024583
Set vacuum_cost_delay = 83
Set vacuum_cost_limit = 4751
Set vacuum_cost_page_dirty = 5253
Set vacuum_cost_page_hit = 7418
Set vacuum_cost_page_miss = 0
Set wal_buffers = 1416
Set wal_writer_delay = 9225
Set work_mem = 1954204293
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-47-42.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-47-42.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-47-42.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-47-42.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-47-42.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-47-42.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-47-42.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-47-42.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-47-42.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763743598.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-47-42.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-47-42.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-47-42.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Parsed throughput from summary.json: 3533.5384413659167
BenchBase wikipedia throughput: 3533.5384413659167
Configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1066344896, 'autovacuum_max_workers': 41, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 6956, 'autovacuum_vacuum_scale_factor': 81.21988707950909, 'autovacuum_vacuum_threshold': 2135797887, 'backend_flush_after': 3, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.3187735055339781, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2816, 'commit_delay': 46710, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2080537984, 'default_statistics_target': 2542, 'effective_cache_size': 1087142656, 'effective_io_concurrency': 578, 'from_collapse_limit': 1846704896, 'geqo_effort': 1, 'geqo_generations': 159642294, 'geqo_pool_size': 1353893887, 'geqo_seed': 0.38072803641626, 'geqo_threshold': 54092093, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 24, 'shared_buffers': 217296, 'temp_buffers': 38505608, 'temp_file_limit': 65024583, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 4751, 'vacuum_cost_page_dirty': 5253, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 0, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}, QPS: -3533.5384413659167
Performance (QPS): -3533.5384413659167
Evaluating configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 938745280, 'autovacuum_max_workers': 35, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 75, 'autovacuum_vacuum_cost_limit': 7033, 'autovacuum_vacuum_scale_factor': 81.21988707950909, 'autovacuum_vacuum_threshold': 2051799551, 'backend_flush_after': 29, 'bgwriter_delay': 2824, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3748011716163866, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2611, 'commit_delay': 46710, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.030318784150325573, 'deadlock_timeout': 2000673792, 'default_statistics_target': 2174, 'effective_cache_size': 1051429952, 'effective_io_concurrency': 540, 'from_collapse_limit': 1641410176, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1222442239, 'geqo_seed': 0.33855008777652196, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 21, 'shared_buffers': 185217, 'temp_buffers': 15554452, 'temp_file_limit': 112412991, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 5342, 'vacuum_cost_page_dirty': 4822, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 0, 'wal_buffers': 13360, 'wal_writer_delay': 9225, 'work_mem': 1954204293}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 23.202749108502996
Set autovacuum_analyze_threshold = 938745280
Set autovacuum_max_workers = 35
Set autovacuum_naptime = 1314809
Set autovacuum_vacuum_cost_delay = 75
Set autovacuum_vacuum_cost_limit = 7033
Set autovacuum_vacuum_scale_factor = 81.21988707950909
Set autovacuum_vacuum_threshold = 2051799551
Set backend_flush_after = 29
Set bgwriter_delay = 2824
Set bgwriter_flush_after = 181
Set bgwriter_lru_maxpages = 628
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3748011716163866
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2611
Set commit_delay = 46710
Set commit_siblings = 902
Set cursor_tuple_fraction = 0.030318784150325573
Set deadlock_timeout = 2000673792
Set default_statistics_target = 2174
Set effective_cache_size = 1051429952
Set effective_io_concurrency = 540
Set from_collapse_limit = 1641410176
Set geqo_effort = 10
Set geqo_generations = 159642294
Set geqo_pool_size = 1222442239
Set geqo_seed = 0.33855008777652196
Set geqo_threshold = 105486297
Set join_collapse_limit = 256814672
Set maintenance_work_mem = 1140661344
Set max_connections = 1950
Set max_wal_senders = 21
Set shared_buffers = 185217
Set temp_buffers = 15554452
Set temp_file_limit = 112412991
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 5342
Set vacuum_cost_page_dirty = 4822
Set vacuum_cost_page_hit = 7418
Set vacuum_cost_page_miss = 0
Set wal_buffers = 13360
Set wal_writer_delay = 9225
Set work_mem = 1954204293
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-49-21.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-49-21.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-49-21.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-49-21.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-49-21.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-49-21.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-49-21.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-49-21.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-49-21.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763743697.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-49-21.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-49-21.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-49-21.results.csv
Parsed throughput from summary.json: 3523.9170951938613
BenchBase wikipedia throughput: 3523.9170951938613
Configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 938745280, 'autovacuum_max_workers': 35, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 75, 'autovacuum_vacuum_cost_limit': 7033, 'autovacuum_vacuum_scale_factor': 81.21988707950909, 'autovacuum_vacuum_threshold': 2051799551, 'backend_flush_after': 29, 'bgwriter_delay': 2824, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 628, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3748011716163866, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2611, 'commit_delay': 46710, 'commit_siblings': 902, 'cursor_tuple_fraction': 0.030318784150325573, 'deadlock_timeout': 2000673792, 'default_statistics_target': 2174, 'effective_cache_size': 1051429952, 'effective_io_concurrency': 540, 'from_collapse_limit': 1641410176, 'geqo_effort': 10, 'geqo_generations': 159642294, 'geqo_pool_size': 1222442239, 'geqo_seed': 0.33855008777652196, 'geqo_threshold': 105486297, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1950, 'max_wal_senders': 21, 'shared_buffers': 185217, 'temp_buffers': 15554452, 'temp_file_limit': 112412991, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 5342, 'vacuum_cost_page_dirty': 4822, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 0, 'wal_buffers': 13360, 'wal_writer_delay': 9225, 'work_mem': 1954204293}, QPS: -3523.9170951938613
Performance (QPS): -3523.9170951938613
Evaluating configuration: {'autovacuum_analyze_scale_factor': 19.645752066772765, 'autovacuum_analyze_threshold': 1058576832, 'autovacuum_max_workers': 26, 'autovacuum_naptime': 1497697, 'autovacuum_vacuum_cost_delay': 74, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 23, 'bgwriter_delay': 3103, 'bgwriter_flush_after': 189, 'bgwriter_lru_maxpages': 682, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.27347609857343413, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2703, 'commit_delay': 32992, 'commit_siblings': 930, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2030804864, 'default_statistics_target': 2920, 'effective_cache_size': 1080459264, 'effective_io_concurrency': 525, 'from_collapse_limit': 1774022272, 'geqo_effort': 6, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.32866653244106303, 'geqo_threshold': 141489905, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1923, 'max_wal_senders': 24, 'shared_buffers': 136216, 'temp_buffers': 18715618, 'temp_file_limit': 8608557, 'vacuum_cost_delay': 78, 'vacuum_cost_limit': 5199, 'vacuum_cost_page_dirty': 4884, 'vacuum_cost_page_hit': 7983, 'vacuum_cost_page_miss': 24, 'wal_buffers': 1416, 'wal_writer_delay': 9070, 'work_mem': 2050372738}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 19.645752066772765
Set autovacuum_analyze_threshold = 1058576832
Set autovacuum_max_workers = 26
Set autovacuum_naptime = 1497697
Set autovacuum_vacuum_cost_delay = 74
Set autovacuum_vacuum_cost_limit = 6982
Set autovacuum_vacuum_scale_factor = 87.44530657703532
Set autovacuum_vacuum_threshold = 2053133567
Set backend_flush_after = 23
Set bgwriter_delay = 3103
Set bgwriter_flush_after = 189
Set bgwriter_lru_maxpages = 682
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.27347609857343413
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2703
Set commit_delay = 32992
Set commit_siblings = 930
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 2030804864
Set default_statistics_target = 2920
Set effective_cache_size = 1080459264
Set effective_io_concurrency = 525
Set from_collapse_limit = 1774022272
Set geqo_effort = 6
Set geqo_generations = 159642294
Set geqo_pool_size = 1320010751
Set geqo_seed = 0.32866653244106303
Set geqo_threshold = 141489905
Set join_collapse_limit = 256814672
Set maintenance_work_mem = 1140661344
Set max_connections = 1923
Set max_wal_senders = 24
Set shared_buffers = 136216
Set temp_buffers = 18715618
Set temp_file_limit = 8608557
Set vacuum_cost_delay = 78
Set vacuum_cost_limit = 5199
Set vacuum_cost_page_dirty = 4884
Set vacuum_cost_page_hit = 7983
Set vacuum_cost_page_miss = 24
Set wal_buffers = 1416
Set wal_writer_delay = 9070
Set work_mem = 2050372738
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-51-01.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-51-01.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-51-01.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-51-01.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-51-01.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-51-01.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-51-01.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763743797.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-51-01.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-51-01.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-51-01.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-51-01.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-51-01.params.json
Parsed throughput from summary.json: 3555.3468556528214
BenchBase wikipedia throughput: 3555.3468556528214
Configuration: {'autovacuum_analyze_scale_factor': 19.645752066772765, 'autovacuum_analyze_threshold': 1058576832, 'autovacuum_max_workers': 26, 'autovacuum_naptime': 1497697, 'autovacuum_vacuum_cost_delay': 74, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2053133567, 'backend_flush_after': 23, 'bgwriter_delay': 3103, 'bgwriter_flush_after': 189, 'bgwriter_lru_maxpages': 682, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.27347609857343413, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2703, 'commit_delay': 32992, 'commit_siblings': 930, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2030804864, 'default_statistics_target': 2920, 'effective_cache_size': 1080459264, 'effective_io_concurrency': 525, 'from_collapse_limit': 1774022272, 'geqo_effort': 6, 'geqo_generations': 159642294, 'geqo_pool_size': 1320010751, 'geqo_seed': 0.32866653244106303, 'geqo_threshold': 141489905, 'join_collapse_limit': 256814672, 'maintenance_work_mem': 1140661344, 'max_connections': 1923, 'max_wal_senders': 24, 'shared_buffers': 136216, 'temp_buffers': 18715618, 'temp_file_limit': 8608557, 'vacuum_cost_delay': 78, 'vacuum_cost_limit': 5199, 'vacuum_cost_page_dirty': 4884, 'vacuum_cost_page_hit': 7983, 'vacuum_cost_page_miss': 24, 'wal_buffers': 1416, 'wal_writer_delay': 9070, 'work_mem': 2050372738}, QPS: -3555.3468556528214
Performance (QPS): -3555.3468556528214
Evaluating configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1218422271, 'autovacuum_max_workers': 36, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 79.01444770441557, 'autovacuum_vacuum_threshold': 2008518527, 'backend_flush_after': 3, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 618, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.3187735055339781, 'checkpoint_flush_after': 193, 'checkpoint_timeout': 2816, 'commit_delay': 18344, 'commit_siblings': 926, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2033130496, 'default_statistics_target': 2115, 'effective_cache_size': 1086894848, 'effective_io_concurrency': 527, 'from_collapse_limit': 1677440384, 'geqo_effort': 10, 'geqo_generations': 19779544, 'geqo_pool_size': 1353893887, 'geqo_seed': 0.3389403766470179, 'geqo_threshold': 76500329, 'join_collapse_limit': 105349952, 'maintenance_work_mem': 1231962676, 'max_connections': 1685, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 33052886, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 4289, 'vacuum_cost_page_dirty': 4463, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 0, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 23.202749108502996
Set autovacuum_analyze_threshold = 1218422271
Set autovacuum_max_workers = 36
Set autovacuum_naptime = 1314809
Set autovacuum_vacuum_cost_delay = 80
Set autovacuum_vacuum_cost_limit = 6982
Set autovacuum_vacuum_scale_factor = 79.01444770441557
Set autovacuum_vacuum_threshold = 2008518527
Set backend_flush_after = 3
Set bgwriter_delay = 2981
Set bgwriter_flush_after = 181
Set bgwriter_lru_maxpages = 618
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.3187735055339781
Set checkpoint_flush_after = 193
Set checkpoint_timeout = 2816
Set commit_delay = 18344
Set commit_siblings = 926
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 2033130496
Set default_statistics_target = 2115
Set effective_cache_size = 1086894848
Set effective_io_concurrency = 527
Set from_collapse_limit = 1677440384
Set geqo_effort = 10
Set geqo_generations = 19779544
Set geqo_pool_size = 1353893887
Set geqo_seed = 0.3389403766470179
Set geqo_threshold = 76500329
Set join_collapse_limit = 105349952
Set maintenance_work_mem = 1231962676
Set max_connections = 1685
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 33052886
Set temp_file_limit = 57437911
Set vacuum_cost_delay = 83
Set vacuum_cost_limit = 4289
Set vacuum_cost_page_dirty = 4463
Set vacuum_cost_page_hit = 7418
Set vacuum_cost_page_miss = 0
Set wal_buffers = 1416
Set wal_writer_delay = 9225
Set work_mem = 1954204293
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-52-38.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-52-38.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-52-38.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-52-38.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-52-38.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-52-38.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-52-38.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-52-38.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763743896.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-52-38.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-52-38.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-52-38.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-52-38.config.xml
Parsed throughput from summary.json: 3642.555104838256
BenchBase wikipedia throughput: 3642.555104838256
Configuration: {'autovacuum_analyze_scale_factor': 23.202749108502996, 'autovacuum_analyze_threshold': 1218422271, 'autovacuum_max_workers': 36, 'autovacuum_naptime': 1314809, 'autovacuum_vacuum_cost_delay': 80, 'autovacuum_vacuum_cost_limit': 6982, 'autovacuum_vacuum_scale_factor': 79.01444770441557, 'autovacuum_vacuum_threshold': 2008518527, 'backend_flush_after': 3, 'bgwriter_delay': 2981, 'bgwriter_flush_after': 181, 'bgwriter_lru_maxpages': 618, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.3187735055339781, 'checkpoint_flush_after': 193, 'checkpoint_timeout': 2816, 'commit_delay': 18344, 'commit_siblings': 926, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2033130496, 'default_statistics_target': 2115, 'effective_cache_size': 1086894848, 'effective_io_concurrency': 527, 'from_collapse_limit': 1677440384, 'geqo_effort': 10, 'geqo_generations': 19779544, 'geqo_pool_size': 1353893887, 'geqo_seed': 0.3389403766470179, 'geqo_threshold': 76500329, 'join_collapse_limit': 105349952, 'maintenance_work_mem': 1231962676, 'max_connections': 1685, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 33052886, 'temp_file_limit': 57437911, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 4289, 'vacuum_cost_page_dirty': 4463, 'vacuum_cost_page_hit': 7418, 'vacuum_cost_page_miss': 0, 'wal_buffers': 1416, 'wal_writer_delay': 9225, 'work_mem': 1954204293}, QPS: -3642.555104838256
Performance (QPS): -3642.555104838256
Evaluating configuration: {'autovacuum_analyze_scale_factor': 27.48039752082227, 'autovacuum_analyze_threshold': 1059481984, 'autovacuum_max_workers': 35, 'autovacuum_naptime': 1462265, 'autovacuum_vacuum_cost_delay': 72, 'autovacuum_vacuum_cost_limit': 7211, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2098293375, 'backend_flush_after': 26, 'bgwriter_delay': 2540, 'bgwriter_flush_after': 201, 'bgwriter_lru_maxpages': 629, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2023, 'commit_delay': 20690, 'commit_siblings': 988, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2146798336, 'default_statistics_target': 2920, 'effective_cache_size': 1473792384, 'effective_io_concurrency': 534, 'from_collapse_limit': 1864045312, 'geqo_effort': 10, 'geqo_generations': 189430960, 'geqo_pool_size': 1401330175, 'geqo_seed': 0.32304986853741324, 'geqo_threshold': 39240985, 'join_collapse_limit': 120151824, 'maintenance_work_mem': 806049151, 'max_connections': 1987, 'max_wal_senders': 21, 'shared_buffers': 294566, 'temp_buffers': 30782451, 'temp_file_limit': 53453255, 'vacuum_cost_delay': 78, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 3408, 'vacuum_cost_page_hit': 8422, 'vacuum_cost_page_miss': 48, 'wal_buffers': 1416, 'wal_writer_delay': 8601, 'work_mem': 2013126020}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 27.48039752082227
Set autovacuum_analyze_threshold = 1059481984
Set autovacuum_max_workers = 35
Set autovacuum_naptime = 1462265
Set autovacuum_vacuum_cost_delay = 72
Set autovacuum_vacuum_cost_limit = 7211
Set autovacuum_vacuum_scale_factor = 87.44530657703532
Set autovacuum_vacuum_threshold = 2098293375
Set backend_flush_after = 26
Set bgwriter_delay = 2540
Set bgwriter_flush_after = 201
Set bgwriter_lru_maxpages = 629
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.3212537337204705
Set checkpoint_flush_after = 197
Set checkpoint_timeout = 2023
Set commit_delay = 20690
Set commit_siblings = 988
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 2146798336
Set default_statistics_target = 2920
Set effective_cache_size = 1473792384
Set effective_io_concurrency = 534
Set from_collapse_limit = 1864045312
Set geqo_effort = 10
Set geqo_generations = 189430960
Set geqo_pool_size = 1401330175
Set geqo_seed = 0.32304986853741324
Set geqo_threshold = 39240985
Set join_collapse_limit = 120151824
Set maintenance_work_mem = 806049151
Set max_connections = 1987
Set max_wal_senders = 21
Set shared_buffers = 294566
Set temp_buffers = 30782451
Set temp_file_limit = 53453255
Set vacuum_cost_delay = 78
Set vacuum_cost_limit = 4652
Set vacuum_cost_page_dirty = 3408
Set vacuum_cost_page_hit = 8422
Set vacuum_cost_page_miss = 48
Set wal_buffers = 1416
Set wal_writer_delay = 8601
Set work_mem = 2013126020
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config100.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config100.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary/wikipedia_2025-11-21_16-54-17.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-54-17.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-54-17.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-54-17.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-54-17.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-54-17.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-54-17.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-54-17.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-54-17.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-54-17.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-54-17.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_2025-11-21_16-54-17.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config100/wikipedia_1763743994.log
Parsed throughput from summary.json: 3549.7646967577266
BenchBase wikipedia throughput: 3549.7646967577266
Configuration: {'autovacuum_analyze_scale_factor': 27.48039752082227, 'autovacuum_analyze_threshold': 1059481984, 'autovacuum_max_workers': 35, 'autovacuum_naptime': 1462265, 'autovacuum_vacuum_cost_delay': 72, 'autovacuum_vacuum_cost_limit': 7211, 'autovacuum_vacuum_scale_factor': 87.44530657703532, 'autovacuum_vacuum_threshold': 2098293375, 'backend_flush_after': 26, 'bgwriter_delay': 2540, 'bgwriter_flush_after': 201, 'bgwriter_lru_maxpages': 629, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3212537337204705, 'checkpoint_flush_after': 197, 'checkpoint_timeout': 2023, 'commit_delay': 20690, 'commit_siblings': 988, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 2146798336, 'default_statistics_target': 2920, 'effective_cache_size': 1473792384, 'effective_io_concurrency': 534, 'from_collapse_limit': 1864045312, 'geqo_effort': 10, 'geqo_generations': 189430960, 'geqo_pool_size': 1401330175, 'geqo_seed': 0.32304986853741324, 'geqo_threshold': 39240985, 'join_collapse_limit': 120151824, 'maintenance_work_mem': 806049151, 'max_connections': 1987, 'max_wal_senders': 21, 'shared_buffers': 294566, 'temp_buffers': 30782451, 'temp_file_limit': 53453255, 'vacuum_cost_delay': 78, 'vacuum_cost_limit': 4652, 'vacuum_cost_page_dirty': 3408, 'vacuum_cost_page_hit': 8422, 'vacuum_cost_page_miss': 48, 'wal_buffers': 1416, 'wal_writer_delay': 8601, 'work_mem': 2013126020}, QPS: -3549.7646967577266
Performance (QPS): -3549.7646967577266
finish
<class 'ConfigSpace.configuration_space.Configuration'>
Configuration(values={
  'autovacuum_analyze_scale_factor': 23.202749108502996,
  'autovacuum_analyze_threshold': 1094279679,
  'autovacuum_max_workers': 35,
  'autovacuum_naptime': 1497697,
  'autovacuum_vacuum_cost_delay': 74,
  'autovacuum_vacuum_cost_limit': 6982,
  'autovacuum_vacuum_scale_factor': 87.44530657703532,
  'autovacuum_vacuum_threshold': 2053133567,
  'backend_flush_after': 21,
  'bgwriter_delay': 2981,
  'bgwriter_flush_after': 181,
  'bgwriter_lru_maxpages': 628,
  'bgwriter_lru_multiplier': 6,
  'checkpoint_completion_target': 0.3212537337204705,
  'checkpoint_flush_after': 197,
  'checkpoint_timeout': 2816,
  'commit_delay': 29384,
  'commit_siblings': 929,
  'cursor_tuple_fraction': 0.1377423545345664,
  'deadlock_timeout': 2030804864,
  'default_statistics_target': 2920,
  'effective_cache_size': 1086671616,
  'effective_io_concurrency': 525,
  'from_collapse_limit': 1791037440,
  'geqo_effort': 10,
  'geqo_generations': 159642294,
  'geqo_pool_size': 1320010751,
  'geqo_seed': 0.32866653244106303,
  'geqo_threshold': 105486297,
  'join_collapse_limit': 256814672,
  'maintenance_work_mem': 1140661344,
  'max_connections': 1923,
  'max_wal_senders': 24,
  'shared_buffers': 217296,
  'temp_buffers': 38505608,
  'temp_file_limit': 57437911,
  'vacuum_cost_delay': 77,
  'vacuum_cost_limit': 4652,
  'vacuum_cost_page_dirty': 4884,
  'vacuum_cost_page_hit': 7418,
  'vacuum_cost_page_miss': 47,
  'wal_buffers': 1416,
  'wal_writer_delay': 9225,
  'work_mem': 1954204293,
})

OrderedDict([(RunKey(config_id=1, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3575.2920764291816, time=91.99892997741699, status=<StatusType.SUCCESS: 1>, starttime=1763734413.1229496, endtime=1763734505.1219368, additional_info={})), (RunKey(config_id=2, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3395.4949122569765, time=94.4549674987793, status=<StatusType.SUCCESS: 1>, starttime=1763734505.125373, endtime=1763734599.5803995, additional_info={})), (RunKey(config_id=3, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3316.366477677939, time=94.72745490074158, status=<StatusType.SUCCESS: 1>, starttime=1763734599.5832298, endtime=1763734694.3107395, additional_info={})), (RunKey(config_id=4, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3453.8925033431838, time=94.31892824172974, status=<StatusType.SUCCESS: 1>, starttime=1763734694.3136196, endtime=1763734788.6326241, additional_info={})), (RunKey(config_id=5, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3384.137589272467, time=94.09584832191467, status=<StatusType.SUCCESS: 1>, starttime=1763734788.63535, endtime=1763734882.7312632, additional_info={})), (RunKey(config_id=6, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3413.426363911988, time=93.94179344177246, status=<StatusType.SUCCESS: 1>, starttime=1763734882.7354324, endtime=1763734976.677283, additional_info={})), (RunKey(config_id=7, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3380.6787411503733, time=93.54185819625854, status=<StatusType.SUCCESS: 1>, starttime=1763734976.680446, endtime=1763735070.2223623, additional_info={})), (RunKey(config_id=8, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3476.8675123506873, time=94.19360995292664, status=<StatusType.SUCCESS: 1>, starttime=1763735070.2263231, endtime=1763735164.419996, additional_info={})), (RunKey(config_id=9, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3427.1235381901856, time=94.01688408851624, status=<StatusType.SUCCESS: 1>, starttime=1763735164.4237573, endtime=1763735258.4407005, additional_info={})), (RunKey(config_id=10, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3507.856674770046, time=94.40552306175232, status=<StatusType.SUCCESS: 1>, starttime=1763735258.4437103, endtime=1763735352.8492882, additional_info={})), (RunKey(config_id=11, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3445.783524343992, time=94.12469792366028, status=<StatusType.SUCCESS: 1>, starttime=1763735352.8526194, endtime=1763735446.977389, additional_info={})), (RunKey(config_id=12, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3041.9531873168926, time=94.72326517105103, status=<StatusType.SUCCESS: 1>, starttime=1763735446.980604, endtime=1763735541.703938, additional_info={})), (RunKey(config_id=13, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3499.42410299297, time=92.33611536026001, status=<StatusType.SUCCESS: 1>, starttime=1763735541.708791, endtime=1763735634.0449626, additional_info={})), (RunKey(config_id=14, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3343.4768088110427, time=93.95239472389221, status=<StatusType.SUCCESS: 1>, starttime=1763735634.1016467, endtime=1763735728.0540962, additional_info={})), (RunKey(config_id=15, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3348.9957801570376, time=93.96037030220032, status=<StatusType.SUCCESS: 1>, starttime=1763735728.0578632, endtime=1763735822.0182936, additional_info={})), (RunKey(config_id=16, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3461.394624873365, time=94.1186454296112, status=<StatusType.SUCCESS: 1>, starttime=1763735822.0224912, endtime=1763735916.1412032, additional_info={})), (RunKey(config_id=17, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3460.917623518324, time=94.17113423347473, status=<StatusType.SUCCESS: 1>, starttime=1763735916.1465805, endtime=1763736010.3177683, additional_info={})), (RunKey(config_id=18, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3350.8310617313705, time=94.35997653007507, status=<StatusType.SUCCESS: 1>, starttime=1763736010.3219128, endtime=1763736104.681943, additional_info={})), (RunKey(config_id=19, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3343.2471192806192, time=94.5036609172821, status=<StatusType.SUCCESS: 1>, starttime=1763736104.68626, endtime=1763736199.1899843, additional_info={})), (RunKey(config_id=20, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3396.448021692901, time=93.79873871803284, status=<StatusType.SUCCESS: 1>, starttime=1763736199.1952746, endtime=1763736292.9940696, additional_info={})), (RunKey(config_id=21, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3494.683318942319, time=92.90703296661377, status=<StatusType.SUCCESS: 1>, starttime=1763736292.998076, endtime=1763736385.9051888, additional_info={})), (RunKey(config_id=22, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3031.1349530280136, time=92.53898239135742, status=<StatusType.SUCCESS: 1>, starttime=1763736385.9107716, endtime=1763736478.4498188, additional_info={})), (RunKey(config_id=23, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3484.6134048956956, time=93.59190106391907, status=<StatusType.SUCCESS: 1>, starttime=1763736478.4561481, endtime=1763736572.0481029, additional_info={})), (RunKey(config_id=24, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3410.277697656837, time=93.89478874206543, status=<StatusType.SUCCESS: 1>, starttime=1763736572.051965, endtime=1763736665.9468076, additional_info={})), (RunKey(config_id=25, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3371.585989556269, time=93.92563056945801, status=<StatusType.SUCCESS: 1>, starttime=1763736665.9513865, endtime=1763736759.8770773, additional_info={})), (RunKey(config_id=26, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3420.5980080729537, time=93.22597217559814, status=<StatusType.SUCCESS: 1>, starttime=1763736764.8429337, endtime=1763736858.0689597, additional_info={})), (RunKey(config_id=27, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3454.0249694171994, time=94.21695232391357, status=<StatusType.SUCCESS: 1>, starttime=1763736862.4194634, endtime=1763736956.6364675, additional_info={})), (RunKey(config_id=28, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3395.861472908282, time=93.64311289787292, status=<StatusType.SUCCESS: 1>, starttime=1763736960.9568486, endtime=1763737054.6000116, additional_info={})), (RunKey(config_id=29, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3403.452482073666, time=93.25671005249023, status=<StatusType.SUCCESS: 1>, starttime=1763737059.4349384, endtime=1763737152.6917098, additional_info={})), (RunKey(config_id=30, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3511.5578526247077, time=93.43651723861694, status=<StatusType.SUCCESS: 1>, starttime=1763737152.7350326, endtime=1763737246.1716094, additional_info={})), (RunKey(config_id=31, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3509.755624954251, time=94.05578351020813, status=<StatusType.SUCCESS: 1>, starttime=1763737246.2058992, endtime=1763737340.2617393, additional_info={})), (RunKey(config_id=32, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3494.613922383814, time=92.51265501976013, status=<StatusType.SUCCESS: 1>, starttime=1763737344.99886, endtime=1763737437.5115662, additional_info={})), (RunKey(config_id=33, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3525.6698299139844, time=92.46452116966248, status=<StatusType.SUCCESS: 1>, starttime=1763737441.9176207, endtime=1763737534.3821986, additional_info={})), (RunKey(config_id=34, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3316.586887328964, time=93.68728637695312, status=<StatusType.SUCCESS: 1>, starttime=1763737539.346227, endtime=1763737633.033576, additional_info={})), (RunKey(config_id=35, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3423.738931815466, time=92.95625901222229, status=<StatusType.SUCCESS: 1>, starttime=1763737633.1072745, endtime=1763737726.0636108, additional_info={})), (RunKey(config_id=36, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3487.0222993687794, time=92.51900625228882, status=<StatusType.SUCCESS: 1>, starttime=1763737726.1061604, endtime=1763737818.6252341, additional_info={})), (RunKey(config_id=37, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3415.633893161639, time=93.90271973609924, status=<StatusType.SUCCESS: 1>, starttime=1763737818.665368, endtime=1763737912.5681617, additional_info={})), (RunKey(config_id=38, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3526.7343547635373, time=93.47800540924072, status=<StatusType.SUCCESS: 1>, starttime=1763737917.3024042, endtime=1763738010.7804725, additional_info={})), (RunKey(config_id=39, instance_id=None, seed=0, budget=0.0), RunValue(cost=2147483647.0, time=92.28459286689758, status=<StatusType.CRASHED: 3>, starttime=1763738015.5532587, endtime=1763738107.8379087, additional_info={})), (RunKey(config_id=40, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3466.8645476278784, time=93.2629189491272, status=<StatusType.SUCCESS: 1>, starttime=1763738112.935485, endtime=1763738206.1984825, additional_info={})), (RunKey(config_id=41, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3363.882247713855, time=93.85708546638489, status=<StatusType.SUCCESS: 1>, starttime=1763738206.2539427, endtime=1763738300.1110811, additional_info={})), (RunKey(config_id=42, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3420.4994448414204, time=92.40079665184021, status=<StatusType.SUCCESS: 1>, starttime=1763738305.2191465, endtime=1763738397.6200018, additional_info={})), (RunKey(config_id=43, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3347.3234300441773, time=93.44250583648682, status=<StatusType.SUCCESS: 1>, starttime=1763738402.519087, endtime=1763738495.961668, additional_info={})), (RunKey(config_id=44, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3372.845475151206, time=93.15780854225159, status=<StatusType.SUCCESS: 1>, starttime=1763738501.3606741, endtime=1763738594.5185387, additional_info={})), (RunKey(config_id=45, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3525.047440846941, time=91.86969757080078, status=<StatusType.SUCCESS: 1>, starttime=1763738599.990039, endtime=1763738691.8598027, additional_info={})), (RunKey(config_id=46, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3435.7637764297606, time=93.34123063087463, status=<StatusType.SUCCESS: 1>, starttime=1763738698.0991788, endtime=1763738791.4404707, additional_info={})), (RunKey(config_id=47, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3486.1358967379724, time=93.34308409690857, status=<StatusType.SUCCESS: 1>, starttime=1763738796.7671168, endtime=1763738890.1102774, additional_info={})), (RunKey(config_id=48, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3471.466632635243, time=93.36884808540344, status=<StatusType.SUCCESS: 1>, starttime=1763738895.4982016, endtime=1763738988.8671093, additional_info={})), (RunKey(config_id=49, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3374.3634257282365, time=93.34484505653381, status=<StatusType.SUCCESS: 1>, starttime=1763738993.6858814, endtime=1763739087.0307832, additional_info={})), (RunKey(config_id=50, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3592.7203060377, time=93.50018072128296, status=<StatusType.SUCCESS: 1>, starttime=1763739092.043882, endtime=1763739185.5441206, additional_info={})), (RunKey(config_id=51, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3293.41099288619, time=92.95666193962097, status=<StatusType.SUCCESS: 1>, starttime=1763739185.5538232, endtime=1763739278.5105402, additional_info={})), (RunKey(config_id=52, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3464.8816340013677, time=93.23974823951721, status=<StatusType.SUCCESS: 1>, starttime=1763739283.5001657, endtime=1763739376.7399788, additional_info={})), (RunKey(config_id=53, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3529.5995148216575, time=93.45508456230164, status=<StatusType.SUCCESS: 1>, starttime=1763739381.53753, endtime=1763739474.9927, additional_info={})), (RunKey(config_id=54, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3388.0090201904627, time=93.57447481155396, status=<StatusType.SUCCESS: 1>, starttime=1763739480.757966, endtime=1763739574.3325045, additional_info={})), (RunKey(config_id=55, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3481.3009662291574, time=93.42216682434082, status=<StatusType.SUCCESS: 1>, starttime=1763739580.1667619, endtime=1763739673.5889812, additional_info={})), (RunKey(config_id=56, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3420.288011060212, time=94.45826387405396, status=<StatusType.SUCCESS: 1>, starttime=1763739673.6611836, endtime=1763739768.1195157, additional_info={})), (RunKey(config_id=57, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3308.3469556543037, time=94.10334205627441, status=<StatusType.SUCCESS: 1>, starttime=1763739773.7547195, endtime=1763739867.8581142, additional_info={})), (RunKey(config_id=58, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3345.6582750937523, time=94.53471827507019, status=<StatusType.SUCCESS: 1>, starttime=1763739867.9291945, endtime=1763739962.4639735, additional_info={})), (RunKey(config_id=59, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3451.4644008938662, time=93.64141774177551, status=<StatusType.SUCCESS: 1>, starttime=1763739967.6631284, endtime=1763740061.3046048, additional_info={})), (RunKey(config_id=60, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3593.897444510982, time=93.41722393035889, status=<StatusType.SUCCESS: 1>, starttime=1763740066.2448728, endtime=1763740159.6621556, additional_info={})), (RunKey(config_id=61, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3524.666533989637, time=93.3038260936737, status=<StatusType.SUCCESS: 1>, starttime=1763740159.6760082, endtime=1763740252.9798965, additional_info={})), (RunKey(config_id=62, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3478.299598180714, time=94.15993428230286, status=<StatusType.SUCCESS: 1>, starttime=1763740253.0568871, endtime=1763740347.216877, additional_info={})), (RunKey(config_id=63, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3542.07698077581, time=93.71637415885925, status=<StatusType.SUCCESS: 1>, starttime=1763740352.82561, endtime=1763740446.5420394, additional_info={})), (RunKey(config_id=64, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3410.333120321139, time=93.46443676948547, status=<StatusType.SUCCESS: 1>, starttime=1763740451.3688467, endtime=1763740544.83334, additional_info={})), (RunKey(config_id=65, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3388.083415142622, time=92.26319456100464, status=<StatusType.SUCCESS: 1>, starttime=1763740549.6415179, endtime=1763740641.9047668, additional_info={})), (RunKey(config_id=66, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3474.8623636061443, time=93.3361485004425, status=<StatusType.SUCCESS: 1>, starttime=1763740647.431455, endtime=1763740740.7676864, additional_info={})), (RunKey(config_id=67, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3397.4950409254543, time=93.8919608592987, status=<StatusType.SUCCESS: 1>, starttime=1763740740.845441, endtime=1763740834.7374692, additional_info={})), (RunKey(config_id=68, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3418.860272378344, time=94.26522397994995, status=<StatusType.SUCCESS: 1>, starttime=1763740834.8088202, endtime=1763740929.0741067, additional_info={})), (RunKey(config_id=69, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3423.7087246839556, time=93.60230565071106, status=<StatusType.SUCCESS: 1>, starttime=1763740934.2923958, endtime=1763741027.8947556, additional_info={})), (RunKey(config_id=70, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3400.633618521596, time=94.53082156181335, status=<StatusType.SUCCESS: 1>, starttime=1763741027.9811604, endtime=1763741122.512047, additional_info={})), (RunKey(config_id=71, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3387.7130311025176, time=93.82556462287903, status=<StatusType.SUCCESS: 1>, starttime=1763741128.6114788, endtime=1763741222.4371006, additional_info={})), (RunKey(config_id=72, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3606.2990201639827, time=93.7994155883789, status=<StatusType.SUCCESS: 1>, starttime=1763741228.122865, endtime=1763741321.922334, additional_info={})), (RunKey(config_id=73, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3541.247311193795, time=93.32973551750183, status=<StatusType.SUCCESS: 1>, starttime=1763741321.9350889, endtime=1763741415.2648816, additional_info={})), (RunKey(config_id=74, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3340.3088840114915, time=95.36358737945557, status=<StatusType.SUCCESS: 1>, starttime=1763741415.3547912, endtime=1763741510.7188456, additional_info={})), (RunKey(config_id=75, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3374.171162011487, time=95.56132793426514, status=<StatusType.SUCCESS: 1>, starttime=1763741510.8418007, endtime=1763741606.403206, additional_info={})), (RunKey(config_id=76, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3280.8918201925694, time=94.59901523590088, status=<StatusType.SUCCESS: 1>, starttime=1763741612.420924, endtime=1763741707.0200086, additional_info={})), (RunKey(config_id=77, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3481.2183312881475, time=93.39519000053406, status=<StatusType.SUCCESS: 1>, starttime=1763741714.2085447, endtime=1763741807.6037984, additional_info={})), (RunKey(config_id=78, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3404.881509808201, time=93.45756363868713, status=<StatusType.SUCCESS: 1>, starttime=1763741813.2162428, endtime=1763741906.6738646, additional_info={})), (RunKey(config_id=79, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3129.0553967182004, time=93.7256178855896, status=<StatusType.SUCCESS: 1>, starttime=1763741906.7693093, endtime=1763742000.4949834, additional_info={})), (RunKey(config_id=80, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3615.247007053616, time=93.66642141342163, status=<StatusType.SUCCESS: 1>, starttime=1763742006.071673, endtime=1763742099.7381468, additional_info={})), (RunKey(config_id=81, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3388.592384826488, time=93.54060292243958, status=<StatusType.SUCCESS: 1>, starttime=1763742099.752312, endtime=1763742193.2929742, additional_info={})), (RunKey(config_id=82, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3386.4251017967317, time=93.5609540939331, status=<StatusType.SUCCESS: 1>, starttime=1763742199.8823614, endtime=1763742293.443368, additional_info={})), (RunKey(config_id=83, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3597.6875634177995, time=93.33221983909607, status=<StatusType.SUCCESS: 1>, starttime=1763742299.0476067, endtime=1763742392.3798885, additional_info={})), (RunKey(config_id=84, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3732.8458727389852, time=93.11677479743958, status=<StatusType.SUCCESS: 1>, starttime=1763742398.4018826, endtime=1763742491.5187085, additional_info={})), (RunKey(config_id=85, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3633.512225583067, time=93.22151231765747, status=<StatusType.SUCCESS: 1>, starttime=1763742491.533012, endtime=1763742584.7545788, additional_info={})), (RunKey(config_id=86, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3726.036319847573, time=93.24640440940857, status=<StatusType.SUCCESS: 1>, starttime=1763742590.093151, endtime=1763742683.3396077, additional_info={})), (RunKey(config_id=87, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3688.0682202919706, time=93.07542157173157, status=<StatusType.SUCCESS: 1>, starttime=1763742688.8643878, endtime=1763742781.9398599, additional_info={})), (RunKey(config_id=88, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3671.4795038366533, time=93.8430495262146, status=<StatusType.SUCCESS: 1>, starttime=1763742782.0379326, endtime=1763742875.8810427, additional_info={})), (RunKey(config_id=89, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3584.2943783463156, time=93.55449318885803, status=<StatusType.SUCCESS: 1>, starttime=1763742881.3245897, endtime=1763742974.8791454, additional_info={})), (RunKey(config_id=90, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3433.2247481443605, time=93.03085374832153, status=<StatusType.SUCCESS: 1>, starttime=1763742981.2895923, endtime=1763743074.3204951, additional_info={})), (RunKey(config_id=91, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3563.9264437228285, time=93.26290559768677, status=<StatusType.SUCCESS: 1>, starttime=1763743079.6024642, endtime=1763743172.8654351, additional_info={})), (RunKey(config_id=92, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3649.414828034295, time=93.10510349273682, status=<StatusType.SUCCESS: 1>, starttime=1763743178.6389468, endtime=1763743271.7441096, additional_info={})), (RunKey(config_id=93, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3599.592440756659, time=93.19249129295349, status=<StatusType.SUCCESS: 1>, starttime=1763743277.5536485, endtime=1763743370.7462, additional_info={})), (RunKey(config_id=94, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3501.8742707868237, time=94.47285461425781, status=<StatusType.SUCCESS: 1>, starttime=1763743370.8523777, endtime=1763743465.3252954, additional_info={})), (RunKey(config_id=95, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3622.515050471192, time=93.70824527740479, status=<StatusType.SUCCESS: 1>, starttime=1763743470.6743464, endtime=1763743564.38267, additional_info={})), (RunKey(config_id=96, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3533.5384413659167, time=93.21326231956482, status=<StatusType.SUCCESS: 1>, starttime=1763743570.3143535, endtime=1763743663.5276906, additional_info={})), (RunKey(config_id=97, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3523.9170951938613, time=93.46186137199402, status=<StatusType.SUCCESS: 1>, starttime=1763743668.9970663, endtime=1763743762.4589794, additional_info={})), (RunKey(config_id=98, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3555.3468556528214, time=93.58161973953247, status=<StatusType.SUCCESS: 1>, starttime=1763743768.8739967, endtime=1763743862.4556994, additional_info={})), (RunKey(config_id=99, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3642.555104838256, time=92.2617301940918, status=<StatusType.SUCCESS: 1>, starttime=1763743867.9955363, endtime=1763743960.2573202, additional_info={})), (RunKey(config_id=100, instance_id=None, seed=0, budget=0.0), RunValue(cost=-3549.7646967577266, time=93.11694526672363, status=<StatusType.SUCCESS: 1>, starttime=1763743965.659108, endtime=1763744058.7761068, additional_info={}))])
SMAC optimization complete for ./oltp_workloads/wikipedia/sample_wikipedia_config100.xml
End time for workload (unix seconds): 1763744058
Begin tuning for workload: 4
tune for workload: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Start time for workload (unix seconds): 1763744058
üì¶ Removing corrupted postgresql.auto.conf...
‚è≥ Waiting briefly...
üîÅ Restarting PostgreSQL using pg_ctlcluster...
‚úÖ PostgreSQL restarted successfully.
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Running default configuration for workload
Removed postgresql.auto.conf file (if it existed).
Resetting inner metrics...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Internal metrics reset successfully.
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-56-14.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763744111.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-56-14.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-56-14.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-56-14.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-56-14.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-56-14.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-56-14.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-56-14.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-56-14.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_16-56-14.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-56-14.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-56-14.metrics.json
Parsed throughput from summary.json: 2036.4985746067289
BenchBase wikipedia throughput: 2036.4985746067289
Configuration: None, QPS: -2036.4985746067289
Default configuration run complete for workload
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Fetched 14 internal metrics
Internal metrics: {'xact_commit': 119728.0, 'xact_rollback': 40887.0, 'blks_read': 397397.0, 'blks_hit': 14092046.0, 'tup_returned': 6034759.0, 'tup_fetched': 4998716.0, 'tup_inserted': 937522.0, 'conflicts': 0.0, 'tup_updated': 217254.0, 'tup_deleted': 564.0, 'disk_read_count': 678879.0, 'disk_write_count': 582821.0, 'disk_read_bytes': 5561376768.0, 'disk_write_bytes': 4774469632.0}
Internal metrics collected: {'xact_commit': 119728.0, 'xact_rollback': 40887.0, 'blks_read': 397397.0, 'blks_hit': 14092046.0, 'tup_returned': 6034759.0, 'tup_fetched': 4998716.0, 'tup_inserted': 937522.0, 'conflicts': 0.0, 'tup_updated': 217254.0, 'tup_deleted': 564.0, 'disk_read_count': 678879.0, 'disk_write_count': 582821.0, 'disk_read_bytes': 5561376768.0, 'disk_write_bytes': 4774469632.0}
Internal metrics saved to: internal_metrics/wikipedia/sample_wikipedia_config101_internal_metrics.json
Starting tuning for workload: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Beginning SMAC optimization
Length of knobs: 44
Initialized configuration space with knobs.
Workload file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Save workload identifier: sample_wikipedia_config101
Starting SMAC scenario setup.
Evaluating configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
(1 row)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 9.022416733205318
Set autovacuum_analyze_threshold = 1098782943
Set autovacuum_max_workers = 67
Set autovacuum_naptime = 1298967
Set autovacuum_vacuum_cost_delay = 83
Set autovacuum_vacuum_cost_limit = 8117
Set autovacuum_vacuum_scale_factor = 84.30853514000773
Set autovacuum_vacuum_threshold = 1939469733
Set backend_flush_after = 25
Set bgwriter_delay = 2921
Set bgwriter_flush_after = 174
Set bgwriter_lru_maxpages = 582
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.3461359143257141
Set checkpoint_flush_after = 250
Set checkpoint_timeout = 2284
Set commit_delay = 36231
Set commit_siblings = 954
Set cursor_tuple_fraction = 0.1377423545345664
Set deadlock_timeout = 1408939122
Set default_statistics_target = 4358
Set effective_cache_size = 1394533168
Set effective_io_concurrency = 454
Set from_collapse_limit = 1798991148
Set geqo_effort = 3
Set geqo_generations = 159642294
Set geqo_pool_size = 1264875639
Set geqo_seed = 0.41606879886239767
Set geqo_threshold = 173074473
Set join_collapse_limit = 74037612
Set maintenance_work_mem = 957667097
Set max_connections = 1419
Set max_wal_senders = 22
Set shared_buffers = 217296
Set temp_buffers = 70276608
Set temp_file_limit = 118208495
Set vacuum_cost_delay = 63
Set vacuum_cost_limit = 3691
Set vacuum_cost_page_dirty = 4598
Set vacuum_cost_page_hit = 7434
Set vacuum_cost_page_miss = 312
Set wal_buffers = 9358
Set wal_writer_delay = 9009
Set work_mem = 1668439634
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-57-47.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-57-47.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-57-47.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-57-47.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-57-47.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-57-47.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-57-47.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_16-57-47.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-57-47.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-57-47.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-57-47.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-57-47.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763744204.log
Parsed throughput from summary.json: 2283.359354418023
BenchBase wikipedia throughput: 2283.359354418023
Configuration: {'autovacuum_analyze_scale_factor': 9.022416733205318, 'autovacuum_analyze_threshold': 1098782943, 'autovacuum_max_workers': 67, 'autovacuum_naptime': 1298967, 'autovacuum_vacuum_cost_delay': 83, 'autovacuum_vacuum_cost_limit': 8117, 'autovacuum_vacuum_scale_factor': 84.30853514000773, 'autovacuum_vacuum_threshold': 1939469733, 'backend_flush_after': 25, 'bgwriter_delay': 2921, 'bgwriter_flush_after': 174, 'bgwriter_lru_maxpages': 582, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.3461359143257141, 'checkpoint_flush_after': 250, 'checkpoint_timeout': 2284, 'commit_delay': 36231, 'commit_siblings': 954, 'cursor_tuple_fraction': 0.1377423545345664, 'deadlock_timeout': 1408939122, 'default_statistics_target': 4358, 'effective_cache_size': 1394533168, 'effective_io_concurrency': 454, 'from_collapse_limit': 1798991148, 'geqo_effort': 3, 'geqo_generations': 159642294, 'geqo_pool_size': 1264875639, 'geqo_seed': 0.41606879886239767, 'geqo_threshold': 173074473, 'join_collapse_limit': 74037612, 'maintenance_work_mem': 957667097, 'max_connections': 1419, 'max_wal_senders': 22, 'shared_buffers': 217296, 'temp_buffers': 70276608, 'temp_file_limit': 118208495, 'vacuum_cost_delay': 63, 'vacuum_cost_limit': 3691, 'vacuum_cost_page_dirty': 4598, 'vacuum_cost_page_hit': 7434, 'vacuum_cost_page_miss': 312, 'wal_buffers': 9358, 'wal_writer_delay': 9009, 'work_mem': 1668439634}, QPS: -2283.359354418023
Performance (QPS): -2283.359354418023
Evaluating configuration: {'autovacuum_analyze_scale_factor': 59.09048430621624, 'autovacuum_analyze_threshold': 269378350, 'autovacuum_max_workers': 121, 'autovacuum_naptime': 364983, 'autovacuum_vacuum_cost_delay': 46, 'autovacuum_vacuum_cost_limit': 162, 'autovacuum_vacuum_scale_factor': 47.69385075196624, 'autovacuum_vacuum_threshold': 722834952, 'backend_flush_after': 238, 'bgwriter_delay': 9452, 'bgwriter_flush_after': 93, 'bgwriter_lru_maxpages': 187, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9411872830241919, 'checkpoint_flush_after': 108, 'checkpoint_timeout': 1042, 'commit_delay': 83081, 'commit_siblings': 447, 'cursor_tuple_fraction': 0.5100215626880527, 'deadlock_timeout': 727367336, 'default_statistics_target': 5797, 'effective_cache_size': 612946166, 'effective_io_concurrency': 862, 'from_collapse_limit': 181234394, 'geqo_effort': 8, 'geqo_generations': 2082024641, 'geqo_pool_size': 344736214, 'geqo_seed': 0.5773294121026993, 'geqo_threshold': 1410184352, 'join_collapse_limit': 2014285460, 'maintenance_work_mem': 1770346271, 'max_connections': 2691, 'max_wal_senders': 29, 'shared_buffers': 3215730, 'temp_buffers': 978368191, 'temp_file_limit': 1375887961, 'vacuum_cost_delay': 9, 'vacuum_cost_limit': 6208, 'vacuum_cost_page_dirty': 7472, 'vacuum_cost_page_hit': 1318, 'vacuum_cost_page_miss': 7972, 'wal_buffers': 118787, 'wal_writer_delay': 213, 'work_mem': 409864143}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 59.09048430621624
Set autovacuum_analyze_threshold = 269378350
Set autovacuum_max_workers = 121
Set autovacuum_naptime = 364983
Set autovacuum_vacuum_cost_delay = 46
Set autovacuum_vacuum_cost_limit = 162
Set autovacuum_vacuum_scale_factor = 47.69385075196624
Set autovacuum_vacuum_threshold = 722834952
Set backend_flush_after = 238
Set bgwriter_delay = 9452
Set bgwriter_flush_after = 93
Set bgwriter_lru_maxpages = 187
Set bgwriter_lru_multiplier = 3
Set checkpoint_completion_target = 0.9411872830241919
Set checkpoint_flush_after = 108
Set checkpoint_timeout = 1042
Set commit_delay = 83081
Set commit_siblings = 447
Set cursor_tuple_fraction = 0.5100215626880527
Set deadlock_timeout = 727367336
Set default_statistics_target = 5797
Set effective_cache_size = 612946166
Set effective_io_concurrency = 862
Set from_collapse_limit = 181234394
Set geqo_effort = 8
Set geqo_generations = 2082024641
Set geqo_pool_size = 344736214
Set geqo_seed = 0.5773294121026993
Set geqo_threshold = 1410184352
Set join_collapse_limit = 2014285460
Set maintenance_work_mem = 1770346271
Set max_connections = 2691
Set max_wal_senders = 29
Set shared_buffers = 3215730
Set temp_buffers = 978368191
Set temp_file_limit = 1375887961
Set vacuum_cost_delay = 9
Set vacuum_cost_limit = 6208
Set vacuum_cost_page_dirty = 7472
Set vacuum_cost_page_hit = 1318
Set vacuum_cost_page_miss = 7972
Set wal_buffers = 118787
Set wal_writer_delay = 213
Set work_mem = 409864143
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-59-22.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-59-22.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-59-22.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-59-22.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-59-22.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-59-22.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-59-22.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-59-22.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_16-59-22.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-59-22.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-59-22.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_16-59-22.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763744298.log
Parsed throughput from summary.json: 2183.8954994079036
BenchBase wikipedia throughput: 2183.8954994079036
Configuration: {'autovacuum_analyze_scale_factor': 59.09048430621624, 'autovacuum_analyze_threshold': 269378350, 'autovacuum_max_workers': 121, 'autovacuum_naptime': 364983, 'autovacuum_vacuum_cost_delay': 46, 'autovacuum_vacuum_cost_limit': 162, 'autovacuum_vacuum_scale_factor': 47.69385075196624, 'autovacuum_vacuum_threshold': 722834952, 'backend_flush_after': 238, 'bgwriter_delay': 9452, 'bgwriter_flush_after': 93, 'bgwriter_lru_maxpages': 187, 'bgwriter_lru_multiplier': 3, 'checkpoint_completion_target': 0.9411872830241919, 'checkpoint_flush_after': 108, 'checkpoint_timeout': 1042, 'commit_delay': 83081, 'commit_siblings': 447, 'cursor_tuple_fraction': 0.5100215626880527, 'deadlock_timeout': 727367336, 'default_statistics_target': 5797, 'effective_cache_size': 612946166, 'effective_io_concurrency': 862, 'from_collapse_limit': 181234394, 'geqo_effort': 8, 'geqo_generations': 2082024641, 'geqo_pool_size': 344736214, 'geqo_seed': 0.5773294121026993, 'geqo_threshold': 1410184352, 'join_collapse_limit': 2014285460, 'maintenance_work_mem': 1770346271, 'max_connections': 2691, 'max_wal_senders': 29, 'shared_buffers': 3215730, 'temp_buffers': 978368191, 'temp_file_limit': 1375887961, 'vacuum_cost_delay': 9, 'vacuum_cost_limit': 6208, 'vacuum_cost_page_dirty': 7472, 'vacuum_cost_page_hit': 1318, 'vacuum_cost_page_miss': 7972, 'wal_buffers': 118787, 'wal_writer_delay': 213, 'work_mem': 409864143}, QPS: -2183.8954994079036
Performance (QPS): -2183.8954994079036
Evaluating configuration: {'autovacuum_analyze_scale_factor': 76.40128070488572, 'autovacuum_analyze_threshold': 2054345871, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1742961, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': 2889, 'autovacuum_vacuum_scale_factor': 68.17056005820632, 'autovacuum_vacuum_threshold': 292674466, 'backend_flush_after': 185, 'bgwriter_delay': 6898, 'bgwriter_flush_after': 57, 'bgwriter_lru_maxpages': 369, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.11681524477899075, 'checkpoint_flush_after': 25, 'checkpoint_timeout': 3292, 'commit_delay': 59820, 'commit_siblings': 705, 'cursor_tuple_fraction': 0.8368948232382536, 'deadlock_timeout': 1828021056, 'default_statistics_target': 979, 'effective_cache_size': 298898560, 'effective_io_concurrency': 229, 'from_collapse_limit': 1168982740, 'geqo_effort': 5, 'geqo_generations': 1431332651, 'geqo_pool_size': 1791561467, 'geqo_seed': 0.9844945101067424, 'geqo_threshold': 1014366143, 'join_collapse_limit': 1215862036, 'maintenance_work_mem': 353354037, 'max_connections': 110, 'max_wal_senders': 11, 'shared_buffers': 2180834, 'temp_buffers': 577406274, 'temp_file_limit': 1860665339, 'vacuum_cost_delay': 81, 'vacuum_cost_limit': 699, 'vacuum_cost_page_dirty': 2223, 'vacuum_cost_page_hit': 9814, 'vacuum_cost_page_miss': 4302, 'wal_buffers': 98184, 'wal_writer_delay': 7372, 'work_mem': 1272186404}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 76.40128070488572
Set autovacuum_analyze_threshold = 2054345871
Set autovacuum_max_workers = 48
Set autovacuum_naptime = 1742961
Set autovacuum_vacuum_cost_delay = 2
Set autovacuum_vacuum_cost_limit = 2889
Set autovacuum_vacuum_scale_factor = 68.17056005820632
Set autovacuum_vacuum_threshold = 292674466
Set backend_flush_after = 185
Set bgwriter_delay = 6898
Set bgwriter_flush_after = 57
Set bgwriter_lru_maxpages = 369
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.11681524477899075
Set checkpoint_flush_after = 25
Set checkpoint_timeout = 3292
Set commit_delay = 59820
Set commit_siblings = 705
Set cursor_tuple_fraction = 0.8368948232382536
Set deadlock_timeout = 1828021056
Set default_statistics_target = 979
Set effective_cache_size = 298898560
Set effective_io_concurrency = 229
Set from_collapse_limit = 1168982740
Set geqo_effort = 5
Set geqo_generations = 1431332651
Set geqo_pool_size = 1791561467
Set geqo_seed = 0.9844945101067424
Set geqo_threshold = 1014366143
Set join_collapse_limit = 1215862036
Set maintenance_work_mem = 353354037
Set max_connections = 110
Set max_wal_senders = 11
Set shared_buffers = 2180834
Set temp_buffers = 577406274
Set temp_file_limit = 1860665339
Set vacuum_cost_delay = 81
Set vacuum_cost_limit = 699
Set vacuum_cost_page_dirty = 2223
Set vacuum_cost_page_hit = 9814
Set vacuum_cost_page_miss = 4302
Set wal_buffers = 98184
Set wal_writer_delay = 7372
Set work_mem = 1272186404
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-00-56.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763744393.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-00-56.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-00-56.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-00-56.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-00-56.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-00-56.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-00-56.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-00-56.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-00-56.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-00-56.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-00-56.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-00-56.results.UpdatePage.csv
Parsed throughput from summary.json: 2324.812792662425
BenchBase wikipedia throughput: 2324.812792662425
Configuration: {'autovacuum_analyze_scale_factor': 76.40128070488572, 'autovacuum_analyze_threshold': 2054345871, 'autovacuum_max_workers': 48, 'autovacuum_naptime': 1742961, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': 2889, 'autovacuum_vacuum_scale_factor': 68.17056005820632, 'autovacuum_vacuum_threshold': 292674466, 'backend_flush_after': 185, 'bgwriter_delay': 6898, 'bgwriter_flush_after': 57, 'bgwriter_lru_maxpages': 369, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.11681524477899075, 'checkpoint_flush_after': 25, 'checkpoint_timeout': 3292, 'commit_delay': 59820, 'commit_siblings': 705, 'cursor_tuple_fraction': 0.8368948232382536, 'deadlock_timeout': 1828021056, 'default_statistics_target': 979, 'effective_cache_size': 298898560, 'effective_io_concurrency': 229, 'from_collapse_limit': 1168982740, 'geqo_effort': 5, 'geqo_generations': 1431332651, 'geqo_pool_size': 1791561467, 'geqo_seed': 0.9844945101067424, 'geqo_threshold': 1014366143, 'join_collapse_limit': 1215862036, 'maintenance_work_mem': 353354037, 'max_connections': 110, 'max_wal_senders': 11, 'shared_buffers': 2180834, 'temp_buffers': 577406274, 'temp_file_limit': 1860665339, 'vacuum_cost_delay': 81, 'vacuum_cost_limit': 699, 'vacuum_cost_page_dirty': 2223, 'vacuum_cost_page_hit': 9814, 'vacuum_cost_page_miss': 4302, 'wal_buffers': 98184, 'wal_writer_delay': 7372, 'work_mem': 1272186404}, QPS: -2324.812792662425
Performance (QPS): -2324.812792662425
Evaluating configuration: {'autovacuum_analyze_scale_factor': 0.1, 'autovacuum_analyze_threshold': 50, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 60, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': -1, 'autovacuum_vacuum_scale_factor': 0.2, 'autovacuum_vacuum_threshold': 50, 'backend_flush_after': 0, 'bgwriter_delay': 200, 'bgwriter_flush_after': 64, 'bgwriter_lru_maxpages': 2, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.9, 'checkpoint_flush_after': 32, 'checkpoint_timeout': 300, 'commit_delay': 0, 'commit_siblings': 5, 'cursor_tuple_fraction': 0.1, 'deadlock_timeout': 1000, 'default_statistics_target': 100, 'effective_cache_size': 524288, 'effective_io_concurrency': 1, 'from_collapse_limit': 8, 'geqo_effort': 5, 'geqo_generations': 0, 'geqo_pool_size': 0, 'geqo_seed': 0.0, 'geqo_threshold': 12, 'join_collapse_limit': 8, 'maintenance_work_mem': 65536, 'max_connections': 100, 'max_wal_senders': 10, 'shared_buffers': 1024, 'temp_buffers': 1024, 'temp_file_limit': -1, 'vacuum_cost_delay': 0, 'vacuum_cost_limit': 200, 'vacuum_cost_page_dirty': 20, 'vacuum_cost_page_hit': 1, 'vacuum_cost_page_miss': 2, 'wal_buffers': -1, 'wal_writer_delay': 200, 'work_mem': 4096}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 0.1
Set autovacuum_analyze_threshold = 50
Set autovacuum_max_workers = 3
Set autovacuum_naptime = 60
Set autovacuum_vacuum_cost_delay = 2
Set autovacuum_vacuum_cost_limit = -1
Set autovacuum_vacuum_scale_factor = 0.2
Set autovacuum_vacuum_threshold = 50
Set backend_flush_after = 0
Set bgwriter_delay = 200
Set bgwriter_flush_after = 64
Set bgwriter_lru_maxpages = 2
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.9
Set checkpoint_flush_after = 32
Set checkpoint_timeout = 300
Set commit_delay = 0
Set commit_siblings = 5
Set cursor_tuple_fraction = 0.1
Set deadlock_timeout = 1000
Set default_statistics_target = 100
Set effective_cache_size = 524288
Set effective_io_concurrency = 1
Set from_collapse_limit = 8
Set geqo_effort = 5
Set geqo_generations = 0
Set geqo_pool_size = 0
Set geqo_seed = 0.0
Set geqo_threshold = 12
Set join_collapse_limit = 8
Set maintenance_work_mem = 65536
Set max_connections = 100
Set max_wal_senders = 10
Set shared_buffers = 1024
Set temp_buffers = 1024
Set temp_file_limit = -1
Set vacuum_cost_delay = 0
Set vacuum_cost_limit = 200
Set vacuum_cost_page_dirty = 20
Set vacuum_cost_page_hit = 1
Set vacuum_cost_page_miss = 2
Set wal_buffers = -1
Set wal_writer_delay = 200
Set work_mem = 4096
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-02-29.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-02-29.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-02-29.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-02-29.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763744486.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-02-29.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-02-29.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-02-29.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-02-29.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-02-29.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-02-29.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-02-29.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-02-29.config.xml
Parsed throughput from summary.json: 2101.589603462469
BenchBase wikipedia throughput: 2101.589603462469
Configuration: {'autovacuum_analyze_scale_factor': 0.1, 'autovacuum_analyze_threshold': 50, 'autovacuum_max_workers': 3, 'autovacuum_naptime': 60, 'autovacuum_vacuum_cost_delay': 2, 'autovacuum_vacuum_cost_limit': -1, 'autovacuum_vacuum_scale_factor': 0.2, 'autovacuum_vacuum_threshold': 50, 'backend_flush_after': 0, 'bgwriter_delay': 200, 'bgwriter_flush_after': 64, 'bgwriter_lru_maxpages': 2, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.9, 'checkpoint_flush_after': 32, 'checkpoint_timeout': 300, 'commit_delay': 0, 'commit_siblings': 5, 'cursor_tuple_fraction': 0.1, 'deadlock_timeout': 1000, 'default_statistics_target': 100, 'effective_cache_size': 524288, 'effective_io_concurrency': 1, 'from_collapse_limit': 8, 'geqo_effort': 5, 'geqo_generations': 0, 'geqo_pool_size': 0, 'geqo_seed': 0.0, 'geqo_threshold': 12, 'join_collapse_limit': 8, 'maintenance_work_mem': 65536, 'max_connections': 100, 'max_wal_senders': 10, 'shared_buffers': 1024, 'temp_buffers': 1024, 'temp_file_limit': -1, 'vacuum_cost_delay': 0, 'vacuum_cost_limit': 200, 'vacuum_cost_page_dirty': 20, 'vacuum_cost_page_hit': 1, 'vacuum_cost_page_miss': 2, 'wal_buffers': -1, 'wal_writer_delay': 200, 'work_mem': 4096}, QPS: -2101.589603462469
Performance (QPS): -2101.589603462469
Evaluating configuration: {'autovacuum_analyze_scale_factor': 26.481935661286116, 'autovacuum_analyze_threshold': 721596254, 'autovacuum_max_workers': 190, 'autovacuum_naptime': 1062135, 'autovacuum_vacuum_cost_delay': 67, 'autovacuum_vacuum_cost_limit': 5079, 'autovacuum_vacuum_scale_factor': 1.2826400808990002, 'autovacuum_vacuum_threshold': 1241364491, 'backend_flush_after': 76, 'bgwriter_delay': 477, 'bgwriter_flush_after': 204, 'bgwriter_lru_maxpages': 980, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.7091427892446518, 'checkpoint_flush_after': 141, 'checkpoint_timeout': 41, 'commit_delay': 6757, 'commit_siblings': 195, 'cursor_tuple_fraction': 0.46846663393080235, 'deadlock_timeout': 341141914, 'default_statistics_target': 8863, 'effective_cache_size': 1715922758, 'effective_io_concurrency': 572, 'from_collapse_limit': 609895714, 'geqo_effort': 6, 'geqo_generations': 550156632, 'geqo_pool_size': 891369298, 'geqo_seed': 0.020743686705827713, 'geqo_threshold': 1646830390, 'join_collapse_limit': 874423020, 'maintenance_work_mem': 1167999267, 'max_connections': 1786, 'max_wal_senders': 39, 'shared_buffers': 1247105, 'temp_buffers': 470443576, 'temp_file_limit': 1005496917, 'vacuum_cost_delay': 28, 'vacuum_cost_limit': 8183, 'vacuum_cost_page_dirty': 9458, 'vacuum_cost_page_hit': 3934, 'vacuum_cost_page_miss': 6476, 'wal_buffers': 35589, 'wal_writer_delay': 3725, 'work_mem': 818438137}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
(1 row)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 26.481935661286116
Set autovacuum_analyze_threshold = 721596254
Set autovacuum_max_workers = 190
Set autovacuum_naptime = 1062135
Set autovacuum_vacuum_cost_delay = 67
Set autovacuum_vacuum_cost_limit = 5079
Set autovacuum_vacuum_scale_factor = 1.2826400808990002
Set autovacuum_vacuum_threshold = 1241364491
Set backend_flush_after = 76
Set bgwriter_delay = 477
Set bgwriter_flush_after = 204
Set bgwriter_lru_maxpages = 980
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.7091427892446518
Set checkpoint_flush_after = 141
Set checkpoint_timeout = 41
Set commit_delay = 6757
Set commit_siblings = 195
Set cursor_tuple_fraction = 0.46846663393080235
Set deadlock_timeout = 341141914
Set default_statistics_target = 8863
Set effective_cache_size = 1715922758
Set effective_io_concurrency = 572
Set from_collapse_limit = 609895714
Set geqo_effort = 6
Set geqo_generations = 550156632
Set geqo_pool_size = 891369298
Set geqo_seed = 0.020743686705827713
Set geqo_threshold = 1646830390
Set join_collapse_limit = 874423020
Set maintenance_work_mem = 1167999267
Set max_connections = 1786
Set max_wal_senders = 39
Set shared_buffers = 1247105
Set temp_buffers = 470443576
Set temp_file_limit = 1005496917
Set vacuum_cost_delay = 28
Set vacuum_cost_limit = 8183
Set vacuum_cost_page_dirty = 9458
Set vacuum_cost_page_hit = 3934
Set vacuum_cost_page_miss = 6476
Set wal_buffers = 35589
Set wal_writer_delay = 3725
Set work_mem = 818438137
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-04-01.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-04-01.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-04-01.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-04-01.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-04-01.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-04-01.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-04-01.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-04-01.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-04-01.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-04-01.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-04-01.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-04-01.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763744578.log
Parsed throughput from summary.json: 2311.137741094956
BenchBase wikipedia throughput: 2311.137741094956
Configuration: {'autovacuum_analyze_scale_factor': 26.481935661286116, 'autovacuum_analyze_threshold': 721596254, 'autovacuum_max_workers': 190, 'autovacuum_naptime': 1062135, 'autovacuum_vacuum_cost_delay': 67, 'autovacuum_vacuum_cost_limit': 5079, 'autovacuum_vacuum_scale_factor': 1.2826400808990002, 'autovacuum_vacuum_threshold': 1241364491, 'backend_flush_after': 76, 'bgwriter_delay': 477, 'bgwriter_flush_after': 204, 'bgwriter_lru_maxpages': 980, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.7091427892446518, 'checkpoint_flush_after': 141, 'checkpoint_timeout': 41, 'commit_delay': 6757, 'commit_siblings': 195, 'cursor_tuple_fraction': 0.46846663393080235, 'deadlock_timeout': 341141914, 'default_statistics_target': 8863, 'effective_cache_size': 1715922758, 'effective_io_concurrency': 572, 'from_collapse_limit': 609895714, 'geqo_effort': 6, 'geqo_generations': 550156632, 'geqo_pool_size': 891369298, 'geqo_seed': 0.020743686705827713, 'geqo_threshold': 1646830390, 'join_collapse_limit': 874423020, 'maintenance_work_mem': 1167999267, 'max_connections': 1786, 'max_wal_senders': 39, 'shared_buffers': 1247105, 'temp_buffers': 470443576, 'temp_file_limit': 1005496917, 'vacuum_cost_delay': 28, 'vacuum_cost_limit': 8183, 'vacuum_cost_page_dirty': 9458, 'vacuum_cost_page_hit': 3934, 'vacuum_cost_page_miss': 6476, 'wal_buffers': 35589, 'wal_writer_delay': 3725, 'work_mem': 818438137}, QPS: -2311.137741094956
Performance (QPS): -2311.137741094956
Evaluating configuration: {'autovacuum_analyze_scale_factor': 48.01633795723319, 'autovacuum_analyze_threshold': 1816547535, 'autovacuum_max_workers': 149, 'autovacuum_naptime': 621009, 'autovacuum_vacuum_cost_delay': 59, 'autovacuum_vacuum_cost_limit': 9147, 'autovacuum_vacuum_scale_factor': 57.31241349130869, 'autovacuum_vacuum_threshold': 231256504, 'backend_flush_after': 145, 'bgwriter_delay': 8439, 'bgwriter_flush_after': 15, 'bgwriter_lru_maxpages': 813, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8292871350422502, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 530, 'commit_delay': 23408, 'commit_siblings': 91, 'cursor_tuple_fraction': 0.9567479509860277, 'deadlock_timeout': 1229396950, 'default_statistics_target': 3231, 'effective_cache_size': 1277266344, 'effective_io_concurrency': 90, 'from_collapse_limit': 894198186, 'geqo_effort': 7, 'geqo_generations': 1262883605, 'geqo_pool_size': 2070704061, 'geqo_seed': 0.693586204200983, 'geqo_threshold': 400058367, 'join_collapse_limit': 535658784, 'maintenance_work_mem': 160923555, 'max_connections': 833, 'max_wal_senders': 45, 'shared_buffers': 2766233, 'temp_buffers': 843252663, 'temp_file_limit': 1300067389, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 9385, 'vacuum_cost_page_dirty': 784, 'vacuum_cost_page_hit': 3665, 'vacuum_cost_page_miss': 5211, 'wal_buffers': 103151, 'wal_writer_delay': 8140, 'work_mem': 656629010}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 48.01633795723319
Set autovacuum_analyze_threshold = 1816547535
Set autovacuum_max_workers = 149
Set autovacuum_naptime = 621009
Set autovacuum_vacuum_cost_delay = 59
Set autovacuum_vacuum_cost_limit = 9147
Set autovacuum_vacuum_scale_factor = 57.31241349130869
Set autovacuum_vacuum_threshold = 231256504
Set backend_flush_after = 145
Set bgwriter_delay = 8439
Set bgwriter_flush_after = 15
Set bgwriter_lru_maxpages = 813
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.8292871350422502
Set checkpoint_flush_after = 165
Set checkpoint_timeout = 530
Set commit_delay = 23408
Set commit_siblings = 91
Set cursor_tuple_fraction = 0.9567479509860277
Set deadlock_timeout = 1229396950
Set default_statistics_target = 3231
Set effective_cache_size = 1277266344
Set effective_io_concurrency = 90
Set from_collapse_limit = 894198186
Set geqo_effort = 7
Set geqo_generations = 1262883605
Set geqo_pool_size = 2070704061
Set geqo_seed = 0.693586204200983
Set geqo_threshold = 400058367
Set join_collapse_limit = 535658784
Set maintenance_work_mem = 160923555
Set max_connections = 833
Set max_wal_senders = 45
Set shared_buffers = 2766233
Set temp_buffers = 843252663
Set temp_file_limit = 1300067389
Set vacuum_cost_delay = 21
Set vacuum_cost_limit = 9385
Set vacuum_cost_page_dirty = 784
Set vacuum_cost_page_hit = 3665
Set vacuum_cost_page_miss = 5211
Set wal_buffers = 103151
Set wal_writer_delay = 8140
Set work_mem = 656629010
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-05-35.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-05-35.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-05-35.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-05-35.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-05-35.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-05-35.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-05-35.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-05-35.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763744673.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-05-35.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-05-35.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-05-35.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-05-35.results.AddWatchList.csv
Parsed throughput from summary.json: 2361.898373651371
BenchBase wikipedia throughput: 2361.898373651371
Configuration: {'autovacuum_analyze_scale_factor': 48.01633795723319, 'autovacuum_analyze_threshold': 1816547535, 'autovacuum_max_workers': 149, 'autovacuum_naptime': 621009, 'autovacuum_vacuum_cost_delay': 59, 'autovacuum_vacuum_cost_limit': 9147, 'autovacuum_vacuum_scale_factor': 57.31241349130869, 'autovacuum_vacuum_threshold': 231256504, 'backend_flush_after': 145, 'bgwriter_delay': 8439, 'bgwriter_flush_after': 15, 'bgwriter_lru_maxpages': 813, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8292871350422502, 'checkpoint_flush_after': 165, 'checkpoint_timeout': 530, 'commit_delay': 23408, 'commit_siblings': 91, 'cursor_tuple_fraction': 0.9567479509860277, 'deadlock_timeout': 1229396950, 'default_statistics_target': 3231, 'effective_cache_size': 1277266344, 'effective_io_concurrency': 90, 'from_collapse_limit': 894198186, 'geqo_effort': 7, 'geqo_generations': 1262883605, 'geqo_pool_size': 2070704061, 'geqo_seed': 0.693586204200983, 'geqo_threshold': 400058367, 'join_collapse_limit': 535658784, 'maintenance_work_mem': 160923555, 'max_connections': 833, 'max_wal_senders': 45, 'shared_buffers': 2766233, 'temp_buffers': 843252663, 'temp_file_limit': 1300067389, 'vacuum_cost_delay': 21, 'vacuum_cost_limit': 9385, 'vacuum_cost_page_dirty': 784, 'vacuum_cost_page_hit': 3665, 'vacuum_cost_page_miss': 5211, 'wal_buffers': 103151, 'wal_writer_delay': 8140, 'work_mem': 656629010}, QPS: -2361.898373651371
Performance (QPS): -2361.898373651371
Evaluating configuration: {'autovacuum_analyze_scale_factor': 97.93487088754773, 'autovacuum_analyze_threshold': 1026960158, 'autovacuum_max_workers': 91, 'autovacuum_naptime': 2108575, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 1320, 'autovacuum_vacuum_scale_factor': 24.787272326648235, 'autovacuum_vacuum_threshold': 1430573589, 'backend_flush_after': 100, 'bgwriter_delay': 4246, 'bgwriter_flush_after': 253, 'bgwriter_lru_maxpages': 456, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.48489107098430395, 'checkpoint_flush_after': 49, 'checkpoint_timeout': 2860, 'commit_delay': 70121, 'commit_siblings': 567, 'cursor_tuple_fraction': 0.33298872970044613, 'deadlock_timeout': 837226764, 'default_statistics_target': 6616, 'effective_cache_size': 1001896558, 'effective_io_concurrency': 750, 'from_collapse_limit': 1421567580, 'geqo_effort': 4, 'geqo_generations': 1054657890, 'geqo_pool_size': 612652560, 'geqo_seed': 0.28427873831242323, 'geqo_threshold': 1233468278, 'join_collapse_limit': 1670100696, 'maintenance_work_mem': 1493629621, 'max_connections': 2449, 'max_wal_senders': 5, 'shared_buffers': 1602634, 'temp_buffers': 203677959, 'temp_file_limit': 410296723, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 1902, 'vacuum_cost_page_dirty': 8707, 'vacuum_cost_page_hit': 7592, 'vacuum_cost_page_miss': 3068, 'wal_buffers': 26210, 'wal_writer_delay': 2015, 'work_mem': 1547633999}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 97.93487088754773
Set autovacuum_analyze_threshold = 1026960158
Set autovacuum_max_workers = 91
Set autovacuum_naptime = 2108575
Set autovacuum_vacuum_cost_delay = 19
Set autovacuum_vacuum_cost_limit = 1320
Set autovacuum_vacuum_scale_factor = 24.787272326648235
Set autovacuum_vacuum_threshold = 1430573589
Set backend_flush_after = 100
Set bgwriter_delay = 4246
Set bgwriter_flush_after = 253
Set bgwriter_lru_maxpages = 456
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.48489107098430395
Set checkpoint_flush_after = 49
Set checkpoint_timeout = 2860
Set commit_delay = 70121
Set commit_siblings = 567
Set cursor_tuple_fraction = 0.33298872970044613
Set deadlock_timeout = 837226764
Set default_statistics_target = 6616
Set effective_cache_size = 1001896558
Set effective_io_concurrency = 750
Set from_collapse_limit = 1421567580
Set geqo_effort = 4
Set geqo_generations = 1054657890
Set geqo_pool_size = 612652560
Set geqo_seed = 0.28427873831242323
Set geqo_threshold = 1233468278
Set join_collapse_limit = 1670100696
Set maintenance_work_mem = 1493629621
Set max_connections = 2449
Set max_wal_senders = 5
Set shared_buffers = 1602634
Set temp_buffers = 203677959
Set temp_file_limit = 410296723
Set vacuum_cost_delay = 69
Set vacuum_cost_limit = 1902
Set vacuum_cost_page_dirty = 8707
Set vacuum_cost_page_hit = 7592
Set vacuum_cost_page_miss = 3068
Set wal_buffers = 26210
Set wal_writer_delay = 2015
Set work_mem = 1547633999
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-07-09.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-07-09.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-07-09.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-07-09.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-07-09.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-07-09.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-07-09.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-07-09.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763744766.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-07-09.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-07-09.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-07-09.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-07-09.config.xml
Parsed throughput from summary.json: 2316.8122637025854
BenchBase wikipedia throughput: 2316.8122637025854
Configuration: {'autovacuum_analyze_scale_factor': 97.93487088754773, 'autovacuum_analyze_threshold': 1026960158, 'autovacuum_max_workers': 91, 'autovacuum_naptime': 2108575, 'autovacuum_vacuum_cost_delay': 19, 'autovacuum_vacuum_cost_limit': 1320, 'autovacuum_vacuum_scale_factor': 24.787272326648235, 'autovacuum_vacuum_threshold': 1430573589, 'backend_flush_after': 100, 'bgwriter_delay': 4246, 'bgwriter_flush_after': 253, 'bgwriter_lru_maxpages': 456, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.48489107098430395, 'checkpoint_flush_after': 49, 'checkpoint_timeout': 2860, 'commit_delay': 70121, 'commit_siblings': 567, 'cursor_tuple_fraction': 0.33298872970044613, 'deadlock_timeout': 837226764, 'default_statistics_target': 6616, 'effective_cache_size': 1001896558, 'effective_io_concurrency': 750, 'from_collapse_limit': 1421567580, 'geqo_effort': 4, 'geqo_generations': 1054657890, 'geqo_pool_size': 612652560, 'geqo_seed': 0.28427873831242323, 'geqo_threshold': 1233468278, 'join_collapse_limit': 1670100696, 'maintenance_work_mem': 1493629621, 'max_connections': 2449, 'max_wal_senders': 5, 'shared_buffers': 1602634, 'temp_buffers': 203677959, 'temp_file_limit': 410296723, 'vacuum_cost_delay': 69, 'vacuum_cost_limit': 1902, 'vacuum_cost_page_dirty': 8707, 'vacuum_cost_page_hit': 7592, 'vacuum_cost_page_miss': 3068, 'wal_buffers': 26210, 'wal_writer_delay': 2015, 'work_mem': 1547633999}, QPS: -2316.8122637025854
Performance (QPS): -2316.8122637025854
Evaluating configuration: {'autovacuum_analyze_scale_factor': 68.1232750415802, 'autovacuum_analyze_threshold': 1464507551, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 260835, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 4223, 'autovacuum_vacuum_scale_factor': 92.15154927223921, 'autovacuum_vacuum_threshold': 1864409019, 'backend_flush_after': 49, 'bgwriter_delay': 1800, 'bgwriter_flush_after': 153, 'bgwriter_lru_maxpages': 104, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5672597279772162, 'checkpoint_flush_after': 69, 'checkpoint_timeout': 1531, 'commit_delay': 99241, 'commit_siblings': 341, 'cursor_tuple_fraction': 0.006115379743278027, 'deadlock_timeout': 1984482532, 'default_statistics_target': 1414, 'effective_cache_size': 250592792, 'effective_io_concurrency': 351, 'from_collapse_limit': 467357266, 'geqo_effort': 10, 'geqo_generations': 395675276, 'geqo_pool_size': 1522604345, 'geqo_seed': 0.15250328183174133, 'geqo_threshold': 570257513, 'join_collapse_limit': 1409068376, 'maintenance_work_mem': 629937567, 'max_connections': 608, 'max_wal_senders': 35, 'shared_buffers': 533398, 'temp_buffers': 337236825, 'temp_file_limit': 613530673, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 7487, 'vacuum_cost_page_dirty': 3488, 'vacuum_cost_page_hit': 963, 'vacuum_cost_page_miss': 9247, 'wal_buffers': 51689, 'wal_writer_delay': 5403, 'work_mem': 260375776}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 68.1232750415802
Set autovacuum_analyze_threshold = 1464507551
Set autovacuum_max_workers = 167
Set autovacuum_naptime = 260835
Set autovacuum_vacuum_cost_delay = 29
Set autovacuum_vacuum_cost_limit = 4223
Set autovacuum_vacuum_scale_factor = 92.15154927223921
Set autovacuum_vacuum_threshold = 1864409019
Set backend_flush_after = 49
Set bgwriter_delay = 1800
Set bgwriter_flush_after = 153
Set bgwriter_lru_maxpages = 104
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.5672597279772162
Set checkpoint_flush_after = 69
Set checkpoint_timeout = 1531
Set commit_delay = 99241
Set commit_siblings = 341
Set cursor_tuple_fraction = 0.006115379743278027
Set deadlock_timeout = 1984482532
Set default_statistics_target = 1414
Set effective_cache_size = 250592792
Set effective_io_concurrency = 351
Set from_collapse_limit = 467357266
Set geqo_effort = 10
Set geqo_generations = 395675276
Set geqo_pool_size = 1522604345
Set geqo_seed = 0.15250328183174133
Set geqo_threshold = 570257513
Set join_collapse_limit = 1409068376
Set maintenance_work_mem = 629937567
Set max_connections = 608
Set max_wal_senders = 35
Set shared_buffers = 533398
Set temp_buffers = 337236825
Set temp_file_limit = 613530673
Set vacuum_cost_delay = 40
Set vacuum_cost_limit = 7487
Set vacuum_cost_page_dirty = 3488
Set vacuum_cost_page_hit = 963
Set vacuum_cost_page_miss = 9247
Set wal_buffers = 51689
Set wal_writer_delay = 5403
Set work_mem = 260375776
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-08-43.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-08-43.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-08-43.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-08-43.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-08-43.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-08-43.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-08-43.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763744859.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-08-43.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-08-43.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-08-43.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-08-43.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-08-43.params.json
Parsed throughput from summary.json: 2363.1589928458625
BenchBase wikipedia throughput: 2363.1589928458625
Configuration: {'autovacuum_analyze_scale_factor': 68.1232750415802, 'autovacuum_analyze_threshold': 1464507551, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 260835, 'autovacuum_vacuum_cost_delay': 29, 'autovacuum_vacuum_cost_limit': 4223, 'autovacuum_vacuum_scale_factor': 92.15154927223921, 'autovacuum_vacuum_threshold': 1864409019, 'backend_flush_after': 49, 'bgwriter_delay': 1800, 'bgwriter_flush_after': 153, 'bgwriter_lru_maxpages': 104, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.5672597279772162, 'checkpoint_flush_after': 69, 'checkpoint_timeout': 1531, 'commit_delay': 99241, 'commit_siblings': 341, 'cursor_tuple_fraction': 0.006115379743278027, 'deadlock_timeout': 1984482532, 'default_statistics_target': 1414, 'effective_cache_size': 250592792, 'effective_io_concurrency': 351, 'from_collapse_limit': 467357266, 'geqo_effort': 10, 'geqo_generations': 395675276, 'geqo_pool_size': 1522604345, 'geqo_seed': 0.15250328183174133, 'geqo_threshold': 570257513, 'join_collapse_limit': 1409068376, 'maintenance_work_mem': 629937567, 'max_connections': 608, 'max_wal_senders': 35, 'shared_buffers': 533398, 'temp_buffers': 337236825, 'temp_file_limit': 613530673, 'vacuum_cost_delay': 40, 'vacuum_cost_limit': 7487, 'vacuum_cost_page_dirty': 3488, 'vacuum_cost_page_hit': 963, 'vacuum_cost_page_miss': 9247, 'wal_buffers': 51689, 'wal_writer_delay': 5403, 'work_mem': 260375776}, QPS: -2363.1589928458625
Performance (QPS): -2363.1589928458625
Evaluating configuration: {'autovacuum_analyze_scale_factor': 18.054398335516453, 'autovacuum_analyze_threshold': 104523630, 'autovacuum_max_workers': 22, 'autovacuum_naptime': 1461821, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 6558, 'autovacuum_vacuum_scale_factor': 27.39966604858637, 'autovacuum_vacuum_threshold': 934083602, 'backend_flush_after': 198, 'bgwriter_delay': 5886, 'bgwriter_flush_after': 106, 'bgwriter_lru_maxpages': 744, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.22403083089739084, 'checkpoint_flush_after': 210, 'checkpoint_timeout': 1852, 'commit_delay': 46242, 'commit_siblings': 818, 'cursor_tuple_fraction': 0.6260237609967589, 'deadlock_timeout': 250136126, 'default_statistics_target': 8745, 'effective_cache_size': 2038009310, 'effective_io_concurrency': 942, 'from_collapse_limit': 2049722788, 'geqo_effort': 1, 'geqo_generations': 1645172983, 'geqo_pool_size': 86581396, 'geqo_seed': 0.868207267485559, 'geqo_threshold': 2141203680, 'join_collapse_limit': 798661280, 'maintenance_work_mem': 1964871833, 'max_connections': 1935, 'max_wal_senders': 15, 'shared_buffers': 3826214, 'temp_buffers': 712585250, 'temp_file_limit': 1905813911, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 4969, 'vacuum_cost_page_dirty': 5771, 'vacuum_cost_page_hit': 5280, 'vacuum_cost_page_miss': 1535, 'wal_buffers': 81252, 'wal_writer_delay': 4127, 'work_mem': 1956207989}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 18.054398335516453
Set autovacuum_analyze_threshold = 104523630
Set autovacuum_max_workers = 22
Set autovacuum_naptime = 1461821
Set autovacuum_vacuum_cost_delay = 91
Set autovacuum_vacuum_cost_limit = 6558
Set autovacuum_vacuum_scale_factor = 27.39966604858637
Set autovacuum_vacuum_threshold = 934083602
Set backend_flush_after = 198
Set bgwriter_delay = 5886
Set bgwriter_flush_after = 106
Set bgwriter_lru_maxpages = 744
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.22403083089739084
Set checkpoint_flush_after = 210
Set checkpoint_timeout = 1852
Set commit_delay = 46242
Set commit_siblings = 818
Set cursor_tuple_fraction = 0.6260237609967589
Set deadlock_timeout = 250136126
Set default_statistics_target = 8745
Set effective_cache_size = 2038009310
Set effective_io_concurrency = 942
Set from_collapse_limit = 2049722788
Set geqo_effort = 1
Set geqo_generations = 1645172983
Set geqo_pool_size = 86581396
Set geqo_seed = 0.868207267485559
Set geqo_threshold = 2141203680
Set join_collapse_limit = 798661280
Set maintenance_work_mem = 1964871833
Set max_connections = 1935
Set max_wal_senders = 15
Set shared_buffers = 3826214
Set temp_buffers = 712585250
Set temp_file_limit = 1905813911
Set vacuum_cost_delay = 88
Set vacuum_cost_limit = 4969
Set vacuum_cost_page_dirty = 5771
Set vacuum_cost_page_hit = 5280
Set vacuum_cost_page_miss = 1535
Set wal_buffers = 81252
Set wal_writer_delay = 4127
Set work_mem = 1956207989
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-10-16.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-10-16.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-10-16.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763744954.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-10-16.results.UpdatePage.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-10-16.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-10-16.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-10-16.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-10-16.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-10-16.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-10-16.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-10-16.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-10-16.results.csv
Parsed throughput from summary.json: 2286.8353353859047
BenchBase wikipedia throughput: 2286.8353353859047
Configuration: {'autovacuum_analyze_scale_factor': 18.054398335516453, 'autovacuum_analyze_threshold': 104523630, 'autovacuum_max_workers': 22, 'autovacuum_naptime': 1461821, 'autovacuum_vacuum_cost_delay': 91, 'autovacuum_vacuum_cost_limit': 6558, 'autovacuum_vacuum_scale_factor': 27.39966604858637, 'autovacuum_vacuum_threshold': 934083602, 'backend_flush_after': 198, 'bgwriter_delay': 5886, 'bgwriter_flush_after': 106, 'bgwriter_lru_maxpages': 744, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.22403083089739084, 'checkpoint_flush_after': 210, 'checkpoint_timeout': 1852, 'commit_delay': 46242, 'commit_siblings': 818, 'cursor_tuple_fraction': 0.6260237609967589, 'deadlock_timeout': 250136126, 'default_statistics_target': 8745, 'effective_cache_size': 2038009310, 'effective_io_concurrency': 942, 'from_collapse_limit': 2049722788, 'geqo_effort': 1, 'geqo_generations': 1645172983, 'geqo_pool_size': 86581396, 'geqo_seed': 0.868207267485559, 'geqo_threshold': 2141203680, 'join_collapse_limit': 798661280, 'maintenance_work_mem': 1964871833, 'max_connections': 1935, 'max_wal_senders': 15, 'shared_buffers': 3826214, 'temp_buffers': 712585250, 'temp_file_limit': 1905813911, 'vacuum_cost_delay': 88, 'vacuum_cost_limit': 4969, 'vacuum_cost_page_dirty': 5771, 'vacuum_cost_page_hit': 5280, 'vacuum_cost_page_miss': 1535, 'wal_buffers': 81252, 'wal_writer_delay': 4127, 'work_mem': 1956207989}, QPS: -2286.8353353859047
Performance (QPS): -2286.8353353859047
Evaluating configuration: {'autovacuum_analyze_scale_factor': 24.392467457801104, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 163, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 26329702, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 855200746, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 410094950, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 1044371522, 'temp_file_limit': 761908879, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 2936, 'work_mem': 2036127693}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 24.392467457801104
Set autovacuum_analyze_threshold = 1969911119
Set autovacuum_max_workers = 163
Set autovacuum_naptime = 1880690
Set autovacuum_vacuum_cost_delay = 38
Set autovacuum_vacuum_cost_limit = 5652
Set autovacuum_vacuum_scale_factor = 51.02565577253699
Set autovacuum_vacuum_threshold = 26329702
Set backend_flush_after = 140
Set bgwriter_delay = 862
Set bgwriter_flush_after = 127
Set bgwriter_lru_maxpages = 517
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.5030564842745662
Set checkpoint_flush_after = 7
Set checkpoint_timeout = 703
Set commit_delay = 54508
Set commit_siblings = 173
Set cursor_tuple_fraction = 0.9186503402888775
Set deadlock_timeout = 1689266024
Set default_statistics_target = 2922
Set effective_cache_size = 855200746
Set effective_io_concurrency = 270
Set from_collapse_limit = 1026139532
Set geqo_effort = 3
Set geqo_generations = 23614720
Set geqo_pool_size = 410094950
Set geqo_seed = 0.3290532799437642
Set geqo_threshold = 1116794408
Set join_collapse_limit = 1517115132
Set maintenance_work_mem = 97161105
Set max_connections = 1692
Set max_wal_senders = 25
Set shared_buffers = 2926931
Set temp_buffers = 1044371522
Set temp_file_limit = 761908879
Set vacuum_cost_delay = 67
Set vacuum_cost_limit = 7873
Set vacuum_cost_page_dirty = 1448
Set vacuum_cost_page_hit = 1912
Set vacuum_cost_page_miss = 8596
Set wal_buffers = 200
Set wal_writer_delay = 2936
Set work_mem = 2036127693
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-11-52.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-11-52.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-11-52.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-11-52.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-11-52.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-11-52.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-11-52.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-11-52.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763745048.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-11-52.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-11-52.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-11-52.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-11-52.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 2285.0860979711783
BenchBase wikipedia throughput: 2285.0860979711783
Configuration: {'autovacuum_analyze_scale_factor': 24.392467457801104, 'autovacuum_analyze_threshold': 1969911119, 'autovacuum_max_workers': 163, 'autovacuum_naptime': 1880690, 'autovacuum_vacuum_cost_delay': 38, 'autovacuum_vacuum_cost_limit': 5652, 'autovacuum_vacuum_scale_factor': 51.02565577253699, 'autovacuum_vacuum_threshold': 26329702, 'backend_flush_after': 140, 'bgwriter_delay': 862, 'bgwriter_flush_after': 127, 'bgwriter_lru_maxpages': 517, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.5030564842745662, 'checkpoint_flush_after': 7, 'checkpoint_timeout': 703, 'commit_delay': 54508, 'commit_siblings': 173, 'cursor_tuple_fraction': 0.9186503402888775, 'deadlock_timeout': 1689266024, 'default_statistics_target': 2922, 'effective_cache_size': 855200746, 'effective_io_concurrency': 270, 'from_collapse_limit': 1026139532, 'geqo_effort': 3, 'geqo_generations': 23614720, 'geqo_pool_size': 410094950, 'geqo_seed': 0.3290532799437642, 'geqo_threshold': 1116794408, 'join_collapse_limit': 1517115132, 'maintenance_work_mem': 97161105, 'max_connections': 1692, 'max_wal_senders': 25, 'shared_buffers': 2926931, 'temp_buffers': 1044371522, 'temp_file_limit': 761908879, 'vacuum_cost_delay': 67, 'vacuum_cost_limit': 7873, 'vacuum_cost_page_dirty': 1448, 'vacuum_cost_page_hit': 1912, 'vacuum_cost_page_miss': 8596, 'wal_buffers': 200, 'wal_writer_delay': 2936, 'work_mem': 2036127693}, QPS: -2285.0860979711783
Performance (QPS): -2285.0860979711783
Evaluating configuration: {'autovacuum_analyze_scale_factor': 74.28701287135482, 'autovacuum_analyze_threshold': 605687454, 'autovacuum_max_workers': 2, 'autovacuum_naptime': 682924, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 3565, 'autovacuum_vacuum_scale_factor': 18.52565510198474, 'autovacuum_vacuum_threshold': 1495114183, 'backend_flush_after': 127, 'bgwriter_delay': 6825, 'bgwriter_flush_after': 140, 'bgwriter_lru_maxpages': 127, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.15877843368798494, 'checkpoint_flush_after': 146, 'checkpoint_timeout': 3061, 'commit_delay': 1521, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.29296087473630905, 'deadlock_timeout': 470822322, 'default_statistics_target': 6920, 'effective_cache_size': 1164927020, 'effective_io_concurrency': 930, 'from_collapse_limit': 1558094458, 'geqo_effort': 7, 'geqo_generations': 1962052467, 'geqo_pool_size': 1201255623, 'geqo_seed': 0.6775582823902369, 'geqo_threshold': 483242657, 'join_collapse_limit': 638279940, 'maintenance_work_mem': 1432029859, 'max_connections': 391, 'max_wal_senders': 26, 'shared_buffers': 2025707, 'temp_buffers': 6241207, 'temp_file_limit': 2019564345, 'vacuum_cost_delay': 17, 'vacuum_cost_limit': 356, 'vacuum_cost_page_dirty': 9371, 'vacuum_cost_page_hit': 6855, 'vacuum_cost_page_miss': 933, 'wal_buffers': 128069, 'wal_writer_delay': 6594, 'work_mem': 37785168}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 74.28701287135482
Set autovacuum_analyze_threshold = 605687454
Set autovacuum_max_workers = 2
Set autovacuum_naptime = 682924
Set autovacuum_vacuum_cost_delay = 77
Set autovacuum_vacuum_cost_limit = 3565
Set autovacuum_vacuum_scale_factor = 18.52565510198474
Set autovacuum_vacuum_threshold = 1495114183
Set backend_flush_after = 127
Set bgwriter_delay = 6825
Set bgwriter_flush_after = 140
Set bgwriter_lru_maxpages = 127
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.15877843368798494
Set checkpoint_flush_after = 146
Set checkpoint_timeout = 3061
Set commit_delay = 1521
Set commit_siblings = 665
Set cursor_tuple_fraction = 0.29296087473630905
Set deadlock_timeout = 470822322
Set default_statistics_target = 6920
Set effective_cache_size = 1164927020
Set effective_io_concurrency = 930
Set from_collapse_limit = 1558094458
Set geqo_effort = 7
Set geqo_generations = 1962052467
Set geqo_pool_size = 1201255623
Set geqo_seed = 0.6775582823902369
Set geqo_threshold = 483242657
Set join_collapse_limit = 638279940
Set maintenance_work_mem = 1432029859
Set max_connections = 391
Set max_wal_senders = 26
Set shared_buffers = 2025707
Set temp_buffers = 6241207
Set temp_file_limit = 2019564345
Set vacuum_cost_delay = 17
Set vacuum_cost_limit = 356
Set vacuum_cost_page_dirty = 9371
Set vacuum_cost_page_hit = 6855
Set vacuum_cost_page_miss = 933
Set wal_buffers = 128069
Set wal_writer_delay = 6594
Set work_mem = 37785168
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763745143.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-13-26.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-13-26.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-13-26.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-13-26.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-13-26.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-13-26.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-13-26.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-13-26.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-13-26.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-13-26.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-13-26.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-13-26.raw.csv
Parsed throughput from summary.json: 2237.412498223974
BenchBase wikipedia throughput: 2237.412498223974
Configuration: {'autovacuum_analyze_scale_factor': 74.28701287135482, 'autovacuum_analyze_threshold': 605687454, 'autovacuum_max_workers': 2, 'autovacuum_naptime': 682924, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 3565, 'autovacuum_vacuum_scale_factor': 18.52565510198474, 'autovacuum_vacuum_threshold': 1495114183, 'backend_flush_after': 127, 'bgwriter_delay': 6825, 'bgwriter_flush_after': 140, 'bgwriter_lru_maxpages': 127, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.15877843368798494, 'checkpoint_flush_after': 146, 'checkpoint_timeout': 3061, 'commit_delay': 1521, 'commit_siblings': 665, 'cursor_tuple_fraction': 0.29296087473630905, 'deadlock_timeout': 470822322, 'default_statistics_target': 6920, 'effective_cache_size': 1164927020, 'effective_io_concurrency': 930, 'from_collapse_limit': 1558094458, 'geqo_effort': 7, 'geqo_generations': 1962052467, 'geqo_pool_size': 1201255623, 'geqo_seed': 0.6775582823902369, 'geqo_threshold': 483242657, 'join_collapse_limit': 638279940, 'maintenance_work_mem': 1432029859, 'max_connections': 391, 'max_wal_senders': 26, 'shared_buffers': 2025707, 'temp_buffers': 6241207, 'temp_file_limit': 2019564345, 'vacuum_cost_delay': 17, 'vacuum_cost_limit': 356, 'vacuum_cost_page_dirty': 9371, 'vacuum_cost_page_hit': 6855, 'vacuum_cost_page_miss': 933, 'wal_buffers': 128069, 'wal_writer_delay': 6594, 'work_mem': 37785168}, QPS: -2237.412498223974
Performance (QPS): -2237.412498223974
Evaluating configuration: {'autovacuum_analyze_scale_factor': 91.7959289625287, 'autovacuum_analyze_threshold': 1315354911, 'autovacuum_max_workers': 132, 'autovacuum_naptime': 1519837, 'autovacuum_vacuum_cost_delay': 73, 'autovacuum_vacuum_cost_limit': 878, 'autovacuum_vacuum_scale_factor': 98.41327322646976, 'autovacuum_vacuum_threshold': 1668934753, 'backend_flush_after': 42, 'bgwriter_delay': 9368, 'bgwriter_flush_after': 234, 'bgwriter_lru_maxpages': 308, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.7722707288339734, 'checkpoint_flush_after': 232, 'checkpoint_timeout': 1703, 'commit_delay': 30629, 'commit_siblings': 422, 'cursor_tuple_fraction': 0.1184236528351903, 'deadlock_timeout': 1539305562, 'default_statistics_target': 2356, 'effective_cache_size': 1882678362, 'effective_io_concurrency': 46, 'from_collapse_limit': 331254388, 'geqo_effort': 2, 'geqo_generations': 1572585625, 'geqo_pool_size': 970783714, 'geqo_seed': 0.7606275612488389, 'geqo_threshold': 1958083006, 'join_collapse_limit': 377256580, 'maintenance_work_mem': 701621677, 'max_connections': 2977, 'max_wal_senders': 8, 'shared_buffers': 966498, 'temp_buffers': 409274676, 'temp_file_limit': 1149568667, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 5239, 'vacuum_cost_page_dirty': 4074, 'vacuum_cost_page_hit': 4591, 'vacuum_cost_page_miss': 7102, 'wal_buffers': 89038, 'wal_writer_delay': 666, 'work_mem': 1375375259}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 91.7959289625287
Set autovacuum_analyze_threshold = 1315354911
Set autovacuum_max_workers = 132
Set autovacuum_naptime = 1519837
Set autovacuum_vacuum_cost_delay = 73
Set autovacuum_vacuum_cost_limit = 878
Set autovacuum_vacuum_scale_factor = 98.41327322646976
Set autovacuum_vacuum_threshold = 1668934753
Set backend_flush_after = 42
Set bgwriter_delay = 9368
Set bgwriter_flush_after = 234
Set bgwriter_lru_maxpages = 308
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.7722707288339734
Set checkpoint_flush_after = 232
Set checkpoint_timeout = 1703
Set commit_delay = 30629
Set commit_siblings = 422
Set cursor_tuple_fraction = 0.1184236528351903
Set deadlock_timeout = 1539305562
Set default_statistics_target = 2356
Set effective_cache_size = 1882678362
Set effective_io_concurrency = 46
Set from_collapse_limit = 331254388
Set geqo_effort = 2
Set geqo_generations = 1572585625
Set geqo_pool_size = 970783714
Set geqo_seed = 0.7606275612488389
Set geqo_threshold = 1958083006
Set join_collapse_limit = 377256580
Set maintenance_work_mem = 701621677
Set max_connections = 2977
Set max_wal_senders = 8
Set shared_buffers = 966498
Set temp_buffers = 409274676
Set temp_file_limit = 1149568667
Set vacuum_cost_delay = 99
Set vacuum_cost_limit = 5239
Set vacuum_cost_page_dirty = 4074
Set vacuum_cost_page_hit = 4591
Set vacuum_cost_page_miss = 7102
Set wal_buffers = 89038
Set wal_writer_delay = 666
Set work_mem = 1375375259
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763745238.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-15-00.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-15-00.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-15-00.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-15-00.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-15-00.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-15-00.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-15-00.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-15-00.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-15-00.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-15-00.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-15-00.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-15-00.config.xml
Parsed throughput from summary.json: 2225.045791880393
BenchBase wikipedia throughput: 2225.045791880393
Configuration: {'autovacuum_analyze_scale_factor': 91.7959289625287, 'autovacuum_analyze_threshold': 1315354911, 'autovacuum_max_workers': 132, 'autovacuum_naptime': 1519837, 'autovacuum_vacuum_cost_delay': 73, 'autovacuum_vacuum_cost_limit': 878, 'autovacuum_vacuum_scale_factor': 98.41327322646976, 'autovacuum_vacuum_threshold': 1668934753, 'backend_flush_after': 42, 'bgwriter_delay': 9368, 'bgwriter_flush_after': 234, 'bgwriter_lru_maxpages': 308, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.7722707288339734, 'checkpoint_flush_after': 232, 'checkpoint_timeout': 1703, 'commit_delay': 30629, 'commit_siblings': 422, 'cursor_tuple_fraction': 0.1184236528351903, 'deadlock_timeout': 1539305562, 'default_statistics_target': 2356, 'effective_cache_size': 1882678362, 'effective_io_concurrency': 46, 'from_collapse_limit': 331254388, 'geqo_effort': 2, 'geqo_generations': 1572585625, 'geqo_pool_size': 970783714, 'geqo_seed': 0.7606275612488389, 'geqo_threshold': 1958083006, 'join_collapse_limit': 377256580, 'maintenance_work_mem': 701621677, 'max_connections': 2977, 'max_wal_senders': 8, 'shared_buffers': 966498, 'temp_buffers': 409274676, 'temp_file_limit': 1149568667, 'vacuum_cost_delay': 99, 'vacuum_cost_limit': 5239, 'vacuum_cost_page_dirty': 4074, 'vacuum_cost_page_hit': 4591, 'vacuum_cost_page_miss': 7102, 'wal_buffers': 89038, 'wal_writer_delay': 666, 'work_mem': 1375375259}, QPS: -2225.045791880393
Performance (QPS): -2225.045791880393
Evaluating configuration: {'autovacuum_analyze_scale_factor': 41.65347293019295, 'autovacuum_analyze_threshold': 521585390, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 37439, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 8652, 'autovacuum_vacuum_scale_factor': 33.686508145183325, 'autovacuum_vacuum_threshold': 1005948876, 'backend_flush_after': 223, 'bgwriter_delay': 3316, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 915, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.4291755883023143, 'checkpoint_flush_after': 114, 'checkpoint_timeout': 2053, 'commit_delay': 77354, 'commit_siblings': 916, 'cursor_tuple_fraction': 0.7480900222435594, 'deadlock_timeout': 589298304, 'default_statistics_target': 7799, 'effective_cache_size': 128014236, 'effective_io_concurrency': 638, 'from_collapse_limit': 1917422978, 'geqo_effort': 10, 'geqo_generations': 673259246, 'geqo_pool_size': 1714733643, 'geqo_seed': 0.23414401523768902, 'geqo_threshold': 719889719, 'join_collapse_limit': 1780108668, 'maintenance_work_mem': 2034262183, 'max_connections': 1318, 'max_wal_senders': 42, 'shared_buffers': 3997434, 'temp_buffers': 637922315, 'temp_file_limit': 294441781, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 2755, 'vacuum_cost_page_dirty': 6357, 'vacuum_cost_page_hit': 9142, 'vacuum_cost_page_miss': 4931, 'wal_buffers': 44867, 'wal_writer_delay': 9488, 'work_mem': 719771270}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 41.65347293019295
Set autovacuum_analyze_threshold = 521585390
Set autovacuum_max_workers = 83
Set autovacuum_naptime = 37439
Set autovacuum_vacuum_cost_delay = 10
Set autovacuum_vacuum_cost_limit = 8652
Set autovacuum_vacuum_scale_factor = 33.686508145183325
Set autovacuum_vacuum_threshold = 1005948876
Set backend_flush_after = 223
Set bgwriter_delay = 3316
Set bgwriter_flush_after = 26
Set bgwriter_lru_maxpages = 915
Set bgwriter_lru_multiplier = 5
Set checkpoint_completion_target = 0.4291755883023143
Set checkpoint_flush_after = 114
Set checkpoint_timeout = 2053
Set commit_delay = 77354
Set commit_siblings = 916
Set cursor_tuple_fraction = 0.7480900222435594
Set deadlock_timeout = 589298304
Set default_statistics_target = 7799
Set effective_cache_size = 128014236
Set effective_io_concurrency = 638
Set from_collapse_limit = 1917422978
Set geqo_effort = 10
Set geqo_generations = 673259246
Set geqo_pool_size = 1714733643
Set geqo_seed = 0.23414401523768902
Set geqo_threshold = 719889719
Set join_collapse_limit = 1780108668
Set maintenance_work_mem = 2034262183
Set max_connections = 1318
Set max_wal_senders = 42
Set shared_buffers = 3997434
Set temp_buffers = 637922315
Set temp_file_limit = 294441781
Set vacuum_cost_delay = 48
Set vacuum_cost_limit = 2755
Set vacuum_cost_page_dirty = 6357
Set vacuum_cost_page_hit = 9142
Set vacuum_cost_page_miss = 4931
Set wal_buffers = 44867
Set wal_writer_delay = 9488
Set work_mem = 719771270
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
Start failed, removing auto.conf and retrying...
Removed postgresql.auto.conf file (if it existed).
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-16-34.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-16-34.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-16-34.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-16-34.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-16-34.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-16-34.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-16-34.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-16-34.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763745332.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-16-34.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-16-34.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-16-34.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-16-34.metrics.json
Parsed throughput from summary.json: 1891.805939314107
BenchBase wikipedia throughput: 1891.805939314107
Configuration: {'autovacuum_analyze_scale_factor': 41.65347293019295, 'autovacuum_analyze_threshold': 521585390, 'autovacuum_max_workers': 83, 'autovacuum_naptime': 37439, 'autovacuum_vacuum_cost_delay': 10, 'autovacuum_vacuum_cost_limit': 8652, 'autovacuum_vacuum_scale_factor': 33.686508145183325, 'autovacuum_vacuum_threshold': 1005948876, 'backend_flush_after': 223, 'bgwriter_delay': 3316, 'bgwriter_flush_after': 26, 'bgwriter_lru_maxpages': 915, 'bgwriter_lru_multiplier': 5, 'checkpoint_completion_target': 0.4291755883023143, 'checkpoint_flush_after': 114, 'checkpoint_timeout': 2053, 'commit_delay': 77354, 'commit_siblings': 916, 'cursor_tuple_fraction': 0.7480900222435594, 'deadlock_timeout': 589298304, 'default_statistics_target': 7799, 'effective_cache_size': 128014236, 'effective_io_concurrency': 638, 'from_collapse_limit': 1917422978, 'geqo_effort': 10, 'geqo_generations': 673259246, 'geqo_pool_size': 1714733643, 'geqo_seed': 0.23414401523768902, 'geqo_threshold': 719889719, 'join_collapse_limit': 1780108668, 'maintenance_work_mem': 2034262183, 'max_connections': 1318, 'max_wal_senders': 42, 'shared_buffers': 3997434, 'temp_buffers': 637922315, 'temp_file_limit': 294441781, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 2755, 'vacuum_cost_page_dirty': 6357, 'vacuum_cost_page_hit': 9142, 'vacuum_cost_page_miss': 4931, 'wal_buffers': 44867, 'wal_writer_delay': 9488, 'work_mem': 719771270}, QPS: -1891.805939314107
Performance (QPS): -1891.805939314107
Evaluating configuration: {'autovacuum_analyze_scale_factor': 32.62144364416599, 'autovacuum_analyze_threshold': 1481784671, 'autovacuum_max_workers': 31, 'autovacuum_naptime': 410416, 'autovacuum_vacuum_cost_delay': 14, 'autovacuum_vacuum_cost_limit': 7083, 'autovacuum_vacuum_scale_factor': 78.04583366960287, 'autovacuum_vacuum_threshold': 2143323767, 'backend_flush_after': 2, 'bgwriter_delay': 5345, 'bgwriter_flush_after': 223, 'bgwriter_lru_maxpages': 753, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.047244736924767494, 'checkpoint_flush_after': 90, 'checkpoint_timeout': 2516, 'commit_delay': 92443, 'commit_siblings': 810, 'cursor_tuple_fraction': 0.23637110088020563, 'deadlock_timeout': 2114816204, 'default_statistics_target': 4686, 'effective_cache_size': 767965554, 'effective_io_concurrency': 149, 'from_collapse_limit': 1667213578, 'geqo_effort': 9, 'geqo_generations': 1135457439, 'geqo_pool_size': 679058080, 'geqo_seed': 0.5593483727425337, 'geqo_threshold': 1595433470, 'join_collapse_limit': 1105817264, 'maintenance_work_mem': 893986599, 'max_connections': 2208, 'max_wal_senders': 49, 'shared_buffers': 379946, 'temp_buffers': 139234968, 'temp_file_limit': 1730088285, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4055, 'vacuum_cost_page_dirty': 2684, 'vacuum_cost_page_hit': 8259, 'vacuum_cost_page_miss': 3695, 'wal_buffers': 112297, 'wal_writer_delay': 4916, 'work_mem': 1024316809}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
(1 row)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 32.62144364416599
Set autovacuum_analyze_threshold = 1481784671
Set autovacuum_max_workers = 31
Set autovacuum_naptime = 410416
Set autovacuum_vacuum_cost_delay = 14
Set autovacuum_vacuum_cost_limit = 7083
Set autovacuum_vacuum_scale_factor = 78.04583366960287
Set autovacuum_vacuum_threshold = 2143323767
Set backend_flush_after = 2
Set bgwriter_delay = 5345
Set bgwriter_flush_after = 223
Set bgwriter_lru_maxpages = 753
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.047244736924767494
Set checkpoint_flush_after = 90
Set checkpoint_timeout = 2516
Set commit_delay = 92443
Set commit_siblings = 810
Set cursor_tuple_fraction = 0.23637110088020563
Set deadlock_timeout = 2114816204
Set default_statistics_target = 4686
Set effective_cache_size = 767965554
Set effective_io_concurrency = 149
Set from_collapse_limit = 1667213578
Set geqo_effort = 9
Set geqo_generations = 1135457439
Set geqo_pool_size = 679058080
Set geqo_seed = 0.5593483727425337
Set geqo_threshold = 1595433470
Set join_collapse_limit = 1105817264
Set maintenance_work_mem = 893986599
Set max_connections = 2208
Set max_wal_senders = 49
Set shared_buffers = 379946
Set temp_buffers = 139234968
Set temp_file_limit = 1730088285
Set vacuum_cost_delay = 1
Set vacuum_cost_limit = 4055
Set vacuum_cost_page_dirty = 2684
Set vacuum_cost_page_hit = 8259
Set vacuum_cost_page_miss = 3695
Set wal_buffers = 112297
Set wal_writer_delay = 4916
Set work_mem = 1024316809
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-18-06.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-18-06.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-18-06.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-18-06.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-18-06.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-18-06.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-18-06.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-18-06.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-18-06.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-18-06.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-18-06.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763745423.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-18-06.raw.csv
Parsed throughput from summary.json: 1912.09387193035
BenchBase wikipedia throughput: 1912.09387193035
Configuration: {'autovacuum_analyze_scale_factor': 32.62144364416599, 'autovacuum_analyze_threshold': 1481784671, 'autovacuum_max_workers': 31, 'autovacuum_naptime': 410416, 'autovacuum_vacuum_cost_delay': 14, 'autovacuum_vacuum_cost_limit': 7083, 'autovacuum_vacuum_scale_factor': 78.04583366960287, 'autovacuum_vacuum_threshold': 2143323767, 'backend_flush_after': 2, 'bgwriter_delay': 5345, 'bgwriter_flush_after': 223, 'bgwriter_lru_maxpages': 753, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.047244736924767494, 'checkpoint_flush_after': 90, 'checkpoint_timeout': 2516, 'commit_delay': 92443, 'commit_siblings': 810, 'cursor_tuple_fraction': 0.23637110088020563, 'deadlock_timeout': 2114816204, 'default_statistics_target': 4686, 'effective_cache_size': 767965554, 'effective_io_concurrency': 149, 'from_collapse_limit': 1667213578, 'geqo_effort': 9, 'geqo_generations': 1135457439, 'geqo_pool_size': 679058080, 'geqo_seed': 0.5593483727425337, 'geqo_threshold': 1595433470, 'join_collapse_limit': 1105817264, 'maintenance_work_mem': 893986599, 'max_connections': 2208, 'max_wal_senders': 49, 'shared_buffers': 379946, 'temp_buffers': 139234968, 'temp_file_limit': 1730088285, 'vacuum_cost_delay': 1, 'vacuum_cost_limit': 4055, 'vacuum_cost_page_dirty': 2684, 'vacuum_cost_page_hit': 8259, 'vacuum_cost_page_miss': 3695, 'wal_buffers': 112297, 'wal_writer_delay': 4916, 'work_mem': 1024316809}, QPS: -1912.09387193035
Performance (QPS): -1912.09387193035
Evaluating configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 82.76318591088057
Set autovacuum_analyze_threshold = 153241262
Set autovacuum_max_workers = 182
Set autovacuum_naptime = 1088155
Set autovacuum_vacuum_cost_delay = 50
Set autovacuum_vacuum_cost_limit = 4947
Set autovacuum_vacuum_scale_factor = 41.407461650669575
Set autovacuum_vacuum_threshold = 659350998
Set backend_flush_after = 247
Set bgwriter_delay = 2029
Set bgwriter_flush_after = 46
Set bgwriter_lru_maxpages = 392
Set bgwriter_lru_multiplier = 7
Set checkpoint_completion_target = 0.6424217484891415
Set checkpoint_flush_after = 207
Set checkpoint_timeout = 1302
Set commit_delay = 39368
Set commit_siblings = 286
Set cursor_tuple_fraction = 0.6145173208788037
Set deadlock_timeout = 112034326
Set default_statistics_target = 5473
Set effective_cache_size = 1515195060
Set effective_io_concurrency = 557
Set from_collapse_limit = 44609276
Set geqo_effort = 2
Set geqo_generations = 909601492
Set geqo_pool_size = 2006033165
Set geqo_seed = 0.46279645804315805
Set geqo_threshold = 21314935
Set join_collapse_limit = 1032804680
Set maintenance_work_mem = 1708697389
Set max_connections = 518
Set max_wal_senders = 2
Set shared_buffers = 3640755
Set temp_buffers = 908881252
Set temp_file_limit = 840358131
Set vacuum_cost_delay = 52
Set vacuum_cost_limit = 6538
Set vacuum_cost_page_dirty = 5557
Set vacuum_cost_page_hit = 3003
Set vacuum_cost_page_miss = 5839
Set wal_buffers = 16932
Set wal_writer_delay = 6181
Set work_mem = 1175555276
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-19-40.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-19-40.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-19-40.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763745517.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-19-40.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-19-40.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-19-40.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-19-40.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-19-40.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-19-40.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-19-40.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-19-40.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-19-40.config.xml
Parsed throughput from summary.json: 1991.1857488573173
BenchBase wikipedia throughput: 1991.1857488573173
Configuration: {'autovacuum_analyze_scale_factor': 82.76318591088057, 'autovacuum_analyze_threshold': 153241262, 'autovacuum_max_workers': 182, 'autovacuum_naptime': 1088155, 'autovacuum_vacuum_cost_delay': 50, 'autovacuum_vacuum_cost_limit': 4947, 'autovacuum_vacuum_scale_factor': 41.407461650669575, 'autovacuum_vacuum_threshold': 659350998, 'backend_flush_after': 247, 'bgwriter_delay': 2029, 'bgwriter_flush_after': 46, 'bgwriter_lru_maxpages': 392, 'bgwriter_lru_multiplier': 7, 'checkpoint_completion_target': 0.6424217484891415, 'checkpoint_flush_after': 207, 'checkpoint_timeout': 1302, 'commit_delay': 39368, 'commit_siblings': 286, 'cursor_tuple_fraction': 0.6145173208788037, 'deadlock_timeout': 112034326, 'default_statistics_target': 5473, 'effective_cache_size': 1515195060, 'effective_io_concurrency': 557, 'from_collapse_limit': 44609276, 'geqo_effort': 2, 'geqo_generations': 909601492, 'geqo_pool_size': 2006033165, 'geqo_seed': 0.46279645804315805, 'geqo_threshold': 21314935, 'join_collapse_limit': 1032804680, 'maintenance_work_mem': 1708697389, 'max_connections': 518, 'max_wal_senders': 2, 'shared_buffers': 3640755, 'temp_buffers': 908881252, 'temp_file_limit': 840358131, 'vacuum_cost_delay': 52, 'vacuum_cost_limit': 6538, 'vacuum_cost_page_dirty': 5557, 'vacuum_cost_page_hit': 3003, 'vacuum_cost_page_miss': 5839, 'wal_buffers': 16932, 'wal_writer_delay': 6181, 'work_mem': 1175555276}, QPS: -1991.1857488573173
Performance (QPS): -1991.1857488573173
Evaluating configuration: {'autovacuum_analyze_scale_factor': 52.75337500497699, 'autovacuum_analyze_threshold': 1667166479, 'autovacuum_max_workers': 62, 'autovacuum_naptime': 855221, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 2007, 'autovacuum_vacuum_scale_factor': 74.457055516541, 'autovacuum_vacuum_threshold': 489203836, 'backend_flush_after': 164, 'bgwriter_delay': 4485, 'bgwriter_flush_after': 72, 'bgwriter_lru_maxpages': 39, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.2866819314658642, 'checkpoint_flush_after': 187, 'checkpoint_timeout': 3523, 'commit_delay': 16120, 'commit_siblings': 560, 'cursor_tuple_fraction': 0.7890544533729553, 'deadlock_timeout': 1090674686, 'default_statistics_target': 58, 'effective_cache_size': 1862799042, 'effective_io_concurrency': 408, 'from_collapse_limit': 1304987378, 'geqo_effort': 6, 'geqo_generations': 528359738, 'geqo_pool_size': 164949028, 'geqo_seed': 0.1004312876611948, 'geqo_threshold': 1765635688, 'join_collapse_limit': 234373832, 'maintenance_work_mem': 424825123, 'max_connections': 2364, 'max_wal_senders': 32, 'shared_buffers': 2611726, 'temp_buffers': 773218065, 'temp_file_limit': 250856785, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 1576, 'vacuum_cost_page_dirty': 387, 'vacuum_cost_page_hit': 5863, 'vacuum_cost_page_miss': 2159, 'wal_buffers': 60847, 'wal_writer_delay': 1561, 'work_mem': 363564379}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 52.75337500497699
Set autovacuum_analyze_threshold = 1667166479
Set autovacuum_max_workers = 62
Set autovacuum_naptime = 855221
Set autovacuum_vacuum_cost_delay = 100
Set autovacuum_vacuum_cost_limit = 2007
Set autovacuum_vacuum_scale_factor = 74.457055516541
Set autovacuum_vacuum_threshold = 489203836
Set backend_flush_after = 164
Set bgwriter_delay = 4485
Set bgwriter_flush_after = 72
Set bgwriter_lru_maxpages = 39
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.2866819314658642
Set checkpoint_flush_after = 187
Set checkpoint_timeout = 3523
Set commit_delay = 16120
Set commit_siblings = 560
Set cursor_tuple_fraction = 0.7890544533729553
Set deadlock_timeout = 1090674686
Set default_statistics_target = 58
Set effective_cache_size = 1862799042
Set effective_io_concurrency = 408
Set from_collapse_limit = 1304987378
Set geqo_effort = 6
Set geqo_generations = 528359738
Set geqo_pool_size = 164949028
Set geqo_seed = 0.1004312876611948
Set geqo_threshold = 1765635688
Set join_collapse_limit = 234373832
Set maintenance_work_mem = 424825123
Set max_connections = 2364
Set max_wal_senders = 32
Set shared_buffers = 2611726
Set temp_buffers = 773218065
Set temp_file_limit = 250856785
Set vacuum_cost_delay = 32
Set vacuum_cost_limit = 1576
Set vacuum_cost_page_dirty = 387
Set vacuum_cost_page_hit = 5863
Set vacuum_cost_page_miss = 2159
Set wal_buffers = 60847
Set wal_writer_delay = 1561
Set work_mem = 363564379
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-21-15.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-21-15.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-21-15.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-21-15.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763745612.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-21-15.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-21-15.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-21-15.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-21-15.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-21-15.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-21-15.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-21-15.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-21-15.params.json
Parsed throughput from summary.json: 2011.345673142449
BenchBase wikipedia throughput: 2011.345673142449
Configuration: {'autovacuum_analyze_scale_factor': 52.75337500497699, 'autovacuum_analyze_threshold': 1667166479, 'autovacuum_max_workers': 62, 'autovacuum_naptime': 855221, 'autovacuum_vacuum_cost_delay': 100, 'autovacuum_vacuum_cost_limit': 2007, 'autovacuum_vacuum_scale_factor': 74.457055516541, 'autovacuum_vacuum_threshold': 489203836, 'backend_flush_after': 164, 'bgwriter_delay': 4485, 'bgwriter_flush_after': 72, 'bgwriter_lru_maxpages': 39, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.2866819314658642, 'checkpoint_flush_after': 187, 'checkpoint_timeout': 3523, 'commit_delay': 16120, 'commit_siblings': 560, 'cursor_tuple_fraction': 0.7890544533729553, 'deadlock_timeout': 1090674686, 'default_statistics_target': 58, 'effective_cache_size': 1862799042, 'effective_io_concurrency': 408, 'from_collapse_limit': 1304987378, 'geqo_effort': 6, 'geqo_generations': 528359738, 'geqo_pool_size': 164949028, 'geqo_seed': 0.1004312876611948, 'geqo_threshold': 1765635688, 'join_collapse_limit': 234373832, 'maintenance_work_mem': 424825123, 'max_connections': 2364, 'max_wal_senders': 32, 'shared_buffers': 2611726, 'temp_buffers': 773218065, 'temp_file_limit': 250856785, 'vacuum_cost_delay': 32, 'vacuum_cost_limit': 1576, 'vacuum_cost_page_dirty': 387, 'vacuum_cost_page_hit': 5863, 'vacuum_cost_page_miss': 2159, 'wal_buffers': 60847, 'wal_writer_delay': 1561, 'work_mem': 363564379}, QPS: -2011.345673142449
Performance (QPS): -2011.345673142449
Evaluating configuration: {'autovacuum_analyze_scale_factor': 2.858112845569849, 'autovacuum_analyze_threshold': 841911006, 'autovacuum_max_workers': 101, 'autovacuum_naptime': 1783905, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 9712, 'autovacuum_vacuum_scale_factor': 7.545425556600094, 'autovacuum_vacuum_threshold': 1168427985, 'backend_flush_after': 87, 'bgwriter_delay': 7887, 'bgwriter_flush_after': 188, 'bgwriter_lru_maxpages': 683, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8791203442960978, 'checkpoint_flush_after': 47, 'checkpoint_timeout': 301, 'commit_delay': 62957, 'commit_siblings': 35, 'cursor_tuple_fraction': 0.4069315083324909, 'deadlock_timeout': 966939940, 'default_statistics_target': 9790, 'effective_cache_size': 413023492, 'effective_io_concurrency': 752, 'from_collapse_limit': 742359300, 'geqo_effort': 5, 'geqo_generations': 1793392461, 'geqo_pool_size': 1446827401, 'geqo_seed': 0.8788679363206029, 'geqo_threshold': 929049313, 'join_collapse_limit': 1906210096, 'maintenance_work_mem': 1237569809, 'max_connections': 1100, 'max_wal_senders': 18, 'shared_buffers': 1416118, 'temp_buffers': 276217388, 'temp_file_limit': 1543114999, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 9093, 'vacuum_cost_page_dirty': 7622, 'vacuum_cost_page_hit': 374, 'vacuum_cost_page_miss': 9869, 'wal_buffers': 71970, 'wal_writer_delay': 7661, 'work_mem': 1857541382}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 2.858112845569849
Set autovacuum_analyze_threshold = 841911006
Set autovacuum_max_workers = 101
Set autovacuum_naptime = 1783905
Set autovacuum_vacuum_cost_delay = 34
Set autovacuum_vacuum_cost_limit = 9712
Set autovacuum_vacuum_scale_factor = 7.545425556600094
Set autovacuum_vacuum_threshold = 1168427985
Set backend_flush_after = 87
Set bgwriter_delay = 7887
Set bgwriter_flush_after = 188
Set bgwriter_lru_maxpages = 683
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.8791203442960978
Set checkpoint_flush_after = 47
Set checkpoint_timeout = 301
Set commit_delay = 62957
Set commit_siblings = 35
Set cursor_tuple_fraction = 0.4069315083324909
Set deadlock_timeout = 966939940
Set default_statistics_target = 9790
Set effective_cache_size = 413023492
Set effective_io_concurrency = 752
Set from_collapse_limit = 742359300
Set geqo_effort = 5
Set geqo_generations = 1793392461
Set geqo_pool_size = 1446827401
Set geqo_seed = 0.8788679363206029
Set geqo_threshold = 929049313
Set join_collapse_limit = 1906210096
Set maintenance_work_mem = 1237569809
Set max_connections = 1100
Set max_wal_senders = 18
Set shared_buffers = 1416118
Set temp_buffers = 276217388
Set temp_file_limit = 1543114999
Set vacuum_cost_delay = 83
Set vacuum_cost_limit = 9093
Set vacuum_cost_page_dirty = 7622
Set vacuum_cost_page_hit = 374
Set vacuum_cost_page_miss = 9869
Set wal_buffers = 71970
Set wal_writer_delay = 7661
Set work_mem = 1857541382
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-23-15.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-23-15.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-23-15.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-23-15.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-23-15.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-23-15.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-23-15.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-23-15.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-23-15.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-23-15.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763745706.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-23-15.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-23-15.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 1978.4987130904942
BenchBase wikipedia throughput: 1978.4987130904942
Configuration: {'autovacuum_analyze_scale_factor': 2.858112845569849, 'autovacuum_analyze_threshold': 841911006, 'autovacuum_max_workers': 101, 'autovacuum_naptime': 1783905, 'autovacuum_vacuum_cost_delay': 34, 'autovacuum_vacuum_cost_limit': 9712, 'autovacuum_vacuum_scale_factor': 7.545425556600094, 'autovacuum_vacuum_threshold': 1168427985, 'backend_flush_after': 87, 'bgwriter_delay': 7887, 'bgwriter_flush_after': 188, 'bgwriter_lru_maxpages': 683, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.8791203442960978, 'checkpoint_flush_after': 47, 'checkpoint_timeout': 301, 'commit_delay': 62957, 'commit_siblings': 35, 'cursor_tuple_fraction': 0.4069315083324909, 'deadlock_timeout': 966939940, 'default_statistics_target': 9790, 'effective_cache_size': 413023492, 'effective_io_concurrency': 752, 'from_collapse_limit': 742359300, 'geqo_effort': 5, 'geqo_generations': 1793392461, 'geqo_pool_size': 1446827401, 'geqo_seed': 0.8788679363206029, 'geqo_threshold': 929049313, 'join_collapse_limit': 1906210096, 'maintenance_work_mem': 1237569809, 'max_connections': 1100, 'max_wal_senders': 18, 'shared_buffers': 1416118, 'temp_buffers': 276217388, 'temp_file_limit': 1543114999, 'vacuum_cost_delay': 83, 'vacuum_cost_limit': 9093, 'vacuum_cost_page_dirty': 7622, 'vacuum_cost_page_hit': 374, 'vacuum_cost_page_miss': 9869, 'wal_buffers': 71970, 'wal_writer_delay': 7661, 'work_mem': 1857541382}, QPS: -1978.4987130904942
Performance (QPS): -1978.4987130904942
Evaluating configuration: {'autovacuum_analyze_scale_factor': 4.810939077287912, 'autovacuum_analyze_threshold': 1733022457, 'autovacuum_max_workers': 7, 'autovacuum_naptime': 170989, 'autovacuum_vacuum_cost_delay': 64, 'autovacuum_vacuum_cost_limit': 4519, 'autovacuum_vacuum_scale_factor': 45.70860341191292, 'autovacuum_vacuum_threshold': 446696662, 'backend_flush_after': 119, 'bgwriter_delay': 3829, 'bgwriter_flush_after': 177, 'bgwriter_lru_maxpages': 864, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.8707450851798058, 'checkpoint_flush_after': 157, 'checkpoint_timeout': 2396, 'commit_delay': 58635, 'commit_siblings': 399, 'cursor_tuple_fraction': 0.8470497215166688, 'deadlock_timeout': 1451326618, 'default_statistics_target': 7189, 'effective_cache_size': 142041376, 'effective_io_concurrency': 791, 'from_collapse_limit': 96187758, 'geqo_effort': 8, 'geqo_generations': 332639024, 'geqo_pool_size': 1608470867, 'geqo_seed': 0.9223102023825049, 'geqo_threshold': 422742857, 'join_collapse_limit': 988249558, 'maintenance_work_mem': 207085937, 'max_connections': 293, 'max_wal_senders': 23, 'shared_buffers': 2707568, 'temp_buffers': 309878623, 'temp_file_limit': 2087156255, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 3336, 'vacuum_cost_page_dirty': 4876, 'vacuum_cost_page_hit': 3298, 'vacuum_cost_page_miss': 2587, 'wal_buffers': 48795, 'wal_writer_delay': 4458, 'work_mem': 511946888}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 4.810939077287912
Set autovacuum_analyze_threshold = 1733022457
Set autovacuum_max_workers = 7
Set autovacuum_naptime = 170989
Set autovacuum_vacuum_cost_delay = 64
Set autovacuum_vacuum_cost_limit = 4519
Set autovacuum_vacuum_scale_factor = 45.70860341191292
Set autovacuum_vacuum_threshold = 446696662
Set backend_flush_after = 119
Set bgwriter_delay = 3829
Set bgwriter_flush_after = 177
Set bgwriter_lru_maxpages = 864
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.8707450851798058
Set checkpoint_flush_after = 157
Set checkpoint_timeout = 2396
Set commit_delay = 58635
Set commit_siblings = 399
Set cursor_tuple_fraction = 0.8470497215166688
Set deadlock_timeout = 1451326618
Set default_statistics_target = 7189
Set effective_cache_size = 142041376
Set effective_io_concurrency = 791
Set from_collapse_limit = 96187758
Set geqo_effort = 8
Set geqo_generations = 332639024
Set geqo_pool_size = 1608470867
Set geqo_seed = 0.9223102023825049
Set geqo_threshold = 422742857
Set join_collapse_limit = 988249558
Set maintenance_work_mem = 207085937
Set max_connections = 293
Set max_wal_senders = 23
Set shared_buffers = 2707568
Set temp_buffers = 309878623
Set temp_file_limit = 2087156255
Set vacuum_cost_delay = 77
Set vacuum_cost_limit = 3336
Set vacuum_cost_page_dirty = 4876
Set vacuum_cost_page_hit = 3298
Set vacuum_cost_page_miss = 2587
Set wal_buffers = 48795
Set wal_writer_delay = 4458
Set work_mem = 511946888
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-24-51.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-24-51.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-24-51.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763745827.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-24-51.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-24-51.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-24-51.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-24-51.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-24-51.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-24-51.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-24-51.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-24-51.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-24-51.samples.csv
Parsed throughput from summary.json: 1845.0243117525613
BenchBase wikipedia throughput: 1845.0243117525613
Configuration: {'autovacuum_analyze_scale_factor': 4.810939077287912, 'autovacuum_analyze_threshold': 1733022457, 'autovacuum_max_workers': 7, 'autovacuum_naptime': 170989, 'autovacuum_vacuum_cost_delay': 64, 'autovacuum_vacuum_cost_limit': 4519, 'autovacuum_vacuum_scale_factor': 45.70860341191292, 'autovacuum_vacuum_threshold': 446696662, 'backend_flush_after': 119, 'bgwriter_delay': 3829, 'bgwriter_flush_after': 177, 'bgwriter_lru_maxpages': 864, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.8707450851798058, 'checkpoint_flush_after': 157, 'checkpoint_timeout': 2396, 'commit_delay': 58635, 'commit_siblings': 399, 'cursor_tuple_fraction': 0.8470497215166688, 'deadlock_timeout': 1451326618, 'default_statistics_target': 7189, 'effective_cache_size': 142041376, 'effective_io_concurrency': 791, 'from_collapse_limit': 96187758, 'geqo_effort': 8, 'geqo_generations': 332639024, 'geqo_pool_size': 1608470867, 'geqo_seed': 0.9223102023825049, 'geqo_threshold': 422742857, 'join_collapse_limit': 988249558, 'maintenance_work_mem': 207085937, 'max_connections': 293, 'max_wal_senders': 23, 'shared_buffers': 2707568, 'temp_buffers': 309878623, 'temp_file_limit': 2087156255, 'vacuum_cost_delay': 77, 'vacuum_cost_limit': 3336, 'vacuum_cost_page_dirty': 4876, 'vacuum_cost_page_hit': 3298, 'vacuum_cost_page_miss': 2587, 'wal_buffers': 48795, 'wal_writer_delay': 4458, 'work_mem': 511946888}, QPS: -1845.0243117525613
Performance (QPS): -1845.0243117525613
Evaluating configuration: {'autovacuum_analyze_scale_factor': 54.70811007544398, 'autovacuum_analyze_threshold': 909879604, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1385992, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 7199, 'autovacuum_vacuum_scale_factor': 84.69125293195248, 'autovacuum_vacuum_threshold': 1110208375, 'backend_flush_after': 130, 'bgwriter_delay': 8540, 'bgwriter_flush_after': 66, 'bgwriter_lru_maxpages': 469, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.4629648458212614, 'checkpoint_flush_after': 9, 'checkpoint_timeout': 932, 'commit_delay': 11895, 'commit_siblings': 876, 'cursor_tuple_fraction': 0.4728327365592122, 'deadlock_timeout': 773944896, 'default_statistics_target': 2653, 'effective_cache_size': 2145473254, 'effective_io_concurrency': 385, 'from_collapse_limit': 1682748056, 'geqo_effort': 3, 'geqo_generations': 1716090179, 'geqo_pool_size': 3631354, 'geqo_seed': 0.08331520110368729, 'geqo_threshold': 1198512064, 'join_collapse_limit': 1182878254, 'maintenance_work_mem': 1556504691, 'max_connections': 1606, 'max_wal_senders': 27, 'shared_buffers': 1774032, 'temp_buffers': 739818539, 'temp_file_limit': 695119753, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 5858, 'vacuum_cost_page_dirty': 7115, 'vacuum_cost_page_hit': 7965, 'vacuum_cost_page_miss': 5384, 'wal_buffers': 84502, 'wal_writer_delay': 5701, 'work_mem': 1704978829}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 54.70811007544398
Set autovacuum_analyze_threshold = 909879604
Set autovacuum_max_workers = 156
Set autovacuum_naptime = 1385992
Set autovacuum_vacuum_cost_delay = -1
Set autovacuum_vacuum_cost_limit = 7199
Set autovacuum_vacuum_scale_factor = 84.69125293195248
Set autovacuum_vacuum_threshold = 1110208375
Set backend_flush_after = 130
Set bgwriter_delay = 8540
Set bgwriter_flush_after = 66
Set bgwriter_lru_maxpages = 469
Set bgwriter_lru_multiplier = 6
Set checkpoint_completion_target = 0.4629648458212614
Set checkpoint_flush_after = 9
Set checkpoint_timeout = 932
Set commit_delay = 11895
Set commit_siblings = 876
Set cursor_tuple_fraction = 0.4728327365592122
Set deadlock_timeout = 773944896
Set default_statistics_target = 2653
Set effective_cache_size = 2145473254
Set effective_io_concurrency = 385
Set from_collapse_limit = 1682748056
Set geqo_effort = 3
Set geqo_generations = 1716090179
Set geqo_pool_size = 3631354
Set geqo_seed = 0.08331520110368729
Set geqo_threshold = 1198512064
Set join_collapse_limit = 1182878254
Set maintenance_work_mem = 1556504691
Set max_connections = 1606
Set max_wal_senders = 27
Set shared_buffers = 1774032
Set temp_buffers = 739818539
Set temp_file_limit = 695119753
Set vacuum_cost_delay = 26
Set vacuum_cost_limit = 5858
Set vacuum_cost_page_dirty = 7115
Set vacuum_cost_page_hit = 7965
Set vacuum_cost_page_miss = 5384
Set wal_buffers = 84502
Set wal_writer_delay = 5701
Set work_mem = 1704978829
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-26-26.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-26-26.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763745922.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-26-26.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-26-26.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-26-26.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-26-26.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-26-26.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-26-26.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-26-26.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-26-26.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-26-26.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-26-26.results.RemoveWatchList.csv
Parsed throughput from summary.json: 1963.620835940191
BenchBase wikipedia throughput: 1963.620835940191
Configuration: {'autovacuum_analyze_scale_factor': 54.70811007544398, 'autovacuum_analyze_threshold': 909879604, 'autovacuum_max_workers': 156, 'autovacuum_naptime': 1385992, 'autovacuum_vacuum_cost_delay': -1, 'autovacuum_vacuum_cost_limit': 7199, 'autovacuum_vacuum_scale_factor': 84.69125293195248, 'autovacuum_vacuum_threshold': 1110208375, 'backend_flush_after': 130, 'bgwriter_delay': 8540, 'bgwriter_flush_after': 66, 'bgwriter_lru_maxpages': 469, 'bgwriter_lru_multiplier': 6, 'checkpoint_completion_target': 0.4629648458212614, 'checkpoint_flush_after': 9, 'checkpoint_timeout': 932, 'commit_delay': 11895, 'commit_siblings': 876, 'cursor_tuple_fraction': 0.4728327365592122, 'deadlock_timeout': 773944896, 'default_statistics_target': 2653, 'effective_cache_size': 2145473254, 'effective_io_concurrency': 385, 'from_collapse_limit': 1682748056, 'geqo_effort': 3, 'geqo_generations': 1716090179, 'geqo_pool_size': 3631354, 'geqo_seed': 0.08331520110368729, 'geqo_threshold': 1198512064, 'join_collapse_limit': 1182878254, 'maintenance_work_mem': 1556504691, 'max_connections': 1606, 'max_wal_senders': 27, 'shared_buffers': 1774032, 'temp_buffers': 739818539, 'temp_file_limit': 695119753, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 5858, 'vacuum_cost_page_dirty': 7115, 'vacuum_cost_page_hit': 7965, 'vacuum_cost_page_miss': 5384, 'wal_buffers': 84502, 'wal_writer_delay': 5701, 'work_mem': 1704978829}, QPS: -1963.620835940191
Performance (QPS): -1963.620835940191
Evaluating configuration: {'autovacuum_analyze_scale_factor': 84.71429403871298, 'autovacuum_analyze_threshold': 1548164745, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 549374, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 9591, 'autovacuum_vacuum_scale_factor': 4.815126582980156, 'autovacuum_vacuum_threshold': 2017993425, 'backend_flush_after': 216, 'bgwriter_delay': 6097, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 87, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.6077100019901991, 'checkpoint_flush_after': 124, 'checkpoint_timeout': 3181, 'commit_delay': 32800, 'commit_siblings': 149, 'cursor_tuple_fraction': 0.178312785923481, 'deadlock_timeout': 1770957736, 'default_statistics_target': 8068, 'effective_cache_size': 1253660304, 'effective_io_concurrency': 518, 'from_collapse_limit': 724343446, 'geqo_effort': 6, 'geqo_generations': 1325416105, 'geqo_pool_size': 2121410511, 'geqo_seed': 0.47888448368757963, 'geqo_threshold': 790076639, 'join_collapse_limit': 1995854254, 'maintenance_work_mem': 541898725, 'max_connections': 1232, 'max_wal_senders': 7, 'shared_buffers': 738943, 'temp_buffers': 874680257, 'temp_file_limit': 361476651, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 1055, 'vacuum_cost_page_dirty': 1935, 'vacuum_cost_page_hit': 667, 'vacuum_cost_page_miss': 1714, 'wal_buffers': 124317, 'wal_writer_delay': 1571, 'work_mem': 908453946}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 84.71429403871298
Set autovacuum_analyze_threshold = 1548164745
Set autovacuum_max_workers = 76
Set autovacuum_naptime = 549374
Set autovacuum_vacuum_cost_delay = 49
Set autovacuum_vacuum_cost_limit = 9591
Set autovacuum_vacuum_scale_factor = 4.815126582980156
Set autovacuum_vacuum_threshold = 2017993425
Set backend_flush_after = 216
Set bgwriter_delay = 6097
Set bgwriter_flush_after = 40
Set bgwriter_lru_maxpages = 87
Set bgwriter_lru_multiplier = 1
Set checkpoint_completion_target = 0.6077100019901991
Set checkpoint_flush_after = 124
Set checkpoint_timeout = 3181
Set commit_delay = 32800
Set commit_siblings = 149
Set cursor_tuple_fraction = 0.178312785923481
Set deadlock_timeout = 1770957736
Set default_statistics_target = 8068
Set effective_cache_size = 1253660304
Set effective_io_concurrency = 518
Set from_collapse_limit = 724343446
Set geqo_effort = 6
Set geqo_generations = 1325416105
Set geqo_pool_size = 2121410511
Set geqo_seed = 0.47888448368757963
Set geqo_threshold = 790076639
Set join_collapse_limit = 1995854254
Set maintenance_work_mem = 541898725
Set max_connections = 1232
Set max_wal_senders = 7
Set shared_buffers = 738943
Set temp_buffers = 874680257
Set temp_file_limit = 361476651
Set vacuum_cost_delay = 59
Set vacuum_cost_limit = 1055
Set vacuum_cost_page_dirty = 1935
Set vacuum_cost_page_hit = 667
Set vacuum_cost_page_miss = 1714
Set wal_buffers = 124317
Set wal_writer_delay = 1571
Set work_mem = 908453946
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-28-02.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-28-02.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-28-02.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763746018.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-28-02.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-28-02.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-28-02.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-28-02.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-28-02.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-28-02.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-28-02.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-28-02.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-28-02.metrics.json
Parsed throughput from summary.json: 2076.0720382752743
BenchBase wikipedia throughput: 2076.0720382752743
Configuration: {'autovacuum_analyze_scale_factor': 84.71429403871298, 'autovacuum_analyze_threshold': 1548164745, 'autovacuum_max_workers': 76, 'autovacuum_naptime': 549374, 'autovacuum_vacuum_cost_delay': 49, 'autovacuum_vacuum_cost_limit': 9591, 'autovacuum_vacuum_scale_factor': 4.815126582980156, 'autovacuum_vacuum_threshold': 2017993425, 'backend_flush_after': 216, 'bgwriter_delay': 6097, 'bgwriter_flush_after': 40, 'bgwriter_lru_maxpages': 87, 'bgwriter_lru_multiplier': 1, 'checkpoint_completion_target': 0.6077100019901991, 'checkpoint_flush_after': 124, 'checkpoint_timeout': 3181, 'commit_delay': 32800, 'commit_siblings': 149, 'cursor_tuple_fraction': 0.178312785923481, 'deadlock_timeout': 1770957736, 'default_statistics_target': 8068, 'effective_cache_size': 1253660304, 'effective_io_concurrency': 518, 'from_collapse_limit': 724343446, 'geqo_effort': 6, 'geqo_generations': 1325416105, 'geqo_pool_size': 2121410511, 'geqo_seed': 0.47888448368757963, 'geqo_threshold': 790076639, 'join_collapse_limit': 1995854254, 'maintenance_work_mem': 541898725, 'max_connections': 1232, 'max_wal_senders': 7, 'shared_buffers': 738943, 'temp_buffers': 874680257, 'temp_file_limit': 361476651, 'vacuum_cost_delay': 59, 'vacuum_cost_limit': 1055, 'vacuum_cost_page_dirty': 1935, 'vacuum_cost_page_hit': 667, 'vacuum_cost_page_miss': 1714, 'wal_buffers': 124317, 'wal_writer_delay': 1571, 'work_mem': 908453946}, QPS: -2076.0720382752743
Performance (QPS): -2076.0720382752743
Evaluating configuration: {'autovacuum_analyze_scale_factor': 34.5752265304327, 'autovacuum_analyze_threshold': 221734212, 'autovacuum_max_workers': 137, 'autovacuum_naptime': 2014535, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 2440, 'autovacuum_vacuum_scale_factor': 63.13391551375389, 'autovacuum_vacuum_threshold': 549732732, 'backend_flush_after': 35, 'bgwriter_delay': 1280, 'bgwriter_flush_after': 213, 'bgwriter_lru_maxpages': 698, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.20311132818460464, 'checkpoint_flush_after': 233, 'checkpoint_timeout': 154, 'commit_delay': 85778, 'commit_siblings': 626, 'cursor_tuple_fraction': 0.5486789308488369, 'deadlock_timeout': 288268658, 'default_statistics_target': 2087, 'effective_cache_size': 1026516310, 'effective_io_concurrency': 173, 'from_collapse_limit': 1255906656, 'geqo_effort': 4, 'geqo_generations': 983228638, 'geqo_pool_size': 563748478, 'geqo_seed': 0.5149009339511395, 'geqo_threshold': 1900724310, 'join_collapse_limit': 177235542, 'maintenance_work_mem': 1893545695, 'max_connections': 2879, 'max_wal_senders': 44, 'shared_buffers': 3737568, 'temp_buffers': 172125454, 'temp_file_limit': 1082288005, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 8532, 'vacuum_cost_page_dirty': 9824, 'vacuum_cost_page_hit': 5570, 'vacuum_cost_page_miss': 8752, 'wal_buffers': 4368, 'wal_writer_delay': 7964, 'work_mem': 1295626727}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 34.5752265304327
Set autovacuum_analyze_threshold = 221734212
Set autovacuum_max_workers = 137
Set autovacuum_naptime = 2014535
Set autovacuum_vacuum_cost_delay = 86
Set autovacuum_vacuum_cost_limit = 2440
Set autovacuum_vacuum_scale_factor = 63.13391551375389
Set autovacuum_vacuum_threshold = 549732732
Set backend_flush_after = 35
Set bgwriter_delay = 1280
Set bgwriter_flush_after = 213
Set bgwriter_lru_maxpages = 698
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.20311132818460464
Set checkpoint_flush_after = 233
Set checkpoint_timeout = 154
Set commit_delay = 85778
Set commit_siblings = 626
Set cursor_tuple_fraction = 0.5486789308488369
Set deadlock_timeout = 288268658
Set default_statistics_target = 2087
Set effective_cache_size = 1026516310
Set effective_io_concurrency = 173
Set from_collapse_limit = 1255906656
Set geqo_effort = 4
Set geqo_generations = 983228638
Set geqo_pool_size = 563748478
Set geqo_seed = 0.5149009339511395
Set geqo_threshold = 1900724310
Set join_collapse_limit = 177235542
Set maintenance_work_mem = 1893545695
Set max_connections = 2879
Set max_wal_senders = 44
Set shared_buffers = 3737568
Set temp_buffers = 172125454
Set temp_file_limit = 1082288005
Set vacuum_cost_delay = 7
Set vacuum_cost_limit = 8532
Set vacuum_cost_page_dirty = 9824
Set vacuum_cost_page_hit = 5570
Set vacuum_cost_page_miss = 8752
Set wal_buffers = 4368
Set wal_writer_delay = 7964
Set work_mem = 1295626727
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-29-54.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-29-54.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-29-54.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-29-54.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-29-54.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-29-54.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-29-54.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-29-54.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-29-54.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763746113.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-29-54.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-29-54.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-29-54.raw.csv
Parsed throughput from summary.json: 2270.6575540259264
BenchBase wikipedia throughput: 2270.6575540259264
Configuration: {'autovacuum_analyze_scale_factor': 34.5752265304327, 'autovacuum_analyze_threshold': 221734212, 'autovacuum_max_workers': 137, 'autovacuum_naptime': 2014535, 'autovacuum_vacuum_cost_delay': 86, 'autovacuum_vacuum_cost_limit': 2440, 'autovacuum_vacuum_scale_factor': 63.13391551375389, 'autovacuum_vacuum_threshold': 549732732, 'backend_flush_after': 35, 'bgwriter_delay': 1280, 'bgwriter_flush_after': 213, 'bgwriter_lru_maxpages': 698, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.20311132818460464, 'checkpoint_flush_after': 233, 'checkpoint_timeout': 154, 'commit_delay': 85778, 'commit_siblings': 626, 'cursor_tuple_fraction': 0.5486789308488369, 'deadlock_timeout': 288268658, 'default_statistics_target': 2087, 'effective_cache_size': 1026516310, 'effective_io_concurrency': 173, 'from_collapse_limit': 1255906656, 'geqo_effort': 4, 'geqo_generations': 983228638, 'geqo_pool_size': 563748478, 'geqo_seed': 0.5149009339511395, 'geqo_threshold': 1900724310, 'join_collapse_limit': 177235542, 'maintenance_work_mem': 1893545695, 'max_connections': 2879, 'max_wal_senders': 44, 'shared_buffers': 3737568, 'temp_buffers': 172125454, 'temp_file_limit': 1082288005, 'vacuum_cost_delay': 7, 'vacuum_cost_limit': 8532, 'vacuum_cost_page_dirty': 9824, 'vacuum_cost_page_hit': 5570, 'vacuum_cost_page_miss': 8752, 'wal_buffers': 4368, 'wal_writer_delay': 7964, 'work_mem': 1295626727}, QPS: -2270.6575540259264
Performance (QPS): -2270.6575540259264
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 390597560
Set effective_io_concurrency = 661
Set from_collapse_limit = 1540209128
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7525
Set wal_buffers = 67834
Set wal_writer_delay = 2691
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-31-28.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-31-28.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-31-28.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-31-28.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-31-28.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-31-28.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-31-28.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-31-28.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763746224.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-31-28.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-31-28.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-31-28.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-31-28.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 2352.5370007549436
BenchBase wikipedia throughput: 2352.5370007549436
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 2691, 'work_mem': 1523757836}, QPS: -2352.5370007549436
Performance (QPS): -2352.5370007549436
Evaluating configuration: {'autovacuum_analyze_scale_factor': 88.27907536178827, 'autovacuum_analyze_threshold': 453239044, 'autovacuum_max_workers': 37, 'autovacuum_naptime': 989066, 'autovacuum_vacuum_cost_delay': 26, 'autovacuum_vacuum_cost_limit': 6159, 'autovacuum_vacuum_scale_factor': 61.57751129940152, 'autovacuum_vacuum_threshold': 1014836070, 'backend_flush_after': 11, 'bgwriter_delay': 2818, 'bgwriter_flush_after': 228, 'bgwriter_lru_maxpages': 238, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.9778543328866363, 'checkpoint_flush_after': 84, 'checkpoint_timeout': 2747, 'commit_delay': 47402, 'commit_siblings': 12, 'cursor_tuple_fraction': 0.6822191923856735, 'deadlock_timeout': 882694628, 'default_statistics_target': 4955, 'effective_cache_size': 1625176190, 'effective_io_concurrency': 7, 'from_collapse_limit': 976928286, 'geqo_effort': 7, 'geqo_generations': 613192932, 'geqo_pool_size': 809467708, 'geqo_seed': 0.8060534400865436, 'geqo_threshold': 1525110806, 'join_collapse_limit': 1560638050, 'maintenance_work_mem': 1816522981, 'max_connections': 2122, 'max_wal_senders': 0, 'shared_buffers': 3306648, 'temp_buffers': 443279943, 'temp_file_limit': 1662544963, 'vacuum_cost_delay': 92, 'vacuum_cost_limit': 2333, 'vacuum_cost_page_dirty': 8419, 'vacuum_cost_page_hit': 1581, 'vacuum_cost_page_miss': 441, 'wal_buffers': 64631, 'wal_writer_delay': 6526, 'work_mem': 567208785}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 88.27907536178827
Set autovacuum_analyze_threshold = 453239044
Set autovacuum_max_workers = 37
Set autovacuum_naptime = 989066
Set autovacuum_vacuum_cost_delay = 26
Set autovacuum_vacuum_cost_limit = 6159
Set autovacuum_vacuum_scale_factor = 61.57751129940152
Set autovacuum_vacuum_threshold = 1014836070
Set backend_flush_after = 11
Set bgwriter_delay = 2818
Set bgwriter_flush_after = 228
Set bgwriter_lru_maxpages = 238
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.9778543328866363
Set checkpoint_flush_after = 84
Set checkpoint_timeout = 2747
Set commit_delay = 47402
Set commit_siblings = 12
Set cursor_tuple_fraction = 0.6822191923856735
Set deadlock_timeout = 882694628
Set default_statistics_target = 4955
Set effective_cache_size = 1625176190
Set effective_io_concurrency = 7
Set from_collapse_limit = 976928286
Set geqo_effort = 7
Set geqo_generations = 613192932
Set geqo_pool_size = 809467708
Set geqo_seed = 0.8060534400865436
Set geqo_threshold = 1525110806
Set join_collapse_limit = 1560638050
Set maintenance_work_mem = 1816522981
Set max_connections = 2122
Set max_wal_senders = 0
Set shared_buffers = 3306648
Set temp_buffers = 443279943
Set temp_file_limit = 1662544963
Set vacuum_cost_delay = 92
Set vacuum_cost_limit = 2333
Set vacuum_cost_page_dirty = 8419
Set vacuum_cost_page_hit = 1581
Set vacuum_cost_page_miss = 441
Set wal_buffers = 64631
Set wal_writer_delay = 6526
Set work_mem = 567208785
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-33-00.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-33-00.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-33-00.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-33-00.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-33-00.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-33-00.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-33-00.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-33-00.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-33-00.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-33-00.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-33-00.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-33-00.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763746317.log
Parsed throughput from summary.json: 2152.3910929118606
BenchBase wikipedia throughput: 2152.3910929118606
Configuration: {'autovacuum_analyze_scale_factor': 88.27907536178827, 'autovacuum_analyze_threshold': 453239044, 'autovacuum_max_workers': 37, 'autovacuum_naptime': 989066, 'autovacuum_vacuum_cost_delay': 26, 'autovacuum_vacuum_cost_limit': 6159, 'autovacuum_vacuum_scale_factor': 61.57751129940152, 'autovacuum_vacuum_threshold': 1014836070, 'backend_flush_after': 11, 'bgwriter_delay': 2818, 'bgwriter_flush_after': 228, 'bgwriter_lru_maxpages': 238, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.9778543328866363, 'checkpoint_flush_after': 84, 'checkpoint_timeout': 2747, 'commit_delay': 47402, 'commit_siblings': 12, 'cursor_tuple_fraction': 0.6822191923856735, 'deadlock_timeout': 882694628, 'default_statistics_target': 4955, 'effective_cache_size': 1625176190, 'effective_io_concurrency': 7, 'from_collapse_limit': 976928286, 'geqo_effort': 7, 'geqo_generations': 613192932, 'geqo_pool_size': 809467708, 'geqo_seed': 0.8060534400865436, 'geqo_threshold': 1525110806, 'join_collapse_limit': 1560638050, 'maintenance_work_mem': 1816522981, 'max_connections': 2122, 'max_wal_senders': 0, 'shared_buffers': 3306648, 'temp_buffers': 443279943, 'temp_file_limit': 1662544963, 'vacuum_cost_delay': 92, 'vacuum_cost_limit': 2333, 'vacuum_cost_page_dirty': 8419, 'vacuum_cost_page_hit': 1581, 'vacuum_cost_page_miss': 441, 'wal_buffers': 64631, 'wal_writer_delay': 6526, 'work_mem': 567208785}, QPS: -2152.3910929118606
Performance (QPS): -2152.3910929118606
Evaluating configuration: {'autovacuum_analyze_scale_factor': 70.77226033434272, 'autovacuum_analyze_threshold': 1904170681, 'autovacuum_max_workers': 108, 'autovacuum_naptime': 1221705, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 8141, 'autovacuum_vacuum_scale_factor': 28.612651396542788, 'autovacuum_vacuum_threshold': 102328012, 'backend_flush_after': 94, 'bgwriter_delay': 267, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 322, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.09085974749177694, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 1419, 'commit_delay': 20638, 'commit_siblings': 770, 'cursor_tuple_fraction': 0.9767390536144376, 'deadlock_timeout': 1932723212, 'default_statistics_target': 9521, 'effective_cache_size': 1434860552, 'effective_io_concurrency': 906, 'from_collapse_limit': 1968870928, 'geqo_effort': 1, 'geqo_generations': 231071498, 'geqo_pool_size': 1316630549, 'geqo_seed': 0.63118826597929, 'geqo_threshold': 849285897, 'join_collapse_limit': 1836214754, 'maintenance_work_mem': 282009459, 'max_connections': 1014, 'max_wal_senders': 34, 'shared_buffers': 2237227, 'temp_buffers': 38918670, 'temp_file_limit': 1610445281, 'vacuum_cost_delay': 24, 'vacuum_cost_limit': 7060, 'vacuum_cost_page_dirty': 3132, 'vacuum_cost_page_hit': 9474, 'vacuum_cost_page_miss': 6620, 'wal_buffers': 21500, 'wal_writer_delay': 1203, 'work_mem': 1920264890}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 70.77226033434272
Set autovacuum_analyze_threshold = 1904170681
Set autovacuum_max_workers = 108
Set autovacuum_naptime = 1221705
Set autovacuum_vacuum_cost_delay = 22
Set autovacuum_vacuum_cost_limit = 8141
Set autovacuum_vacuum_scale_factor = 28.612651396542788
Set autovacuum_vacuum_threshold = 102328012
Set backend_flush_after = 94
Set bgwriter_delay = 267
Set bgwriter_flush_after = 134
Set bgwriter_lru_maxpages = 322
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.09085974749177694
Set checkpoint_flush_after = 33
Set checkpoint_timeout = 1419
Set commit_delay = 20638
Set commit_siblings = 770
Set cursor_tuple_fraction = 0.9767390536144376
Set deadlock_timeout = 1932723212
Set default_statistics_target = 9521
Set effective_cache_size = 1434860552
Set effective_io_concurrency = 906
Set from_collapse_limit = 1968870928
Set geqo_effort = 1
Set geqo_generations = 231071498
Set geqo_pool_size = 1316630549
Set geqo_seed = 0.63118826597929
Set geqo_threshold = 849285897
Set join_collapse_limit = 1836214754
Set maintenance_work_mem = 282009459
Set max_connections = 1014
Set max_wal_senders = 34
Set shared_buffers = 2237227
Set temp_buffers = 38918670
Set temp_file_limit = 1610445281
Set vacuum_cost_delay = 24
Set vacuum_cost_limit = 7060
Set vacuum_cost_page_dirty = 3132
Set vacuum_cost_page_hit = 9474
Set vacuum_cost_page_miss = 6620
Set wal_buffers = 21500
Set wal_writer_delay = 1203
Set work_mem = 1920264890
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-34-34.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-34-34.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-34-34.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-34-34.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-34-34.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-34-34.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-34-34.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763746411.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-34-34.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-34-34.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-34-34.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-34-34.results.GetPageAnonymous.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-34-34.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Parsed throughput from summary.json: 2183.171927680189
BenchBase wikipedia throughput: 2183.171927680189
Configuration: {'autovacuum_analyze_scale_factor': 70.77226033434272, 'autovacuum_analyze_threshold': 1904170681, 'autovacuum_max_workers': 108, 'autovacuum_naptime': 1221705, 'autovacuum_vacuum_cost_delay': 22, 'autovacuum_vacuum_cost_limit': 8141, 'autovacuum_vacuum_scale_factor': 28.612651396542788, 'autovacuum_vacuum_threshold': 102328012, 'backend_flush_after': 94, 'bgwriter_delay': 267, 'bgwriter_flush_after': 134, 'bgwriter_lru_maxpages': 322, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.09085974749177694, 'checkpoint_flush_after': 33, 'checkpoint_timeout': 1419, 'commit_delay': 20638, 'commit_siblings': 770, 'cursor_tuple_fraction': 0.9767390536144376, 'deadlock_timeout': 1932723212, 'default_statistics_target': 9521, 'effective_cache_size': 1434860552, 'effective_io_concurrency': 906, 'from_collapse_limit': 1968870928, 'geqo_effort': 1, 'geqo_generations': 231071498, 'geqo_pool_size': 1316630549, 'geqo_seed': 0.63118826597929, 'geqo_threshold': 849285897, 'join_collapse_limit': 1836214754, 'maintenance_work_mem': 282009459, 'max_connections': 1014, 'max_wal_senders': 34, 'shared_buffers': 2237227, 'temp_buffers': 38918670, 'temp_file_limit': 1610445281, 'vacuum_cost_delay': 24, 'vacuum_cost_limit': 7060, 'vacuum_cost_page_dirty': 3132, 'vacuum_cost_page_hit': 9474, 'vacuum_cost_page_miss': 6620, 'wal_buffers': 21500, 'wal_writer_delay': 1203, 'work_mem': 1920264890}, QPS: -2183.171927680189
Performance (QPS): -2183.171927680189
Evaluating configuration: {'autovacuum_analyze_scale_factor': 20.874277222901583, 'autovacuum_analyze_threshold': 537865588, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 276571, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 1078, 'autovacuum_vacuum_scale_factor': 89.433688018471, 'autovacuum_vacuum_threshold': 1586824545, 'backend_flush_after': 171, 'bgwriter_delay': 7422, 'bgwriter_flush_after': 117, 'bgwriter_lru_maxpages': 963, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.746817515231669, 'checkpoint_flush_after': 180, 'checkpoint_timeout': 1963, 'commit_delay': 73722, 'commit_siblings': 263, 'cursor_tuple_fraction': 0.35876862797886133, 'deadlock_timeout': 194186966, 'default_statistics_target': 326, 'effective_cache_size': 571477966, 'effective_io_concurrency': 309, 'from_collapse_limit': 346919398, 'geqo_effort': 10, 'geqo_generations': 2019492221, 'geqo_pool_size': 294783416, 'geqo_seed': 0.3471249183639884, 'geqo_threshold': 1824673664, 'join_collapse_limit': 286547482, 'maintenance_work_mem': 1079942001, 'max_connections': 2266, 'max_wal_senders': 17, 'shared_buffers': 1073819, 'temp_buffers': 1009859263, 'temp_file_limit': 183804999, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 4539, 'vacuum_cost_page_dirty': 6049, 'vacuum_cost_page_hit': 4259, 'vacuum_cost_page_miss': 3850, 'wal_buffers': 108401, 'wal_writer_delay': 9889, 'work_mem': 157856679}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 20.874277222901583
Set autovacuum_analyze_threshold = 537865588
Set autovacuum_max_workers = 56
Set autovacuum_naptime = 276571
Set autovacuum_vacuum_cost_delay = 62
Set autovacuum_vacuum_cost_limit = 1078
Set autovacuum_vacuum_scale_factor = 89.433688018471
Set autovacuum_vacuum_threshold = 1586824545
Set backend_flush_after = 171
Set bgwriter_delay = 7422
Set bgwriter_flush_after = 117
Set bgwriter_lru_maxpages = 963
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.746817515231669
Set checkpoint_flush_after = 180
Set checkpoint_timeout = 1963
Set commit_delay = 73722
Set commit_siblings = 263
Set cursor_tuple_fraction = 0.35876862797886133
Set deadlock_timeout = 194186966
Set default_statistics_target = 326
Set effective_cache_size = 571477966
Set effective_io_concurrency = 309
Set from_collapse_limit = 346919398
Set geqo_effort = 10
Set geqo_generations = 2019492221
Set geqo_pool_size = 294783416
Set geqo_seed = 0.3471249183639884
Set geqo_threshold = 1824673664
Set join_collapse_limit = 286547482
Set maintenance_work_mem = 1079942001
Set max_connections = 2266
Set max_wal_senders = 17
Set shared_buffers = 1073819
Set temp_buffers = 1009859263
Set temp_file_limit = 183804999
Set vacuum_cost_delay = 73
Set vacuum_cost_limit = 4539
Set vacuum_cost_page_dirty = 6049
Set vacuum_cost_page_hit = 4259
Set vacuum_cost_page_miss = 3850
Set wal_buffers = 108401
Set wal_writer_delay = 9889
Set work_mem = 157856679
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-36-09.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-36-09.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-36-09.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-36-09.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-36-09.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763746506.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-36-09.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-36-09.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-36-09.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-36-09.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-36-09.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-36-09.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-36-09.params.json
Parsed throughput from summary.json: 2284.472801266678
BenchBase wikipedia throughput: 2284.472801266678
Configuration: {'autovacuum_analyze_scale_factor': 20.874277222901583, 'autovacuum_analyze_threshold': 537865588, 'autovacuum_max_workers': 56, 'autovacuum_naptime': 276571, 'autovacuum_vacuum_cost_delay': 62, 'autovacuum_vacuum_cost_limit': 1078, 'autovacuum_vacuum_scale_factor': 89.433688018471, 'autovacuum_vacuum_threshold': 1586824545, 'backend_flush_after': 171, 'bgwriter_delay': 7422, 'bgwriter_flush_after': 117, 'bgwriter_lru_maxpages': 963, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.746817515231669, 'checkpoint_flush_after': 180, 'checkpoint_timeout': 1963, 'commit_delay': 73722, 'commit_siblings': 263, 'cursor_tuple_fraction': 0.35876862797886133, 'deadlock_timeout': 194186966, 'default_statistics_target': 326, 'effective_cache_size': 571477966, 'effective_io_concurrency': 309, 'from_collapse_limit': 346919398, 'geqo_effort': 10, 'geqo_generations': 2019492221, 'geqo_pool_size': 294783416, 'geqo_seed': 0.3471249183639884, 'geqo_threshold': 1824673664, 'join_collapse_limit': 286547482, 'maintenance_work_mem': 1079942001, 'max_connections': 2266, 'max_wal_senders': 17, 'shared_buffers': 1073819, 'temp_buffers': 1009859263, 'temp_file_limit': 183804999, 'vacuum_cost_delay': 73, 'vacuum_cost_limit': 4539, 'vacuum_cost_page_dirty': 6049, 'vacuum_cost_page_hit': 4259, 'vacuum_cost_page_miss': 3850, 'wal_buffers': 108401, 'wal_writer_delay': 9889, 'work_mem': 157856679}, QPS: -2284.472801266678
Performance (QPS): -2284.472801266678
Evaluating configuration: {'autovacuum_analyze_scale_factor': 14.541357941925526, 'autovacuum_analyze_threshold': 1398783817, 'autovacuum_max_workers': 116, 'autovacuum_naptime': 927250, 'autovacuum_vacuum_cost_delay': 7, 'autovacuum_vacuum_cost_limit': 1749, 'autovacuum_vacuum_scale_factor': 12.682785466313362, 'autovacuum_vacuum_threshold': 1755855637, 'backend_flush_after': 229, 'bgwriter_delay': 2456, 'bgwriter_flush_after': 96, 'bgwriter_lru_maxpages': 799, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.02632452081888914, 'checkpoint_flush_after': 99, 'checkpoint_timeout': 817, 'commit_delay': 25515, 'commit_siblings': 744, 'cursor_tuple_fraction': 0.0653075072914362, 'deadlock_timeout': 1640755072, 'default_statistics_target': 6143, 'effective_cache_size': 1771098618, 'effective_io_concurrency': 982, 'from_collapse_limit': 1403551182, 'geqo_effort': 8, 'geqo_generations': 456658054, 'geqo_pool_size': 214606922, 'geqo_seed': 0.8228023396804929, 'geqo_threshold': 1374850376, 'join_collapse_limit': 1692635718, 'maintenance_work_mem': 814318961, 'max_connections': 2789, 'max_wal_senders': 20, 'shared_buffers': 436723, 'temp_buffers': 678941471, 'temp_file_limit': 1443169087, 'vacuum_cost_delay': 95, 'vacuum_cost_limit': 7601, 'vacuum_cost_page_dirty': 1736, 'vacuum_cost_page_hit': 8548, 'vacuum_cost_page_miss': 6008, 'wal_buffers': 39645, 'wal_writer_delay': 8737, 'work_mem': 78461459}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 14.541357941925526
Set autovacuum_analyze_threshold = 1398783817
Set autovacuum_max_workers = 116
Set autovacuum_naptime = 927250
Set autovacuum_vacuum_cost_delay = 7
Set autovacuum_vacuum_cost_limit = 1749
Set autovacuum_vacuum_scale_factor = 12.682785466313362
Set autovacuum_vacuum_threshold = 1755855637
Set backend_flush_after = 229
Set bgwriter_delay = 2456
Set bgwriter_flush_after = 96
Set bgwriter_lru_maxpages = 799
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.02632452081888914
Set checkpoint_flush_after = 99
Set checkpoint_timeout = 817
Set commit_delay = 25515
Set commit_siblings = 744
Set cursor_tuple_fraction = 0.0653075072914362
Set deadlock_timeout = 1640755072
Set default_statistics_target = 6143
Set effective_cache_size = 1771098618
Set effective_io_concurrency = 982
Set from_collapse_limit = 1403551182
Set geqo_effort = 8
Set geqo_generations = 456658054
Set geqo_pool_size = 214606922
Set geqo_seed = 0.8228023396804929
Set geqo_threshold = 1374850376
Set join_collapse_limit = 1692635718
Set maintenance_work_mem = 814318961
Set max_connections = 2789
Set max_wal_senders = 20
Set shared_buffers = 436723
Set temp_buffers = 678941471
Set temp_file_limit = 1443169087
Set vacuum_cost_delay = 95
Set vacuum_cost_limit = 7601
Set vacuum_cost_page_dirty = 1736
Set vacuum_cost_page_hit = 8548
Set vacuum_cost_page_miss = 6008
Set wal_buffers = 39645
Set wal_writer_delay = 8737
Set work_mem = 78461459
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-37-43.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-37-43.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-37-43.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-37-43.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763746600.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-37-43.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-37-43.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-37-43.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-37-43.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-37-43.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-37-43.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-37-43.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-37-43.results.AddWatchList.csv
Parsed throughput from summary.json: 2315.1582589995155
BenchBase wikipedia throughput: 2315.1582589995155
Configuration: {'autovacuum_analyze_scale_factor': 14.541357941925526, 'autovacuum_analyze_threshold': 1398783817, 'autovacuum_max_workers': 116, 'autovacuum_naptime': 927250, 'autovacuum_vacuum_cost_delay': 7, 'autovacuum_vacuum_cost_limit': 1749, 'autovacuum_vacuum_scale_factor': 12.682785466313362, 'autovacuum_vacuum_threshold': 1755855637, 'backend_flush_after': 229, 'bgwriter_delay': 2456, 'bgwriter_flush_after': 96, 'bgwriter_lru_maxpages': 799, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.02632452081888914, 'checkpoint_flush_after': 99, 'checkpoint_timeout': 817, 'commit_delay': 25515, 'commit_siblings': 744, 'cursor_tuple_fraction': 0.0653075072914362, 'deadlock_timeout': 1640755072, 'default_statistics_target': 6143, 'effective_cache_size': 1771098618, 'effective_io_concurrency': 982, 'from_collapse_limit': 1403551182, 'geqo_effort': 8, 'geqo_generations': 456658054, 'geqo_pool_size': 214606922, 'geqo_seed': 0.8228023396804929, 'geqo_threshold': 1374850376, 'join_collapse_limit': 1692635718, 'maintenance_work_mem': 814318961, 'max_connections': 2789, 'max_wal_senders': 20, 'shared_buffers': 436723, 'temp_buffers': 678941471, 'temp_file_limit': 1443169087, 'vacuum_cost_delay': 95, 'vacuum_cost_limit': 7601, 'vacuum_cost_page_dirty': 1736, 'vacuum_cost_page_hit': 8548, 'vacuum_cost_page_miss': 6008, 'wal_buffers': 39645, 'wal_writer_delay': 8737, 'work_mem': 78461459}, QPS: -2315.1582589995155
Performance (QPS): -2315.1582589995155
Evaluating configuration: {'autovacuum_analyze_scale_factor': 39.698586378524055, 'autovacuum_analyze_threshold': 1327716476, 'autovacuum_max_workers': 36, 'autovacuum_naptime': 2059407, 'autovacuum_vacuum_cost_delay': 40, 'autovacuum_vacuum_cost_limit': 4609, 'autovacuum_vacuum_scale_factor': 42.850680825020085, 'autovacuum_vacuum_threshold': 2115857151, 'backend_flush_after': 134, 'bgwriter_delay': 2094, 'bgwriter_flush_after': 135, 'bgwriter_lru_maxpages': 82, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.4001900912540496, 'checkpoint_flush_after': 188, 'checkpoint_timeout': 3243, 'commit_delay': 93716, 'commit_siblings': 244, 'cursor_tuple_fraction': 0.03283944914796301, 'deadlock_timeout': 863862115, 'default_statistics_target': 6712, 'effective_cache_size': 8571246, 'effective_io_concurrency': 883, 'from_collapse_limit': 1041777856, 'geqo_effort': 1, 'geqo_generations': 1788900208, 'geqo_pool_size': 1092358422, 'geqo_seed': 0.14761622454130452, 'geqo_threshold': 1895827200, 'join_collapse_limit': 1989613316, 'maintenance_work_mem': 294172371, 'max_connections': 796, 'max_wal_senders': 45, 'shared_buffers': 3863260, 'temp_buffers': 472423313, 'temp_file_limit': 1647890577, 'vacuum_cost_delay': 100, 'vacuum_cost_limit': 4940, 'vacuum_cost_page_dirty': 3046, 'vacuum_cost_page_hit': 9594, 'vacuum_cost_page_miss': 6257, 'wal_buffers': 12099, 'wal_writer_delay': 3113, 'work_mem': 1307241473}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 39.698586378524055
Set autovacuum_analyze_threshold = 1327716476
Set autovacuum_max_workers = 36
Set autovacuum_naptime = 2059407
Set autovacuum_vacuum_cost_delay = 40
Set autovacuum_vacuum_cost_limit = 4609
Set autovacuum_vacuum_scale_factor = 42.850680825020085
Set autovacuum_vacuum_threshold = 2115857151
Set backend_flush_after = 134
Set bgwriter_delay = 2094
Set bgwriter_flush_after = 135
Set bgwriter_lru_maxpages = 82
Set bgwriter_lru_multiplier = 2
Set checkpoint_completion_target = 0.4001900912540496
Set checkpoint_flush_after = 188
Set checkpoint_timeout = 3243
Set commit_delay = 93716
Set commit_siblings = 244
Set cursor_tuple_fraction = 0.03283944914796301
Set deadlock_timeout = 863862115
Set default_statistics_target = 6712
Set effective_cache_size = 8571246
Set effective_io_concurrency = 883
Set from_collapse_limit = 1041777856
Set geqo_effort = 1
Set geqo_generations = 1788900208
Set geqo_pool_size = 1092358422
Set geqo_seed = 0.14761622454130452
Set geqo_threshold = 1895827200
Set join_collapse_limit = 1989613316
Set maintenance_work_mem = 294172371
Set max_connections = 796
Set max_wal_senders = 45
Set shared_buffers = 3863260
Set temp_buffers = 472423313
Set temp_file_limit = 1647890577
Set vacuum_cost_delay = 100
Set vacuum_cost_limit = 4940
Set vacuum_cost_page_dirty = 3046
Set vacuum_cost_page_hit = 9594
Set vacuum_cost_page_miss = 6257
Set wal_buffers = 12099
Set wal_writer_delay = 3113
Set work_mem = 1307241473
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-39-22.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-39-22.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-39-22.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-39-22.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-39-22.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-39-22.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763746698.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-39-22.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-39-22.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-39-22.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-39-22.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-39-22.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-39-22.results.RemoveWatchList.csv
Parsed throughput from summary.json: 2367.6400377285004
BenchBase wikipedia throughput: 2367.6400377285004
Configuration: {'autovacuum_analyze_scale_factor': 39.698586378524055, 'autovacuum_analyze_threshold': 1327716476, 'autovacuum_max_workers': 36, 'autovacuum_naptime': 2059407, 'autovacuum_vacuum_cost_delay': 40, 'autovacuum_vacuum_cost_limit': 4609, 'autovacuum_vacuum_scale_factor': 42.850680825020085, 'autovacuum_vacuum_threshold': 2115857151, 'backend_flush_after': 134, 'bgwriter_delay': 2094, 'bgwriter_flush_after': 135, 'bgwriter_lru_maxpages': 82, 'bgwriter_lru_multiplier': 2, 'checkpoint_completion_target': 0.4001900912540496, 'checkpoint_flush_after': 188, 'checkpoint_timeout': 3243, 'commit_delay': 93716, 'commit_siblings': 244, 'cursor_tuple_fraction': 0.03283944914796301, 'deadlock_timeout': 863862115, 'default_statistics_target': 6712, 'effective_cache_size': 8571246, 'effective_io_concurrency': 883, 'from_collapse_limit': 1041777856, 'geqo_effort': 1, 'geqo_generations': 1788900208, 'geqo_pool_size': 1092358422, 'geqo_seed': 0.14761622454130452, 'geqo_threshold': 1895827200, 'join_collapse_limit': 1989613316, 'maintenance_work_mem': 294172371, 'max_connections': 796, 'max_wal_senders': 45, 'shared_buffers': 3863260, 'temp_buffers': 472423313, 'temp_file_limit': 1647890577, 'vacuum_cost_delay': 100, 'vacuum_cost_limit': 4940, 'vacuum_cost_page_dirty': 3046, 'vacuum_cost_page_hit': 9594, 'vacuum_cost_page_miss': 6257, 'wal_buffers': 12099, 'wal_writer_delay': 3113, 'work_mem': 1307241473}, QPS: -2367.6400377285004
Performance (QPS): -2367.6400377285004
Evaluating configuration: {'autovacuum_analyze_scale_factor': 47.94846159844373, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 145, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1620480255, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 595, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.03404266667497728, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 418626112, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 8, 'geqo_generations': 1360415375, 'geqo_pool_size': 1949471615, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 47, 'shared_buffers': 154709, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8601, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7376, 'wal_buffers': 67834, 'wal_writer_delay': 1480, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 47.94846159844373
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 145
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1620480255
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 595
Set commit_delay = 94224
Set commit_siblings = 398
Set cursor_tuple_fraction = 0.03404266667497728
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 418626112
Set effective_io_concurrency = 661
Set from_collapse_limit = 1540209128
Set geqo_effort = 8
Set geqo_generations = 1360415375
Set geqo_pool_size = 1949471615
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 47
Set shared_buffers = 154709
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 8601
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7376
Set wal_buffers = 67834
Set wal_writer_delay = 1480
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-40-56.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-40-56.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-40-56.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-40-56.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-40-56.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-40-56.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763746792.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-40-56.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-40-56.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-40-56.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-40-56.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-40-56.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-40-56.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 2395.193737762102
BenchBase wikipedia throughput: 2395.193737762102
Configuration: {'autovacuum_analyze_scale_factor': 47.94846159844373, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 145, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1620480255, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 595, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.03404266667497728, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 418626112, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 8, 'geqo_generations': 1360415375, 'geqo_pool_size': 1949471615, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 47, 'shared_buffers': 154709, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8601, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7376, 'wal_buffers': 67834, 'wal_writer_delay': 1480, 'work_mem': 1523757836}, QPS: -2395.193737762102
Performance (QPS): -2395.193737762102
Evaluating configuration: {'autovacuum_analyze_scale_factor': 92.62789390904815, 'autovacuum_analyze_threshold': 1370988578, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 1134019, 'autovacuum_vacuum_cost_delay': 13, 'autovacuum_vacuum_cost_limit': 1564, 'autovacuum_vacuum_scale_factor': 17.06843492214346, 'autovacuum_vacuum_threshold': 41119294, 'backend_flush_after': 213, 'bgwriter_delay': 8634, 'bgwriter_flush_after': 250, 'bgwriter_lru_maxpages': 970, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.7858576221051377, 'checkpoint_flush_after': 133, 'checkpoint_timeout': 1871, 'commit_delay': 97575, 'commit_siblings': 171, 'cursor_tuple_fraction': 0.030517790874637647, 'deadlock_timeout': 1393229539, 'default_statistics_target': 1458, 'effective_cache_size': 1479155679, 'effective_io_concurrency': 827, 'from_collapse_limit': 303066857, 'geqo_effort': 1, 'geqo_generations': 1054598107, 'geqo_pool_size': 1243514139, 'geqo_seed': 0.7795196024708172, 'geqo_threshold': 546406209, 'join_collapse_limit': 905815048, 'maintenance_work_mem': 71761381, 'max_connections': 526, 'max_wal_senders': 19, 'shared_buffers': 3347300, 'temp_buffers': 863946775, 'temp_file_limit': 1637902975, 'vacuum_cost_delay': 23, 'vacuum_cost_limit': 9897, 'vacuum_cost_page_dirty': 9681, 'vacuum_cost_page_hit': 8053, 'vacuum_cost_page_miss': 3945, 'wal_buffers': 114181, 'wal_writer_delay': 2790, 'work_mem': 993606639}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 92.62789390904815
Set autovacuum_analyze_threshold = 1370988578
Set autovacuum_max_workers = 167
Set autovacuum_naptime = 1134019
Set autovacuum_vacuum_cost_delay = 13
Set autovacuum_vacuum_cost_limit = 1564
Set autovacuum_vacuum_scale_factor = 17.06843492214346
Set autovacuum_vacuum_threshold = 41119294
Set backend_flush_after = 213
Set bgwriter_delay = 8634
Set bgwriter_flush_after = 250
Set bgwriter_lru_maxpages = 970
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.7858576221051377
Set checkpoint_flush_after = 133
Set checkpoint_timeout = 1871
Set commit_delay = 97575
Set commit_siblings = 171
Set cursor_tuple_fraction = 0.030517790874637647
Set deadlock_timeout = 1393229539
Set default_statistics_target = 1458
Set effective_cache_size = 1479155679
Set effective_io_concurrency = 827
Set from_collapse_limit = 303066857
Set geqo_effort = 1
Set geqo_generations = 1054598107
Set geqo_pool_size = 1243514139
Set geqo_seed = 0.7795196024708172
Set geqo_threshold = 546406209
Set join_collapse_limit = 905815048
Set maintenance_work_mem = 71761381
Set max_connections = 526
Set max_wal_senders = 19
Set shared_buffers = 3347300
Set temp_buffers = 863946775
Set temp_file_limit = 1637902975
Set vacuum_cost_delay = 23
Set vacuum_cost_limit = 9897
Set vacuum_cost_page_dirty = 9681
Set vacuum_cost_page_hit = 8053
Set vacuum_cost_page_miss = 3945
Set wal_buffers = 114181
Set wal_writer_delay = 2790
Set work_mem = 993606639
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-42-29.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-42-29.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-42-29.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-42-29.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-42-29.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763746886.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-42-29.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-42-29.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-42-29.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-42-29.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-42-29.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-42-29.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-42-29.results.GetPageAnonymous.csv
Parsed throughput from summary.json: 2215.273770377191
BenchBase wikipedia throughput: 2215.273770377191
Configuration: {'autovacuum_analyze_scale_factor': 92.62789390904815, 'autovacuum_analyze_threshold': 1370988578, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 1134019, 'autovacuum_vacuum_cost_delay': 13, 'autovacuum_vacuum_cost_limit': 1564, 'autovacuum_vacuum_scale_factor': 17.06843492214346, 'autovacuum_vacuum_threshold': 41119294, 'backend_flush_after': 213, 'bgwriter_delay': 8634, 'bgwriter_flush_after': 250, 'bgwriter_lru_maxpages': 970, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.7858576221051377, 'checkpoint_flush_after': 133, 'checkpoint_timeout': 1871, 'commit_delay': 97575, 'commit_siblings': 171, 'cursor_tuple_fraction': 0.030517790874637647, 'deadlock_timeout': 1393229539, 'default_statistics_target': 1458, 'effective_cache_size': 1479155679, 'effective_io_concurrency': 827, 'from_collapse_limit': 303066857, 'geqo_effort': 1, 'geqo_generations': 1054598107, 'geqo_pool_size': 1243514139, 'geqo_seed': 0.7795196024708172, 'geqo_threshold': 546406209, 'join_collapse_limit': 905815048, 'maintenance_work_mem': 71761381, 'max_connections': 526, 'max_wal_senders': 19, 'shared_buffers': 3347300, 'temp_buffers': 863946775, 'temp_file_limit': 1637902975, 'vacuum_cost_delay': 23, 'vacuum_cost_limit': 9897, 'vacuum_cost_page_dirty': 9681, 'vacuum_cost_page_hit': 8053, 'vacuum_cost_page_miss': 3945, 'wal_buffers': 114181, 'wal_writer_delay': 2790, 'work_mem': 993606639}, QPS: -2215.273770377191
Performance (QPS): -2215.273770377191
Evaluating configuration: {'autovacuum_analyze_scale_factor': 36.426079466494386, 'autovacuum_analyze_threshold': 1238236799, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 21.956057797834855, 'autovacuum_vacuum_threshold': 1640714751, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 285, 'commit_delay': 85955, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1137113856, 'default_statistics_target': 5866, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 10, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 123281137, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 48, 'shared_buffers': 283669, 'temp_buffers': 674637157, 'temp_file_limit': 863503167, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9726, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 1952, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 36.426079466494386
Set autovacuum_analyze_threshold = 1238236799
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 21.956057797834855
Set autovacuum_vacuum_threshold = 1640714751
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 285
Set commit_delay = 85955
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1137113856
Set default_statistics_target = 5866
Set effective_cache_size = 390597560
Set effective_io_concurrency = 661
Set from_collapse_limit = 1540209128
Set geqo_effort = 10
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 123281137
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 48
Set shared_buffers = 283669
Set temp_buffers = 674637157
Set temp_file_limit = 863503167
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9726
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7525
Set wal_buffers = 67834
Set wal_writer_delay = 1952
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-44-09.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-44-09.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-44-09.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-44-09.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763746985.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-44-09.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-44-09.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-44-09.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-44-09.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-44-09.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-44-09.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-44-09.params.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-44-09.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Parsed throughput from summary.json: 2353.133414605244
BenchBase wikipedia throughput: 2353.133414605244
Configuration: {'autovacuum_analyze_scale_factor': 36.426079466494386, 'autovacuum_analyze_threshold': 1238236799, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 21.956057797834855, 'autovacuum_vacuum_threshold': 1640714751, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 285, 'commit_delay': 85955, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1137113856, 'default_statistics_target': 5866, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 10, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 123281137, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 48, 'shared_buffers': 283669, 'temp_buffers': 674637157, 'temp_file_limit': 863503167, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9726, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 1952, 'work_mem': 1523757836}, QPS: -2353.133414605244
Performance (QPS): -2353.133414605244
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 2727, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 45, 'bgwriter_lru_maxpages': 548, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.35381821631955107, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5125, 'effective_cache_size': 684686272, 'effective_io_concurrency': 661, 'from_collapse_limit': 1986183040, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 2084284415, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1129153509, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 934597439, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9477, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 1046, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 2727
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 45
Set bgwriter_lru_maxpages = 548
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.35381821631955107
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5125
Set effective_cache_size = 684686272
Set effective_io_concurrency = 661
Set from_collapse_limit = 1986183040
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 2084284415
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1129153509
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 604703044
Set temp_file_limit = 934597439
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9477
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7525
Set wal_buffers = 67834
Set wal_writer_delay = 1046
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-45-48.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-45-48.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-45-48.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-45-48.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-45-48.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763747084.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-45-48.raw.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-45-48.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-45-48.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-45-48.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-45-48.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-45-48.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-45-48.samples.csv
Parsed throughput from summary.json: 2383.701392002946
BenchBase wikipedia throughput: 2383.701392002946
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 2727, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 45, 'bgwriter_lru_maxpages': 548, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.35381821631955107, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5125, 'effective_cache_size': 684686272, 'effective_io_concurrency': 661, 'from_collapse_limit': 1986183040, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 2084284415, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1129153509, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 604703044, 'temp_file_limit': 934597439, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9477, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 1046, 'work_mem': 1523757836}, QPS: -2383.701392002946
Performance (QPS): -2383.701392002946
Evaluating configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 162, 'autovacuum_naptime': 1801416, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 2358, 'autovacuum_vacuum_scale_factor': 8.83740652464757, 'autovacuum_vacuum_threshold': 1681996927, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 636, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 584, 'commit_delay': 94224, 'commit_siblings': 408, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1218425984, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 8, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 33531135, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1088085113, 'max_connections': 420, 'max_wal_senders': 46, 'shared_buffers': 140179, 'temp_buffers': 604703044, 'temp_file_limit': 1119137151, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9097, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 6887, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 1584, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 38.14081698656082
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 162
Set autovacuum_naptime = 1801416
Set autovacuum_vacuum_cost_delay = 82
Set autovacuum_vacuum_cost_limit = 2358
Set autovacuum_vacuum_scale_factor = 8.83740652464757
Set autovacuum_vacuum_threshold = 1681996927
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 636
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 584
Set commit_delay = 94224
Set commit_siblings = 408
Set cursor_tuple_fraction = 0.06039774790406227
Set deadlock_timeout = 1218425984
Set default_statistics_target = 5205
Set effective_cache_size = 390597560
Set effective_io_concurrency = 661
Set from_collapse_limit = 1540209128
Set geqo_effort = 8
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 33531135
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1088085113
Set max_connections = 420
Set max_wal_senders = 46
Set shared_buffers = 140179
Set temp_buffers = 604703044
Set temp_file_limit = 1119137151
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9097
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 6887
Set vacuum_cost_page_miss = 7525
Set wal_buffers = 67834
Set wal_writer_delay = 1584
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-47-25.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-47-25.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-47-25.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-47-25.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-47-25.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-47-25.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-47-25.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-47-25.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-47-25.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-47-25.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763747181.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-47-25.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-47-25.raw.csv
Parsed throughput from summary.json: 2207.7073417846364
BenchBase wikipedia throughput: 2207.7073417846364
Configuration: {'autovacuum_analyze_scale_factor': 38.14081698656082, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 162, 'autovacuum_naptime': 1801416, 'autovacuum_vacuum_cost_delay': 82, 'autovacuum_vacuum_cost_limit': 2358, 'autovacuum_vacuum_scale_factor': 8.83740652464757, 'autovacuum_vacuum_threshold': 1681996927, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 636, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 584, 'commit_delay': 94224, 'commit_siblings': 408, 'cursor_tuple_fraction': 0.06039774790406227, 'deadlock_timeout': 1218425984, 'default_statistics_target': 5205, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 8, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 33531135, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1088085113, 'max_connections': 420, 'max_wal_senders': 46, 'shared_buffers': 140179, 'temp_buffers': 604703044, 'temp_file_limit': 1119137151, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9097, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 6887, 'vacuum_cost_page_miss': 7525, 'wal_buffers': 67834, 'wal_writer_delay': 1584, 'work_mem': 1523757836}, QPS: -2207.7073417846364
Performance (QPS): -2207.7073417846364
Evaluating configuration: {'autovacuum_analyze_scale_factor': 47.94846159844373, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 145, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1620480255, 'backend_flush_after': 250, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 595, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.03404266667497728, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 418626112, 'effective_io_concurrency': 724, 'from_collapse_limit': 1771030528, 'geqo_effort': 8, 'geqo_generations': 1360415375, 'geqo_pool_size': 1949471615, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 247739472, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 47, 'shared_buffers': 163013, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 49, 'vacuum_cost_limit': 8601, 'vacuum_cost_page_dirty': 2121, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7376, 'wal_buffers': 67834, 'wal_writer_delay': 1480, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 47.94846159844373
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 145
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1620480255
Set backend_flush_after = 250
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 595
Set commit_delay = 94224
Set commit_siblings = 398
Set cursor_tuple_fraction = 0.03404266667497728
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 418626112
Set effective_io_concurrency = 724
Set from_collapse_limit = 1771030528
Set geqo_effort = 8
Set geqo_generations = 1360415375
Set geqo_pool_size = 1949471615
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 79299743
Set join_collapse_limit = 247739472
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 47
Set shared_buffers = 163013
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 49
Set vacuum_cost_limit = 8601
Set vacuum_cost_page_dirty = 2121
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7376
Set wal_buffers = 67834
Set wal_writer_delay = 1480
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-49-03.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-49-03.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-49-03.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-49-03.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-49-03.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-49-03.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-49-03.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-49-03.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-49-03.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-49-03.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763747280.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-49-03.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-49-03.results.csv
Parsed throughput from summary.json: 2198.4573866229243
BenchBase wikipedia throughput: 2198.4573866229243
Configuration: {'autovacuum_analyze_scale_factor': 47.94846159844373, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 145, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1620480255, 'backend_flush_after': 250, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 595, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.03404266667497728, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 418626112, 'effective_io_concurrency': 724, 'from_collapse_limit': 1771030528, 'geqo_effort': 8, 'geqo_generations': 1360415375, 'geqo_pool_size': 1949471615, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 79299743, 'join_collapse_limit': 247739472, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 47, 'shared_buffers': 163013, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 49, 'vacuum_cost_limit': 8601, 'vacuum_cost_page_dirty': 2121, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7376, 'wal_buffers': 67834, 'wal_writer_delay': 1480, 'work_mem': 1523757836}, QPS: -2198.4573866229243
Performance (QPS): -2198.4573866229243
Evaluating configuration: {'autovacuum_analyze_scale_factor': 26.6783990020263, 'autovacuum_analyze_threshold': 1714171614, 'autovacuum_max_workers': 25, 'autovacuum_naptime': 1113828, 'autovacuum_vacuum_cost_delay': 44, 'autovacuum_vacuum_cost_limit': 3220, 'autovacuum_vacuum_scale_factor': 58.22707342331924, 'autovacuum_vacuum_threshold': 1817169640, 'backend_flush_after': 151, 'bgwriter_delay': 4556, 'bgwriter_flush_after': 180, 'bgwriter_lru_maxpages': 657, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.5990933246226159, 'checkpoint_flush_after': 229, 'checkpoint_timeout': 1614, 'commit_delay': 80663, 'commit_siblings': 163, 'cursor_tuple_fraction': 0.4616383753585046, 'deadlock_timeout': 1808019339, 'default_statistics_target': 6332, 'effective_cache_size': 1807338028, 'effective_io_concurrency': 591, 'from_collapse_limit': 1050201844, 'geqo_effort': 9, 'geqo_generations': 676806731, 'geqo_pool_size': 1466572998, 'geqo_seed': 0.7881970435374025, 'geqo_threshold': 1842196510, 'join_collapse_limit': 844143619, 'maintenance_work_mem': 807572978, 'max_connections': 1933, 'max_wal_senders': 3, 'shared_buffers': 2340076, 'temp_buffers': 96899153, 'temp_file_limit': 1954773721, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 2913, 'vacuum_cost_page_dirty': 6752, 'vacuum_cost_page_hit': 6200, 'vacuum_cost_page_miss': 7715, 'wal_buffers': 114209, 'wal_writer_delay': 643, 'work_mem': 2145928474}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 26.6783990020263
Set autovacuum_analyze_threshold = 1714171614
Set autovacuum_max_workers = 25
Set autovacuum_naptime = 1113828
Set autovacuum_vacuum_cost_delay = 44
Set autovacuum_vacuum_cost_limit = 3220
Set autovacuum_vacuum_scale_factor = 58.22707342331924
Set autovacuum_vacuum_threshold = 1817169640
Set backend_flush_after = 151
Set bgwriter_delay = 4556
Set bgwriter_flush_after = 180
Set bgwriter_lru_maxpages = 657
Set bgwriter_lru_multiplier = 4
Set checkpoint_completion_target = 0.5990933246226159
Set checkpoint_flush_after = 229
Set checkpoint_timeout = 1614
Set commit_delay = 80663
Set commit_siblings = 163
Set cursor_tuple_fraction = 0.4616383753585046
Set deadlock_timeout = 1808019339
Set default_statistics_target = 6332
Set effective_cache_size = 1807338028
Set effective_io_concurrency = 591
Set from_collapse_limit = 1050201844
Set geqo_effort = 9
Set geqo_generations = 676806731
Set geqo_pool_size = 1466572998
Set geqo_seed = 0.7881970435374025
Set geqo_threshold = 1842196510
Set join_collapse_limit = 844143619
Set maintenance_work_mem = 807572978
Set max_connections = 1933
Set max_wal_senders = 3
Set shared_buffers = 2340076
Set temp_buffers = 96899153
Set temp_file_limit = 1954773721
Set vacuum_cost_delay = 26
Set vacuum_cost_limit = 2913
Set vacuum_cost_page_dirty = 6752
Set vacuum_cost_page_hit = 6200
Set vacuum_cost_page_miss = 7715
Set wal_buffers = 114209
Set wal_writer_delay = 643
Set work_mem = 2145928474
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-50-36.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-50-36.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-50-36.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-50-36.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-50-36.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-50-36.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-50-36.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-50-36.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763747373.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-50-36.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-50-36.config.xml
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-50-36.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-50-36.samples.csv
Parsed throughput from summary.json: 2151.652279243343
BenchBase wikipedia throughput: 2151.652279243343
Configuration: {'autovacuum_analyze_scale_factor': 26.6783990020263, 'autovacuum_analyze_threshold': 1714171614, 'autovacuum_max_workers': 25, 'autovacuum_naptime': 1113828, 'autovacuum_vacuum_cost_delay': 44, 'autovacuum_vacuum_cost_limit': 3220, 'autovacuum_vacuum_scale_factor': 58.22707342331924, 'autovacuum_vacuum_threshold': 1817169640, 'backend_flush_after': 151, 'bgwriter_delay': 4556, 'bgwriter_flush_after': 180, 'bgwriter_lru_maxpages': 657, 'bgwriter_lru_multiplier': 4, 'checkpoint_completion_target': 0.5990933246226159, 'checkpoint_flush_after': 229, 'checkpoint_timeout': 1614, 'commit_delay': 80663, 'commit_siblings': 163, 'cursor_tuple_fraction': 0.4616383753585046, 'deadlock_timeout': 1808019339, 'default_statistics_target': 6332, 'effective_cache_size': 1807338028, 'effective_io_concurrency': 591, 'from_collapse_limit': 1050201844, 'geqo_effort': 9, 'geqo_generations': 676806731, 'geqo_pool_size': 1466572998, 'geqo_seed': 0.7881970435374025, 'geqo_threshold': 1842196510, 'join_collapse_limit': 844143619, 'maintenance_work_mem': 807572978, 'max_connections': 1933, 'max_wal_senders': 3, 'shared_buffers': 2340076, 'temp_buffers': 96899153, 'temp_file_limit': 1954773721, 'vacuum_cost_delay': 26, 'vacuum_cost_limit': 2913, 'vacuum_cost_page_dirty': 6752, 'vacuum_cost_page_hit': 6200, 'vacuum_cost_page_miss': 7715, 'wal_buffers': 114209, 'wal_writer_delay': 643, 'work_mem': 2145928474}, QPS: -2151.652279243343
Performance (QPS): -2151.652279243343
Evaluating configuration: {'autovacuum_analyze_scale_factor': 29.16350602174923, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 170, 'autovacuum_naptime': 1995454, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 2941, 'autovacuum_vacuum_scale_factor': 8.83740652464757, 'autovacuum_vacuum_threshold': 1747351935, 'backend_flush_after': 256, 'bgwriter_delay': 9752, 'bgwriter_flush_after': 20, 'bgwriter_lru_maxpages': 597, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 584, 'commit_delay': 94224, 'commit_siblings': 408, 'cursor_tuple_fraction': 0.07190292692910742, 'deadlock_timeout': 1218425984, 'default_statistics_target': 5205, 'effective_cache_size': 515724320, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 8, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 33531135, 'join_collapse_limit': 488118720, 'maintenance_work_mem': 779667020, 'max_connections': 420, 'max_wal_senders': 46, 'shared_buffers': 140179, 'temp_buffers': 604703044, 'temp_file_limit': 1132258303, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8599, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 6887, 'vacuum_cost_page_miss': 7402, 'wal_buffers': 60241, 'wal_writer_delay': 1584, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 29.16350602174923
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 170
Set autovacuum_naptime = 1995454
Set autovacuum_vacuum_cost_delay = 87
Set autovacuum_vacuum_cost_limit = 2941
Set autovacuum_vacuum_scale_factor = 8.83740652464757
Set autovacuum_vacuum_threshold = 1747351935
Set backend_flush_after = 256
Set bgwriter_delay = 9752
Set bgwriter_flush_after = 20
Set bgwriter_lru_maxpages = 597
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 584
Set commit_delay = 94224
Set commit_siblings = 408
Set cursor_tuple_fraction = 0.07190292692910742
Set deadlock_timeout = 1218425984
Set default_statistics_target = 5205
Set effective_cache_size = 515724320
Set effective_io_concurrency = 661
Set from_collapse_limit = 1540209128
Set geqo_effort = 8
Set geqo_generations = 1360415375
Set geqo_pool_size = 1876379281
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 33531135
Set join_collapse_limit = 488118720
Set maintenance_work_mem = 779667020
Set max_connections = 420
Set max_wal_senders = 46
Set shared_buffers = 140179
Set temp_buffers = 604703044
Set temp_file_limit = 1132258303
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 8599
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 6887
Set vacuum_cost_page_miss = 7402
Set wal_buffers = 60241
Set wal_writer_delay = 1584
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-52-15.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-52-15.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-52-15.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-52-15.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-52-15.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-52-15.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763747472.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-52-15.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-52-15.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-52-15.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-52-15.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-52-15.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-52-15.raw.csv
Parsed throughput from summary.json: 2127.7903544044534
BenchBase wikipedia throughput: 2127.7903544044534
Configuration: {'autovacuum_analyze_scale_factor': 29.16350602174923, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 170, 'autovacuum_naptime': 1995454, 'autovacuum_vacuum_cost_delay': 87, 'autovacuum_vacuum_cost_limit': 2941, 'autovacuum_vacuum_scale_factor': 8.83740652464757, 'autovacuum_vacuum_threshold': 1747351935, 'backend_flush_after': 256, 'bgwriter_delay': 9752, 'bgwriter_flush_after': 20, 'bgwriter_lru_maxpages': 597, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 584, 'commit_delay': 94224, 'commit_siblings': 408, 'cursor_tuple_fraction': 0.07190292692910742, 'deadlock_timeout': 1218425984, 'default_statistics_target': 5205, 'effective_cache_size': 515724320, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 8, 'geqo_generations': 1360415375, 'geqo_pool_size': 1876379281, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 33531135, 'join_collapse_limit': 488118720, 'maintenance_work_mem': 779667020, 'max_connections': 420, 'max_wal_senders': 46, 'shared_buffers': 140179, 'temp_buffers': 604703044, 'temp_file_limit': 1132258303, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8599, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 6887, 'vacuum_cost_page_miss': 7402, 'wal_buffers': 60241, 'wal_writer_delay': 1584, 'work_mem': 1523757836}, QPS: -2127.7903544044534
Performance (QPS): -2127.7903544044534
Evaluating configuration: {'autovacuum_analyze_scale_factor': 43.81420748615872, 'autovacuum_analyze_threshold': 1430156159, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1786990847, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 691, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.4268339649580395, 'checkpoint_flush_after': 200, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 577, 'cursor_tuple_fraction': 0.04792559711430659, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5982, 'effective_cache_size': 611586368, 'effective_io_concurrency': 673, 'from_collapse_limit': 1540209128, 'geqo_effort': 8, 'geqo_generations': 1360415375, 'geqo_pool_size': 1948967551, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 311119905, 'join_collapse_limit': 666229184, 'maintenance_work_mem': 1076275582, 'max_connections': 420, 'max_wal_senders': 46, 'shared_buffers': 183929, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7842, 'vacuum_cost_page_miss': 8223, 'wal_buffers': 42995, 'wal_writer_delay': 1389, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 43.81420748615872
Set autovacuum_analyze_threshold = 1430156159
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1786990847
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 691
Set bgwriter_lru_multiplier = 0
Set checkpoint_completion_target = 0.4268339649580395
Set checkpoint_flush_after = 200
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 577
Set cursor_tuple_fraction = 0.04792559711430659
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5982
Set effective_cache_size = 611586368
Set effective_io_concurrency = 673
Set from_collapse_limit = 1540209128
Set geqo_effort = 8
Set geqo_generations = 1360415375
Set geqo_pool_size = 1948967551
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 311119905
Set join_collapse_limit = 666229184
Set maintenance_work_mem = 1076275582
Set max_connections = 420
Set max_wal_senders = 46
Set shared_buffers = 183929
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9811
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7842
Set vacuum_cost_page_miss = 8223
Set wal_buffers = 42995
Set wal_writer_delay = 1389
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-53-53.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-53-53.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763747569.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-53-53.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-53-53.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-53-53.metrics.json
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-53-53.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-53-53.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-53-53.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-53-53.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-53-53.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-53-53.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-53-53.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 2139.9976679697893
BenchBase wikipedia throughput: 2139.9976679697893
Configuration: {'autovacuum_analyze_scale_factor': 43.81420748615872, 'autovacuum_analyze_threshold': 1430156159, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1786990847, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 691, 'bgwriter_lru_multiplier': 0, 'checkpoint_completion_target': 0.4268339649580395, 'checkpoint_flush_after': 200, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 577, 'cursor_tuple_fraction': 0.04792559711430659, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5982, 'effective_cache_size': 611586368, 'effective_io_concurrency': 673, 'from_collapse_limit': 1540209128, 'geqo_effort': 8, 'geqo_generations': 1360415375, 'geqo_pool_size': 1948967551, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 311119905, 'join_collapse_limit': 666229184, 'maintenance_work_mem': 1076275582, 'max_connections': 420, 'max_wal_senders': 46, 'shared_buffers': 183929, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9811, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7842, 'vacuum_cost_page_miss': 8223, 'wal_buffers': 42995, 'wal_writer_delay': 1389, 'work_mem': 1523757836}, QPS: -2139.9976679697893
Performance (QPS): -2139.9976679697893
Evaluating configuration: {'autovacuum_analyze_scale_factor': 47.94846159844373, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 147, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1620480255, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 202, 'checkpoint_timeout': 595, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.03404266667497728, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 418626112, 'effective_io_concurrency': 661, 'from_collapse_limit': 1407107968, 'geqo_effort': 8, 'geqo_generations': 1317194623, 'geqo_pool_size': 2052415871, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 50414789, 'join_collapse_limit': 485698112, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 47, 'shared_buffers': 147675, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8601, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7551, 'wal_buffers': 67834, 'wal_writer_delay': 1216, 'work_mem': 1832054921}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 47.94846159844373
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 147
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1620480255
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 202
Set checkpoint_timeout = 595
Set commit_delay = 94224
Set commit_siblings = 398
Set cursor_tuple_fraction = 0.03404266667497728
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 418626112
Set effective_io_concurrency = 661
Set from_collapse_limit = 1407107968
Set geqo_effort = 8
Set geqo_generations = 1317194623
Set geqo_pool_size = 2052415871
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 50414789
Set join_collapse_limit = 485698112
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 47
Set shared_buffers = 147675
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 8601
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7551
Set wal_buffers = 67834
Set wal_writer_delay = 1216
Set work_mem = 1832054921
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-55-31.results.GetPageAuthenticated.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-55-31.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-55-31.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763747668.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-55-31.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-55-31.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-55-31.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-55-31.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-55-31.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-55-31.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-55-31.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-55-31.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-55-31.results.RemoveWatchList.csv
Parsed throughput from summary.json: 2149.0228178582624
BenchBase wikipedia throughput: 2149.0228178582624
Configuration: {'autovacuum_analyze_scale_factor': 47.94846159844373, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 147, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1620480255, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 202, 'checkpoint_timeout': 595, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.03404266667497728, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 418626112, 'effective_io_concurrency': 661, 'from_collapse_limit': 1407107968, 'geqo_effort': 8, 'geqo_generations': 1317194623, 'geqo_pool_size': 2052415871, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 50414789, 'join_collapse_limit': 485698112, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 47, 'shared_buffers': 147675, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8601, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7551, 'wal_buffers': 67834, 'wal_writer_delay': 1216, 'work_mem': 1832054921}, QPS: -2149.0228178582624
Performance (QPS): -2149.0228178582624
Evaluating configuration: {'autovacuum_analyze_scale_factor': 47.94846159844373, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 145, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1620480255, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 18, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 312, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.03404266667497728, 'deadlock_timeout': 1329410816, 'default_statistics_target': 5514, 'effective_cache_size': 418626112, 'effective_io_concurrency': 675, 'from_collapse_limit': 1900614400, 'geqo_effort': 8, 'geqo_generations': 1360415375, 'geqo_pool_size': 2059669375, 'geqo_seed': 0.26409223512619723, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 49, 'shared_buffers': 154709, 'temp_buffers': 604703044, 'temp_file_limit': 987960639, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8881, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7376, 'wal_buffers': 76167, 'wal_writer_delay': 1480, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 47.94846159844373
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 145
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1620480255
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 18
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 312
Set commit_delay = 94224
Set commit_siblings = 398
Set cursor_tuple_fraction = 0.03404266667497728
Set deadlock_timeout = 1329410816
Set default_statistics_target = 5514
Set effective_cache_size = 418626112
Set effective_io_concurrency = 675
Set from_collapse_limit = 1900614400
Set geqo_effort = 8
Set geqo_generations = 1360415375
Set geqo_pool_size = 2059669375
Set geqo_seed = 0.26409223512619723
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 49
Set shared_buffers = 154709
Set temp_buffers = 604703044
Set temp_file_limit = 987960639
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 8881
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7376
Set wal_buffers = 76167
Set wal_writer_delay = 1480
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-57-08.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-57-08.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763747765.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-57-08.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-57-08.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-57-08.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-57-08.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-57-08.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-57-08.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-57-08.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-57-08.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-57-08.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-57-08.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Parsed throughput from summary.json: 2248.838096513325
BenchBase wikipedia throughput: 2248.838096513325
Configuration: {'autovacuum_analyze_scale_factor': 47.94846159844373, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 145, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1620480255, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 18, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 312, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.03404266667497728, 'deadlock_timeout': 1329410816, 'default_statistics_target': 5514, 'effective_cache_size': 418626112, 'effective_io_concurrency': 675, 'from_collapse_limit': 1900614400, 'geqo_effort': 8, 'geqo_generations': 1360415375, 'geqo_pool_size': 2059669375, 'geqo_seed': 0.26409223512619723, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 49, 'shared_buffers': 154709, 'temp_buffers': 604703044, 'temp_file_limit': 987960639, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8881, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7376, 'wal_buffers': 76167, 'wal_writer_delay': 1480, 'work_mem': 1523757836}, QPS: -2248.838096513325
Performance (QPS): -2248.838096513325
Evaluating configuration: {'autovacuum_analyze_scale_factor': 45.55875846078175, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 145, 'autovacuum_naptime': 1518727, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1619829119, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.34887542091598456, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 312, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.03404266667497728, 'deadlock_timeout': 1329410816, 'default_statistics_target': 4863, 'effective_cache_size': 418626112, 'effective_io_concurrency': 675, 'from_collapse_limit': 1900614400, 'geqo_effort': 2, 'geqo_generations': 1360415375, 'geqo_pool_size': 2059669375, 'geqo_seed': 0.2331134658741068, 'geqo_threshold': 103133809, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1073358784, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 19804, 'temp_buffers': 546467313, 'temp_file_limit': 987960639, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8881, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7536, 'wal_buffers': 76167, 'wal_writer_delay': 1480, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 45.55875846078175
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 145
Set autovacuum_naptime = 1518727
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.92035761848092
Set autovacuum_vacuum_threshold = 1619829119
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 594
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.34887542091598456
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 312
Set commit_delay = 94224
Set commit_siblings = 398
Set cursor_tuple_fraction = 0.03404266667497728
Set deadlock_timeout = 1329410816
Set default_statistics_target = 4863
Set effective_cache_size = 418626112
Set effective_io_concurrency = 675
Set from_collapse_limit = 1900614400
Set geqo_effort = 2
Set geqo_generations = 1360415375
Set geqo_pool_size = 2059669375
Set geqo_seed = 0.2331134658741068
Set geqo_threshold = 103133809
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1073358784
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 19804
Set temp_buffers = 546467313
Set temp_file_limit = 987960639
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 8881
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7536
Set wal_buffers = 76167
Set wal_writer_delay = 1480
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-58-46.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-58-46.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763747862.log
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_17-58-46.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-58-46.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-58-46.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-58-46.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-58-46.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-58-46.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-58-46.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-58-46.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-58-46.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_17-58-46.results.AddWatchList.csv
Parsed throughput from summary.json: 2251.7882131373467
BenchBase wikipedia throughput: 2251.7882131373467
Configuration: {'autovacuum_analyze_scale_factor': 45.55875846078175, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 145, 'autovacuum_naptime': 1518727, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.92035761848092, 'autovacuum_vacuum_threshold': 1619829119, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 594, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.34887542091598456, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 312, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.03404266667497728, 'deadlock_timeout': 1329410816, 'default_statistics_target': 4863, 'effective_cache_size': 418626112, 'effective_io_concurrency': 675, 'from_collapse_limit': 1900614400, 'geqo_effort': 2, 'geqo_generations': 1360415375, 'geqo_pool_size': 2059669375, 'geqo_seed': 0.2331134658741068, 'geqo_threshold': 103133809, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1073358784, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 19804, 'temp_buffers': 546467313, 'temp_file_limit': 987960639, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8881, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7536, 'wal_buffers': 76167, 'wal_writer_delay': 1480, 'work_mem': 1523757836}, QPS: -2251.7882131373467
Performance (QPS): -2251.7882131373467
Evaluating configuration: {'autovacuum_analyze_scale_factor': 36.84063103382458, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 2727, 'autovacuum_vacuum_scale_factor': 26.460278984606557, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 237, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 45, 'bgwriter_lru_maxpages': 606, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.352338965778711, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 453, 'cursor_tuple_fraction': 0.021976980219584566, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5125, 'effective_cache_size': 740249856, 'effective_io_concurrency': 661, 'from_collapse_limit': 1986183040, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 2084284415, 'geqo_seed': 0.22743092146294208, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1022603928, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 642925928, 'temp_file_limit': 934597439, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9477, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7333, 'wal_buffers': 85559, 'wal_writer_delay': 1870, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 36.84063103382458
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 177
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 2727
Set autovacuum_vacuum_scale_factor = 26.460278984606557
Set autovacuum_vacuum_threshold = 1693534407
Set backend_flush_after = 237
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 45
Set bgwriter_lru_maxpages = 606
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.352338965778711
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 641
Set commit_delay = 94224
Set commit_siblings = 453
Set cursor_tuple_fraction = 0.021976980219584566
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5125
Set effective_cache_size = 740249856
Set effective_io_concurrency = 661
Set from_collapse_limit = 1986183040
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 2084284415
Set geqo_seed = 0.22743092146294208
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1022603928
Set max_connections = 420
Set max_wal_senders = 50
Set shared_buffers = 13639
Set temp_buffers = 642925928
Set temp_file_limit = 934597439
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9477
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7333
Set wal_buffers = 85559
Set wal_writer_delay = 1870
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-00-23.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-00-23.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-00-23.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-00-23.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-00-23.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763747959.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-00-23.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-00-23.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-00-23.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-00-23.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-00-23.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-00-23.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_18-00-23.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Parsed throughput from summary.json: 2346.317285381007
BenchBase wikipedia throughput: 2346.317285381007
Configuration: {'autovacuum_analyze_scale_factor': 36.84063103382458, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 177, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 2727, 'autovacuum_vacuum_scale_factor': 26.460278984606557, 'autovacuum_vacuum_threshold': 1693534407, 'backend_flush_after': 237, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 45, 'bgwriter_lru_maxpages': 606, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.352338965778711, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 641, 'commit_delay': 94224, 'commit_siblings': 453, 'cursor_tuple_fraction': 0.021976980219584566, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5125, 'effective_cache_size': 740249856, 'effective_io_concurrency': 661, 'from_collapse_limit': 1986183040, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 2084284415, 'geqo_seed': 0.22743092146294208, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1022603928, 'max_connections': 420, 'max_wal_senders': 50, 'shared_buffers': 13639, 'temp_buffers': 642925928, 'temp_file_limit': 934597439, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9477, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7333, 'wal_buffers': 85559, 'wal_writer_delay': 1870, 'work_mem': 1523757836}, QPS: -2346.317285381007
Performance (QPS): -2346.317285381007
Evaluating configuration: {'autovacuum_analyze_scale_factor': 31.26380761733606, 'autovacuum_analyze_threshold': 924836082, 'autovacuum_max_workers': 140, 'autovacuum_naptime': 389513, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 2459, 'autovacuum_vacuum_scale_factor': 62.362865260324064, 'autovacuum_vacuum_threshold': 771676143, 'backend_flush_after': 30, 'bgwriter_delay': 1113, 'bgwriter_flush_after': 245, 'bgwriter_lru_maxpages': 341, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.31707864717453604, 'checkpoint_flush_after': 202, 'checkpoint_timeout': 245, 'commit_delay': 69790, 'commit_siblings': 551, 'cursor_tuple_fraction': 0.13099389137244, 'deadlock_timeout': 914269950, 'default_statistics_target': 872, 'effective_cache_size': 741626667, 'effective_io_concurrency': 559, 'from_collapse_limit': 33705985, 'geqo_effort': 10, 'geqo_generations': 197744592, 'geqo_pool_size': 762089764, 'geqo_seed': 0.3642219498119448, 'geqo_threshold': 244400374, 'join_collapse_limit': 974879748, 'maintenance_work_mem': 1728993639, 'max_connections': 2411, 'max_wal_senders': 8, 'shared_buffers': 3991853, 'temp_buffers': 172997593, 'temp_file_limit': 69727199, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 5164, 'vacuum_cost_page_dirty': 7309, 'vacuum_cost_page_hit': 6282, 'vacuum_cost_page_miss': 5349, 'wal_buffers': 75575, 'wal_writer_delay': 4138, 'work_mem': 140893027}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 31.26380761733606
Set autovacuum_analyze_threshold = 924836082
Set autovacuum_max_workers = 140
Set autovacuum_naptime = 389513
Set autovacuum_vacuum_cost_delay = 77
Set autovacuum_vacuum_cost_limit = 2459
Set autovacuum_vacuum_scale_factor = 62.362865260324064
Set autovacuum_vacuum_threshold = 771676143
Set backend_flush_after = 30
Set bgwriter_delay = 1113
Set bgwriter_flush_after = 245
Set bgwriter_lru_maxpages = 341
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.31707864717453604
Set checkpoint_flush_after = 202
Set checkpoint_timeout = 245
Set commit_delay = 69790
Set commit_siblings = 551
Set cursor_tuple_fraction = 0.13099389137244
Set deadlock_timeout = 914269950
Set default_statistics_target = 872
Set effective_cache_size = 741626667
Set effective_io_concurrency = 559
Set from_collapse_limit = 33705985
Set geqo_effort = 10
Set geqo_generations = 197744592
Set geqo_pool_size = 762089764
Set geqo_seed = 0.3642219498119448
Set geqo_threshold = 244400374
Set join_collapse_limit = 974879748
Set maintenance_work_mem = 1728993639
Set max_connections = 2411
Set max_wal_senders = 8
Set shared_buffers = 3991853
Set temp_buffers = 172997593
Set temp_file_limit = 69727199
Set vacuum_cost_delay = 48
Set vacuum_cost_limit = 5164
Set vacuum_cost_page_dirty = 7309
Set vacuum_cost_page_hit = 6282
Set vacuum_cost_page_miss = 5349
Set wal_buffers = 75575
Set wal_writer_delay = 4138
Set work_mem = 140893027
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
Start failed, removing auto.conf and retrying...
Removed postgresql.auto.conf file (if it existed).
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-01-55.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-01-55.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-01-55.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-01-55.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-01-55.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-01-55.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763748053.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-01-55.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-01-55.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_18-01-55.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-01-55.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-01-55.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-01-55.config.xml
Parsed throughput from summary.json: 1979.5687235222833
BenchBase wikipedia throughput: 1979.5687235222833
Configuration: {'autovacuum_analyze_scale_factor': 31.26380761733606, 'autovacuum_analyze_threshold': 924836082, 'autovacuum_max_workers': 140, 'autovacuum_naptime': 389513, 'autovacuum_vacuum_cost_delay': 77, 'autovacuum_vacuum_cost_limit': 2459, 'autovacuum_vacuum_scale_factor': 62.362865260324064, 'autovacuum_vacuum_threshold': 771676143, 'backend_flush_after': 30, 'bgwriter_delay': 1113, 'bgwriter_flush_after': 245, 'bgwriter_lru_maxpages': 341, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.31707864717453604, 'checkpoint_flush_after': 202, 'checkpoint_timeout': 245, 'commit_delay': 69790, 'commit_siblings': 551, 'cursor_tuple_fraction': 0.13099389137244, 'deadlock_timeout': 914269950, 'default_statistics_target': 872, 'effective_cache_size': 741626667, 'effective_io_concurrency': 559, 'from_collapse_limit': 33705985, 'geqo_effort': 10, 'geqo_generations': 197744592, 'geqo_pool_size': 762089764, 'geqo_seed': 0.3642219498119448, 'geqo_threshold': 244400374, 'join_collapse_limit': 974879748, 'maintenance_work_mem': 1728993639, 'max_connections': 2411, 'max_wal_senders': 8, 'shared_buffers': 3991853, 'temp_buffers': 172997593, 'temp_file_limit': 69727199, 'vacuum_cost_delay': 48, 'vacuum_cost_limit': 5164, 'vacuum_cost_page_dirty': 7309, 'vacuum_cost_page_hit': 6282, 'vacuum_cost_page_miss': 5349, 'wal_buffers': 75575, 'wal_writer_delay': 4138, 'work_mem': 140893027}, QPS: -1979.5687235222833
Performance (QPS): -1979.5687235222833
Evaluating configuration: {'autovacuum_analyze_scale_factor': 37.28200728008242, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 145, 'autovacuum_naptime': 1687357, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.14208231007786, 'autovacuum_vacuum_threshold': 1619829119, 'backend_flush_after': 256, 'bgwriter_delay': 9893, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 536, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.42920634394768575, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 626, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.03404266667497728, 'deadlock_timeout': 1392103808, 'default_statistics_target': 4863, 'effective_cache_size': 357273632, 'effective_io_concurrency': 675, 'from_collapse_limit': 1900614400, 'geqo_effort': 2, 'geqo_generations': 1445424895, 'geqo_pool_size': 1926066687, 'geqo_seed': 0.20483179380508962, 'geqo_threshold': 103133809, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 990522791, 'max_connections': 478, 'max_wal_senders': 49, 'shared_buffers': 19804, 'temp_buffers': 546467313, 'temp_file_limit': 987960639, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8259, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7536, 'wal_buffers': 76167, 'wal_writer_delay': 2299, 'work_mem': 1258411034}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
 t
(1 row)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 37.28200728008242
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 145
Set autovacuum_naptime = 1687357
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 18.14208231007786
Set autovacuum_vacuum_threshold = 1619829119
Set backend_flush_after = 256
Set bgwriter_delay = 9893
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 536
Set bgwriter_lru_multiplier = 10
Set checkpoint_completion_target = 0.42920634394768575
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 626
Set commit_delay = 94224
Set commit_siblings = 398
Set cursor_tuple_fraction = 0.03404266667497728
Set deadlock_timeout = 1392103808
Set default_statistics_target = 4863
Set effective_cache_size = 357273632
Set effective_io_concurrency = 675
Set from_collapse_limit = 1900614400
Set geqo_effort = 2
Set geqo_generations = 1445424895
Set geqo_pool_size = 1926066687
Set geqo_seed = 0.20483179380508962
Set geqo_threshold = 103133809
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 990522791
Set max_connections = 478
Set max_wal_senders = 49
Set shared_buffers = 19804
Set temp_buffers = 546467313
Set temp_file_limit = 987960639
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 8259
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7536
Set wal_buffers = 76167
Set wal_writer_delay = 2299
Set work_mem = 1258411034
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-03-31.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-03-31.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-03-31.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-03-31.results.RemoveWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_18-03-31.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-03-31.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-03-31.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-03-31.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-03-31.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763748148.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-03-31.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-03-31.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-03-31.results.UpdatePage.csv
Parsed throughput from summary.json: 2292.890725204299
BenchBase wikipedia throughput: 2292.890725204299
Configuration: {'autovacuum_analyze_scale_factor': 37.28200728008242, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 145, 'autovacuum_naptime': 1687357, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 18.14208231007786, 'autovacuum_vacuum_threshold': 1619829119, 'backend_flush_after': 256, 'bgwriter_delay': 9893, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 536, 'bgwriter_lru_multiplier': 10, 'checkpoint_completion_target': 0.42920634394768575, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 626, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.03404266667497728, 'deadlock_timeout': 1392103808, 'default_statistics_target': 4863, 'effective_cache_size': 357273632, 'effective_io_concurrency': 675, 'from_collapse_limit': 1900614400, 'geqo_effort': 2, 'geqo_generations': 1445424895, 'geqo_pool_size': 1926066687, 'geqo_seed': 0.20483179380508962, 'geqo_threshold': 103133809, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 990522791, 'max_connections': 478, 'max_wal_senders': 49, 'shared_buffers': 19804, 'temp_buffers': 546467313, 'temp_file_limit': 987960639, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 8259, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7536, 'wal_buffers': 76167, 'wal_writer_delay': 2299, 'work_mem': 1258411034}, QPS: -2292.890725204299
Performance (QPS): -2292.890725204299
Evaluating configuration: {'autovacuum_analyze_scale_factor': 47.94846159844373, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 94, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 22.394335009599352, 'autovacuum_vacuum_threshold': 1620480255, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 10, 'bgwriter_lru_maxpages': 448, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3925969029888599, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 165, 'commit_delay': 94224, 'commit_siblings': 431, 'cursor_tuple_fraction': 0.062098010818755656, 'deadlock_timeout': 1419815808, 'default_statistics_target': 5205, 'effective_cache_size': 418626112, 'effective_io_concurrency': 654, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1949471615, 'geqo_seed': 0.26117940987016947, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 47, 'shared_buffers': 154709, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9549, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 6945, 'vacuum_cost_page_miss': 7376, 'wal_buffers': 67834, 'wal_writer_delay': 1480, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 47.94846159844373
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 167
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 94
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 22.394335009599352
Set autovacuum_vacuum_threshold = 1620480255
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 10
Set bgwriter_lru_maxpages = 448
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.3925969029888599
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 165
Set commit_delay = 94224
Set commit_siblings = 431
Set cursor_tuple_fraction = 0.062098010818755656
Set deadlock_timeout = 1419815808
Set default_statistics_target = 5205
Set effective_cache_size = 418626112
Set effective_io_concurrency = 654
Set from_collapse_limit = 1540209128
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1949471615
Set geqo_seed = 0.26117940987016947
Set geqo_threshold = 79299743
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 47
Set shared_buffers = 154709
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9549
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 6945
Set vacuum_cost_page_miss = 7376
Set wal_buffers = 67834
Set wal_writer_delay = 1480
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-05-10.results.GetPageAuthenticated.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-05-10.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-05-10.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-05-10.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-05-10.results.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_18-05-10.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-05-10.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-05-10.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-05-10.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763748246.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-05-10.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-05-10.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-05-10.metrics.json
Parsed throughput from summary.json: 2371.365113934481
BenchBase wikipedia throughput: 2371.365113934481
Configuration: {'autovacuum_analyze_scale_factor': 47.94846159844373, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 94, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 22.394335009599352, 'autovacuum_vacuum_threshold': 1620480255, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 10, 'bgwriter_lru_maxpages': 448, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.3925969029888599, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 165, 'commit_delay': 94224, 'commit_siblings': 431, 'cursor_tuple_fraction': 0.062098010818755656, 'deadlock_timeout': 1419815808, 'default_statistics_target': 5205, 'effective_cache_size': 418626112, 'effective_io_concurrency': 654, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1949471615, 'geqo_seed': 0.26117940987016947, 'geqo_threshold': 79299743, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 47, 'shared_buffers': 154709, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9549, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 6945, 'vacuum_cost_page_miss': 7376, 'wal_buffers': 67834, 'wal_writer_delay': 1480, 'work_mem': 1523757836}, QPS: -2371.365113934481
Performance (QPS): -2371.365113934481
Evaluating configuration: {'autovacuum_analyze_scale_factor': 39.6380968530009, 'autovacuum_analyze_threshold': 1238236799, 'autovacuum_max_workers': 166, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 2367, 'autovacuum_vacuum_scale_factor': 21.956057797834855, 'autovacuum_vacuum_threshold': 1640714751, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 13, 'bgwriter_lru_maxpages': 416, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.37601112263403497, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 572, 'commit_delay': 85955, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.050007153813341046, 'deadlock_timeout': 961447232, 'default_statistics_target': 5866, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 6, 'geqo_generations': 1360415375, 'geqo_pool_size': 1600022271, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 123281137, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1224737080, 'max_connections': 420, 'max_wal_senders': 44, 'shared_buffers': 283669, 'temp_buffers': 674637157, 'temp_file_limit': 863503167, 'vacuum_cost_delay': 41, 'vacuum_cost_limit': 9726, 'vacuum_cost_page_dirty': 1133, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7096, 'wal_buffers': 67834, 'wal_writer_delay': 1469, 'work_mem': 1523757836}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 39.6380968530009
Set autovacuum_analyze_threshold = 1238236799
Set autovacuum_max_workers = 166
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 88
Set autovacuum_vacuum_cost_limit = 2367
Set autovacuum_vacuum_scale_factor = 21.956057797834855
Set autovacuum_vacuum_threshold = 1640714751
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 13
Set bgwriter_lru_maxpages = 416
Set bgwriter_lru_multiplier = 8
Set checkpoint_completion_target = 0.37601112263403497
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 572
Set commit_delay = 85955
Set commit_siblings = 521
Set cursor_tuple_fraction = 0.050007153813341046
Set deadlock_timeout = 961447232
Set default_statistics_target = 5866
Set effective_cache_size = 390597560
Set effective_io_concurrency = 661
Set from_collapse_limit = 1540209128
Set geqo_effort = 6
Set geqo_generations = 1360415375
Set geqo_pool_size = 1600022271
Set geqo_seed = 0.2151053510606289
Set geqo_threshold = 123281137
Set join_collapse_limit = 560154010
Set maintenance_work_mem = 1224737080
Set max_connections = 420
Set max_wal_senders = 44
Set shared_buffers = 283669
Set temp_buffers = 674637157
Set temp_file_limit = 863503167
Set vacuum_cost_delay = 41
Set vacuum_cost_limit = 9726
Set vacuum_cost_page_dirty = 1133
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7096
Set wal_buffers = 67834
Set wal_writer_delay = 1469
Set work_mem = 1523757836
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-06-48.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-06-48.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-06-48.samples.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_18-06-48.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-06-48.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-06-48.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-06-48.results.AddWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763748344.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-06-48.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-06-48.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-06-48.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-06-48.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-06-48.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 2338.7040836723336
BenchBase wikipedia throughput: 2338.7040836723336
Configuration: {'autovacuum_analyze_scale_factor': 39.6380968530009, 'autovacuum_analyze_threshold': 1238236799, 'autovacuum_max_workers': 166, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 88, 'autovacuum_vacuum_cost_limit': 2367, 'autovacuum_vacuum_scale_factor': 21.956057797834855, 'autovacuum_vacuum_threshold': 1640714751, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 13, 'bgwriter_lru_maxpages': 416, 'bgwriter_lru_multiplier': 8, 'checkpoint_completion_target': 0.37601112263403497, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 572, 'commit_delay': 85955, 'commit_siblings': 521, 'cursor_tuple_fraction': 0.050007153813341046, 'deadlock_timeout': 961447232, 'default_statistics_target': 5866, 'effective_cache_size': 390597560, 'effective_io_concurrency': 661, 'from_collapse_limit': 1540209128, 'geqo_effort': 6, 'geqo_generations': 1360415375, 'geqo_pool_size': 1600022271, 'geqo_seed': 0.2151053510606289, 'geqo_threshold': 123281137, 'join_collapse_limit': 560154010, 'maintenance_work_mem': 1224737080, 'max_connections': 420, 'max_wal_senders': 44, 'shared_buffers': 283669, 'temp_buffers': 674637157, 'temp_file_limit': 863503167, 'vacuum_cost_delay': 41, 'vacuum_cost_limit': 9726, 'vacuum_cost_page_dirty': 1133, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7096, 'wal_buffers': 67834, 'wal_writer_delay': 1469, 'work_mem': 1523757836}, QPS: -2338.7040836723336
Performance (QPS): -2338.7040836723336
Evaluating configuration: {'autovacuum_analyze_scale_factor': 47.94846159844373, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 147, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 92, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 14.008646921926497, 'autovacuum_vacuum_threshold': 1866612607, 'backend_flush_after': 240, 'bgwriter_delay': 9394, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 599, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 202, 'checkpoint_timeout': 595, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.048034911351342836, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 418626112, 'effective_io_concurrency': 661, 'from_collapse_limit': 1702795648, 'geqo_effort': 9, 'geqo_generations': 1317194623, 'geqo_pool_size': 2139867647, 'geqo_seed': 0.20586767281948953, 'geqo_threshold': 80085641, 'join_collapse_limit': 717448576, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 47, 'shared_buffers': 231570, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 39, 'vacuum_cost_limit': 8601, 'vacuum_cost_page_dirty': 1764, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7551, 'wal_buffers': 67834, 'wal_writer_delay': 1216, 'work_mem': 1702402189}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 47.94846159844373
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 147
Set autovacuum_naptime = 1650355
Set autovacuum_vacuum_cost_delay = 92
Set autovacuum_vacuum_cost_limit = 3371
Set autovacuum_vacuum_scale_factor = 14.008646921926497
Set autovacuum_vacuum_threshold = 1866612607
Set backend_flush_after = 240
Set bgwriter_delay = 9394
Set bgwriter_flush_after = 16
Set bgwriter_lru_maxpages = 599
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.32118713948875666
Set checkpoint_flush_after = 202
Set checkpoint_timeout = 595
Set commit_delay = 94224
Set commit_siblings = 398
Set cursor_tuple_fraction = 0.048034911351342836
Set deadlock_timeout = 1279054654
Set default_statistics_target = 5205
Set effective_cache_size = 418626112
Set effective_io_concurrency = 661
Set from_collapse_limit = 1702795648
Set geqo_effort = 9
Set geqo_generations = 1317194623
Set geqo_pool_size = 2139867647
Set geqo_seed = 0.20586767281948953
Set geqo_threshold = 80085641
Set join_collapse_limit = 717448576
Set maintenance_work_mem = 1020556511
Set max_connections = 420
Set max_wal_senders = 47
Set shared_buffers = 231570
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 39
Set vacuum_cost_limit = 8601
Set vacuum_cost_page_dirty = 1764
Set vacuum_cost_page_hit = 7186
Set vacuum_cost_page_miss = 7551
Set wal_buffers = 67834
Set wal_writer_delay = 1216
Set work_mem = 1702402189
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
BenchBase running success
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-08-27.samples.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-08-27.params.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-08-27.config.xml
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_1763748443.log
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-08-27.results.AddWatchList.csv
Archived summary file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary/wikipedia_2025-11-21_18-08-27.summary.json
Saved summary file as: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/summary.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-08-27.results.UpdatePage.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-08-27.metrics.json
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-08-27.results.RemoveWatchList.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-08-27.results.GetPageAnonymous.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-08-27.results.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-08-27.raw.csv
Removed file: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101/wikipedia_2025-11-21_18-08-27.results.GetPageAuthenticated.csv
Parsed throughput from summary.json: 2390.2704639921008
BenchBase wikipedia throughput: 2390.2704639921008
Configuration: {'autovacuum_analyze_scale_factor': 47.94846159844373, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 147, 'autovacuum_naptime': 1650355, 'autovacuum_vacuum_cost_delay': 92, 'autovacuum_vacuum_cost_limit': 3371, 'autovacuum_vacuum_scale_factor': 14.008646921926497, 'autovacuum_vacuum_threshold': 1866612607, 'backend_flush_after': 240, 'bgwriter_delay': 9394, 'bgwriter_flush_after': 16, 'bgwriter_lru_maxpages': 599, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.32118713948875666, 'checkpoint_flush_after': 202, 'checkpoint_timeout': 595, 'commit_delay': 94224, 'commit_siblings': 398, 'cursor_tuple_fraction': 0.048034911351342836, 'deadlock_timeout': 1279054654, 'default_statistics_target': 5205, 'effective_cache_size': 418626112, 'effective_io_concurrency': 661, 'from_collapse_limit': 1702795648, 'geqo_effort': 9, 'geqo_generations': 1317194623, 'geqo_pool_size': 2139867647, 'geqo_seed': 0.20586767281948953, 'geqo_threshold': 80085641, 'join_collapse_limit': 717448576, 'maintenance_work_mem': 1020556511, 'max_connections': 420, 'max_wal_senders': 47, 'shared_buffers': 231570, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 39, 'vacuum_cost_limit': 8601, 'vacuum_cost_page_dirty': 1764, 'vacuum_cost_page_hit': 7186, 'vacuum_cost_page_miss': 7551, 'wal_buffers': 67834, 'wal_writer_delay': 1216, 'work_mem': 1702402189}, QPS: -2390.2704639921008
Performance (QPS): -2390.2704639921008
Evaluating configuration: {'autovacuum_analyze_scale_factor': 39.77930590231773, 'autovacuum_analyze_threshold': 1249090249, 'autovacuum_max_workers': 167, 'autovacuum_naptime': 1587922, 'autovacuum_vacuum_cost_delay': 89, 'autovacuum_vacuum_cost_limit': 3396, 'autovacuum_vacuum_scale_factor': 19.729629451596637, 'autovacuum_vacuum_threshold': 1794652543, 'backend_flush_after': 256, 'bgwriter_delay': 9864, 'bgwriter_flush_after': 10, 'bgwriter_lru_maxpages': 507, 'bgwriter_lru_multiplier': 9, 'checkpoint_completion_target': 0.2763052385115594, 'checkpoint_flush_after': 194, 'checkpoint_timeout': 160, 'commit_delay': 94224, 'commit_siblings': 454, 'cursor_tuple_fraction': 0.062098010818755656, 'deadlock_timeout': 1183084800, 'default_statistics_target': 5205, 'effective_cache_size': 933381760, 'effective_io_concurrency': 654, 'from_collapse_limit': 1540209128, 'geqo_effort': 4, 'geqo_generations': 1360415375, 'geqo_pool_size': 1949471615, 'geqo_seed': 0.26117940987016947, 'geqo_threshold': 79299743, 'join_collapse_limit': 547866432, 'maintenance_work_mem': 1020556511, 'max_connections': 552, 'max_wal_senders': 47, 'shared_buffers': 154709, 'temp_buffers': 604703044, 'temp_file_limit': 907131373, 'vacuum_cost_delay': 43, 'vacuum_cost_limit': 9439, 'vacuum_cost_page_dirty': 1150, 'vacuum_cost_page_hit': 6945, 'vacuum_cost_page_miss': 8002, 'wal_buffers': 67834, 'wal_writer_delay': 1073, 'work_mem': 1589844624}
Workload executor is called
Step 0: Recreating database from template for clean OLTP benchmark...
Recreating database wikipedia from template...
Recreating wikipedia database from template...
 pg_terminate_backend 
----------------------
(0 rows)

DROP DATABASE
CREATE DATABASE
Checking database size...
  size   
---------
 4517 MB
(1 row)

Database wikipedia recreated from wikipedia_template successfully!
You can now run the TPC-C optimization script.
Database wikipedia recreated successfully from template
Step 1: Change the database knobs
Appling configuration
Change knob function called...
Connecting to PostgreSQL at localhost:5432 with database wikipedia
Set autovacuum_analyze_scale_factor = 39.77930590231773
Set autovacuum_analyze_threshold = 1249090249
Set autovacuum_max_workers = 167
Set autovacuum_naptime = 1587922
Set autovacuum_vacuum_cost_delay = 89
Set autovacuum_vacuum_cost_limit = 3396
Set autovacuum_vacuum_scale_factor = 19.729629451596637
Set autovacuum_vacuum_threshold = 1794652543
Set backend_flush_after = 256
Set bgwriter_delay = 9864
Set bgwriter_flush_after = 10
Set bgwriter_lru_maxpages = 507
Set bgwriter_lru_multiplier = 9
Set checkpoint_completion_target = 0.2763052385115594
Set checkpoint_flush_after = 194
Set checkpoint_timeout = 160
Set commit_delay = 94224
Set commit_siblings = 454
Set cursor_tuple_fraction = 0.062098010818755656
Set deadlock_timeout = 1183084800
Set default_statistics_target = 5205
Set effective_cache_size = 933381760
Set effective_io_concurrency = 654
Set from_collapse_limit = 1540209128
Set geqo_effort = 4
Set geqo_generations = 1360415375
Set geqo_pool_size = 1949471615
Set geqo_seed = 0.26117940987016947
Set geqo_threshold = 79299743
Set join_collapse_limit = 547866432
Set maintenance_work_mem = 1020556511
Set max_connections = 552
Set max_wal_senders = 47
Set shared_buffers = 154709
Set temp_buffers = 604703044
Set temp_file_limit = 907131373
Set vacuum_cost_delay = 43
Set vacuum_cost_limit = 9439
Set vacuum_cost_page_dirty = 1150
Set vacuum_cost_page_hit = 6945
Set vacuum_cost_page_miss = 8002
Set wal_buffers = 67834
Set wal_writer_delay = 1073
Set work_mem = 1589844624
Applied knobs successfully!
Stopping PostgreSQL 14...
Starting PostgreSQL 14...
PostgreSQL 14 restarted successfully!
Database restarted successfully after applying knobs.
Step 2: Run OLTP workload using BenchBase
Workload path: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml
Updated config file: ./oltp_workloads/wikipedia/sample_wikipedia_config101.xml (preserving comments)
Copied updated config to BenchBase config directory: /home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres/config/postgres/sample_wikipedia_config101.xml
Running BenchBase with benchmark: wikipedia
Config file: sample_wikipedia_config101.xml 
Results will be saved to: /home/farshedvardtgem22/E2ETune/stress_test_results/wikipedia_results/sample_wikipedia_config101
/home/farshedvardtgem22/E2ETune/benchbase/target/benchbase-postgres
